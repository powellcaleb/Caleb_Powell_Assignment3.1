<!DOCTYPE html>
<!-- (c) 2024, JMP Statistical Discovery LLC -->
<html><head><title>Caleb_Powell_Assignment3.1</title><meta name="viewport" content="initial-scale=1.0"><meta name="format-detection" content="telephone=no">
<style>
/* Define variables */
:root {
	--color-text-tooltip: #FFFFFF;
	--checkbox-width: 24px;
	--checkbox-height: 24px;
	--color-background-tooltip: rgba( 109, 109, 109, 0.92 );
	--color-circle-focus: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><circle cx="10" cy="10" r="10" fill="%234d4d4d" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );
	--color-circle-hover: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><circle cx="10" cy="10" r="10" fill="%235d5d5d" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );
}

/* HTML Elements */
*					{ -webkit-tap-highlight-color: var( --color-tap-highlight ); }			/* Prevents flicker on mobile Safari 					*/
header				{ background-color: var( --color-background-header ); padding: var( --header-padding-topBottom ) var( --header-padding-leftRight ); position: fixed; top: 0; width: 100%; z-index: 1000; }

body {
	color: var( --color-text );
	background-color: var( --color-background ); 
	font-family: 'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Arial, sans-serif; 
	font-size: 12px; 
	padding: 0; 
	margin: 0 auto; 
}

fieldset			{ margin-top: 3px; margin-bottom: 4px; border: 1px solid var( --color-border ); border-radius: 3px; width: -moz-fit-content; width: -webkit-fit-content; width: fit-content; }
img					{ border: 0; }

.centerTable {
	margin-left: auto; 
	margin-right: auto;
}

.menu table {
	padding: var( --menu-table-padding-top ) 0;
}

td,th				{ text-align: right; vertical-align: top; }

input, select { 
	font-family: Arial, sans-serif; 
	font-size: 12px; 
}

select { 
	display: block; 
}

input, select {
	border-style: solid;
	border-width: 1px;
	border-color: var( --color-border );
	border-radius: 4px;
}

input {
	padding: var( --input-padding-top ) var( --input-padding-right ) var( --input-padding-bottom ) var( --input-padding-left ) ;
}

select { 
	line-height: calc( var( --input-padding-top ) + var( --input-padding-bottom ) + 16px );
	height: calc( var( --input-padding-top ) + var( --input-padding-bottom ) + 16px );
	text-indent: 1px;
}

tr:nth-last-child(2) > .dialogContentLeft, tr:nth-last-child(2) > .dialogContentRight {
	padding-bottom: 0;
}

input:hover,
input:focus,
select:hover,
select:focus {
	border-width: 2px;
}

input:hover,
input:focus {
	padding: var( --input-padding-top-selected ) var( --input-padding-right-selected ) var( --input-padding-bottom-selected ) var( --input-padding-left-selected );
}

input:hover, 
select:hover {
	border-color: var( --color-border-hover );
}

input:focus, 
select:focus {
	border-color: var( --color-border-focus );
}

select:hover, 
select:focus {
	text-indent: 0;
}

select:disabled, 
option:disabled 	{ pointer-events: none;}

input[type=button],
button {
	cursor: inherit; 
	vertical-align: middle; 
	font-family: Arial, sans-serif; 
	font-size: 12px; 
	padding: var( --button-padding-topBottom ) var( --button-padding-leftRight ); 
	margin: var( --button-margin-topBottom ) 0; 
	border: none; 
	border-radius: 4px; 
	box-shadow: var( --buttonBoxShadow );
	background-color: var( --color-background-button-up );
}

input[type=button]:not( :disabled ),
button:not( :disabled ) {
	color: var( --color-text );
}

button * { 
	vertical-align: middle; 
	pointer-events: none; 
}

button.sponsor		{ padding: var( --button-min-padding-topBottom ) var( --button-min-padding-leftRight ); }
button.minPadding { padding: var( --button-min-padding-topBottom ) var( --button-min-padding-leftRight );  }
button:disabled:hover { 
	box-shadow: 1px 1px 3px var( --color-box-shadow-button-disabled-hover ); 
	cursor: inherit; 
}

input[type=button]:hover,
input[type=button]:focus,
input[type=button]:active,
button:hover, 
button:focus, 
button:active {
	outline: none;
}

button.sponsor.buttonUp:hover, button.square.buttonUp:hover, button:hover { 
	background-color: var( --color-background-button-hover ); 
	cursor: pointer;
}

button::-moz-focus-inner { padding: 0; border: 0; }							 	/* Prevents extra button padding on Firefox 			*/
button:focus { 
	background-color: var( --color-background-button-focus ); 
}

button:active { 
	background-color: var( --color-background-button-down ); 
}

button:disabled,
input[type=button]:disabled {
	background-color: var( --color-background-button-disabled );
	box-shadow: none;
}

canvas				{ touch-action: none; 								/* Prevents browser from panning and zooming on a canvas; axis pan and zoom are always active*/
                	-webkit-touch-callout: none; -webkit-user-select: none; 	/* Prevents rectangular magnifying glass on iPad 		*/
}

/* Touchscreen transitions, consistent with ID_POINTER_COARSE style.  */
button.touchTransition			{ padding: 12px 16px; border-radius: 4px; transition: padding 2s, border-radius 2s; }
button.touchTransitionSquare	{ padding: 12px; transition: padding 2s; }
button.touchTransitionSponsor	{ padding: 12px 7px; transition: padding 2s; }

/* Remove margins from checkbox inputs when inside of a table so that other text in the table row lines up with control text. */
.inputCell input[type=checkbox] { margin-top: 0; margin-bottom: 0; }

/* Remove left padding from cells in a table containing a single row with input controls. This is done so that
   elements in rows of an enveloping table line up with the content of this contained single row table. */
.inputCell { padding-left: 0; }

/* Slider background uses var(--value) to support Material Design in Chrome and Safari. */
input[type="range"].range {
	background: var( --range-background );
	--range-background: linear-gradient( to right, var(--color-background-range-progress) 0%, var(--color-background-range-progress) var(--value), var(--color-background-range) var(--value), var(--color-background-range) 100% ) no-repeat 0 50% / 100% var( --slider-track-size );
}
input[type="range"].range::-webkit-slider-runnable-track {
	background: var( --range-background );
}
input[type="range"].range::-moz-range-track {
	background: var( --range-background );
}

/* Sliders require browser specific CSS. */
input[type=range] { height: var( --slider-thumb-size ); padding: 0; margin: 2px 0; background: transparent; vertical-align: middle; -webkit-appearance: none; border:0; box-sizing: border-box; }
input[type=range] { box-shadow: none; }		/* Removes red "invalid" indicator on Firefox */
input[type=range]::-webkit-slider-runnable-track { height: var( --slider-track-size ); margin: 0; padding: 0; border: none; -webkit-border-radius: 3px; background-color: var( --color-background-range ); background-image: none; }
input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: var( --slider-thumb-size ); width: var( --slider-thumb-size ); margin-top: var( --slider-thumb-margin ); margin-left: 0; margin-right: 0; padding: 0; border: none; border-radius: var( --slider-thumb-size ); box-shadow: 1px 1px 3px var( --color-box-shadow-range ); background-color: var( --color-background-range-thumb ); }
input[type=range]::-webkit-slider-thumb:hover		{ box-shadow: 1px 1px 5px var( --color-box-shadow ); cursor: pointer; }
input[type=range]::-moz-range-track { -moz-appearance: none; height: var( --slider-track-size ); margin: 0; padding: 0; border: none; border-radius: 2px; background-color: var( --color-background-range ); }
input[type=range]::-moz-range-thumb { -moz-appearance: none; height: var( --slider-thumb-size ); width: var( --slider-thumb-size ); margin: 0; padding: 0; border: none; border-radius: var( --slider-thumb-size ); box-shadow: 1px 1px 3px var( --color-box-shadow-range); background-color: var( --color-background-range-thumb ); }
input[type=range]::-moz-range-thumb:hover		{ box-shadow: 1px 1px 5px var( --color-box-shadow ); cursor: pointer; }
input[type=range]::-moz-range-progress { height: var( --slider-track-size ); background-color: var( --color-background-range-progress ); border-radius: 2px; }

/* Disabled Sliders */
input[type=range]:disabled::-webkit-slider-runnable-track { height: var( --slider-track-size );; margin: 0; border: none; padding: 0; -webkit-border-radius: 3px; background-image: none; background-color: var( --color-background-range-disabled ); }
input[type=range]:disabled::-webkit-slider-thumb { -webkit-appearance: none; height: var( --slider-thumb-size ); width: var( --slider-thumb-size ); margin-top: var( --slider-thumb-margin ); margin-left: 0; margin-right: 0; padding: 0; border: none; border-radius: var( --slider-thumb-size ); box-shadow: 1px 1px 3px var( --color-box-shadow-range ); background-image: none; background-color: var( --color-background-range-disabled ); }
input[type=range]:disabled::-webkit-slider-thumb:hover	{ box-shadow: 1px 1px 3px var( --color-box-shadow-range ); cursor: inherit; }
input[type=range]:disabled::-moz-range-track { -moz-appearance: none; height: var( --slider-track-size ); margin: 0; padding: 0; border: none; border-radius: 8px; background-color: var( --color-background-range-disabled ); background-image: none; }
input[type=range]:disabled::-moz-range-thumb { -moz-appearance: none; height: var( --slider-thumb-size ); width: var( --slider-thumb-size ); margin: 0; padding: 0; border: none; border-radius: var( --slider-thumb-size ); box-shadow: 1px 1px 3px var( --color-box-shadow-range ); background-image: none; background-color: var( --color-background-range-disabled ); }
input[type=range]:disabled::-moz-range-thumb:hover { box-shadow: 1px 1px 3px var( --color-box-shadow-range ); cursor: inherit; }
input[type=range]:disabled::-moz-range-progress { height: var( --slider-track-size ); background-color: var( --color-box-shadow-range ); border-radius: 2px; }

/*Disable Step for input number*/
/* Chrome, Safari, Edge, Opera */
input[type=number]::-webkit-outer-spin-button,
input[type=number]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance: textfield;
}


/* Axis Sliders */
input.axisInput,
input.axisInput:hover,
input.axisInput:focus	{
	position: relative;
	border-width: 2px;
	margin-top: 4px;
	padding: var( --input-padding-top-selected ) var( --input-padding-right-selected ) var( --input-padding-bottom-selected ) var( --input-padding-left-selected );
}

/* Rotate element vertical - used for vertical slider */
.rotateVertical { transform: rotate(-90deg); }

.tiltLeft { writing-mode: vertical-rl; transform: rotate(180deg); }
.tiltRight { writing-mode: vertical-rl; }

/* Pass events to parent element for disabled range inputs */
input[type=range]:disabled { pointer-events: none; }
.parentEventHandler { pointer-events: none; }
.elementEventHandler { pointer-events: auto; }

/* Unique elements */
#body				{ padding: var( --body-padding-top ) 10px 10px 0; margin: 0 auto; }
#menu0, #menu1		{ position: absolute; z-index: 1001; padding:0; box-shadow: none; border-radius: 4px; }
#progressLabel		{ display: block; margin-top: 2px; margin-left: auto; margin-right: auto; text-align: center; }
#showLogButton      { padding:6px; }

/* Outline buttons */
.floatRight { float: right; }

/* Edit fields */
.editBox			{ position: absolute; padding: 2px 0; }
.editField			{ position: relative; }

/* Menus and tooltips */
.menuRow			{ background-color: var( --color-background-menu-row ); }
.menuRow:hover		{ background-color: var( --color-background-menu-row-hover ); outline-width: 0; cursor: pointer; }
.menuCell			{ padding: var( --menu-cell-padding ); text-align: left; }
.menuLeft			{ padding-left: 5px; }
.menuOuterLeft { padding-left: 16px; }
.menuRight			{ padding-right: 5px; padding-top: var( --menu-cell-icon-padding ); padding-bottom: var( --menu-cell-padding-icon )}
.menuLink			{ color: inherit; text-decoration: none; }
.menuLink:hover		{ color: inherit; text-decoration: none; cursor: pointer; }
.tooltip			{ z-index: 1009; padding: 2px 5px; position: absolute; color: var( --color-text-tooltip ); background-color: var( --color-background-tooltip ); border-radius: 4px; }
.tipClose			{ padding: 0 0 16px 16px; }
img.tipClose:hover  { outline-width: 0; background-position: right top; background-repeat: no-repeat; background-image: var( --color-circle-hover ); }
img.tipClose:focus  { outline-width: 0; background-position: right top; background-repeat: no-repeat; background-image: var( --color-circle-focus ); }

/* Code in documentStatic effectively overrides the z-index set here when a user clicks on a pinned tooltip. So, if this
value changes, the code in documentStatic.js should be changed as well.*/
.tipPinned			{ z-index: 99; }
.tip th, .tip td	{ white-space: nowrap; font-weight: normal; padding: 2px; }

/* Button states and sizes */
.buttonUp			{ border-color: var( --color-border-button-up ); background-color: var( --color-background-button-up ); }
.sponsor.buttonUp, .square.buttonUp:not( :disabled )    { background-color: var( --color-background-button-up-menu ); }
.buttonDown			{ border-color: var( --color-border-button-down ); background-color: var( --color-background-button-down ); }
.buttonDisabled		{ border-color: var( --color-border-button-disabled ); background-color: var( --color-background ); }

.multipleButtonCell > button.modern:hover:disabled,
.multipleButtonCell > button.legacy:hover:disabled {
	border-color: var( --color-border-button-up ); background-color: var( --color-background-button-up);
};

.buttonText			{ min-width: 64px; }
.segmentFirst		{ border-radius: 0; border-top-left-radius: 4px; border-bottom-left-radius: 4px; }
.segmentMiddle		{ border-radius: 0; }
.segmentLast		{ border-radius: 0; border-top-right-radius: 4px; border-bottom-right-radius: 4px; }
.segmentTop			{ border-radius: 0; border-top-left-radius: 4px; border-top-right-radius: 4px; }
.segmentBottom		{ border-radius: 0; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; }
.verticallyCentered	{ vertical-align: middle; }
.verticallyCentered input { vertical-align: middle; }

/* Positioning and padding for images */
.buttonImage		{ vertical-align: middle; padding: 0; margin: 0; }
.svgImage    { height: 24px; width: 24px; }
.svgImageTip { height: 20px; width: 20px; }
.svgImageIncrement	{ height: 22px; width: 22px; }
.svgImagePlayPause	{ height: 32px; width: 32px; }
.svgImageSponsor { height: 26px; width: 26px; }
.staticImage		{ border: 1px dotted var( --color-border ); position: relative; top: -1px; }

header { box-shadow: none}

/* Layouts and collapsible outlines */
.layoutTable		{ display: table; }
.displayTable   {display: table;}
.layoutRow			{ display: table-row; }
.multipleButtonCell { display:inline-flex; width: 100%; }
.layoutCell			{ display: table-cell; vertical-align: top; }
.layoutCellMiddle	{ display: table-cell; vertical-align: middle; }
.outline, .iconSize			{ height: 24px; width: 24px; }
.lineUpBoxRow		{ vertical-align: text-top; }
.spaceLeft			{ margin-left: var( --space-left ); }
.scrollable			{ overflow: auto; position: relative; resize: none; -webkit-overflow-scrolling: touch; }

/* Note that using "display: block" results in border-collapse not fully collapsing adjacent borders. */
table.scrollableTable tbody,
table.scrollableTable thead { 
	display: block; 
	overflow-y: scroll; 
	overflow-x: hidden; 
	scrollbar-width: thin; 
	scrollbar-color: var( --color-background-scrollable-table-scrollbar-track );
}

table.scrollableTable tbody { border: 0; }
table.scrollableTable thead { border-width: 0 0 1px 0; }

/* Match "darkBackground" class so borders are not apparent unless the element is a member of border class */
table.scrollableTable th { border-style: solid; border-color: var( --color-border-table-scrollable-table-th ); border-width: 0 1px 1px 0; }
table.scrollableTable th.border { border-color: var( --color-border ); }

/* Avoid double border resulting from both head and the last row of th cells having a bottom border */
table.scrollableTable thead tr:last-child th { border-width: 0 1px 0 0; }

/* Match lightBackground of body cells. Using border to remove browser dependent issues 
related to determining programmatically determining cell size when corresponding header has a border. */
table.scrollableTable td { border: solid var( --color-border-table-scrollable-table-td ); border-width: 0 1px 0 0; }
table.scrollableTable { /*width: 100%; */  }

/* Force scrollbars to appear on the iPad by disabling "touch" scrolling. For iOS devices touch scrolling provides
   inertial scrolling where scrollable content can continue to scroll after the user touches the screen. 
   In addition, it is necessary to create a custom scrollbar. */
table.scrollableTable tbody { -webkit-overflow-scrolling: auto; }
table.scrollableTable ::-webkit-scrollbar {
    -webkit-appearance: none;
    width: 10px;
}

table.scrollableTable ::-webkit-scrollbar-track {
	border-radius: 10px;
	background-color: var( --color-background-scrollable-table-scrollbar-track );
}

table.scrollableTable ::-webkit-scrollbar-thumb {
	border-radius: 10px;
	background-color: var( --color-background-scrollable-table-scrollbar-thumb );
	-webkit-box-shadow: inset 0 0 1px var( --color-box-shadow-table-scrollable-table-scrollbar-thumb );
}

.paginationButton {
	background-color: var(--color-background-outline);
	box-shadow: none;
}

.radioButtonRow {
	line-height: 24px;
}

/* Custom checkbox or radio button container */
.radioButtonContainer, 
.checkboxContainer {
	display: block;
	outline: 0;
	position: relative;
	cursor: pointer;
	height: 24px;
	width: 24px;
}

/* Hide the browser's default checkbox and radio button */
.radioButtonContainer input, 
.checkboxContainer input {
	position: absolute;
	opacity: 0;
	cursor: pointer;
	height: 0;
	width: 0;
}

/* Custom checkbox and radio button styling*/
.radioButton, 
.checkbox {
	position: absolute;
	top: 0;
	left: 0;
	height: var( --checkbox-height );
	width: var( --checkbox-width );
}

/* Create checkbox and radio button highlight styling */
.radioButtonHover,
.radioButtonFocus, 
.checkboxHover,
.checkboxFocus {
	position: absolute;
	top: -4px;
	left: -4px;
	height: 32px;
	width: 32px;
}

.radioButtonContainer input ~ .radioButtonHover,
.radioButtonContainer input ~ .radioButtonFocus,
.checkboxContainer input ~ .checkboxHover,
.checkboxContainer input ~ .checkboxFocus {
	display: none;
}

.radioButtonContainer input:hover ~ .radioButtonHover,
.checkboxContainer input:hover ~ .checkboxHover {
	display: block;
	background: var( --color-hover-svg  ) no-repeat;
}

.radioButtonContainer input:hover:checked ~ .radioButtonHover,
.checkboxContainer input:hover:checked ~ .checkboxHover {
	display: block;
	background: var( --color-hover-selected-svg  ) no-repeat;
}

.radioButtonContainer input:focus ~ .radioButtonHover,
.checkboxContainer input:focus  ~ .checkboxFocus {
	display: block;
	background: var( --color-focus-svg  ) no-repeat;
}

.radioButtonContainer input:focus:checked  ~ .radioButtonFocus,
.checkboxContainer input:focus:checked  ~ .checkboxFocus {
	display: block;
	background: var( --color-focus-selected-svg ) no-repeat;
}

/*
Enable in lieu of the below statement and include polyfill focus-visible.js in order to remove focus when inputs are 
coming from the keyboard. The aforementioned behavior is consistent with the standard checkbox control; however, not 
currently consistent with the Material Design check box example. The pseudo class :focus-visible is likely to be 
supported in most browsers in the near future (statement created: 01/21/2019).

.js-focus-visible .checkboxContainer input.focus-visible ~ .checkboxHover,
.js-focus-visible .checkboxContainer input.focus-visible:checked ~ .checkboxHover  {
	display: none;
}

.js-focus-visible input:focus:not(.focus-visible) ~ .checkboxFocus {
	display: none;
}
*/

.radioButtonContainer input:focus ~ .radioButtonHover,
.radioButtonContainer input:focus:checked ~ .radioButtonHover,
.checkboxContainer input:focus ~ .checkboxHover,
.checkboxContainer input:focus:checked ~ .checkboxHover {
	display: none;
}

/* Within a form, focus is set on the container label when tabbing rather than the invisible native input control */
.radioButtonContainer:focus .radioButtonFocus,
.checkboxContainer:focus .checkboxFocus {
	display: block;
	background: var( --color-focus-svg  ) no-repeat;
}

.radioButtonContainer:focus.radioButtonContainer input:checked ~ .radioButtonFocus,
.checkboxContainer:focus.checkboxContainer input:checked ~ .checkboxFocus {
	display: block;
	background: var( --color-focus-selected-svg ) no-repeat;
}

.radioButtonContainer:focus .radioButtonHover,
.radioButtonContainer:focus.radioButtonContainer input:checked ~ .radioButtonHover,
.checkboxContainer:focus .checkboxHover,
.checkboxContainer:focus.checkboxContainer input:checked ~ .checkboxHover {
	display: none;
}

.radioButtonContainer:active input ~ .radioButtonFocus,
.checkboxContainer:active input ~ .checkboxFocus {
	display: block;
	background: var( --color-active-svg ) no-repeat;
}

.radioButtonContainer:active input:checked ~ .radioButtonFocus,
.checkboxContainer:active input:checked ~ .checkboxFocus {
	display: block;
	background: var( --color-active-selected-svg ) no-repeat;
}

/* Within a form, active is set on the container label when tabbing rather than the invisible native input control */
.radioButtonContainer:active .radioButtonFocus,
.checkboxContainer:active .checkboxFocus {
	display: block;
	background: var( --color-active-svg ) no-repeat;
}

.radioButtonContainer:active.radioButtonContainer input:checked ~ .radioButtonFocus, 
.checkboxContainer:active.checkboxContainer input:checked ~ .checkboxFocus {
	display: block;
	background: var( --color-active-selected-svg ) no-repeat;
}

/* Create the radio button */
.radioButton {
	display: block;
	background: var( --color-radio-button-unselected-svg ) no-repeat;
}

.radioButton.disabled {
	display: block;
	background: var( --color-radio-button-unselected-disabled-svg ) no-repeat;
}

/* Show the radio button filled when selected */
.radioButtonContainer input:checked ~ .radioButton {
	display: block;
	background: var( --color-radio-button-selected-svg ) no-repeat;
}

.radioButtonContainer input:checked ~ .radioButton.disabled {
	display: block;
	background: var( --color-radio-button-selected-disabled-svg ) no-repeat;
}

/* Create the checkbox */
.checkbox {
	display: block;
	background: var( --color-checkbox-unselected-svg ) no-repeat;
}

.checkbox.disabled {
	display: block;
	background: var( --color-checkbox-unselected-disabled-svg ) no-repeat;
}

/* Show the checkmark when checked */
.checkboxContainer input:checked ~ .checkbox {
	display: block;
	background: var( --color-checkbox-selected-svg ) no-repeat;
}

.checkboxContainer input:checked ~ .checkbox.disabled {
	display: block;
	background: var( --color-checkbox-selected-disabled-svg ) no-repeat;
}

/* Make child fill the space provided by the parent. */
.fullWidth			{ width: 100%; }

/* Text and element visibility, selection, keyboard accessibility */
.title				{ display: inline; vertical-align: middle; padding-left: 10px; padding-right: 4px; }
.revealed			{ }
.permanentlyConcealed, .concealed { display: none !important; }
.hidden				{ visibility: hidden !important; }
.text				{ padding: 2px 6px; font-weight: normal; white-space:nowrap; }
.header				{ vertical-align: bottom; }
.wrap				{ white-space: pre-wrap; }
.nowrap				{ white-space: nowrap; }
.disabledText		{ color: grey; }
.selected			{ background-color: var( --color-background-selected ); }

.border       { border: 1px solid var( --color-border ); }
.borderTop        { border: 1px solid var( --color-border ); border-width: 1px 0 0 0;     }
.borderTopBottom    { border: 1px solid var( --color-border ); border-width: 1px 0 1px 0;   }
.borderTopBottomLeft  { border: 1px solid var( --color-border ); border-width: 1px 0 1px 1px; }
.borderTopBottomRight { border: 1px solid var( --color-border ); border-width: 1px 1px 1px 0; }

.noBorderTop		{ border-top-width: 	0px; }
.noBorderRight		{ border-right-width: 	0px; }
.noBorderBottom		{ border-bottom-width: 	0px; }
.noBorderLeft		{ border-left-width: 	0px; }

.left				{ text-align: left; }
.center				{ text-align: center; }
a:focus				{ outline-width: 0; }
select:focus, textarea:focus, input:focus { outline-width: 0; }

/* Slider focus needs browser-dependent treatment */
input[type=range]:focus,
input[type=range].multirange.original:focus,
input[type=range].multirange.ghost:focus 						{ outline-width: 0; outline-style: none; outline-color: var( --color-box-shadow-focus ); box-shadow: none; }
input[type=range]:focus::-webkit-slider-thumb,
input[type=range].multirange.original:focus::-webkit-slider-thumb,
input[type=range].multirange.ghost:focus::-webkit-slider-thumb  { outline-width: 1px; box-shadow: 0 0 6px 3px var( --color-box-shadow-focus ); }
input[type=range]:focus::-moz-range-thumb,
input[type=range].multirange.original:focus::-moz-range-thumb,
input[type=range].multirange.ghost:focus::-moz-range-thumb 	  	{ outline-width: 0;   box-shadow: 0 0 6px 3px var( --color-box-shadow-focus ); }
input[type=range].multirange::-moz-focus-outer					{ border: 0; }

/* Background colors */
.lightBackground		{ background-color: var( --color-background-light ); }
.darkBackground			{ background-color: var( --color-background-dark ); }
.canvasLightBackground	{ background-color: var( --color-background-light-canvas ); }
.canvasDarkBackground	{ background-color: var( --color-background-dark-canvas ); }
.transparentBackground	{ background-color: transparent; }

/* Legends */
.markerLegendCell	{ 
	margin: 4px 2px;
	width: 6px;
	height: 6px;
	-webkit-border-radius: 3px;
	-moz-border-radius: 3px;
	border-radius: 3px;
}

.lineLegendCell		{ margin: 9px 2px; width: 16px; height: 2px; }
.filledLegendCell	{ width: 16px; height: 19px; margin-top: -2px; margin-bottom: -2px; }
td.legendRow { vertical-align: middle; }

/* Sliders */
.sliderRange		{ height: 5px; background-color: var( --color-background ); margin-top: -6px; }
.sliderThumb		{ height: 15px; border: 1px solid var( --color-border-slider-thumb ); background-color: var( --color-background-slider ); }
.sliderTrack		{ width: 100px; height: 5px; border: 1px solid var( --color-border-slider-track ); border-radius:3px; background-color: var( --color-background-slider ); margin-top: 5px; }

/* Cursors */
.cursorArrow		{ cursor: default }
.cursorHandClosed	{ cursor: grabbing }
.cursorHandOpen		{ cursor: grab }
.cursorHandUp		{ cursor: grab }
.cursorHandDown		{ cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBHcmFwaGljQ29udmVydGVyNV1I7gAAANtJREFUeJyMkg0VhTAIhZfFClawghWsYIVlWQUrrMIqWIHnnV4e+/PIOQjK+GCIExFHvQQPsT51nmexZzWnBoQQhPY4DtV1Xb8BzvPMybAU+ID0umiq7/ueE6x9gxSAGGM+0LMjiCZ77y/3HUCInYcCQEbwDZBSUssuivYhHKC1TLx/cSwgpv1/hZE8CblbCK7i7Ie6AoU+7z5Nk/oKwCELGPnNbwQNwWVZPgHqjXRsicPsJdXwZg/ELFNv4s+w8jvizR5YRTesSNi2bWJjzRVG2kuo9QcAAP//AwAlFs3orzlsXAAAAABJRU5ErkJggg==) 7 7, auto; }
.cursorHandRight	{ cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBHcmFwaGljQ29udmVydGVyNV1I7gAAAOJJREFUeJyEk1ERhDAMRNFSC1jAAhawgAW0YKEWYgELWNi7LZNM0iO9zuwH0+zLNi0TgCnTPM9Y1xWjmqH5ui6ah5C0q5prrSiloN9/BXCThvu+8Sz5VkzojA2+LAsCoDeziGZvVCilqYwcO78tsUSaqgH44c0iYtI5aBqK0dlw2zYEANe+7y2y6jzPQSI0WAAwhU8QjyRBTMU5NAA7sThL4I/gZbfgIXmC3/g2g38JsvgGUNHAzizq38NbfPQvUTeP42iDfWAwkMbG6F/wIA97bkrCf5ECMlhvpj4AAAD//wMAW9DN6E32pMkAAAAASUVORK5CYII=) 7 7, auto; }
.cursorHandLeft		{ cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBHcmFwaGljQ29udmVydGVyNV1I7gAAANhJREFUeJyEkoENhSAMRJmFFVzBFVzBFVyBWVyBFVjBFVzhfo6fI6WgklxMsHe8Ng0AglWMESGEJv/fazADBTnnqpTSZ9hwsa4rruuCTillCJsG2JckBd33XckYdp5nXyf0f3FxQjUsy9J0HEcNbEHCfjos5suSNbcW3vA/Cd7wnwh4ONga8Ib/RNAFsIV937FtGxjmW+DXEoiqC7Bz8C3MhkozHyRRt4HW2ArcPtDMe9hFstsno6gUOjPDbqI1iooGzcH/HwK8aJB5ZvwMmFHN9AMAAP//AwBmR83oLIpNYQAAAABJRU5ErkJggg==) 7 7, auto; }
.cursorNWSE			{ cursor: nwse-resize }
.cursorNESW			{ cursor: nesw-resize }
.cursorNS 			{ cursor: ns-resize }
.cursorEW 			{ cursor: ew-resize }
.cursorHandPointer { cursor: pointer };
.cursorText			{ cursor: text }
.cursorZoomIn		{ cursor: zoom-in }
.cursorZoomOut      { cursor: zoom-out }
/* Annotations */
.annotation			{ z-index: 10; position:absolute; }
.annotationWrapper	{ position:relative; width: 100%; height: 100%; }

/* Table plot elements, using box-shadow for printing */
.barBox				{ box-shadow: inset 0 0 0 2000px var( --color-box-shadow-bar-box )}
.barBoxSmall		{ box-shadow: inset 0 0 0 2000px var( --color-box-shadow-bar-box-small ); }
.barBoxBound		{ box-shadow: inset 0 0 0 2000px var( --color-box-shadow-bar-box-bound ); border: solid var( --color-border-bar-box-bound ); border-width: 0 1px; }

/* Role names for bubble plot */
.roleName			{ margin-left: 5px; margin-right: 2px; font-weight:bold; }

/* Tab controls */
.tabBox	{ padding-top: 20px; }
.tabBox.hideTabTitles { padding-top: 0px;}

ul.tabs	{ 
	z-index: 2; 
	border-bottom: 2px solid var( --color-background-ul-tabs ); 
	background-color: var( --color-background-ul-tabs ); 
	list-style-type: none; text-align: left; 
	padding: var( --tab-padding-topBottom ) 0; 
	margin:0; 
	position: relative;
	top: -7px;
	cursor: inherit; 
	white-space: nowrap; 
}

ul.tabs>li { 
	display: inline; 
	cursor: inherit; 
	padding: var( --tab-padding-topBottom ) var( --button-padding-leftRight ); 
	margin: 3px 0; position:relative; 
	font-family: Arial, sans-serif; 
	font-size: 12px; 
}

ul.tabs>li:hover { 
	background-color: var( --color-background-button-hover );
	border-bottom: 2px solid var( --color-background-button-hover );
	cursor: pointer;
}

ul.tabs>li:focus { 
	outline: none;
	border-bottom: 2px solid  var( --color-background-button-focus );
	background-color: var( --color-background-button-focus );
}

ul.tabs>li:active {
	background-color: var( --color-background-button-down );
	border-bottom: 2px solid var( --color-background-button-down );
}

ul.tabs>li.selectedTab { 
	color: var( --color-ul-tabs-li-selected-tab ); 
	border-bottom: 2px solid var( --color-border-bottom-ul-tabs-li-selected-tab ); 
}
.tabBox.hideTabTitles>ul.tabs {
	display: none !important;
}

.tabContentContainer  { 
	position: relative; 
	z-index: 1; 
}

.tabContent { 
	padding: 10px; 
	margin-top: -8px; 
	margin-bottom: 4px; 
	background-color: var( --color-background-tab-content ); 
}
.tabBox.hideTabTitles>.tabContentContainer>.tabContent {
	padding: 0px;
	margin-top: 0px;
	background: none;
}

/* Profiler controls */
.profilerInputContainer { padding: 0 0 0 3px; }
.profilerInput		{ margin: 0; font-size: 12px; position: relative; color: var( --color-profiler-input ); text-align: center; }
.profilerInputError { border: 2px solid var( --color-border-profiler-input-error ); }
.profilerSelect		{ margin: 0; font-size: 12px; position: relative; color: var( --color-profiler-select ); display: inline; }
.profilerSettingButton { margin: 0; }
.profilerLockButton { position: relative; top: 32px; left: 2px;}
.profilerEditButton {
	margin: 0;
	font-size: 12px;
	background-color: field; /* default color for input and select */
	padding: var(--input-padding-top) var(--input-padding-right) var(--input-padding-bottom) var(--input-padding-left);
	border-style: solid;
    border-width: 1px;
    border-color: var(--color-border);
	box-shadow: none;
}
.profilerEditButton:hover {
	background-color: field;
	padding: var(--input-padding-top-selected) var(--input-padding-right-selected) var(--input-padding-bottom-selected) var(--input-padding-left-selected);
	border-width: 2px;
}

.profilerEditButton:disabled, .profilerEditButton:not( :disabled ) { position: relative; }
.profilerEditButton:not( :disabled ) { color: var( --color-profiler-edit-button ); }

/* Dialog */
#dialogOverlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1002; background: var( --color-background-dialog-overlay ); }
#dialog { 
	width: var( --dialog-width );
	position: absolute; 
	z-index: 1004; padding: 0; border-radius: 8px; background-color: var( --color-background-dialog ); box-shadow: none; }
#dialogContent>form>table { margin-left: 24px; margin-right: 24px; }
#dialogContent>form>table>tr:first-child>td { padding-top: 0; }
/* Material Design spec calls for 28 pixels between the dialog content and the area for buttons at the bottom. A layout 
cell has a top margin of 5px, which leaves 23px for top padding. */
#dialogButtonBar { float: right; padding-top: 23px }

#dialog.dialogAlert{
	padding: 0 8px 8px 24px;
	width: var( --dialog-width-alert );
}

.dialogButtonTable { border-collapse:separate; border-spacing: 8px; }
.dialogButton { 
	margin: 0 0 0 8px; 
	background-color: var( --color-background-dialog-button );
	color: var( --color-button-dialog-text );
	box-shadow: none;
	height: 36px;
	min-width: 64px;
}

.dialogFirstLine {
	/* Arbitrary width smaller than dialog width prescribed by Material Design */
	width: 200px;

	/* Height prescribed by Material Design */
	height: 38px;
}

/* Pseudo-element that forces prior text baseline to height of container element. */
.dialogFirstLine::after {
	content: "";
	height: 100%;
	display: inline-block;
}

.dialogButton:disabled {
	color: var( --color-button-dialog-text-disabled );
}

.dialogButton:first-child { margin: 0; }
.dialogInput { float: left; margin: 0; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; }
.dialogContentLeft { text-align: right; vertical-align: middle; padding: var( --dialog-content-padding-topBottom ) var(--dialog-content-left-padding-left) var( --dialog-content-padding-topBottom ) 0; margin: 0; }
.dialogContentRight { text-align: left; vertical-align: middle; padding: var( --dialog-content-padding-topBottom ) 0 var( --dialog-content-padding-topBottom ); margin: 0; }
.dialogInputError { float: left; outline-width: 0; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; }
input.dialogInputError,
select.dialogInputError  {
	border-color: var( --color-border-profiler-input-error );
}

.dialogInputErrorText { 
	position: relative; 
	bottom: -5px; 
	font-size: 10px; 
	font-weight: bold; 
	text-align:left; padding: 0 0 0 12px;
	color: var( --color-border-profiler-input-error ); 
}

.dialogInputErrorCell > .dialogContentLeft {
	padding-bottom: 0;
}

.dialogInputErrorCell > .dialogContentRight {
	padding-bottom: 0;
	color: var( --color-border-profiler-input-error );
}

/* Data Filters */
.filterGroup		{ padding: 2px 2px 8px 2px; }
.filterFilter		{ margin: 0 6px 0 6px; }
.filterScroll		{ border: 1px solid var( --color-border ); margin-left: 14px; display: block; overflow-y: auto; max-height: 1px; }		/* 1px required to increase later */
.filterTable		{ width: 100%; -webkit-user-select: none; -moz-user-select: none; user-select: none; }
.filterRow			{ margin: 8px 2px; }
.filterRowBorder	{ margin: 8px 2px; border-bottom: 1px solid var( --color-border-filter ); }
.filterOrdinal		{ white-space: nowrap; vertical-align: middle; min-width: 18px; }
.filterLeft			{ white-space: nowrap; vertical-align: middle; padding: var( --filter-cell-padding ); }
.filterCenter		{ white-space: nowrap; vertical-align: middle; padding: var( --filter-cell-padding ) var( --filter-cell-padding ) var( --filter-cell-padding ) 0; text-align: left; }
.filterRight		{ white-space: nowrap; vertical-align: middle; padding: 0 var( --filter-cell-padding ); text-align: right; width: 80%; }	/* width aligns checkboxes */
.filterCheckbox		{ white-space: nowrap; vertical-align: middle; width: var( --checkbox-width ); height:  var( --checkbox-height ); }
.filterCheckboxAll	{ white-space: nowrap; vertical-align: middle; width: var( --checkbox-width ); height: var( --checkbox-height ); margin-left: 2px; }
.filterTableColumn  { width: 100%; margin-left: -7px; }
.filterButton		{ background-color: var( --color-background ); padding: 0; height: 18px; width: 18px; border-radius: 18px; border: 1px solid black; box-shadow: none; }
.filterButton:hover	{ background-color: var( --color-background ); cursor: inherit; }
.filterUpdateButton	{ margin-left: 7px; }
.filterMatchingText	{ padding-top: 6px; padding-left: 6px; }

/* Column Switchers */
.columnSwitcherContainer  { width: 100%; margin: 0; padding: 0; }
.columnSwitcherSelect  { width: 100%; max-height: 220px; overflow-x:hidden; overflow-y:auto; margin: 0; list-style-type: none; padding-inline-start: 0; -webkit-padding-start: 0; }
.columnSwitcherSelect[disabled] { opacity:0.6; }
.columnSwitcherOption  { width: 100%; padding: var( --column-switcher-cell-padding ); cursor:pointer; }
.columnSwitcherOption:hover {
	background-color: var( --color-background-list-hover );
}
.columnSwitcherOption.selected { 
	background-color: var( --color-background-selected ); 
}
.columnSwitcherOption[disabled] { cursor:inherit; }
.columnSwitcherPrev[disabled],
.columnSwitcherNext[disabled] { opacity: 0.4; }
.columnSwitcherMaxHeight { max-height: 100px; }

/* Multirange sliders (after http://leaverou.github.io/multirange/) */
canvas.multirange {
	position: absolute;
	padding: 0;
	margin: 0 0 0 var( --slider-range-padding-left );
	display: block;
	vertical-align: top;
	width: var( --slider-range-width );
	height: 25px;
	z-index: -1;
}
input[type="range"].multirange {
	padding: 0;
	margin: var( --slider-range-margin ) 0 0 14px;
	display: inline-block;
	vertical-align: bottom;
	width: 220px;
}
input[type="range"].multirange::-moz-range-progress {
	background-color: transparent;
}
input[type="range"].multirange.original {
	position: absolute;
}
input[type="range"].multirange.original::-webkit-slider-thumb {
	position: relative;
	z-index: 2;
	height: var( --slider-range-thumb-size );
	width: var( --slider-range-thumb-size );
	margin-top: var( --slider-range-thumb-margin-webkit );
	border: 0;
	border-radius: 0;
	box-shadow: none;
	background-color: transparent;
}
input[type="range"].multirange.original::-moz-range-thumb {
	transform: scale(1); 	/* FF doesn't apply position it seems */
	z-index: 1;
	height: var( --slider-range-thumb-size );
	width: var( --slider-range-thumb-size );
	border: 0;
	border-radius: 0;
	box-shadow: none;
	background-color: transparent;
}
input[type="range"].multirange.ghost::-webkit-slider-thumb {
	height: var( --slider-range-thumb-size );
	width: var( --slider-range-thumb-size );
	margin-top: var( --slider-range-thumb-margin-webkit );
	border: 0;
	border-radius: 0;
	box-shadow: none;
	background-color: transparent;
}
input[type="range"].multirange.ghost::-moz-range-thumb {
	height: var( --slider-range-thumb-size );
	width: var( --slider-range-thumb-size );
	border: 0;
	border-radius: 0;
	box-shadow: none;
	background-color: transparent;
}
input[type="range"].multirange::-moz-range-track {
	border-color: transparent;		/* needed to switch FF to "styleable" control */
}

/* As of 4/1/20, JMPRunner using Headless Chrome requires single-valued color stops.  */
input[type="range"].multirange.ghost {
	position: relative;
	background: var( --track-background );
	--track-background: linear-gradient( to right,
		var( --color-background-range ) 		              0,
		var( --color-background-range ) 		 var( --low0  ),
		var( --color-background-range-progress ) var( --low0  ),
		var( --color-background-range-progress ) var( --high0 ),
		var( --color-background-range ) 		 var( --high0 ),
		var( --color-background-range ) 		 var( --low1  ),
		var( --color-background-range-progress ) var( --low1  ),
		var( --color-background-range-progress )           100% )
		no-repeat 0 50% / 100% var( --slider-track-size );
}
input[type="range"].multirange.ghost::-webkit-slider-runnable-track {
	background: var( --track-background );
}
input[type="range"].multirange.ghost::-moz-range-track {
	background: var( --track-background );
}
input[type="range"].multirange.ghost:disabled {
	--range-color: var( --color-background-range-disabled );
}

/* Thumb images.
   These are duplicated because images in CSS variables don't load reliably and CSS can't combine vendor prefixes.
   See https://stackoverflow.com/questions/16982449/why-isnt-it-possible-to-combine-vendor-specific-pseudo-elements-classes-into-on */
input[type="range"].thumbRight::-webkit-slider-thumb 				{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAACGSURBVHicpNIxCoAwDIXh3v80Ti6Ci4sILl0cdBA6iKeIJNCiMcEmDk86+H9DaQCA8GchLhtMc6Th2QxguO6J1rQdzQIRkI6zzAq9ACukArXQJyBBLoBDbgD/R6AfRjABObzHVQAP+UWqAA+lWAS0UHsL5SlbwwfgCQuAH0+YdwEAAP//AwB9Ikv63sYtnAAAAABJRU5ErkJggg==" ); }
input[type="range"].thumbRight::-moz-range-thumb 					{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAACGSURBVHicpNIxCoAwDIXh3v80Ti6Ci4sILl0cdBA6iKeIJNCiMcEmDk86+H9DaQCA8GchLhtMc6Th2QxguO6J1rQdzQIRkI6zzAq9ACukArXQJyBBLoBDbgD/R6AfRjABObzHVQAP+UWqAA+lWAS0UHsL5SlbwwfgCQuAH0+YdwEAAP//AwB9Ikv63sYtnAAAAABJRU5ErkJggg==" ); }
input[type="range"].thumbRightTouch::-webkit-slider-thumb 			{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAADlSURBVHic7Ng9CgIxEIbhvf9prGwEGxsRbLax0ELYQjzFyARGNuuGzc/MfCks3hDSzNMkRQYiGnoKDvgBjbcHXa5jFJ/BQAy4PyeaXu8Q73f7QwgBCyDBzEPBkiAUbBPkDcsGecGKQdawapAVrBmkDVMDacHUQa0wM1AtzBxUCnMD5cLcQUtYNyCOQcfTmf6gtXhuFyCBrGFcQUsIB7llKUjqLTIDlULMQLUQdVArRA2kBWkGaUOqQVaQYpA1JBvkBdkEeUMi0PyzAQWJQAJAQr4gXnioIFCQCCQoJET6AAAA//8DAPZ80B+7SQKeAAAAAElFTkSuQmCC" ); }
input[type="range"].thumbRightTouch::-moz-range-thumb 				{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAADlSURBVHic7Ng9CgIxEIbhvf9prGwEGxsRbLax0ELYQjzFyARGNuuGzc/MfCks3hDSzNMkRQYiGnoKDvgBjbcHXa5jFJ/BQAy4PyeaXu8Q73f7QwgBCyDBzEPBkiAUbBPkDcsGecGKQdawapAVrBmkDVMDacHUQa0wM1AtzBxUCnMD5cLcQUtYNyCOQcfTmf6gtXhuFyCBrGFcQUsIB7llKUjqLTIDlULMQLUQdVArRA2kBWkGaUOqQVaQYpA1JBvkBdkEeUMi0PyzAQWJQAJAQr4gXnioIFCQCCQoJET6AAAA//8DAPZ80B+7SQKeAAAAAElFTkSuQmCC" ); }
input[type="range"].thumbLeft::-webkit-slider-thumb 				{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAACDSURBVHicYvj//z8DJZhohbcfPP5/6uwlML50/c5/og1A1ghig/CGbbvhhhCt8fHzl3AMMmDf4RNgQ0jSiNcAYjTiNIBYjegGgMOAFI20MwAkAMJkeQEWiKQYhDcaiTEIrwHEGESUAbgMgiVlog3AZhBMM0kGIBsE0wziAwAAAP//AwBJ4lD6vNTP7wAAAABJRU5ErkJggg==" ); }
input[type="range"].thumbLeft::-moz-range-thumb 					{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAACDSURBVHicYvj//z8DJZhohbcfPP5/6uwlML50/c5/og1A1ghig/CGbbvhhhCt8fHzl3AMMmDf4RNgQ0jSiNcAYjTiNIBYjegGgMOAFI20MwAkAMJkeQEWiKQYhDcaiTEIrwHEGESUAbgMgiVlog3AZhBMM0kGIBsE0wziAwAAAP//AwBJ4lD6vNTP7wAAAABJRU5ErkJggg==" ); }
input[type="range"].thumbLeftTouch::-webkit-slider-thumb 			{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAADpSURBVHic1NexCsMgEAbgvP/TZMoS6NKlFLJk6dAOhQylT3HlAoJJpfX07j8z/HLg8qGiZ0dEXUtxB7iB7s+FrtO8yXx7EBwUQ7heXu81XPfD+IWCQ+Iw6HS+bFAuEAhIAjEFlUBMQDUQVZAGRAWkCakCWUCKQJYQEQgByQIhIX9BaMhPkAdkD4qPzArywBwL1NSW8cATnCYOdSh4pdCwrIsRCRM9HQhY0eNqCatqPyxgKg2aJky1hdWAmTT5NTDTb1AJDPJRlMAgIAkMCsqBuYBSsJCAcQHFMIakMC6gkBSG8wEAAP//AwCktdmDj5v/6wAAAABJRU5ErkJggg==" ); }
input[type="range"].thumbLeftTouch::-moz-range-thumb 				{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAADpSURBVHic1NexCsMgEAbgvP/TZMoS6NKlFLJk6dAOhQylT3HlAoJJpfX07j8z/HLg8qGiZ0dEXUtxB7iB7s+FrtO8yXx7EBwUQ7heXu81XPfD+IWCQ+Iw6HS+bFAuEAhIAjEFlUBMQDUQVZAGRAWkCakCWUCKQJYQEQgByQIhIX9BaMhPkAdkD4qPzArywBwL1NSW8cATnCYOdSh4pdCwrIsRCRM9HQhY0eNqCatqPyxgKg2aJky1hdWAmTT5NTDTb1AJDPJRlMAgIAkMCsqBuYBSsJCAcQHFMIakMC6gkBSG8wEAAP//AwCktdmDj5v/6wAAAABJRU5ErkJggg==" ); }
input[type="range"].thumbRight:disabled::-webkit-slider-thumb 		{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAABYSURBVHicYvj//z8DJRhMXLp+5z8Ik2UASOPj5y/BmByDUAwgxyCsBpBiEF4DiDGIKAPwGUSSAcgGDYwBZHuB7EAkOxrJTkhkJWWKMxM5mpAxAAAA//8DAKq0TJw9ljsKAAAAAElFTkSuQmCC" ); }
input[type="range"].thumbRight:disabled::-moz-range-thumb			{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAABYSURBVHicYvj//z8DJRhMXLp+5z8Ik2UASOPj5y/BmByDUAwgxyCsBpBiEF4DiDGIKAPwGUSSAcgGDYwBZHuB7EAkOxrJTkhkJWWKMxM5mpAxAAAA//8DAKq0TJw9ljsKAAAAAElFTkSuQmCC" ); }
input[type="range"].thumbRightTouch:disabled::-webkit-slider-thumb	{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAAClSURBVHic7Ng5DoAwDETR3P94NDR0FIhTGKUAIUFEFi+/oHDqJ2XxOElEEqnCAa+gaV7krHBQRqzbflU07AGKhhVBUbBPkDesGuQFawZZw7pBVrBhkDZMDaQFUweNwsxAvTBzUCvMDVQLcwfdYShQCfWDcFuGOdSYa495GDGtA9NcMfEDE9AwERYT8jFjEGZQxIzS4Z8NeUF9x0QD8KADAAD//wMAp3W5cWOgkMQAAAAASUVORK5CYII=" ); }
input[type="range"].thumbRightTouch:disabled::-moz-range-thumb		{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAAClSURBVHic7Ng5DoAwDETR3P94NDR0FIhTGKUAIUFEFi+/oHDqJ2XxOElEEqnCAa+gaV7krHBQRqzbflU07AGKhhVBUbBPkDesGuQFawZZw7pBVrBhkDZMDaQFUweNwsxAvTBzUCvMDVQLcwfdYShQCfWDcFuGOdSYa495GDGtA9NcMfEDE9AwERYT8jFjEGZQxIzS4Z8NeUF9x0QD8KADAAD//wMAp3W5cWOgkMQAAAAASUVORK5CYII=" ); }
input[type="range"].thumbLeft:disabled::-webkit-slider-thumb		{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAABUSURBVHicYvj//z8DJZgkxZeu3/kPwiQbANP4+PlLMEY2hCSNRBuASyNBAwhpxGkAsRqxGkCKRtoYQLEXqBKIVItGqiUkqiVlqmUmfBgAAAD//wMAgGBMnNk4ehEAAAAASUVORK5CYII=" ); }
input[type="range"].thumbLeft:disabled::-moz-range-thumb			{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAABUSURBVHicYvj//z8DJZgkxZeu3/kPwiQbANP4+PlLMEY2hCSNRBuASyNBAwhpxGkAsRqxGkCKRtoYQLEXqBKIVItGqiUkqiVlqmUmfBgAAAD//wMAgGBMnNk4ehEAAAAASUVORK5CYII=" ); }
input[type="range"].thumbLeftTouch:disabled::-webkit-slider-thumb	{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAACkSURBVHic5NgxDoAgDAVQ7n88Fxc3B+Mp6oQDMVig7f/K8PeXQGlLEpHEFDgADlrWTXKgoIzYj/POEwoCgYBqkFCQBhICaoG4gnogLqARiCnIAmICsoQMgTwgXSBPSBMoAqICRUJeQdGQKgiF+Q6I7sgoLzVl2dM+jLStg7a5esL+OaBZwuYY8kdgcy6KLTAIqAaDgkoY/DtGGzigzAUAAP//AwBObblxlT6qzAAAAABJRU5ErkJggg==" ); }
input[type="range"].thumbLeftTouch:disabled::-moz-range-thumb		{ background-image: url( "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAChhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNS4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgICAgPHJkZjpBbHQ+CiAgICAgICAgICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+U2NyZWVuc2hvdDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmeLx/UAAACkSURBVHic5NgxDoAgDAVQ7n88Fxc3B+Mp6oQDMVig7f/K8PeXQGlLEpHEFDgADlrWTXKgoIzYj/POEwoCgYBqkFCQBhICaoG4gnogLqARiCnIAmICsoQMgTwgXSBPSBMoAqICRUJeQdGQKgiF+Q6I7sgoLzVl2dM+jLStg7a5esL+OaBZwuYY8kdgcy6KLTAIqAaDgkoY/DtGGzigzAUAAP//AwBObblxlT6qzAAAAABJRU5ErkJggg==" ); }

/* Printing */
hr					{ page-break-after: always; }
@media print {
header				{ display: none; }
#body				{ padding: 0; }
hr					{ color: transparent; }
table.scrollableTable tbody { height: auto !important; overflow-y: visible; }
input[type=range]::-webkit-slider-runnable-track 				{ border: 1px solid #cccccc; }
input[type=range]::-moz-range-track 							{ border: 1px solid #cccccc; }
input[type=range].multirange::-webkit-slider-runnable-track 	{ border: 1px solid #cccccc; }
input[type=range].multirange::-moz-range-track 					{ border: 1px solid #cccccc; }
}

/* Spin progress indicator while waiting. */
@keyframes rotate {
	to {
		-webkit-transform: rotate( 360deg );
		transform: rotate(360deg);
	}
}
   
.progressIndicator:before {
	z-index: 1003;
	content: '';
	box-sizing: border-box;
	position: absolute;
	top: 50%;
	left: 50%;
	width: 80px;
	height: 80px;
	margin-top: -10px;
	margin-left: -10px;
	border-radius: 50%;
	border: 6px solid #ccc;
	border-top-color: var( --color-progress );
	animation: rotate 2s linear infinite;
}


.tabulateHeader {
	font-weight:bold ;
	font-size: var(--tabulateHeadingFontSize);
}

/* unvisited link */
 a:link {
	color: var( --color-a-unvisited );
  }
   
/* visited link */
 a:visited {
color: var( --color-a-visited );
}
   
</style>
<style id="ID_POINTER_FINE">
/* Style for pointers with fine accuracy, such as a mouse or stylus */
:root {
	--space-left: 4px;
	--header-padding-topBottom: 3px;
	--header-padding-leftRight: 6px;
	--body-padding-top: 39px;
	--button-margin-topBottom: 2px;
	--button-padding-topBottom: 3px;
	--button-padding-topBottom-legacy: 2px;
	--button-padding-leftRight: 9px;
	--button-min-padding-topBottom: 2px;
	--button-min-padding-leftRight: 2px;
	--button-padding-outline: 4px;
	--button-padding-outline-legacy: 2px 6px 2px 0;
	--dialog-width: 280;
	--dialog-width-alert: 560;
	--dialog-content-padding-topBottom: 10px;
	--dialog-content-left-padding-left: 18px;
	--input-padding-top: 8px;
	--input-padding-right: 8px;
	--input-padding-bottom: 8px;
	--input-padding-left: 8px;
	--input-padding-top-selected: 7px;
	--input-padding-right-selected: 7px;
	--input-padding-bottom-selected: 7px;
	--input-padding-left-selected: 7px;
	--tab-padding-topBottom: 6px;
	--slider-track-size: 2px;
	--slider-thumb-size: 12px;
	--slider-thumb-margin: -5px;
	--slider-range-thumb-size: 16px;
	--slider-range-thumb-margin-webkit: -7px;
	--slider-range-margin: 20px;
	--slider-range-padding-left: 22px;
	--slider-range-width: 204px;
	--menu-cell-padding: 8px 16px;
	--menu-cell-padding-icon: 0;
	--menu-table-padding-top: 8px;
	--filter-cell-padding: 4px;
	--column-switcher-cell-padding: 4px 8px;
}
</style>
<style id="ID_POINTER_COARSE">
/* Style for pointers with coarse accuracy, i.e. touch */
:root {
	--space-left: 10px;
	--header-padding-topBottom: 0;
	--header-padding-leftRight: 6px;
	--body-padding-top: 60px;
	--button-margin-topBottom: 6px;
	--button-padding-topBottom: 8px;
	--button-padding-topBottom-legacy: 8px;
	--button-padding-leftRight: 16px;
	--button-min-padding-topBottom: 7px;
	--button-min-padding-leftRight: 7px;
	--button-padding-outline: 8px;
	--button-padding-outline-legacy: 8px 6px 8px 0;
	--dialog-width: 280;
	--dialog-width-alert: 280;
	--dialog-content-padding-topBottom: 12px;
	--dialog-content-left-padding-left: 20px;
	--input-padding-top: 16px;
	--input-padding-right: 8px;
	--input-padding-bottom: 16px;
	--input-padding-left: 8px;
	--input-padding-top-selected: 15px;
	--input-padding-right-selected: 7px;
	--input-padding-bottom-selected: 15px;
	--input-padding-left-selected: 7px;
	--tab-padding-topBottom: 12px;
	--slider-track-size: 2px;
	--slider-thumb-size: 32px;
	--slider-thumb-margin: -15px;
	--slider-range-thumb-size: 36px;
	--slider-range-thumb-margin-webkit: -17px;
	--slider-range-margin: 10px;
	--slider-range-padding-left: 28px;
	--slider-range-width: 192px;
	--menu-cell-padding: 14px 16px;
	--menu-cell-padding-icon: 0;
	--menu-table-padding-top: 8px;
	--filter-cell-padding: 6px;
	--column-switcher-cell-padding: 6px 12px;
}
</style>
<style id="ID_LEGACY_THEME">/* Classes with unique values or order for Legacy Theme*/
.modern {
	display: none;
}

table { 
	border-collapse: collapse; 
}

.outlineButton {
	padding: var( --button-padding-outline-legacy );
}

button.square { 
	padding: var( --button-padding-topBottom-legacy );
}

.menu table {
	border-spacing: 0; 
	border-radius: 4px;
	border-collapse: separate; 
}

.columnSwitcherSelect {
	border: 1px solid var( --color-border );
}

.filterGroup {
	border: 1px solid var( --color-border );
}

.rounded { 
	border-radius: 4px 
}

.spaceTop { 
	margin-top: 0;
	margin-right: 5px;
}

ul.tabs {
	box-shadow: none;
}

.tabContent { 
	box-shadow: none;
}
.tabBox.hideTabTitles>.tabContentContainer>.tabContent {
	box-shadow: none;
}

.indent, 
.legacyIndent {
	padding-left: 15px; 
}

#body { 
	margin: 5px auto 0 auto; 
}
</style>
<style id="ID_MODERN_THEME">/* Classes with unique values or order for Modern Theme*/
.legacy {
	display: none;
}

table { 
	border-spacing: 0; 
	border-radius: 4px; 
}

table > tr:last-child th:first-child, table tr:last-child > td:first-child {
    border-bottom-left-radius: 4px;
}

table tr:last-child > td:last-child {
    border-bottom-right-radius: 4px;
}

.menu table tr:last-child th:first-child,
.menu table tr:last-child td:first-child, 
.filterTable tr:last-child td:first-child {
    border-bottom-left-radius: 0;
}

.menu table tr:last-child th:last-child, 
.menu table tr:last-child td:last-child,
.filterTable tr:last-child td:last-child  {
    border-bottom-right-radius: 0;
}

button.square { 
	padding: var( --button-padding-topBottom ); 
}

.outlineButton {
	cursor: inherit; 
	vertical-align: middle; 
	font-family: Arial, sans-serif;
	font-size: 12px;
	font-weight: bold;
	padding: var( --button-padding-outline );
	margin: 0px; border: none; 
	border-radius: 4px 4px 0px 0px; 
	box-shadow: 0px 0px 0px var( --color-box-shadow-button ); 
	line-height: 20px; text-align: left; 
}

.rounded { 
	border-radius: 4px 
}

.boxShadow { 
	box-shadow: none;
	background-color: var( --color-background-outline );
}

/* TODO: Remove this hack and change z-order in data filter.
https://stackoverflow.com/questions/35380249/how-to-fix-background-color-covering-the-z-index-1-rule */
.dataFilterStackContext {
	z-index: 0;
}

.layoutTable { 
	display: table;
	border-radius: 4px; 
}

.buttonFullSpan { 
	width: 100%; 
}

.spaceTop {
	position: relative;
	margin-top: 10px; 
	margin-bottom: 10px; 
	margin-right: 10px;
}

/* Used to ensure a space equivalent to the margin is on the right side of the screen
https://blog.alexandergottlieb.com/overflow-scroll-and-the-right-padding-problem-a-css-only-solution-6d442915b3f4*/
.spaceTop:after {
	position: absolute;
	height: 1px;
	right: -10px;
	width: 10px;
	content: "";
}

.borderBottomRightRadius { 
	border-bottom-right-radius: 4px; 
}

.borderBottomLeftRadius { 
	border-bottom-left-radius: 4px; 
}

.noBorderTopLeftRadius { 
	border-top-left-radius: 0px; 
}

.noBorderTopRightRadius { 
	border-top-right-radius: 0px; 
}

.indent,
.modernIndent { 
	margin-left: 10px; 
}

.indentPadding {
	padding-left: 15px;
	padding-right: 10px;
	padding-top: 10px;
	padding-bottom: 10px;
}

.tabContent { 
	border: 1px solid var( --color-background-ul-tabs ); 
}
.tabBox.hideTabTitles>.tabContentContainer>.tabContent {
	border: 0px; 
}
</style>
<style id="ID_LIGHT_BACKGROUND">
/* Define the color variables used in style.css for the light color theme */
:root {
	--color-text: #000000;
	--color-a-visited: #660099;
	--color-a-unvisited:#1a0db3;
	--color-background: #ffffff;
	/* JMPHTML - 1947 change outline background color*/
	--color-background-outline: #fafafa;
	--color-background-button-up: #f2f2f2;
	--color-background-button-up-menu: #e3e7e9;
	--color-background-button-hover: rgba( 220, 220, 220, 0.6 );
	--color-background-button-focus: rgba( 220, 220, 220, 0.8 );
	--color-background-button-down: rgba( 220, 220, 220, 1.0 );
	--color-background-button-disabled: #cccccd;
	--color-background-dialog-button: transparent;
	--color-background-dark: #f1f3f4;
	--color-background-dark-canvas: transparent;
	--color-background-dialog:  #f8f8f8;
	--color-background-dialog-overlay: rgba( 0, 0, 0, 0.2 );
	--color-background-header: rgba( 213, 219, 222, 0.85 );
	--color-background-input-error: #ffcccc;
	/* JMPHTML - 1947 change table td to white to match JMP */
	--color-background-light: #ffffff;
	--color-background-light-canvas: transparent;
	--color-background-list-hover: #dbebfe;
	--color-background-menu-row: #f8f8f8;
	--color-background-menu-row-hover: #c2ddfe;
	--color-background-range: #bbbbbb;
	--color-background-range-progress: #707070;
	--color-background-range-disabled: #e3e7e9;
	--color-background-range-thumb: #e3e7e9;
	--color-background-scrollable-table-scrollbar-track: #e5e5e5;
	--color-background-scrollable-table-scrollbar-thumb: #bbb;
	--color-background-selected: #c2ddfe;
	--color-background-sentiment-score-positive: #ffe6cc;
	--color-background-sentiment-score-negative: #ccccff;
	--color-background-slider: #ffffff;
	--color-background-tab-content: #ffffff;
	--color-background-ul-tabs: #f2f2f2;
	--color-border: #939ba1;
	--color-border-hover: #848b90;
	--color-border-focus: #2a7dc2;
	--color-border-bar-box-bound: #ffffff;
	--color-border-bottom-ul-tabs-li-selected-tab: #2a7dc7;
	--color-border-button-disabled: #b9bdc0;
	--color-border-button-down: #626466;
	--color-border-button-up: #bbbbbb;
	--color-border-dialog-input-error: #ff0000;
	--color-border-filter: #ffffff;
	--color-border-profiler-input-error: #ff0000;
	--color-border-slider-thumb: #bbc4cb;
	--color-border-slider-track: #bbc4cb;
	--color-border-table-scrollable-table-td: #ffffff;
	--color-border-table-scrollable-table-th: #f8f8f8;
	--color-box-shadow: #626466;
	--color-box-shadow-menu: #f5f6f7;
	--color-box-shadow-focus: #60a0e0;
	--color-box-shadow-bar-box: #bbc4cb;
	--color-box-shadow-bar-box-bound: #3479ee;
	--color-box-shadow-bar-box-small: #939ba1;
	--color-box-shadow-button: #939ba1;
	--color-box-shadow-button-hover: #626466;
	--color-box-shadow-button-disabled-hover: #939ba1;
	--color-box-shadow-range: #939ba1;
	--color-box-shadow-dialog: #939ba1;
	--color-box-shadow-tab-content: #939ba1;
	--color-box-shadow-table-scrollable-table-scrollbar-thumb: rgba( 0,0,0,0.3 );
	--color-box-shadow-ul-tabs: #939ba1;
	--color-button-dialog-text: #2a7dc2;
	--color-button-dialog-text-disabled: gray;
	--color-ul-tabs-li-selected-tab: #2a7dc7;
	--color-profiler-input: #880114;
	--color-profiler-select: #880114;
	--color-profiler-edit-button: #880114;
	--color-progress: #297dc1;
	--color-tap-highlight: rgba( 0, 0, 0, 0 );
	--color-enabled-icon: rgba( 0, 0, 0, 1.0 );
	--color-disabled-icon: rgba( 0, 0, 0, 0.3 );

	--color-hover-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.13"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-hover-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.13"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-focus-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.2"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-focus-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.2"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-active-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.3"/><path d="M0 0h32v36H0z" fill="none"/></svg>' );
	--color-active-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.3"/><path d="M0 0h36v36H0z" fill="none"/></svg>' );

	--color-checkbox-unselected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="%23757575" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );
	--color-checkbox-unselected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="%237d7d7d" fill-opacity="0.6" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );
	--color-checkbox-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z" fill="%23757575" /></svg>' );
	--color-checkbox-selected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z" fill="%237d7d7d" fill-opacity="0.6" /></svg>' );

	--color-radio-button-unselected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%23757575" /><path d="M0 0h24v24H0z" fill="none"/></svg>');
	--color-radio-button-unselected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%237d7d7d" fill-opacity="0.6" /><path d="M0 0h24v24H0z" fill="none"/></svg>');
	--color-radio-button-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%23757575" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );
	--color-radio-button-selected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%237d7d7d" fill-opacity="0.6" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );

	--buttonBoxShadow: 1px 1px 3px var( --color-box-shadow-button );
}
</style>
<style id="ID_DARK_BACKGROUND">/* Define the color variables used in style.css for the dark color theme */
:root {
	--color-text: #FFFFFF;
	--color-a-visited: #C58AF9;
	--color-a-unvisited:#8AB4F8;
	--color-background: #121212;
	--color-background-outline: rgba( 61, 64, 68, 0.85 );
	--color-background-button-up-menu: rgba( 255, 255, 255, 0.0 );
	--color-background-button-up: rgba( 255, 255, 255, 0.14 );
	--color-background-button-hover: rgba( 255, 255, 255, 0.18 );
	--color-background-button-focus: rgba( 255, 255, 255, 0.16 );
	--color-background-button-down: rgba( 255, 255, 255, 0.24 );
	--color-background-button-disabled: #cccccd;
	--color-background-dialog-button: transparent;
	--color-background-dark: #484B51;
	--color-background-dark-canvas: transparent;
	--color-background-dialog: var( --color-background );
	--color-background-dialog-overlay: rgba( 0, 0, 0, 0.2 );
	--color-background-header: rgba( 60, 62, 63, 1 );
	--color-background-input-error: #ffcccc;
	--color-background-light: rgba( 55, 58, 62, 1.0 );
	--color-background-light-canvas: transparent;
	--color-background-list-hover: #0673f9;
	--color-background-menu-row: rgba( 255, 255, 255, 0.0 );
	--color-background-menu-row-hover: rgba( 255, 255, 255, 0.14 );
	--color-background-range: #bbbbbb;
	--color-background-range-progress: #707070;
	--color-background-range-disabled: rgba( 255, 255, 255, 0.14 );
	--color-background-range-thumb: rgba( 255, 255, 255, 1 );
	--color-background-scrollable-table-scrollbar-track: var( --color-background-outline );
	--color-background-scrollable-table-scrollbar-thumb: var( --color-background-button-down );
	--color-background-sentiment-score-positive: #663300;
	--color-background-sentiment-score-negative: #000066;
	--color-background-selected: #003e8a;
	--color-background-slider: #ffffff;
	--color-background-tab-content: rgba( 255, 255, 255, 0.0 );
	--color-background-ul-tabs: rgba( 255, 255, 255, 0.14 );
	--color-border: #939ba1;
	--color-border-hover: #848b90;
	--color-border-focus: #2a7dc2;
	--color-border-bar-box-bound: #ffffff;
	--color-border-bottom-ul-tabs-li-selected-tab: #94BEE2;
	--color-border-button-disabled: #b9bdc0;
	--color-border-button-down: #626466;
	--color-border-button-up: #bbbbbb;
	--color-border-dialog-input-error: #ff0000;
	--color-border-filter: #ffffff;
	--color-border-profiler-input-error: #ff0000;
	--color-border-slider-thumb: #bbc4cb;
	--color-border-slider-track: #bbc4cb;
	--color-border-table-scrollable-table-td: var( --color-background-outline );
	--color-border-table-scrollable-table-th: var( --color-background-outline );
	--color-box-shadow: #626466;
	--color-box-shadow-menu: #f5f6f7;
	--color-box-shadow-focus: #60a0e0;
	--color-box-shadow-bar-box: #bbc4cb;
	--color-box-shadow-bar-box-bound: #3479ee;
	--color-box-shadow-bar-box-small: #939ba1;
	--color-box-shadow-button: #939ba1;
	--color-box-shadow-button-hover: #626466;
	--color-box-shadow-button-disabled-hover: #939ba1;
	--color-box-shadow-range: #939ba1;
	--color-box-shadow-dialog: #939ba1;
	--color-box-shadow-tab-content: #939ba1;
	--color-box-shadow-table-scrollable-table-scrollbar-thumb: rgba( 0,0,0,0.3 );
	--color-box-shadow-ul-tabs: #939ba1;
	--color-button-dialog-text: #2a7dc2;
	--color-button-dialog-text-disabled: gray;
	--color-ul-tabs-li-selected-tab: #94BEE2;
	--color-profiler-input: #F03246;
	--color-profiler-select: #F03246;
	--color-profiler-edit-button: #F03246;
	--color-progress: #297dc1;
	--color-tap-highlight: rgba( 0, 0, 0, 0 );
	--color-enabled-icon: rgba( 255, 255, 255, 1.0 );
	--color-disabled-icon: rgba( 255, 255, 255, 0.3 );

	--color-hover-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%23ffffff" fill-opacity="0.13"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-hover-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%23ffffff" fill-opacity="0.13"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-focus-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%23ffffff" fill-opacity="0.2"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-focus-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%23ffffff" fill-opacity="0.2"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-active-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%23ffffff" fill-opacity="0.3"/><path d="M0 0h32v36H0z" fill="none"/></svg>' );
	--color-active-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%23ffffff" fill-opacity="0.3"/><path d="M0 0h36v36H0z" fill="none"/></svg>' );

	--color-checkbox-unselected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="%23ffffff" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );
	--color-checkbox-unselected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="%23ffffff" fill-opacity="0.6" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );
	--color-checkbox-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z" fill="%23ffffff" /></svg>' );
	--color-checkbox-selected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z" fill="%23ffffff" fill-opacity="0.6" /></svg>' );

	--color-radio-button-unselected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%23ffffff" /><path d="M0 0h24v24H0z" fill="none"/></svg>');
	--color-radio-button-unselected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%23ffffff" fill-opacity="0.6" /><path d="M0 0h24v24H0z" fill="none"/></svg>');
	--color-radio-button-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%23ffffff" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );
	--color-radio-button-selected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%23ffffff" fill-opacity="0.6" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );

	--buttonBoxShadow: none;
}

</style>
<style id="ID_GRAY_BACKGROUND">
/* Define the color variables used in style.css for the gray color theme */
:root {
	--color-text: #000000;
	--color-a-visited: #660099;
	--color-a-unvisited:#1a0db3;
	--color-background: #dbe0e3;
	--color-background-outline: #dbe0e3;
	--color-background-button-up: #e3e7e9;
	--color-background-button-up-menu: #e3e7e9;
	--color-background-button-hover: rgba( 198, 207, 211, 0.6 );
	--color-background-button-focus: rgba( 198, 207, 211, 0.8 );
	--color-background-button-down: rgba( 198, 207, 211, 1.0 );
	--color-background-button-disabled: #cccccd;
	--color-background-dialog-button: transparent;
	--color-background-dark: #ebeeef;
	--color-background-dark-canvas: #ebeeef;
	--color-background-dialog: #ebeeef;
	--color-background-dialog-overlay: rgba( 0, 0, 0, 0.2 );
	--color-background-header: #ebeeef;
	--color-background-input-error: #ffcccc;
	--color-background-light: #ffffff;
	--color-background-light-canvas: #ffffff;
	--color-background-list-hover: #dbebfe;
	--color-background-menu-row: #ffffff;
	--color-background-menu-row-hover: #c2ddfe;
	--color-background-range: #b9bdc0;
	--color-background-range-progress: #6f7073;
	--color-background-range-disabled: #edf0f1;
	--color-background-range-thumb: #e3e7e9;
	--color-background-scrollable-table-scrollbar-track: #e5e5e5;
	--color-background-scrollable-table-scrollbar-thumb: #bbb;
	--color-background-selected: #c2ddfe;
	--color-background-sentiment-score-positive: #ffe6cc;
	--color-background-sentiment-score-negative: #ccccff;
	--color-background-slider: #ffffff;
	--color-background-tab-content: #dbe0e3;
	--color-background-ul-tabs: #e3e7e9;
	--color-border: #939ba1;
	--color-border-hover: #848b90;
	--color-border-focus: #2a7dc2;
	--color-border-bar-box-bound: #ffffff;
	--color-border-bottom-ul-tabs-li-selected-tab: #60a0e0;
	--color-border-button-disabled: #b9bdc0;
	--color-border-button-down: #626466;
	--color-border-button-up: #b9bdc0;
	--color-border-dialog-input-error: #ff0000;
	--color-border-filter: #dbe0e3;
	--color-border-profiler-input-error: #ff0000;
	--color-border-slider-thumb: #bbc4cb;
	--color-border-slider-track: #bbc4cb;
	--color-border-table-scrollable-table-td: #ffffff;
	--color-border-table-scrollable-table-th: #ebeeef;
	--color-box-shadow: #626466;
	--color-box-shadow-menu: #616466;
	--color-box-shadow-focus: #60a0e0;
	--color-box-shadow-bar-box: #bbc4cb;
	--color-box-shadow-bar-box-bound: #3479ee;
	--color-box-shadow-bar-box-small: #939ba1;
	--color-box-shadow-button: #939ba1;
	--color-box-shadow-button-hover: #626466;
	--color-box-shadow-button-disabled-hover: #939ba1;
	--color-box-shadow-range: #939ba1;
	--color-box-shadow-dialog: #939ba1;
	--color-box-shadow-tab-content: #939ba1;
	--color-box-shadow-table-scrollable-table-scrollbar-thumb: rgba( 0,0,0,0.3 );
	--color-box-shadow-ul-tabs: #939ba1;
	--color-button-dialog-text: #2a7dc2;
	--color-button-dialog-text-disabled: gray;
	--color-ul-tabs-li-selected-tab: #60a0e0;
	--color-profiler-input: #880114;
	--color-profiler-select: #880114;
	--color-profiler-edit-button: #880114;
	--color-progress: #297dc1;
	--color-tap-highlight: rgba( 0, 0, 0, 0 );
	--color-enabled-icon: rgba( 0, 0, 0, 1.0 );
	--color-disabled-icon: rgba( 0, 0, 0, 0.3 );

	--color-hover-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.13"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-hover-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.13"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-focus-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.2"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-focus-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.2"/><path d="M0 0h32v32H0z" fill="none"/></svg>' );
	--color-active-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.3"/><path d="M0 0h32v36H0z" fill="none"/></svg>' );
	--color-active-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="%237d7d7d" fill-opacity="0.3"/><path d="M0 0h36v36H0z" fill="none"/></svg>' );

	--color-checkbox-unselected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="%23757575" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );
	--color-checkbox-unselected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="%237d7d7d" fill-opacity="0.6" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );
	--color-checkbox-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z" fill="%23757575" /></svg>' );
	--color-checkbox-selected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z" fill="%237d7d7d" fill-opacity="0.6" /></svg>' );

	--color-radio-button-unselected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%23757575" /><path d="M0 0h24v24H0z" fill="none"/></svg>');
	--color-radio-button-unselected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%237d7d7d" fill-opacity="0.6" /><path d="M0 0h24v24H0z" fill="none"/></svg>');
	--color-radio-button-selected-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%23757575" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );
	--color-radio-button-selected-disabled-svg: url( 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="%237d7d7d" fill-opacity="0.6" /><path d="M0 0h24v24H0z" fill="none"/></svg>' );

	--buttonBoxShadow: 1px 1px 3px var( --color-box-shadow-button );
}
</style>
<script>
if( !Number.isNaN ) {	// Detect old browsers in a separate script executed before ES6 syntax errors.
   alert( "This web browser does not support JMP reports.  Please use a newer browser." );
}
</script>
</head><body>  
   <div class="progressIndicator revealed" id="busyIndicator"></div>
   <script>

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=e()}}((function(){return function e(t,i,a){function n(s,o){if(!i[s]){if(!t[s]){var r="function"==typeof require&&require;if(!o&&r)return r(s,!0);if(l)return l(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[s]={exports:{}};t[s][0].call(d.exports,(function(e){return n(t[s][1][e]||e)}),d,d.exports,e,t,i,a)}return i[s].exports}for(var l="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(e,t,i){"use strict";function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)a(i,n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,i,a,n){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+a),n);else for(var l=0;l<a;l++)e[n+l]=t[i+l]},flattenChunks:function(e){var t,i,a,n,l,s;for(a=0,t=0,i=e.length;t<i;t++)a+=e[t].length;for(s=new Uint8Array(a),n=0,t=0,i=e.length;t<i;t++)l=e[t],s.set(l,n),n+=l.length;return s}};i.setTyped=function(){i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)},i.setTyped()},{}],2:[function(e,t,i){"use strict";var a=e("./common"),n=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch(e){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){l=!1}for(var s=new a.Buf8(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function r(e,t){if(t<65534&&(e.subarray&&l||!e.subarray&&n))return String.fromCharCode.apply(null,a.shrinkBuf(e,t));for(var i="",s=0;s<t;s++)i+=String.fromCharCode(e[s]);return i}s[254]=s[254]=1,i.buf2binstring=function(e){return r(e,e.length)},i.binstring2buf=function(e){for(var t=new a.Buf8(e.length),i=0,n=t.length;i<n;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,a,n,l,o=t||e.length,c=new Array(2*o);for(a=0,i=0;i<o;)if((n=e[i++])<128)c[a++]=n;else if((l=s[n])>4)c[a++]=65533,i+=l-1;else{for(n&=2===l?31:3===l?15:7;l>1&&i<o;)n=n<<6|63&e[i++],l--;l>1?c[a++]=65533:n<65536?c[a++]=n:(n-=65536,c[a++]=55296|n>>10&1023,c[a++]=56320|1023&n)}return r(c,a)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+s[e[i]]>t?i:t}},{"./common":1}],3:[function(e,t,i){"use strict";t.exports=function(e,t,i,a){for(var n=65535&e|0,l=e>>>16&65535|0,s=0;0!==i;){i-=s=i>2e3?2e3:i;do{l=l+(n=n+t[a++]|0)|0}while(--s);n%=65521,l%=65521}return n|l<<16|0}},{}],4:[function(e,t,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,i){"use strict";var a=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,n){var l=a,s=n+i;e^=-1;for(var o=n;o<s;o++)e=e>>>8^l[255&(e^t[o])];return-1^e}},{}],6:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],7:[function(e,t,i){"use strict";t.exports=function(e,t){var i,a,n,l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I;i=e.state,a=e.next_in,N=e.input,n=a+(e.avail_in-5),l=e.next_out,I=e.output,s=l-(t-e.avail_out),o=l+(e.avail_out-257),r=i.dmax,c=i.wsize,d=i.whave,u=i.wnext,h=i.window,g=i.hold,S=i.bits,m=i.lencode,f=i.distcode,T=(1<<i.lenbits)-1,p=(1<<i.distbits)-1;e:do{S<15&&(g+=N[a++]<<S,S+=8,g+=N[a++]<<S,S+=8),E=m[g&T];t:for(;;){if(g>>>=b=E>>>24,S-=b,0===(b=E>>>16&255))I[l++]=65535&E;else{if(!(16&b)){if(0==(64&b)){E=m[(65535&E)+(g&(1<<b)-1)];continue t}if(32&b){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}A=65535&E,(b&=15)&&(S<b&&(g+=N[a++]<<S,S+=8),A+=g&(1<<b)-1,g>>>=b,S-=b),S<15&&(g+=N[a++]<<S,S+=8,g+=N[a++]<<S,S+=8),E=f[g&p];i:for(;;){if(g>>>=b=E>>>24,S-=b,!(16&(b=E>>>16&255))){if(0==(64&b)){E=f[(65535&E)+(g&(1<<b)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(_=65535&E,S<(b&=15)&&(g+=N[a++]<<S,(S+=8)<b&&(g+=N[a++]<<S,S+=8)),(_+=g&(1<<b)-1)>r){e.msg="invalid distance too far back",i.mode=30;break e}if(g>>>=b,S-=b,_>(b=l-s)){if((b=_-b)>d&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(x=0,L=h,0===u){if(x+=c-b,b<A){A-=b;do{I[l++]=h[x++]}while(--b);x=l-_,L=I}}else if(u<b){if(x+=c+u-b,(b-=u)<A){A-=b;do{I[l++]=h[x++]}while(--b);if(x=0,u<A){A-=b=u;do{I[l++]=h[x++]}while(--b);x=l-_,L=I}}}else if(x+=u-b,b<A){A-=b;do{I[l++]=h[x++]}while(--b);x=l-_,L=I}for(;A>2;)I[l++]=L[x++],I[l++]=L[x++],I[l++]=L[x++],A-=3;A&&(I[l++]=L[x++],A>1&&(I[l++]=L[x++]))}else{x=l-_;do{I[l++]=I[x++]}while(--A)}break}}break}}while(a<n&&l<o);a-=A=S>>3,g&=(1<<(S-=A<<3))-1,e.next_in=a,e.next_out=l,e.avail_in=a<n?n-a+5:5-(a-n),e.avail_out=l<o?o-l+257:257-(l-o),i.hold=g,i.bits=S}},{}],8:[function(e,t,i){"use strict";var a=e("../utils/common"),n=e("./adler32"),l=e("./crc32"),s=e("./inffast"),o=e("./inftrees");window.inflate_table=o;var r=-2,c=12,d=30;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new a.Buf32(852),t.distcode=t.distdyn=new a.Buf32(592),t.sane=1,t.back=-1,0):r}function S(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,g(e)):r}function m(e,t){var i,a;return e&&e.state?(a=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?r:(null!==a.window&&a.wbits!==t&&(a.window=null),a.wrap=i,a.wbits=t,S(e))):r}function f(e,t){var i,a;return e?(a=new h,e.state=a,a.window=null,0!==(i=m(e,t))&&(e.state=null),i):r}var T,p,E=!0;function b(e){if(E){var t;for(T=new a.Buf32(512),p=new a.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,T,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,p,0,e.work,{bits:5}),E=!1}e.lencode=T,e.lenbits=9,e.distcode=p,e.distbits=5}i.inflateReset=S,i.inflateReset2=m,i.inflateResetKeep=g,i.inflateInit=function(e){return f(e,15)},i.inflateInit2=f,i.inflate=function(e,t){var i,h,g,S,m,f,T,p,E,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F=0,B=new a.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return r;(i=e.state).mode===c&&(i.mode=13),m=e.next_out,g=e.output,T=e.avail_out,S=e.next_in,h=e.input,f=e.avail_in,p=i.hold,E=i.bits,A=f,_=T,O=0;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;E<16;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}if(2&i.wrap&&35615===p){i.check=0,B[0]=255&p,B[1]=p>>>8&255,i.check=l(i.check,B,2,0),p=0,E=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",i.mode=d;break}if(8!=(15&p)){e.msg="unknown compression method",i.mode=d;break}if(E-=4,w=8+(15&(p>>>=4)),0===i.wbits)i.wbits=w;else if(w>i.wbits){e.msg="invalid window size",i.mode=d;break}i.dmax=1<<w,e.adler=i.check=1,i.mode=512&p?10:c,p=0,E=0;break;case 2:for(;E<16;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}if(i.flags=p,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=d;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=d;break}i.head&&(i.head.text=p>>8&1),512&i.flags&&(B[0]=255&p,B[1]=p>>>8&255,i.check=l(i.check,B,2,0)),p=0,E=0,i.mode=3;case 3:for(;E<32;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}i.head&&(i.head.time=p),512&i.flags&&(B[0]=255&p,B[1]=p>>>8&255,B[2]=p>>>16&255,B[3]=p>>>24&255,i.check=l(i.check,B,4,0)),p=0,E=0,i.mode=4;case 4:for(;E<16;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}i.head&&(i.head.xflags=255&p,i.head.os=p>>8),512&i.flags&&(B[0]=255&p,B[1]=p>>>8&255,i.check=l(i.check,B,2,0)),p=0,E=0,i.mode=5;case 5:if(1024&i.flags){for(;E<16;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}i.length=p,i.head&&(i.head.extra_len=p),512&i.flags&&(B[0]=255&p,B[1]=p>>>8&255,i.check=l(i.check,B,2,0)),p=0,E=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((x=i.length)>f&&(x=f),x&&(i.head&&(w=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),a.arraySet(i.head.extra,h,S,x,w)),512&i.flags&&(i.check=l(i.check,h,x,S)),f-=x,S+=x,i.length-=x),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===f)break e;x=0;do{w=h[S+x++],i.head&&w&&i.length<65536&&(i.head.name+=String.fromCharCode(w))}while(w&&x<f);if(512&i.flags&&(i.check=l(i.check,h,x,S)),f-=x,S+=x,w)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===f)break e;x=0;do{w=h[S+x++],i.head&&w&&i.length<65536&&(i.head.comment+=String.fromCharCode(w))}while(w&&x<f);if(512&i.flags&&(i.check=l(i.check,h,x,S)),f-=x,S+=x,w)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;E<16;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}if(p!==(65535&i.check)){e.msg="header crc mismatch",i.mode=d;break}p=0,E=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=c;break;case 10:for(;E<32;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}e.adler=i.check=u(p),p=0,E=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=m,e.avail_out=T,e.next_in=S,e.avail_in=f,i.hold=p,i.bits=E,2;e.adler=i.check=1,i.mode=c;case c:if(5===t||6===t)break e;case 13:if(i.last){p>>>=7&E,E-=7&E,i.mode=27;break}for(;E<3;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}switch(i.last=1&p,E-=1,3&(p>>>=1)){case 0:i.mode=14;break;case 1:if(b(i),i.mode=20,6===t){p>>>=2,E-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=d}p>>>=2,E-=2;break;case 14:for(p>>>=7&E,E-=7&E;E<32;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}if((65535&p)!=(p>>>16^65535)){e.msg="invalid stored block lengths",i.mode=d;break}if(i.length=65535&p,p=0,E=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(x=i.length){if(x>f&&(x=f),x>T&&(x=T),0===x)break e;a.arraySet(g,h,S,x,m),f-=x,S+=x,T-=x,m+=x,i.length-=x;break}i.mode=c;break;case 17:for(;E<14;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}if(i.nlen=257+(31&p),p>>>=5,E-=5,i.ndist=1+(31&p),p>>>=5,E-=5,i.ncode=4+(15&p),p>>>=4,E-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=d;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;E<3;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}i.lens[V[i.have++]]=7&p,p>>>=3,E-=3}for(;i.have<19;)i.lens[V[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,P={bits:i.lenbits},O=o(0,i.lens,0,19,i.lencode,0,i.work,P),i.lenbits=P.bits,O){e.msg="invalid code lengths set",i.mode=d;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;M=(F=i.lencode[p&(1<<i.lenbits)-1])>>>16&255,y=65535&F,!((I=F>>>24)<=E);){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}if(y<16)p>>>=I,E-=I,i.lens[i.have++]=y;else{if(16===y){for(D=I+2;E<D;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}if(p>>>=I,E-=I,0===i.have){e.msg="invalid bit length repeat",i.mode=d;break}w=i.lens[i.have-1],x=3+(3&p),p>>>=2,E-=2}else if(17===y){for(D=I+3;E<D;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}E-=I,w=0,x=3+(7&(p>>>=I)),p>>>=3,E-=3}else{for(D=I+7;E<D;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}E-=I,w=0,x=11+(127&(p>>>=I)),p>>>=7,E-=7}if(i.have+x>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=d;break}for(;x--;)i.lens[i.have++]=w}}if(i.mode===d)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=d;break}if(i.lenbits=9,P={bits:i.lenbits},O=o(1,i.lens,0,i.nlen,i.lencode,0,i.work,P),i.lenbits=P.bits,O){e.msg="invalid literal/lengths set",i.mode=d;break}if(i.distbits=6,i.distcode=i.distdyn,P={bits:i.distbits},O=o(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,P),i.distbits=P.bits,O){e.msg="invalid distances set",i.mode=d;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(f>=6&&T>=258){e.next_out=m,e.avail_out=T,e.next_in=S,e.avail_in=f,i.hold=p,i.bits=E,s(e,_),m=e.next_out,g=e.output,T=e.avail_out,S=e.next_in,h=e.input,f=e.avail_in,p=i.hold,E=i.bits,i.mode===c&&(i.back=-1);break}for(i.back=0;M=(F=i.lencode[p&(1<<i.lenbits)-1])>>>16&255,y=65535&F,!((I=F>>>24)<=E);){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}if(M&&0==(240&M)){for(C=I,R=M,v=y;M=(F=i.lencode[v+((p&(1<<C+R)-1)>>C)])>>>16&255,y=65535&F,!(C+(I=F>>>24)<=E);){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}p>>>=C,E-=C,i.back+=C}if(p>>>=I,E-=I,i.back+=I,i.length=y,0===M){i.mode=26;break}if(32&M){i.back=-1,i.mode=c;break}if(64&M){e.msg="invalid literal/length code",i.mode=d;break}i.extra=15&M,i.mode=22;case 22:if(i.extra){for(D=i.extra;E<D;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}i.length+=p&(1<<i.extra)-1,p>>>=i.extra,E-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;M=(F=i.distcode[p&(1<<i.distbits)-1])>>>16&255,y=65535&F,!((I=F>>>24)<=E);){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}if(0==(240&M)){for(C=I,R=M,v=y;M=(F=i.distcode[v+((p&(1<<C+R)-1)>>C)])>>>16&255,y=65535&F,!(C+(I=F>>>24)<=E);){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}p>>>=C,E-=C,i.back+=C}if(p>>>=I,E-=I,i.back+=I,64&M){e.msg="invalid distance code",i.mode=d;break}i.offset=y,i.extra=15&M,i.mode=24;case 24:if(i.extra){for(D=i.extra;E<D;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}i.offset+=p&(1<<i.extra)-1,p>>>=i.extra,E-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=d;break}i.mode=25;case 25:if(0===T)break e;if(x=_-T,i.offset>x){if((x=i.offset-x)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=d;break}x>i.wnext?(x-=i.wnext,L=i.wsize-x):L=i.wnext-x,x>i.length&&(x=i.length),N=i.window}else N=g,L=m-i.offset,x=i.length;x>T&&(x=T),T-=x,i.length-=x;do{g[m++]=N[L++]}while(--x);0===i.length&&(i.mode=21);break;case 26:if(0===T)break e;g[m++]=i.length,T--,i.mode=21;break;case 27:if(i.wrap){for(;E<32;){if(0===f)break e;f--,p|=h[S++]<<E,E+=8}if(_-=T,e.total_out+=_,i.total+=_,_&&(e.adler=i.check=i.flags?l(i.check,g,_,m-_):n(i.check,g,_,m-_)),_=T,(i.flags?p:u(p))!==i.check){e.msg="incorrect data check",i.mode=d;break}p=0,E=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;E<32;){if(0===f)break e;f--,p+=h[S++]<<E,E+=8}if(p!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=d;break}p=0,E=0}i.mode=29;case 29:O=1;break e;case d:O=-3;break e;case 31:return-4;default:return r}return e.next_out=m,e.avail_out=T,e.next_in=S,e.avail_in=f,i.hold=p,i.bits=E,(i.wsize||_!==e.avail_out&&i.mode<d&&(i.mode<27||4!==t))&&function(e,t,i,n){var l,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new a.Buf8(s.wsize)),n>=s.wsize?(a.arraySet(s.window,t,i-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((l=s.wsize-s.wnext)>n&&(l=n),a.arraySet(s.window,t,i-n,l,s.wnext),(n-=l)?(a.arraySet(s.window,t,i-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=l,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=l))),0}(e,e.output,e.next_out,_-e.avail_out)?(i.mode=31,-4):(A-=e.avail_in,_-=e.avail_out,e.total_in+=A,e.total_out+=_,i.total+=_,i.wrap&&_&&(e.adler=i.check=i.flags?l(i.check,g,_,e.next_out-_):n(i.check,g,_,e.next_out-_)),e.data_type=i.bits+(i.last?64:0)+(i.mode===c?128:0)+(20===i.mode||15===i.mode?256:0),(0===A&&0===_||4===t)&&0===O&&(O=-5),O)},i.inflateEnd=function(e){if(!e||!e.state)return r;var t=e.state;return t.window&&(t.window=null),e.state=null,0},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?r:(i.head=t,t.done=!1,0):r},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(e,t,i){"use strict";var a=e("../utils/common"),n=15,l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],r=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,c,d,u,h,g){var S,m,f,T,p,E,b,A,_,x=g.bits,L=0,N=0,I=0,M=0,y=0,C=0,R=0,v=0,w=0,O=0,P=null,D=0,F=new a.Buf16(16),B=new a.Buf16(16),V=null,k=0;for(L=0;L<=n;L++)F[L]=0;for(N=0;N<c;N++)F[t[i+N]]++;for(y=x,M=n;M>=1&&0===F[M];M--);if(y>M&&(y=M),0===M)return d[u++]=20971520,d[u++]=20971520,g.bits=1,0;for(I=1;I<M&&0===F[I];I++);for(y<I&&(y=I),v=1,L=1;L<=n;L++)if(v<<=1,(v-=F[L])<0)return-1;if(v>0&&(0===e||1!==M))return-1;for(B[1]=0,L=1;L<n;L++)B[L+1]=B[L]+F[L];for(N=0;N<c;N++)0!==t[i+N]&&(h[B[t[i+N]]++]=N);if(0===e?(P=V=h,E=19):1===e?(P=l,D-=257,V=s,k-=257,E=256):(P=o,V=r,E=-1),O=0,N=0,L=I,p=u,C=y,R=0,f=-1,T=(w=1<<y)-1,1===e&&w>852||2===e&&w>592)return 1;for(;;){b=L-R,h[N]<E?(A=0,_=h[N]):h[N]>E?(A=V[k+h[N]],_=P[D+h[N]]):(A=96,_=0),S=1<<L-R,I=m=1<<C;do{d[p+(O>>R)+(m-=S)]=b<<24|A<<16|_|0}while(0!==m);for(S=1<<L-1;O&S;)S>>=1;if(0!==S?(O&=S-1,O+=S):O=0,N++,0==--F[L]){if(L===M)break;L=t[i+h[N]]}if(L>y&&(O&T)!==f){for(0===R&&(R=y),p+=I,v=1<<(C=L-R);C+R<M&&!((v-=F[C+R])<=0);)C++,v<<=1;if(w+=1<<C,1===e&&w>852||2===e&&w>592)return 1;d[f=O&T]=y<<24|C<<16|p-u|0}}return 0!==O&&(d[p+O]=L-R<<24|64<<16|0),g.bits=y,0}},{"../utils/common":1}],10:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/inflate.js":[function(e,t,i){"use strict";var a=e("./zlib/inflate"),n=e("./utils/common"),l=e("./utils/strings"),s=e("./zlib/constants"),o=e("./zlib/messages"),r=e("./zlib/zstream"),c=e("./zlib/gzheader"),d=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var i=a.inflateInit2(this.strm,t.windowBits);if(i!==s.Z_OK)throw new Error(o[i]);this.header=new c,a.inflateGetHeader(this.strm,this.header)}function h(e,t){var i=new u(t);if(i.push(e,!0),i.err)throw i.msg||o[i.err];return i.result}u.prototype.push=function(e,t){var i,o,r,c,u,h=this.strm,g=this.options.chunkSize,S=(this.options.dictionary,!1);if(this.ended)return!1;o=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?h.input=l.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new n.Buf8(g),h.next_out=0,h.avail_out=g),(i=a.inflate(h,s.Z_NO_FLUSH))===s.Z_BUF_ERROR&&!0===S&&(i=s.Z_OK,S=!1),i!==s.Z_STREAM_END&&i!==s.Z_OK)return this.onEnd(i),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&i!==s.Z_STREAM_END&&(0!==h.avail_in||o!==s.Z_FINISH&&o!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(r=l.utf8border(h.output,h.next_out),c=h.next_out-r,u=l.buf2string(h.output,r),h.next_out=c,h.avail_out=g-c,c&&n.arraySet(h.output,h.output,r,c,0),this.onData(u)):this.onData(n.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(S=!0)}while((h.avail_in>0||0===h.avail_out)&&i!==s.Z_STREAM_END);return i===s.Z_STREAM_END&&(o=s.Z_FINISH),o===s.Z_FINISH?(i=a.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===s.Z_OK):o!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),h.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=u,i.inflate=h,i.ungzip=h},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")}));let JMP={VERSION:"00.0.0",EPOCH:1904,LOCALE:"en",DELIMITER:"\u2029",DELIMITER_ENTITY:"&#x2029;",EXPORT_OS:"Mac",LINE_SEPARATOR:"\u2028",LINE_SEPARATOR_ENTITY:"&#x2028;"};JMP.ELLIPSIS=String.fromCharCode(8230),JMP.LARGE_FONT_SIZE=12,JMP.SMALL_FONT_SIZE=10,JMP.FONT="Arial",JMP.SMALL_FONT_FAMILY=JMP.FONT,JMP.TEXT_FONT_FAMILY=JMP.FONT,JMP.TEXT_FONT_WEIGHT=void 0,JMP.TEXT_FONT_SIZE=12,JMP.MARKER_FONT_FAMILY=JMP.FONT,JMP.MARKER_FONT_WEIGHT=void 0,JMP.MARKER_FONT_SIZE=12,JMP.GRAPH_LABEL_FONT_FAMILY=JMP.FONT,JMP.GRAPH_LABEL_FONT_WEIGHT=void 0,JMP.GRAPH_LABEL_FONT_SIZE=10,JMP.HOVER_LABEL_FONT_SIZE=12,JMP.HOVER_LABEL_FONT_FAMILY=JMP.FONT,JMP.COLOR_BACK="#ebeeef",JMP.COLOR_FILL="#dbe0e3",JMP.COLOR_SELECT="#c2ddfe",JMP.COLOR_DESELECT="#caccce",JMP.COLOR_LINE="#939ba1",JMP.COLOR_BAR="#bbc4cb",JMP.COLOR_BLACK="#000000",JMP.COLOR_WHITE="#ffffff",JMP.COLOR_TRANSPARENT="rgba(1,1,1,0)",JMP.COLOR_FILL_PATTERN_SELECT="rgba(0,0,0,0.4)",JMP.SQRT2PI=Math.sqrt(2*Math.PI),JMP.R_SQRT2PI=1/JMP.SQRT2PI,JMP.R_SQRT2=1/Math.SQRT2,JMP.LN_R2PI=Math.log(JMP.SQRT2PI),JMP.TD_SQRT_PI=2/Math.sqrt(Math.PI),JMP.TWO_PI=2*Math.PI,JMP.HALF_PI=Math.PI/2,JMP.DEG2RAD=.0174532925199433,JMP.RAD2DEG=57.29577951308232,JMP.R_LN2=1/Math.LN2,JMP.SQRT3=1.7320508075688772,JMP.GAMMA=.5772156649015329,JMP.MAC_INT=2147483647,JMP.MAC_LONG=2**32/2,JMP.MAC_UINT=4294967295,JMP.MAC_NINT=-214783648,JMP.MAC_BIG=Number.MAX_VALUE,JMP.SINGULAR=1e-12,JMP.MAC_BITS=8,JMP.MAC_MIN_DBL_LNG=3,JMP.MAC_MAX_DBL_LNG=8,JMP.MAC_SMALL_RECIP=2225073858507202e-323,JMP.MAC_INT_DOUB=9007199254740992,JMP.MAC_ADD_BIG=Number.MAX_VALUE/2,JMP.MAC_SUM_BIG=Number.MAX_VALUE/1e3,JMP.MAC_CUBE_BIG=Number.MAX_VALUE**(1/3),JMP.MAC_SWCP_BIG=JMP.MAC_SUM_BIG**(1/3),JMP.MAC_CUBE_SMALL=Number.MIN_VALUE**(1/3),JMP.MAC_EPS=1110223024625157e-31,JMP.MAC_SQRT_BIG=Math.sqrt(Number.MAX_VALUE),JMP.MAC_SQRT_SMALL=Math.sqrt(Number.MIN_VALUE),JMP.MAC_SSCP_BIG=JMP.MAC_SQRT_BIG/100,JMP.MAC_SQRT_EPS=Math.sqrt(JMP.MAC_EPS),JMP.MAC_LOG_BIG=Math.log(Number.MAX_VALUE),JMP.MAC_LOG_SMALL=Math.log(Number.MIN_VALUE),JMP.MAC_L2EPS=Math.floor(-Math.log(JMP.MAC_EPS)/Math.LN2),JMP.MAC_L2BIG=Math.floor(JMP.MAC_LOG_BIG/Math.LN2),JMP.MAC_L2SML=Math.floor(-JMP.MAC_LOG_SMALL/Math.LN2),JMP.MAC_TEN_BIG=Math.floor(Math.log10(Number.MAX_VALUE)),JMP.MAC_TEN_SMALL=Math.floor(Math.log10(Number.MIN_VALUE)),JMP.EPSILON=1e3*JMP.MAC_EPS,JMP.SMALL_LOG_VALUE=1e-4,JMP.GOLDEN=(1+Math.sqrt(5))/2,JMP.nLoading=1,JMP.SCALING_FACTOR=2,JMP.HTML_FORMAT=!1,JMP.isTableWithSelectionEnabled=!1,JMP.penStyleNameAndWidths=new Map,JMP.isAsianLocale=function(){"use strict";let e=JMP.LOCALE.slice(0,2);return"ja"===e||"ko"===e||"zh"===e},JMP.isWindowsOS=function(){"use strict";return-1!==["Win32","Win64","Windows","WinCE"].indexOf(window.navigator.platform)},JMP.adjustFontSize=function(e){"use strict";if("Win"===JMP.EXPORT_OS){return e*(4/3)}return e},JMP.changeTheme=function(e){"use strict";JMP.DocumentStatic.changeTheme(e)},window.JMP=JMP,JMP.ModelStatic=function(){"use strict";let e={BETWEEN_CATEGORIES:"between ^LOWER and ^UPPER",TIP_MISSING:"Missing",getCategoricalString:function(t,i,a){let n=null;if(null==t)return null;if(Number.isInteger(t)){let e=i[t];null!=e&&(n=a.getValueString(e))}else{let l=a.getValueString(i[Math.floor(t)]),s=a.getValueString(i[Math.ceil(t)]);null!==l&&"."!==l||(l=e.TIP_MISSING),n=e.BETWEEN_CATEGORIES.replace("^LOWER",l).replace("^UPPER",s)}return n},isObjectValid:function(e){return!!e&&Object.keys(e).length>0},isBetween:function(e,t,i){return t<=e&&e<=i||i<=e&&e<=t},blend:function(e,t,i){return null===e||null===t?null:e*(1-i)+t*i},nearlyEqual:function(e,t,i){let a=Math.abs(e),n=Math.abs(t),l=Math.abs(e-t),s=!1,o=2**-1022;return s=e===t||0!==i&&(0===e||0===t||l<o?l<i*o:l/Math.min(a+n,Number.MAX_VALUE)<i),s},lowerBound:function(t,i,a){let n,l=-1,s=i.length;for(;l+1!==s;)n=(l+s)/2>>0,!e.nearlyEqual(i[n],t,a)&&i[n]<t?l=n:s=n;return s},upperBound:function(t,i,a){let n,l=-1,s=i.length;for(;l+1!==s;)n=(l+s)/2>>0,!e.nearlyEqual(i[n],t,a)&&i[n]>t?s=n:l=n;return s},removeEmptyArrays:function(e){let t,i;for(t=0,i=0;t<e.length;t++)0!==e[t].length&&(i!==t&&(e[i]=e[t]),i++);i<t&&(e.length=i)},getValueFromArray:function(e,t,i){let a;return t&&t.length?i&&(e<0||e>=t.length)?null:(a=e+.5>>0,a<0?a=0:a>=t.length&&(a=t.length-1),t[a]):null},areAllTheSame:function(e){let t,i,a=null;if(!e||!e.length)return!1;for(i=e.length,t=0;t<i;t++)if(null===a)null!==e[t]&&void 0!==e[t]&&(a=e[t]);else if(null!==e[t]&&void 0!==e[t]&&e[t]!==a)return!1;return!0},isDeeplyEqual:function(t,i){let a,n,l=!1;if(t===i)l=!0;else if(Array.isArray(t)&&Array.isArray(i))for(l=t.length===i.length,n=t.length,a=0;a<n&&l;a++)l=e.isDeeplyEqual(t[a],i[a]);return l},copyNestedArray:function(t){let i,a,n,l;if(t)for(i=[],n=t.length,a=0;a<n;a++)l=t[a],i[a]=Array.isArray(l)?e.copyNestedArray(l):l;return i},indexSortDescending:function(e){let t,i=[],a=[];for(t=0;t<e.length;t++)i[t]=[e[t],t];for(i.sort((function(e,t){let i;return i=e[0]>t[0]?-1:e[0]<t[0]?1:e[1]<t[1]?-1:1,i})),t=0;t<i.length;t++)a[t]=i[t][1];return a},binarySearch:function(e,t){let i,a,n;for(i=-1,a=t.length;i+1!==a;)n=i+a>>1,t[n]>e?a=n:i=n;return i}};return Array.prototype.flat||(Array.prototype.flat=function(e=1){let t=function(e,i){return i<1?e.slice():e.reduce((function(e,a){return e.concat(Array.isArray(a)?t(a,i-1):a)}),[])};return t(this,e)}),e}();class e{addEventListener=this.addEventListener.bind(this);removeEventListener=this.removeEventListener.bind(this);eventListeners=[];addEventListener(e,t){this.eventListeners.includes(e)||(t?this.eventListeners.unshift(e):this.eventListeners.push(e))}removeEventListener(e){this.eventListeners=this.eventListeners.filter((function(t){return t!==e}))}dispatchEvent(e,t){let i,a=this.eventListeners.length;for(i=0;i<a;i++)this.eventListeners[i](e,t)}}class t{static TYPE_NUMBER=0;static TYPE_STRING=1;static TYPE_EXPRESSION=2;static LEVEL_NONE=-1;static LEVEL_CONTINUOUS=0;static LEVEL_NOMINAL=1;static LEVEL_ORDINAL=2;static ROLE_X=0;static ROLE_Y=1;static ROLE_Z=2;static ROLE_FREQ=3;static ROLE_WEIGHT=4;static ROLE_LABEL=5;static ROLE_GROUP=6;static ROLE_COLOR=7;static ROLE_SIZE=8;static ROLE_TIME=9;static ROLE_ID=10;static ROLE_ID2=11;static ROLE_SHAPE=12;static ROLE_MARKER_SHAPE=13;name;type;format;constructor(e,i,a){this.name=e||"",this.type=void 0!==i?i:t.TYPE_NUMBER,this.format=a}isNumber(){return this.type===t.TYPE_NUMBER}isString(){return this.type===t.TYPE_STRING}isExpression(){return this.type===t.TYPE_EXPRESSION}}class i extends t{static EVENT_VALUE_CHANGED=0;value;static event={type:i.EVENT_VALUE_CHANGED};#e;constructor(t,i,a,n){super(i,a,n),this.value=t,this.#e=new e,this.addEventListener=this.#e.addEventListener,this.removeEventListener=this.#e.removeEventListener}setValue(e){e!==this.value&&(this.value=e,this.sendEvent(i.EVENT_VALUE_CHANGED))}sendEvent(e){i.event.type=e,this.#e.dispatchEvent(i.event)}}class a extends t{static EVENT_VALUE_CHANGED=0;static event={type:a.EVENT_VALUE_CHANGED};dataLevel;valueLabels;valueOrdering;isInformativeMissing;charLevels;data=[];isMissingLast=!1;#t=new Map;constructor(i,a,n,l,s,o,r,c,d){if(super(a,n,s),this.isIntegralCache=void 0,this.eventDispatcher=new e,this.dataLevel=void 0!==l?l:t.LEVEL_CONTINUOUS,this.valueLabels=o,this.valueOrdering=r,this.isInformativeMissing=!!c,this.charLevels=d||void 0,i&&(this.data=i),this.isImage=this.isExpression(),this.images=[],this.isImage)for(let e=0;e<i.length;e++)this.#i(e);this.addEventListener=this.eventDispatcher.addEventListener,this.removeEventListener=this.eventDispatcher.removeEventListener}copy(){return new a(this.data,this.name,this.type,this.dataLevel,this.format,this.valueLabels,this.valueOrdering,this.isInformativeMissing,this.charLevels)}getImage(e){return this.isImage?this.images[e]?this.images[e]:void 0:null}isContinuous(){return this.dataLevel===t.LEVEL_CONTINUOUS}isNominal(){return this.dataLevel===t.LEVEL_NOMINAL}isOrdinal(){return this.dataLevel===t.LEVEL_ORDINAL}isCategorical(){return this.dataLevel===t.LEVEL_NOMINAL||this.dataLevel===t.LEVEL_ORDINAL}isIntegral(){return void 0===this.isIntegralCache&&(this.isIntegralCache=!1,this.isNumber()&&(this.isIntegralCache=this.data.every((function(e){return null===e||Number.isInteger(e)})))),this.isIntegralCache}getRangeLabel(e){let t;return this.valueLabels&&this.valueLabels.ranges&&(t=this.#a(e,this.valueLabels.ranges)),t}getValueString(e,t){let i;return void 0===t&&this.isNumber()&&(t=this.format),this.valueLabels&&(this.valueLabels.ranges?i=this.#a(e,this.valueLabels.ranges):(i=this.valueLabels[e],null===e&&void 0===i&&(i=this.valueLabels[this.isNumber()?".":""]))),void 0===i&&(i=this.isString()||"string"==typeof e?e:JMP.FormatStatic.formatNumber(e,t)),i}getStringValue(e){let t=this.isNumber(),i=this.valueLabels,a=null,n=-1;return(t&&"."!==e||!t&&""!==e)&&(a=e,i&&!i.ranges&&(n=this.#n(i).indexOf(e),n>=0&&(a=Object.keys(i)[n])),t&&(a=+a)),a}getUniqueValues(e,t,i,a){if(t)return JMP.UniqueStatic.getValues([this],e,i,this.valueOrdering,[t],void 0,void 0,a);let n=0;n|=i<<0,n|=a<<1,this.#t.has(e)||this.#t.set(e,new Array(4));const l=this.#t.get(e);return l[n]||(l[n]=JMP.Unique([this],e,void 0,i,this.valueOrdering),l[n].isExcludedUsed=a),l[n].getResult()}setData(e){e&&(this.data=e,this.sendEvent(a.EVENT_VALUE_CHANGED))}setValueAt(e,t){let i,n=e;null!==e&&(this.isNumber()?"number"!=typeof e&&(n=parseFloat(e)):"string"!=typeof e&&(n=e.toString())),this.data.length<t+1&&(i=this.data.length,this.data.length=t+1,this.data.fill(null,i)),this.data[t]!==n&&(this.data[t]=n,this.sendEvent(a.EVENT_VALUE_CHANGED))}sendEvent(e){a.event.type=e,this.eventDispatcher.dispatchEvent(a.event)}#l(e,t){let i,a=!1,n=t.lo,l=t.hi,s=t.cond;if(null===e)return void 0===n&&"eq"===s?t.label:void 0;switch(s){case"lt":a=void 0===n?e<l:n<e;break;case"leq":a=void 0===n?e<=l:n<=e;break;case"ltlt":a=n<e&&e<l;break;case"leqlt":a=n<=e&&e<l;break;case"ltleq":a=n<e&&e<=l;break;case"leqleq":a=n<=e&&e<=l;break;default:a=n===e}return a&&(i=t.label),i}#a(e,t){let i,a,n=t.length;for(i=0;i<n&&!a;i++)a=this.#l(e,t[i]);return a}#n(e){let t,i=e.values;if(!i)for(t in i=[],e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(e[t]);return i}#i(e){const t=this.data[e];if(t&&"{"===t[0]){const i=JSON.parse(t.replace(/\\"/g,'"')),a=new Image;a.src=i.imageSrc,this.images[e]=a}}}JMP.Columns=class{constructor(){this.columns=[],this.roles=[],this.rowStates=void 0}addColumn(e,t){this.columns.push(e),this.roles.push(t)}getColumn(e){let t=this.roles.indexOf(e);return t>=0?this.columns[t]:null}getColumns(e){let t,i,a=[];for(i=this.roles.length,t=0;t<i;t++)this.roles[t]===e&&a.push(this.columns[t]);return a}getLabeledColumns(){return this.getColumns(t.ROLE_LABEL).filter((function(e){return!e.isExpression()}))}getTipImageColumn(){return this.getColumns(t.ROLE_LABEL).find((function(e){return e.isExpression()}))}removeColumns(e){let t,i,a=[];if(void 0===e)a=this.columns.concat(),this.columns.length=0,this.roles.length=0;else for(i=this.roles.length,t=i-1;t>=0;t--)this.roles[t]===e&&(a.push(this.columns[t]),this.columns.splice(t,1),this.roles.splice(t,1));return a}setRowStates(e,t){this.rowStates&&t&&this.rowStates.removeEventListener(t),this.rowStates=e,this.rowStates&&t&&this.rowStates.addEventListener(t)}},JMP.FormatStatic=function(){"use strict";let e={},t=16,i=Date.UTC(JMP.EPOCH,0,1),a=new RegExp("\\.","g"),n=new RegExp("\\|","g"),l=695420,s=365,o=146100,r=60,c=3600,d=86400,u=[31,28,31,30,31,30,31,31,30,31,30,31],h=[31,29,31,30,31,30,31,31,30,31,30,31],g=[0,31,59,90,120,151,181,212,243,273,304,334],S=-24,m=function(e){let t=e-1,i=t/100>>0;return e*s+((t/4>>0)-i+(i/4>>0)-(t/4e3>>0))},f=function(e){return e%4==0&&(e%100!=0||e%4e3!=0&&e%400==0)},T=function(e,t,i,a){let n,l,s,o,r=e;if(e.indexOf&&!e.includes("e")){if(o=e.indexOf(t),o<=0&&(o=e.length),s="-"===e[0]?1:0,l=(o-s-1)/3>>0,e.length+l>a)return e;for(r=e.slice(o),n=o;n>3+s;)n-=3,r=e.slice(n,n+3)+(n<o-3?i:"")+r;r=e.slice(0,n)+(n<o?i:"")+r}return r},p=function(e){let t="";return t+=e<10?"0"+e:e,t},E=function(e){let t="";return t+=e<10?"000"+e:e<100?"00"+e:e<1e3?"0"+e:e,t},b=function(t,i,a){let n,l,s,o,r,c,d,u,h,g=i.formatCode.includes("DIR"),S=i.formatCode.includes("PUN"),m=e.isLatitude(i),f=t<0,T=Math.abs(t),p=g?2:f?1:0,E=p+(S?1:0);if(h=i.nDecimals<0?JMP.Format(e.FORMAT_BEST):JMP.Format(e.FORMAT_FIXED,!1,i.nDecimals,i.fieldWidth,"",i.decimalSeparator),i.formatName===e.FORMAT_LATITUDE_DDD||i.formatName===e.FORMAT_LONGITUDE_DDD)h.fieldWidth=a-E,n=e.formatNumber(T,h),S&&(n+=e.DEGREE_SYMBOL);else{if(l=T+1e-6>>0,l<0)return n="#".repeat(a),n;if(s=Math.max(0,60*(T-l)),n=String(l),E=p+n.length+1,n+=S?e.DEGREE_SYMBOL:" ",i.formatName===e.FORMAT_LATITUDE_DMM||i.formatName===e.FORMAT_LONGITUDE_DMM){if(S&&(E+=1),o=e.roundUp(s,h.formatName===e.FORMAT_BEST?a-E:h.nDecimals),o<10)E+=1,n+="0";else if(o>=60)return b(f?-l-1:l+1,i,a);h.fieldWidth=a-E,n+=e.formatNumber(s,h),S&&(n+=e.MINUTE_SYMBOL)}else{if(r=s+1e-6>>0,c=Math.max(0,60*(s-r)),d=e.roundUp(c,h.formatName===e.FORMAT_BEST?a-E:h.nDecimals),d>=60)return b((f?-1:1)*(l+(r+1)/60),i,a);r<10&&(n+="0"),n+=String(r),E=p+n.length+1,S?(n+=e.MINUTE_SYMBOL,E+=1):n+=" ",d<10&&(E+=1,n+="0"),h.fieldWidth=a-E,n+=e.formatNumber(c,h),S&&(n+=e.SECOND_SYMBOL)}}return g?(n+=" ",u=(m?0:2)+(f?1:0),n+=e.GEOGRAPHIC_DIRECTION_INDICATORS[u]):f&&(n="-"+n),(n.length>a||a<=E||n.includes("#"))&&(n="#".repeat(a)),n};return e.MONTH_NAMES_LONG=["January","February","March","April","May","June","July","August","September","October","November","December"],e.MONTH_NAMES_SHORT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.GEOGRAPHIC_DIRECTION_INDICATORS=["N","S","E","W"],e.DECIMAL_SEPARATOR=".",e.INFINITY="Infinity",e.FORMAT_PRECISION=66,e.FORMAT_ENGINEERING=67,e.FORMAT_ENGINEERING_SI=68,e.FORMAT_LOG_WORTH=69,e.FORMAT_PERCENT_FIXED0=70,e.FORMAT_PERCENT_FIXED1=71,e.FORMAT_PERCENT_FIXED2=72,e.FORMAT_PERCENT_FIXED3=73,e.FORMAT_PERCENT_FIXED4=74,e.FORMAT_PERCENT_FIXED5=75,e.FORMAT_PERCENT_FIXED6=76,e.FORMAT_PERCENT_FIXED7=77,e.FORMAT_PERCENT_FIXED8=78,e.FORMAT_PERCENT_FIXED9=79,e.FORMAT_GEOGRAPHIC=80,e.FORMAT_LATITUDE_DDD=81,e.FORMAT_LATITUDE_DMM=82,e.FORMAT_LATITUDE_DMS=83,e.FORMAT_LONGITUDE_DDD=84,e.FORMAT_LONGITUDE_DMM=85,e.FORMAT_LONGITUDE_DMS=86,e.FORMAT_PERCENT=89,e.FORMAT_NONE=90,e.FORMAT_NUMERIC=91,e.FORMAT_DATE=92,e.FORMAT_TIME=93,e.FORMAT_FIXED=94,e.FORMAT_CURRENCY=95,e.FORMAT_SCIENTIFIC=96,e.FORMAT_PROBABILITY=97,e.FORMAT_BEST3=98,e.FORMAT_BEST=99,e.FORMAT_DURATION=100,e.FORMAT_MM_DD_YYYY=101,e.FORMAT_LONG_DATE=102,e.FORMAT_ABBREV_DATE=103,e.FORMAT_M_D_Y=104,e.FORMAT_MM_DD_YYYYHH_MM=105,e.FORMAT_MM_DD_YYYYHH_MM_SS=106,e.FORMAT_M_D_YHH_MM=107,e.FORMAT_DDHHMM=108,e.FORMAT_DDHHMMSS=109,e.FORMAT_MMDDYYYY=110,e.FORMAT_MM_YYYY=111,e.FORMAT_DD_MM_YYYY=112,e.FORMAT_DDMMYYYY=113,e.FORMAT_DDMMMYYYY=114,e.FORMAT_DD_MM_YYYYHH_MM=115,e.FORMAT_DD_MM_YYYYHH_MM_SS=116,e.FORMAT_YYYY_MM_DD=117,e.FORMAT_YYYYMMDD=118,e.FORMAT_DDMMMYYYYHH_MM=119,e.FORMAT_DDMMMYYYYHH_MM_SS=120,e.FORMAT_HHMMSS=121,e.FORMAT_MMMDDYYYY=122,e.FORMAT_MMMDDYYYYHH_MM=123,e.FORMAT_MMMDDYYYYHH_MM_SS=124,e.FORMAT_YYYY_MM_DDHH_MM=125,e.FORMAT_YYYY_MM_DDHH_MM_SS=126,e.FORMAT_YYYY_MM_DDT=127,e.FORMAT_YYYY_MM_DDTHH_MM=128,e.FORMAT_YYYY_MM_DDTHH_MM_SS=129,e.FORMAT_HH_MM=130,e.FORMAT_H_MM=131,e.FORMAT_H_MM_SS=132,e.FORMAT_M_SS=133,e.FORMAT_DDMMMYYYYCHH_MM=134,e.FORMAT_DDMMMYYYYCHH_MM_SS=135,e.FORMAT_LOCALE_DATE=136,e.FORMAT_LOCALE_DATE_TIME=137,e.FORMAT_LOCALE_TIME_STAMP=138,e.FORMAT_YYYYQQ=139,e.DEGREE_SYMBOL="°",e.MINUTE_SYMBOL="′",e.SECOND_SYMBOL="″",e.isPercent=function(t){let i=t?t.formatName:e.FORMAT_BEST;return i===e.FORMAT_PERCENT||e.FORMAT_PERCENT_FIXED0<=i&&i<=e.FORMAT_PERCENT_FIXED9},e.isCurrency=function(t){return(t?t.formatName:e.FORMAT_BEST)===e.FORMAT_CURRENCY},e.isDateTime=function(t){let i=t?t.formatName:e.FORMAT_BEST;return e.FORMAT_DURATION<=i},e.isDate=function(t){let i=!1;switch(t?t.formatName:e.FORMAT_BEST){case e.FORMAT_MM_DD_YYYY:case e.FORMAT_LONG_DATE:case e.FORMAT_ABBREV_DATE:case e.FORMAT_M_D_Y:case e.FORMAT_MMDDYYYY:case e.FORMAT_MM_DD_YYYY:case e.FORMAT_MM_YYYY:case e.FORMAT_DD_MM_YYYY:case e.FORMAT_DDMMYYYY:case e.FORMAT_DDMMMYYYY:case e.FORMAT_MM_YYYY:case e.FORMAT_YYYY_MM_DD:case e.FORMAT_YYYYMMDD:case e.FORMAT_MMMDDYYYY:case e.FORMAT_YYYY_MM_DDT:case e.FORMAT_LOCALE_DATE:case e.FORMAT_YYYYQQ:i=!0}return i},e.isDuration=function(t){let i=!1;switch(t?t.formatName:e.FORMAT_BEST){case e.FORMAT_DDHHMM:case e.FORMAT_DDHHMMSS:case e.FORMAT_H_MM:case e.FORMAT_H_MM_SS:case e.FORMAT_M_SS:i=!0}return i},e.isLatitude=function(t){let i=t?t.formatName:e.FORMAT_BEST;return i>=e.FORMAT_LATITUDE_DDD&&i<=e.FORMAT_LATITUDE_DMS},e.isGeographic=function(t){let i=t?t.formatName:e.FORMAT_BEST;return e.FORMAT_GEOGRAPHIC<=i&&i<=e.FORMAT_LONGITUDE_DMS},e.isFixed=function(t){return(t?t.formatName:e.FORMAT_BEST)===e.FORMAT_FIXED},e.isDecimal=function(t){let i=t?t.formatName:e.FORMAT_BEST;if(e.isFixed(t))return!0;if(e.isCurrency(t))return!0;if(e.isPercent(t))return!0;if(e.isGeographic(t))return!0;switch(i){case e.FORMAT_MM_DD_YYYYHH_MM_SS:case e.FORMAT_DD_MM_YYYYHH_MM_SS:case e.FORMAT_DDMMMYYYYHH_MM_SS:case e.FORMAT_HH_MM_SS:case e.FORMAT_MMMDDYYYYHH_MM_SS:case e.FORMAT_YYYY_MM_DDHH_MM_SS:case e.FORMAT_YYYY_MM_DDTHH_MM_SS:case e.FORMAT_ShortLocaleTimeStamp:case e.FORMAT_DDMMMYYYYCHH_MM_SS:case e.FORMAT_DDHHMMSS:case e.FORMAT_H_MM_SS:case e.FORMAT_M_SS:return!0}return!1},e.isEngineering=function(t){let i=t?t.formatName:e.FORMAT_BEST;return i===e.FORMAT_ENGINEERING||i===e.FORMAT_ENGINEERING_SI},e.isEngineeringSI=function(t){return(t?t.formatName:e.FORMAT_BEST)===e.FORMAT_ENGINEERING_SI},e.isPrecision=function(t){return(t?t.formatName:e.FORMAT_BEST)===e.FORMAT_PRECISION},e.decimalIsPrecision=function(t){let i=t?t.formatName:e.FORMAT_BEST;return(i===e.FORMAT_ENGINEERING||i===e.FORMAT_PRECISION)&&t.nDecimals>=0},e.addEpsilon=function(e){let t,i;return t=Math.floor(Math.log2(e)),i=JMP.MAC_EPS*2**t,e+=i},e.roundUp=function(t,i){let a,n,l,s,o;return 0===t?0:(a=t<0,a&&(t=-t),n=10**i,l=t*n,l>1e15?(s=10**-i,o=t%s,o>=.5*s?t=t-o+s:t-=o):(l=e.addEpsilon(l),l=Math.floor(l+.5),t=l/n),a&&(t=-t),t)},e.roundHalfUp=function(e){let t=!1;return e<0&&(e=-e,t=!0),e=Math.floor(e+.5),t&&0!==e&&(e=-e),e},e.formatNumber=function(l,s){let o,r,c,d,u,h,g,m,f,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F,B,V,k,G,H,Y,U,z,W,X,Z=l,q=s?s.fieldWidth:-1,j=!1,K=0;if(null===l)return".";if(l===1/0)return e.INFINITY;if(l===-1/0)return"-"+e.INFINITY;if(q<0&&(q=99),o="",e.isDateTime(s))o=function(t,a){let n,l,s,o,r,c,d,u=a.dateTimePattern,h=e.isDuration(a),g=t<0&&h,S=a.use24HourClock||h;return g&&(t=-t),h&&!u.includes("%ss%")?t+=30:t=e.roundUp(t,Math.max(0,a.nDecimals)),l=new Date(i+1e3*t),s=l.getUTCHours(),o=s,S||(o%=12,0===o&&(o=12)),0===s&&a.useZeroForMidnight&&(o=0),n=u,g&&(a.useMinusSignForNegativeDateTime?n=u.includes(":%Day%")?n.replace(":%Day%","-%Day%"):u.includes("%Day%")?n.replace("%Day%","-%Day%"):u.includes(":%Hour%")?n.replace(":%Hour%","-:%Hour%"):u.includes("%Hour%")?n.replace("%Hour%","-%Hour%"):u.includes(":%Minute%")?n.replace(":%Minute%","-:%Minute%"):u.includes("%Minute%")?n.replace("%Minute%","-%Minute%"):"-"+n:(n=u.includes(":%Day%")?n.replace(":%Day%","(:%Day%"):u.includes("%Day%")?n.replace("%Day%","(%Day%"):u.includes("%Hour%")?n.replace("%Hour%","(%Hour%"):u.includes("%Minute%")?n.replace("%Minute%","(%Minute%"):u.includes("%ss%")?n.replace("%ss%","(%ss%"):"("+n,u.includes("%ss%")?n=n.replace("%ss%","%ss%)"):u.includes("%mm%")?n=n.replace("%mm%","%mm%)"):u.includes("%hh%")?n=n.replace("%hh%","%hh%)"):u.includes("%Minute%")?n=n.replace("%Minute%","%Minute%)"):u.includes("%Hour%")?n=n.replace("%Hour%","%Hour%)"):u.includes("%Day%")?n=n.replace("%Day%","%Day%)"):n+=")")),n=n.replace("%DayOfWeek%",e.DAY_NAMES[l.getUTCDay()]),n=n.replace("%Day%",t/86400>>0),n=n.replace("%Hour%",t/3600>>0),n=n.replace("%Minute%",t/60>>0),n=n.replace("%DD%",p(l.getUTCDate())),n=n.replace("%D%",l.getUTCDate()),n=n.replace("%Month%",e.MONTH_NAMES_LONG[l.getUTCMonth()]),n=n.replace("%Mmm%",e.MONTH_NAMES_SHORT[l.getUTCMonth()]),n=n.replace("%MMM%",e.MONTH_NAMES_SHORT[l.getUTCMonth()]),n=n.replace("%MM%",p(l.getUTCMonth()+1)),n=n.replace("%M%",l.getUTCMonth()+1),n=n.replace("%YYYY%",E(l.getUTCFullYear())),n=n.replace("%Q%",1+(l.getUTCMonth()/3>>0)),a.useAMPM&&!S&&n.includes("%ampm%")&&(n=s<12?a.useAMPMInFront?n.replace("%hh%",a.AMDesignator+"%hh%"):n.replace("%ampm%",a.AMDesignator):a.useAMPMInFront?n.replace("%hh%",a.PMDesignator+"%hh%"):n.replace("%ampm%",a.PMDesignator)),n=n.replace("%ampm%",""),n=n.replace("%hh%",a.useLeadingZeroForHour?p(o):o),n=n.replace("%zhh%",p(o)),n=n.replace("%hh24%",p(s)),n=n.replace("%mm%",p(l.getUTCMinutes())),d=p(l.getUTCSeconds()),a.nDecimals>0&&(r=t-Math.floor(t),c=e.formatNumber(r,JMP.Format(e.FORMAT_FIXED,!1,a.nDecimals,-1,"",a.decimalSeparator)),c=c.slice(1),d+=c),n=n.replace("%ss%",d),"/"!==a.dateSeparator&&(n=n.replace(/\//g,a.dateSeparator)),":"!==a.timeSeparator&&(n=n.replace(/:/g,a.timeSeparator)),n}(Z,s);else if(e.isGeographic(s))o=b(Z,s,q);else{if(2===q&&0<Z&&Z<.95?(j=!0,q=3):3===q&&0>Z&&Z>-.95&&(j=!0,q=4),r=99,e.isDecimal(s)&&(r=s?Math.min(s.nDecimals,95):-1),e.isPercent(s)&&(Z*=100),c=Math.abs(Z),d=!0,u=Z<0?1:0,h=u,g=0===c?0:Math.log10(c),m=Math.floor(g),f=c<1?1:m+1,s){if(e.decimalIsPrecision(s)){let t=Math.max(1,s.nDecimals);t=Math.max(t,m+1),e.isEngineering(s)&&(t=Math.max(t,3)),c=e.roundUp(c,t-m-1),Z=e.roundUp(Z,t-m-1),g=0===c?0:Math.log10(c),m=Math.floor(g),f=c<1?1:m+1,r=Math.max(0,t-m-1),e.isPrecision(s)&&m<0&&-m+h+t+1>q&&(d=!1)}if(e.isPercent(s))h++,d=c<1e15;else if(e.isEngineering(s)){K=m,K>=0?K-=K%3:(K-=(3-Math.abs(K)%3)%3,K=Math.max(-321,K));let t=function(e){return 10**e};c/=t(K),Z/=t(K),e.isEngineeringSI(s)&&0===K||(e.isEngineeringSI(s)&&K<=24&&K>=S?h+=1:(h+=3,0!==K&&(h+=Math.log10(Math.abs(K)))));let i=Math.max(0,Math.min(r,Math.min(18,q)-h));if(c>=999.5&&!e.decimalIsPrecision(s)){c>=1e3-t(-i)/2&&(c/=1e3,Z/=1e3,K+=3)}g=0===c?0:Math.log10(c),m=Math.max(0,Math.floor(g)),f=c<1?1:m+1,r=s.nDecimals<0?99:Math.max(0,Math.max(1,s.nDecimals)-m-1)}else switch(s.formatName){case e.FORMAT_FIXED:case e.FORMAT_NONE:case e.FORMAT_NUMERIC:case e.FORMAT_LOG_WORTH:case e.FORMAT_BEST3:case e.FORMAT_BEST:break;case e.FORMAT_CURRENCY:r=s&&s.nDecimals>=0?s.nDecimals:0,h=function(e,t){let i,a,n=0,l=e<0;return i=l?t.negativePrefix:t.positivePrefix,a=l?t.negativeSuffix:t.positiveSuffix,n+=i.length+a.length,n+=t.decimalSeparator.length-1,n}(Z,s),B=s&&s.nDecimals>0?s.nDecimals+1:0,d=!(f+B>q-h)&&(0===c||c<1e15);break;case e.FORMAT_SCIENTIFIC:d=!1;break;case e.FORMAT_PROBABILITY:d=0===c||c<1e15,Z>=0&&c<1e-4?o="<.0001":r=4;break;case e.FORMAT_PRECISION:99===r&&(r=s.nDecimals);break;default:d=0===c||c<1e15,99===r&&(r=s?Math.min(s.nDecimals,95):-1)}}if(A=q,q>t&&99===r&&(A=t+h,0<c&&c<1&&(A=Math.min(q,A-Math.max(-5,m)))),""===o){if(d&&f>A-h&&(d=!1,r=99),d||(_=0===m?0:Math.log10(Math.abs(m)),x=Math.max(1,Math.floor(_)+1),h+=x+2,f=1,q>t&&(A=Math.min(q,t+h))),L=99===r||e.decimalIsPrecision(s)&&!s.precisionKeepFractional,e.isCurrency(s)&&d||(r=Math.max(0,Math.min(r,A-f-h-1))),r>20&&(r=20),c<.01&&d&&L&&0!==c&&(A>4||4===A&&c>=9.5e-10)&&(V=10**r,k=1/V,k/=2,c<k?d=!1:c<Math.sqrt(1/V)&&(G=e.roundHalfUp(c*V),H=Math.max(1,Math.floor(Math.log10(G))+1),Y=Math.max(0,r-H),U=Math.abs(c*V-G),U>1/10**(Y-3)&&(d=!1)),d||(_=0===m?0:Math.log10(Math.abs(m)),x=Math.max(1,Math.floor(_)+1),h+=x+2,f=1,q>t&&(A=Math.min(q,t+h)),r=Math.max(0,Math.min(r,A-f-h-1)))),d&&c/10**m>9&&(v=e.roundUp(c,r),w=0===v?0:Math.log10(v),O=Math.floor(w),P=v<1?1:O+1,f!==P&&(f=P,f>A-h&&(d=!1),d||(D=0===O?0:Math.log10(Math.abs(O)),F=Math.max(1,Math.floor(D)+1),h+=F+2,f=1,q>t&&(A=Math.min(q,t+h))),r=Math.max(0,Math.min(r,A-f-h-1)))),d&&(Z=e.roundUp(Z,r)),N=d?Z.toFixed(r):Z.toExponential(r),M=N.indexOf("."),y=N.indexOf("e"),L&&M>=0){for(C=y>=0?y:N.length,z=C-1;z>M&&"0"===N.charAt(z);)z--;N=N.slice(0,z+1)+N.slice(C,N.length),y>=0&&(y=z+1)}if(L=L&&M>=0,!d||L){if(C=d?N.length:y,R=C,z=C,q<99?d?z=q:(z=q-(N.length-y),z>y&&(z=y),z<0&&(z=0)):s&&s.nDecimals>=0&&(z=d?Math.min(M+s.nDecimals+1,N.length):Math.min(M+s.nDecimals+1,y)),L){do{C--}while("0"===N.charAt(C));C>M&&C++}if(o=N.slice(0,C>0?C:R),!d){for(o+=N.slice(R,R+2),R+=2;R<N.length&&"0"===N.charAt(R);)R++;R<N.length?o+=N.slice(R,N.length):o+="0"}}else o=N;e.isEngineeringSI(s)&&K<=24&&K>=S?o+=e.siPrefix(K):e.isEngineering(s)&&(o=o+(K>=0?"e+":"e-")+Math.abs(K)),!e.isCurrency(s)&&s&&s.showThousands&&(o=T(o,".","|",q)),e.isCurrency(s)?o=function(e,t,i){let a,n,l=e,s="-"===e[0],o=".",r=",";return t.decimalSeparator&&(o=t.decimalSeparator),t.thousandsSeparator&&(r=t.thousandsSeparator),s&&(l=e.slice(1)),a=s?t.negativePrefix:t.positivePrefix,n=s?t.negativeSuffix:t.positiveSuffix,l=l.replace(".",o),t.showThousands&&!e.includes("e")&&(l=T(l,o,r,i-a.length-n.length)),a+l+n}(o,s,q):e.isPercent(s)&&(o+="%"),j&&3===q&&3===o.length&&"0."===o.slice(0,2)?(o=o.slice(1,3),q=2):j&&4===q&&4===o.length&&"-0."===o.slice(0,3)&&(o="-."+o.charAt(3),q=3)}e.isCurrency(s)||(s&&"."!==s.decimalSeparator&&(W=".",s.decimalSeparator&&(W=s.decimalSeparator),o=o.replace(a,W)),s&&s.showThousands&&(X=",",s.thousandsSeparator&&(X=s.thousandsSeparator),o=o.replace(n,X)))}return I=o.length>q?"#".repeat(q):o,I},e.formatValueFixedBest=function(t){let i=JMP.Format(e.FORMAT_FIXED,!1,6,void 0,void 0,e.DECIMAL_SEPARATOR),a=JMP.Format(e.FORMAT_BEST,void 0,void 0,void 0,void 0,e.DECIMAL_SEPARATOR),n=e.formatNumber(t,i),l=e.formatNumber(t,a);return n.length<l.length?n:l},e.formatNumberUsingSignificantDigits=function(t,i,a){if(i.formatName!==e.FORMAT_BEST&&i.formatName!==e.FORMAT_FIXED)return e.formatNumber(t,i);let n=JMP.Format(e.FORMAT_BEST),l=a;t<0&&l++;let s,o=Math.abs(t),r=!1,c=0===o?0:Math.log10(o),d=function(e){return 10**e};if(0===o?s="0":o<d(-a)||e.roundUp(o,0)>=d(a+3)?r=!0:o<1?(n.fieldWidth=l+2+Math.min(-c>>0,2*a/3),s=e.formatNumber(t,n)):(c<a?l++:l+=1+(c+.1>>0)-a,i.showThousands&&(n.showThousands=!0,l+=(c+.001>>0)/3),n.fieldWidth=l,s=e.formatNumber(t,n)),r||s.startsWith("#")){let i=JMP.Format(e.FORMAT_SCIENTIFIC);l+=4,(o>=1e10||o<1e-9)&&l++,i.fieldWidth=l,s=e.formatNumber(t,i)}return s},e.formatRange=function(t,i,a,n,l){let s=e.formatNumber(i,t);return null!=a&&(s=(n?"(":"[")+s+", "+e.formatNumber(a,t)+(l?")":"]")),s},e.formattedStringToNumber=function(t,i){let a,n,l=t,s=!1,o=!1;if(n="."===i.thousandsSeparator?new RegExp("\\.","g"):new RegExp(i.thousandsSeparator,"g"),!e.isGeographic(i)&&!e.isDateTime(i))return"."===t?null:t===e.INFINITY?1/0:t==="-"+e.INFINITY?-1/0:(l=t.replace(n,""),l=l.replace(i.decimalSeparator,"."),e.isCurrency(i)&&(o=l.includes(i.negativePrefix),o?(l=l.replace(i.negativePrefix,""),l=l.replace(i.negativeSuffix,"")):(l=l.replace(i.positivePrefix,""),l=l.replace(i.positiveSuffix,""))),e.isPercent(i)&&(s=l.includes("%"),l=l.replace("%","")),(/^-?\d*\.?\d*$/.test(l)||/^-?\d*\.?\d*e|E[\+\-]?\d+/.test(l))&&(a=parseFloat(l),Number.isNaN(a)&&(a=void 0)),s?a/=100:o&&(a*=-1),a)},e.toFields=function(t){let i=t?t.formatName:e.FORMAT_BEST,a={hasMonth:!1,hasDay:!1,hasYear:!1,hasDegrees:!1,hasHours:!1,hasMinutes:!1,hasSeconds:!1,hasAMPM:!1,isDuration:e.isDuration(t)};switch(i){case e.FORMAT_MM_DD_YYYY:case e.FORMAT_MMDDYYYY:case e.FORMAT_DD_MM_YYYY:case e.FORMAT_DDMMYYYY:case e.FORMAT_YYYYMMDD:case e.FORMAT_YYYY_MM_DD:case e.FORMAT_DDMMMYYYY:case e.FORMAT_MMMDDYYYY:case e.FORMAT_LONG_DATE:case e.FORMAT_ABBREV_DATE:case e.FORMAT_M_D_Y:case e.FORMAT_LOCALE_DATE:case e.FORMAT_YYYY_MM_DDT:a.hasMonth=!0,a.hasDay=!0,a.hasYear=!0;break;case e.FORMAT_MM_YYYY:a.hasMonth=!0,a.hasYear=!0;break;case e.FORMAT_MM_DD_YYYYHH_MM:case e.FORMAT_DD_MM_YYYYHH_MM:case e.FORMAT_DDMMMYYYYHH_MM:case e.FORMAT_MMMDDYYYYHH_MM:case e.FORMAT_YYYY_MM_DDHH_MM:case e.FORMAT_YYYY_MM_DDTHH_MM:case e.FORMAT_M_D_YHH_MM:case e.FORMAT_LOCALE_DATE_TIME:case e.FORMAT_DDMMMYYYYCHH_MM:a.hasMonth=!0,a.hasDay=!0,a.hasYear=!0,a.hasHours=!0,a.hasMinutes=!0,a.hasAMPM=t.useAMPM;break;case e.FORMAT_DD_MM_YYYYHH_MM_SS:case e.FORMAT_MM_DD_YYYYHH_MM_SS:case e.FORMAT_DDMMMYYYYHH_MM_SS:case e.FORMAT_MMMDDYYYYHH_MM_SS:case e.FORMAT_YYYY_MM_DDHH_MM_SS:case e.FORMAT_YYYY_MM_DDTHH_MM_SS:case e.FORMAT_LOCALE_TIME_STAMP:case e.FORMAT_DDMMMYYYYCHH_MM_SS:a.hasMonth=!0,a.hasDay=!0,a.hasYear=!0,a.hasHours=!0,a.hasMinutes=!0,a.hasSeconds=!0,a.hasAMPM=t.useAMPM;break;case e.FORMAT_HHMMSS:a.hasHours=!0,a.hasMinutes=!0,a.hasSeconds=!0,a.hasAMPM=t.useAMPM;break;case e.FORMAT_HH_MM:a.hasHours=!0,a.hasMinutes=!0,a.hasAMPM=t.useAMPM;break;case e.FORMAT_H_MM_SS:a.hasHours=!0,a.hasMinutes=!0,a.hasSeconds=!0;break;case e.FORMAT_H_MM:a.hasHours=!0,a.hasMinutes=!0;break;case e.FORMAT_DDHHMM:a.hasDay=!0,a.hasHours=!0,a.hasMinutes=!0;break;case e.FORMAT_DDHHMMSS:a.hasDay=!0,a.hasHours=!0,a.hasMinutes=!0,a.hasSeconds=!0;break;case e.FORMAT_M_SS:a.hasMinutes=!0,a.hasSeconds=!0;break;case e.FORMAT_LATITUDE_DDD:a.hasDegrees=!0;break;case e.FORMAT_LATITUDE_DMM:a.hasDegrees=!0,a.hasMinutes=!0;break;case e.FORMAT_LATITUDE_DMS:a.hasDegrees=!0,a.hasMinutes=!0,a.hasSeconds=!0;break;case e.FORMAT_LONGITUDE_DDD:a.hasDegrees=!0;break;case e.FORMAT_LONGITUDE_DMM:a.hasDegrees=!0,a.hasMinutes=!0;break;case e.FORMAT_LONGITUDE_DMS:a.hasDegrees=!0,a.hasMinutes=!0,a.hasSeconds=!0;break;default:a=null}return a},e.valueToDateTime=function(e){let t,i,a,n,l,g,S,T,p,E,b,A,_,x,L=!1;for(i=e+60084288e3,i<0&&(i=0),a=i%d>>0,n=a,l=i/d>>0,E=l%7+1,g=l,g-=l/1461>>0,g+=l/36525>>0,g-=l/o>>0,g+=l/1461e3>>0,S=g/s>>0,b=l-m(S)>>0,b++,b<=0&&--S,L=f(S),b<=0&&(b+=s+L),p=b,t=L?h:u,T=0;p>t[T];T++)p-=t[T];return A=n/c>>0,n-=A*c,_=n/r>>0,n-=_*r,x=n,{seconds:x,minutes:_,hours:A,day:p,month:T,year:S,dayOfWeek:E-1,dayOfYear:b-1}},e.dateTimeToValue=function(e){let t,i,a=e.year,n=e.month;return i=m(a),i-=l,i+=g[n],n>=2&&f(a)&&++i,i+=e.day-1,t=i*d,t+=e.hours*c+e.minutes*r+e.seconds,t},e.daysInMonth=function(e,t){return(f(t)?h:u)[e]},e.valueToDuration=function(e,t,i){let a,n,l=0,s=0,o=Math.abs(e);return t&&(s=o/d>>0,o-=s*d),i&&(l=o/c>>0,o-=l*c),n=o/r>>0,o-=n*r,a=o,{seconds:a,minutes:n,hours:l,day:s}},e.durationToValue=function(e){return e.day*d+e.hours*c+e.minutes*r+e.seconds},e.valueToGeographic=function(e,t,i){let a=0,n=0,l=0,s=0;for(t?(s=e+1e-10>>0,a=Math.max(0,60*(Math.abs(e)-s))%60,n=a+1e-10>>0,i&&(l=Math.max(0,60*(a-n)))):(s=e,n=0,l=0);s>360;)s-=360;for(;s<0;)s+=360;return{seconds:l,minutes:i?n:a,degree:s}},e.geographicToValue=function(e){return e.degree+e.minutes/r+e.seconds/3600},e.getShareFormat=function(e){let t;return t=e>=.99&&e<1?1:e>=.1?0:e>=.01?1:2,JMP.Format(JMP.FormatStatic.FORMAT_PERCENT,!1,t)},e.siPrefix=function(e){return S<=e&&e<=24?["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"][(e-S)/3]:"#"},e.formatPattern=function(t,a,n,l){let s,o,r="",c=new Date(i+1e3*t),d=0,u=0,h=0;for(;d>=0&&h>=0&&u>=0;){if(u=n.indexOf("<",d),h=n.indexOf(">",d),d<u&&(r+=n.substring(d,u)),u<h){switch(s=n.substring(u+1,h),s){case"YYYY":o=E(c.getUTCFullYear());break;case"Month":o=e.MONTH_NAMES_LONG[c.getUTCMonth()];break;case"Q#":o="Q"+(1+(c.getUTCMonth()/3>>0));break;case"MMM":case"Mmm":o=e.MONTH_NAMES_SHORT[c.getUTCMonth()];break;case"MM":o=p(c.getUTCMonth()+1);break;case"M":o=c.getUTCMonth()+1;break;case"DD":o=p(c.getUTCDate());break;case"D":o=c.getUTCDate();break;case"DayOfWeek":o=e.DAY_NAMES[c.getUTCDay()];break;case"Day":o=t/86400>>0;break;case"ampm_builtin":o=t%86400<43200?" "+a.AMDesignator:" "+a.PMDesignator;break;case"Hour":o=t/3600>>0;break;case"hh24":o=p(c.getUTCHours());break;case"hh":o=(c.getUTCHours()+11)%12+1;break;case"Minute":o=t/60>>0;break;case"mm":o=p(c.getUTCMinutes());break;case"ss":o=p(c.getUTCSeconds());break;case":?":case"/?":o="";break;case"/":case":":case"-":o=s;break;case"::":o=":";break;case"'T'":o="T";break;default:return l}r+=o}d=h+1}return r},e}(),JMP.Format=function(e,t,i,a,n,l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L){"use strict";let N={};return N.formatName=void 0!==e?e:JMP.FormatStatic.FORMAT_BEST,N.showThousands=void 0!==t&&t,N.nDecimals=void 0!==i?i:-1,N.fieldWidth=void 0!==a?a:-1,N.precisionKeepFractional=void 0===L||L,N.formatCode=void 0!==n?n:"",N.decimalSeparator=void 0!==l?l:".",N.thousandsSeparator=void 0!==s?s:",",N.positivePrefix=void 0!==o?o:"",N.positiveSuffix=void 0!==r?r:"",N.negativePrefix=void 0!==c?c:"",N.negativeSuffix=void 0!==d?d:"",N.dateTimePattern=void 0!==u?u:"",N.dateSeparator=void 0!==h?h:"/",N.timeSeparator=void 0!==g?g:":",N.AMDesignator=void 0!==S?S:"",N.PMDesignator=void 0!==m?m:"",N.useAMPM=void 0!==f&&f,N.useAMPMInFront=void 0!==T&&T,N.use24HourClock=void 0!==p&&p,N.useZeroForMidnight=void 0!==E&&E,N.useMinusForNegativeDateTime=void 0!==b&&b,N.useLeadingZeroForHour=void 0!==A&&A,N.majorPattern=void 0!==_?_:"",N.minorPattern=void 0!==x?x:"",N},JMP.Marker=function(){"use strict";let e={DOT:0,PLUS:1,X:2,SQUARE:3,DIAMOND:4,TRIANGLE_UP:5,Y:6,Z:7,CIRCLE:8,WIDE:9,TALL:10,STAR:11,CIRCLE_FILLED:12,WIDE_FILLED:13,TALL_FILLED:14,SQUARE_FILLED:15,DIAMOND_FILLED:16,TRIANGLE_DOWN:17,TRIANGLE_LEFT:18,TRIANGLE_RIGHT:19,TRIANGLE_UP_FILLED:20,TRIANGLE_DOWN_FILLED:21,TRIANGLE_LEFT_FILLED:22,TRIANGLE_RIGHT_FILLED:23,ARROW_UP:24,ARROW_DOWN:25,ARROW_LEFT:26,ARROW_RIGHT:27,PIPE:28,MINUS:29,SLASH:30,BACKSLASH:31};return e}();class n{static EVENT_SELECTED=0;static EVENT_HIDDEN=1;static EVENT_EXCLUDED=2;static EVENT_LABELED=3;static EVENT_MARKER=4;static EVENT_COLOR=5;isLocal=!1;nSelectedIndices=0;selectedIndices=[];selected=[];hidden=[];excluded=[];labeled=[];marker=[];color=[];syncIndices=!1;constructor(t){this.#e=new e,this.#s=t||0,void 0!==t&&(this.selected=new Array(t).fill(!1),this.hidden=new Array(t).fill(!1),this.excluded=new Array(t).fill(!1),this.labeled=new Array(t).fill(!1),this.color=new Array(t).fill([0,0,0]),this.marker=new Array(t).fill(0)),this.addEventListener=this.#e.addEventListener,this.removeEventListener=this.#e.removeEventListener}syncSelectedIndices(){let e,t,i,a,n;if(n=this.selectedIndices,a=this.selected,i=a.length,this.syncIndices){for(t=0,e=0;e<i;e++)a[e]&&(n[t]=e,t++);this.nSelectedIndices=t}else for(a.fill(!1),i=this.nSelectedIndices,e=0;e<i;e++)a[n[e]]=!0;this.syncIndices=!1}sendEvent(e,t){e===n.EVENT_SELECTED&&this.syncSelectedIndices(),n.#o.type=e,this.#e.dispatchEvent(n.#o,t)}selectAll(e){let t,i=!1!==e,a=this.selected,l=a.length,s=!1;for(t=0;t<l;t++)a[t]!==i&&(a[t]=i,s=!0);s&&(this.syncIndices=!0,this.sendEvent(n.EVENT_SELECTED))}hideAll(e){let t,i=!1!==e,a=this.hidden,l=a.length,s=!1;for(t=0;t<l;t++)a[t]!==i&&(a[t]=i,s=!0);s&&this.sendEvent(n.EVENT_HIDDEN)}excludeAll(e){let t,i=!1!==e,a=this.excluded,l=a.length,s=!1;for(t=0;t<l;t++)a[t]!==i&&(a[t]=i,s=!0);s&&this.sendEvent(n.EVENT_EXCLUDED)}invertSelected(){let e,t=this.selected,i=t.length;for(e=0;e<i;e++)t[e]=!t[e];this.syncIndices=!0,this.sendEvent(n.EVENT_SELECTED)}select(e,t){let i,a=!1!==t,l=this.selected,s=e?e.length:0;for(i=0;i<s;i++)l[e[i]]=a;this.syncIndices=!0,this.sendEvent(n.EVENT_SELECTED)}selectOnly(e,t){let i,a=!1!==t,n=this.selected,l=n.length;for(i=0;i<l;i++)n[i]=!a;this.select(e,a)}excludeAndHideSelected(e){this.#r(!1);let t,i,{excluded:a,hidden:l,selected:s,selectedIndices:o,nSelectedIndices:r}=this;for(t=0;t<r;t++)i=o[t],a[i]=!0,l[i]=!0,s[i]=!1;this.selectedIndices=[],this.nSelectedIndices=0,e&&this.sendEvent(n.EVENT_EXCLUDED,this)}clearExcludedAndHidden(e){this.excluded.fill(!1),this.hidden.fill(!1),e&&this.sendEvent(n.EVENT_EXCLUDED,this)}undo(){this.#r(!0),this.sendEvent(n.EVENT_EXCLUDED)}isAnySelected(){return this.nSelectedIndices>0}isAnyHidden(){return this.hidden.some((function(e){return!0===e}))}isAnyExcluded(){return this.excluded.some((function(e){return!0===e}))}areAllHidden(e){if(!e)return this.hidden.every((e=>!0===e));const t=e.length;let i=!0,a=0;for(let n=0;n<t&&i;n++){let t=e[n].length;a+=t;for(let a=0;a<t&&i;a++)this.hidden[e[n][a]]||(i=!1)}return i&&a>0}getNRows(){return this.#s}static#o={type:n.EVENT_SELECTED};#s=0;#e;#c={};#r(e){e?(this.excluded=this.#c.excluded.concat(),this.hidden=this.#c.hidden.concat(),this.selectedIndices=this.#c.selectedIndices.concat(),this.nSelectedIndices=this.selectedIndices.length,this.syncIndices=!1,this.syncSelectedIndices()):(this.#c.excluded=this.excluded.concat(),this.#c.hidden=this.hidden.concat(),this.#c.selectedIndices=this.selectedIndices.slice(0,this.nSelectedIndices))}}class l{static OTHER="Other";static EVENT_VALUE_CHANGE=0;static EVENT_RANGE_CHANGE=1;static setValue(e,t,i){e[t]!==i&&(e[t]=i,e.needCalculation=!0)}static setArray(e,t,i){JMP.ModelStatic.isDeeplyEqual(e[t],i)||(e[t]=i?i.concat():void 0,e.needCalculation=!0)}inputVariables=void 0;rowStates=void 0;rowIndices=void 0;isMissingUsed=!1;isSelectedUsed=!1;isHiddenUsed=!1;isExcludedUsed=!1;result=void 0;needCalculation=!0;onVariableEvent=this.onVariableEvent.bind(this);onRowStatesEvent=this.onRowStatesEvent.bind(this);constructor(t,i,a,n){this.#e=new e,t&&this.setInputVariables(t),i&&this.setRowStates(i),this.rowIndices=a?a.concat():void 0,this.isMissingUsed=n||!1,this.addEventListener=this.#e.addEventListener,this.removeEventListener=this.#e.removeEventListener}setInputVariables(e){if(!JMP.ModelStatic.isDeeplyEqual(this.inputVariables,e)){let t,i=this.inputVariables?this.inputVariables.length:0;for(t=0;t<i;t++)this.inputVariables[t]&&this.inputVariables[t].removeEventListener(this.onVariableEvent);for(i=e?e.length:0,this.inputVariables=[],t=0;t<i;t++)e[t]&&(this.inputVariables[t]=e[t],this.inputVariables[t].addEventListener(this.onVariableEvent));this.needCalculation=!0}}setRowStates(e){this.rowStates!==e&&(this.rowStates&&this.rowStates.removeEventListener(this.onRowStatesEvent),e&&e.addEventListener(this.onRowStatesEvent,!0),this.rowStates=e,this.needCalculation=!0)}setRowIndices(e){l.setArray(this,"rowIndices",e)}setMissingUsed(e){l.setValue(this,"isMissingUsed",e)}setSelectedUsed(e){l.setValue(this,"isSelectedUsed",e)}setHiddenUsed(e){l.setValue(this,"isHiddenUsed",e)}setExcludedUsed(e){l.setValue(this,"isExcludedUsed",e)}getResult(){return this.needCalculation&&this.calculate(),this.result}calculate(){this.result=[],this.needCalculation=!1}sendEvent(e){l.#o.type=e,this.#e.dispatchEvent(l.#o)}onVariableEvent(e){this.needCalculation=e,this.needCalculation=!0,this.sendEvent(l.EVENT_VALUE_CHANGE)}onRowStatesEvent(e){if(!this.needCalculation){switch(e.type){case n.EVENT_SELECTED:this.isSelectedUsed&&(this.needCalculation=!0);break;case n.EVENT_HIDDEN:this.isHiddenUsed&&(this.needCalculation=!0);break;case n.EVENT_EXCLUDED:this.isExcludedUsed&&(this.needCalculation=!0)}this.needCalculation&&this.sendEvent(l.EVENT_VALUE_CHANGE)}}static#o={type:l.EVENT_VALUE_CHANGE};#e}class s extends l{static getValue(e,t,i,a,n,l,o,r){let c,d,u,h,g,S,m,f,T,p=void 0!==n?n:[0,.25,.5,.75,1],E=a,b=e,A=[];for(t&&(d=t.data),(!E||E.length<=0)&&(E=[void 0]),(!b||b.length<=0)&&(b=[void 0]),g=E.length,S=b.length,u=0;u<g;u++)for(A[u]=[],h=0;h<S;h++)c=b[h],c&&(f=c.data),T=[],c?(m=s.#d(c,i,E[u],l,o,r),m.length?(s.#u(f,d,m,p,T),A[u][h]=T):A[u][h]=null):A[u][h]=null;return A}freqColumn;probabilities;constructor(e,t,i,a,n){super(e,t,i),this.freqColumn=a,this.probabilities=n}setFreqColumn(e){l.setValue(this,"freqColumn",e)}setProbabilities(e){l.setValue(this,"probabilities",e)}calculate(){this.result=s.getValue(this.inputVariables,this.freqColumn,this.rowStates,this.rowIndices,this.probabilities,this.isSelectedUsed,this.isHiddenUsed,this.isExcludedUsed),this.needCalculation=!1}static#u=function(e,t,i,a,n){let l,s,o,r,c,d,u,h,g,S=i.length,m=a.length,f=[],T=function(e,t){let i,a,n;if(e)for(n=0,a=0;a<t.length;a++)i=e[t[a]],null!==i&&i>0&&(n+=i);else n=t.length;return n};for(g=0,l=0;l<S;l++)f[l]=T(t,i[l]),g+=f[l];for(l=0,o=f[0],c=0;c<m;c++){for(d=(g+1)*a[c],r=d>>0;(o<r||f[l]<=0)&&l<S-1;)l++,o+=f[l];for(;l>0&&f[l]<=0;)l--;if(h=e[i[l][0]],o===r){for(u=d-r,s=l+1;s<S&&f[s]<=0;)s++;s>=S&&(s=l),h=(1-u)*h+u*e[i[s][0]]}n[c]=h}};static#d(e,t,i,a,n,l){let s,o;return s=JMP.UniqueStatic.getValues([e],t)[0],o=JMP.FrequencyStatic.getRows([e],s,t,i,a,n,l),o=o.filter((function(e){return e.length>0})),o}}class o extends l{fixed;#h;#g;#S;#m;#f;#T=0;constructor(e,t,i,a){super(e,t,void 0,i),this.fixed=void 0!==a?a:-1}setFixed(e){l.setValue(this,"fixed",e)}getReferenceVariables(){return this.#h}setReferenceVariables(e){e&&(this.#h=e)}isConstrainable(e){return-1!==o.repairMixture(e.length,this.#g,e,this.#S,this.#m,this.#T,this.#f,this.fixed,-1)}constrain(){let e,t,i,a,n,l=this.inputVariables.length,s=this.fixed,r=this.inputVariables[s].data.length,c=[];for(e=0;e<l;e++)e!==s&&this.inputVariables[e]&&this.#h[e]&&(this.inputVariables[e].setValue?this.inputVariables[e].value=this.#h[e].value:this.inputVariables[e].data[0]=this.#h[e].value);for(t=0;t<r;t++){for(e=0;e<l;e++)i=this.inputVariables[e],i&&(i.setValue?c[e]=void 0!==i.value?i.value:0:c[e]=e===s&&void 0!==i.data[t]?i.data[t]:i.data[0]);for(a=o.repairMixture(l,this.#g,c,this.#S,this.#m,this.#T,this.#f,s,-1),e=0;e<l;e++)e!==s&&this.#g[e]&&this.inputVariables[e]&&(n=a>=0?c[e]:null,this.inputVariables[e].setValue?this.inputVariables[e].value=n:this.inputVariables[e].data[t]=n)}}constrainReference(){let e,t,i=this.inputVariables.length,a=this.fixed,n=[];for(e=0;e<i;e++)this.#h[e]&&(n[e]=this.#h[e].value);if(t=o.repairMixture(i,this.#g,n,this.#S,this.#m,this.#T,this.#f,this.fixed,-1),t>=0)for(e=0;e<i;e++)e!==a&&this.#g[e]&&(this.inputVariables[e].setData?this.inputVariables[e].data[0]=n[e]:this.inputVariables[e].value=n[e],this.#h[e].value=n[e])}setMixture(e,t,i,a,n){this.#g=e,this.#S=t,this.#m=i,this.#f=a,this.#T=n}getLocks(){return this.#f}setLocks(e){let t,i=!this.#f||!e||this.#f.length!==e.length;for(t=0;t<this.#f.length&&!i;t++)i=this.#f[t]!==e[t];i&&(this.#f=e,this.needCalculation=!0,this.sendEvent(l.EVENT_VALUE_CHANGE))}getLockAt(e){return this.#f[e]}setLockAt(e,t){this.#f[e]!==t&&(this.#f[e]=t,this.needCalculation=!0,this.sendEvent(l.EVENT_VALUE_CHANGE))}static repairMixture(e,t,i,a,n,l,s,o,r){let c,d,u,h,g=0,S=0,m=0,f=[],T=0,p=1;for(m=0;m<e;m++)if(f[m]=!1,t[m]){if(S=i[m],a&&S<a[m]&&(S=a[m]),n&&S>n[m]&&(S=n[m]),m===o||m===r||s&&s[m]){if(T+=i[m],Math.abs(S-i[m])>1e-8)return-1}else i[m]=S,f[m]=!0;g+=i[m]}if(Math.abs(g-l)<1e-9)return 0;if(g-=T,(l-=T)<0){if(l<-1e-4)return-1;l=0}if(Math.abs(g)<1e-6)for(m=0;m<e;m++)f[m]&&(g-=i[m]-1e-5,i[m]=1e-5);for(c=!0;c;){for(d=g>0?l/g:0,g=0,c=!1,m=0;m<e;m++)f[m]&&(u=i[m]*d,h=!1,a&&u<a[m]&&(u=a[m],h=!0),n&&u>n[m]&&(u=n[m],h=!0),i[m]=u,h?(f[m]=!1,l-=u,c=!0,p=2):g+=u);if(l<-1e-6||g<=-1e-6)return-1;if(!c&&Math.abs(l-g)>1e-8)return-1}return p}}JMP.FinanceStatic=function(){"use strict";let e={},t=function(e,t){return e>-1?Math.exp(Math.log(1+e)*t):(1+e)**t},i=function(e,t){return e>-1?(i=Math.log(1+e)*t)<-.01||.01<i?Math.exp(i)-1:i*(1+i/2*(1+i/3*(1+i/4*(1+i/5*(1+i/6))))):(1+e)**t-1;var i},a=function(e,a,n,l,s,o){return e*t(a,n)+l*i(a,n)/a*(0!==o?1+a:1)+s},n=function(e,i,a,n,l,s){return 0!==s?(a+1)*(e+n)*t(i,a)-a*e*t(i,a-1)-(n-l):(a+1)*e*t(i,a)+a*(n-e)*t(i,a-1)+l};return e.DDB=function(e,t,a,n,l=2){if(n<=0||a<n)return NaN;if(e<t)return 0;if(n<1&&(n=1)>a)return e-t;let s=-e*i(-l/a,n-1),o=(1+i(-l/a,n-1))*l/a*e,r=e-t-s;return r<0&&(r=0),o>r&&(o=r),o},e.FV=function(e,a,n,l=0,s=0){let o;return o=0===e?l+n*a:n*i(e,a)*(0!==s?1+e:1)/e+l*t(e,a),-o},e.Pmt=function(e,a,n,l=0,s=0){return a<=0?NaN:0===e?-(n+l)/a:-(n*t(e,a)+l)/i(e,a)*e/(0!==s?1+e:1)},e.IPmt=function(a,n,l,s,o=0,r=0){if(l<=0||n<1||l+1<=n)return NaN;if(0!==r&&1===n)return 0;let c=e.Pmt(a,l,s,o,0),d=s*t(a,n-1)*a+c*i(a,n-1);return-(1===r?d/(1+a):d)},e.PPmt=function(t,i,a,n,l=0,s=0){if(a<=0||i<1||a+1<=i)return NaN;return e.Pmt(t,a,n,l,s)-e.IPmt(t,i,a,n,l,s)},e.NPV=function(e){let i,a=0,n=e[0],l=e.length;for(i=1;i<l;i++)a+=e[i]/t(n,i);return a},e.NPVGr=function(e){let i,a=0,n=e[0],l=e.length-1;for(i=0;i<l-1;i++)a+=(l-1-i)*e[i+1]*t(n,l-1-i-1);return a},e.IRR=function(i){const a=JMP.MAC_SQRT_EPS;let n=i.length,l=i[0],s=l,o=e.NPV(i)*t(s,n-1),r=e.NPVGr(i),c=s-o/r,d=0;for(;(c-s>=a||s-c>=a)&&d<=250;)s=c,i[0]=s,o=e.NPV(i)*t(s,n-1),r=e.NPVGr(i),c=s-o/r,++d;return i[0]=l,c-s>=a||s-c>=a?NaN:c},e.MIRR=function(i){let a,n=i.length,l=i[0],s=i[1],o=[],r=[];for(o[0]=s,r[0]=l,a=2;a<n;a++)i[a]>0?(o[a-1]=i[a],r[a-1]=0):(o[a-1]=0,r[a-1]=i[a]);return(-e.NPV(o)*t(s,n-2)/(e.NPV(r)*(1+l)))**(1/(n-3))-1},e.NPer=function(e,t,i,a=0,n=0){if(0===e&&0===t)return NaN;if(0===e)return-(a+i)/t;let l=(0!==n?1+e:1)*t/e;if(i+l===0)return NaN;let s=(l-a)/(i+l);return s<=0?NaN:Math.log(s)/Math.log(1+e)},e.PV=function(e,a,n,l=0,s=0){return a<=0?NaN:0===e?-n*a-l:(-n*i(e,a)/e*(0!==s?1+e:1)-l)/t(e,a)},e.Rate=function(e,t,i,l=0,s=0,o=.1){const r=JMP.MAC_SQRT_EPS;let c,d,u,h=o,g=0;if(e<=0)return NaN;if(t*e+i+l===0)return 0;for(c=a(i,h,e,t,l,s),d=(n(i,h,e,t,l,s)-c)/h,u=h-c/d;(u-h>=r||h-u>=r)&&g<=50;)h=u,c=a(i,h,e,t,l,s),d=(n(i,h,e,t,l,s)-c)/h,u=h-c/d,++g;return u-h>=r||h-u>=r?NaN:u},e.SLN=function(e,t,i){return 0===i?NaN:(e-t)/i},e.SYD=function(e,t,i,a){return a<=0||i<a?NaN:(e-t)*(i-a+1)*2/(i*(i+1))},e}(),JMP.FourierStatic=function(){"use strict";let e={calculateBasis:function(e,t,i,a,n){const l=1+2*i;let s;for(n.length=e*l,s=0;s<e;s++)n[l*s]=1;for(let o=1;o<=i;o++){let i=2*o,r=i-1;for(s=0;s<e;s++)n[r+l*s]=Math.sin(o*a*t[s]),n[i+l*s]=Math.cos(o*a*t[s])}return l}};return e}(),JMP.FrequencyStatic=function(){"use strict";let e={getOrderByCount:function(e){let t=e.map((function(e,t){return{index:t,value:e.length}}));return t.sort((function(e,t){return t.value-e.value})),t.map((function(e){return e.index}))},combineValues:function(e,t){if(e.length<t.length){for(let i=e.length-1;i>=0;i--)t[i]||(t.splice(i,1),e.splice(i,1));e[e.length-1]!==l.OTHER&&e.push(l.OTHER)}return e},getRows:function(t,i,a,n,l,s,o,r){const c="#####";let d,u,h,g,S,m,f,T,p,E,b,A,_,x=t?t.length:0,L=[];if(a&&(l&&(E=a.selected),s&&(b=a.hidden),o&&(A=a.excluded)),x&&i){for(d=[],m=n?n.length:t[0].data.length,u=0;u<m;u++)if(S=n?n[u]:u,(!E||E[S])&&(!b||!b[S])&&(!A||!A[S])){for(f="",h=0;h<x;h++)f+=t[h].data[S],h<x-1&&(f+=",");_=c+f,void 0!==L[_]?L[_].push(S):L[_]=[S]}for(p=1,h=0;h<x;h++)p*=i[h].length;for(u=0;u<p;u++){for(g=1,f="",h=x-1;h>=0;h--)h<x-1&&(f=","+f),T=i[h].length,f=i[h][(u/g>>0)%T]+f,g*=T;_=c+f,L[_]?d[u]=L[_]:d[u]=[]}if(r){let t=[],a=[1],n=[];for(h=0;h<x;h++)T=i[h].length,t[h]=[],t[h].length=T,t[h].fill([]),h>0&&a.push(a[h-1]*n[h-1]),n[h]=T;for(u=0;u<p;u++)for(h=0;h<x;h++){let e=(u/a[h]>>0)%n[h];t[h][e]=t[h][e].concat(d[u])}let l=1;for(h=0;h<x;h++){if(T=i[h].length,r[h]>0){let i=e.getOrderByCount(t[h]),a=r[h]*T>>0;for(let e=p;e>0;e-=l*T){let t=[];for(let n=0;n<a;n++){let a=e-l*T+i[T-1-n];void 0!==d[a]&&(t=t.concat(d[a])),d[a]=void 0}for(let i=0;i<l;i++)d.splice(e,0,t),t=[],p++}T++}l*=T}}}return d},calculate:function(t){t.result=[],t.inputVariables.length>0&&(t.result=e.getRows(t.inputVariables,t.values,t.rowStates,t.rowIndices,t.isSelectedUsed,t.isHiddenUsed,t.isExcludedUsed,t.other)),t.needCalculation=!1}};return e}(),JMP.Frequency=function(e,t,i,a,n,s){"use strict";let o=new l(e,t,i,a);return o.values=n,o.other=s,o.setValues=function(e){l.setArray(o,"values",e)},o.setOther=function(e){l.setArray(o,"other",e)},o.calculate=function(){JMP.FrequencyStatic.calculate(o)},o},JMP.GroupStatic=function(){"use strict";let e={};return e.cachedCalcs=new Map,e.getRowsCached=function(t,i,a,n,l,s,o,r,c){if(l||JMP.ParserStatic.getStorage(JMP.ParserStatic.STORAGE_DATA).length>1||a&&a.includes(!0))return e.getRows(t,i,a,n,l,s,o,r,c);e.cachedCalcs.has(n)||e.cachedCalcs.set(n,new Map);const d=e.cachedCalcs.get(n);let u=0;u|=s<<0,u|=c<<1,u|=o<<2,u|=r<<3;const h=`${t.map((e=>e.name)).join("####")}####${u}`;let g;return d.has(h)?g=d.get(h):(g=JMP.Group(t,n,l,s,i,a),g.isExcludedUsed=c,g.isHiddenUsed=r,g.isSelectedUsed=o,d.set(h,g)),g.getResult()},e.getRows=function(e,t,i,a,n,l,s,o,r){let c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C=e?e.length:0,R=0,v=n?n.length:1;for(a&&(s&&(A=a.selected),o&&(_=a.hidden),r&&(x=a.excluded)),y=[],h=0;h<v;h++)y[h]=[],y[h][0]=[];if(C&&t){for(M=[],L=1,c=0;c<C;c++)M[c]=t[c].length,L*=M[c];for(c=0;c<C;c++){for(g=1,d=c+1;d<C;d++)g*=M[d];M[c]=g}for(y=[],h=0;h<v;h++)for(y[h]=[],c=0;c<L;c++)y[h][c]=[];let a=new Array(C);for(c=0;c<C;c++)for(p=t[c],a[c]=new Map,d=0;d<p.length;d++)f=p[d],a[c][f]=d;for(h=0;h<v;h++)for(R=n&&n[h]?n[h].length:e[0].data.length,c=0;c<R;c++)if(m=n&&n[h]?n[h][c]:c,(!A||A[m])&&(!_||!_[m])&&(!x||!x[m])){for(T=0,d=0;d<C&&T>=0;d++){if(S=e[d],f=S.data[m],i&&i[d])for(I=-1,p=t[d],L=p.length,u=0;u<L&&I<0;u++)E=p[u][0],b=p[u][1],N=null===f?null===E&&(l||S.isInformativeMissing):(null===E||E<=f)&&(f<b||b===1/0),N&&(I=u);else I=null!==f||l||S.isInformativeMissing?a[d][f]:-1;I>=0?T+=I*M[d]:T=-1}T>=0&&y[h][T].push(m)}}return y},e.calculate=function(t){t.result=e.getRows(t.inputVariables,t.comparators,t.isRanges,t.rowStates,t.rowIndices,t.isMissingUsed,t.isSelectedUsed,t.isHiddenUsed,t.isExcludedUsed),t.needCalculation=!1},e}(),JMP.Group=function(e,t,i,a,n,s){"use strict";let o=new l(e,t,i,a);return o.comparators=n,o.setComparators=function(e){l.setArray(o,"comparators",e)},o.isRanges=s,o.setIsRanges=function(e){l.setArray(o,"isRanges",e)},o.calculate=function(){JMP.GroupStatic.calculate(o)},o},JMP.MathParserStatic=function(){"use strict";const e=12,i=13,n=14,l=21,s=27,o=28,r=145,c=146,d=147,u=148,h=149,g=150,S=151,m=153,f=156,T=157,p=159,E=165,b=166,A=200,_=201;let x={},L=null,N=[],I=[],M=0,y=[],C=[],R=[],v=[],w=[],O=[],P=[],D=[],F=function(){let e=null;return M<N.length?(e=N[M],e.data=[],e.isVector=void 0,e.nRows=void 0,e.nCols=void 0):(e=new a(null,"",t.TYPE_NUMBER),N[M]=e),I[M++]=!1,e},B=function(e,t){if(null===e||null===t)return null;let i=Math.sign(e);if(Math.floor(t)===t){let t=Math.abs(e),i=Math.floor(t+1e-14);i!==Math.floor(t)&&(e=e>0?i:-i)}return e=Math.abs(e)%Math.abs(t),i!==Math.sign(e)&&(e*=i),e},V=function(e){return"number"==typeof e||null===e?null===e?1:0:"string"==typeof e?""===e.trim()?1:0:NaN},k=function(t,a,l){let s,o,r,c,d,u=!0,h=!0,g=!0,S="number"==typeof t||null===t,m="number"==typeof a||null===a,f=0,T=0,p=null,E=null,b=0,A=0,_=1,x=1,L=1,N=1,I=!1,M=!1;if(S?(u=null!==t,I=Number.isNaN(t),f=t):(s=t,p=s.data,b=s.data.length,_=s.isVector?s.nRows?s.nRows:1:s.data.length,L=s.data.length/_),m?(h=null!==a,M=Number.isNaN(a),T=a):(o=a,E=o.data,A=o.data.length,(S||b>A)&&(b=A),x=o.isVector?o.nRows?o.nRows:1:o.data.length,N=o.data.length/x),r=F(),7===l&&!S&&!m&&s.isVector&&o.isVector){let e=1;s.data.length>o.data.length&&(e=s.data.length/o.data.length);let t=0,i=[];for(let a=0;a<e;a++){for(t=0,d=0;d<b;d++){const e=d+a*b;if(null===p[e]||null===E[d]){t=null;break}t+=p[e]*E[d]}e>1&&i.push(t)}return e>1?(r.data=[...i],r.isVector=!0,r):t}if((L>1||N>1)&&(l===i||l===n)){const e=_>1&&x>1?Math.min(_,x):Math.max(_,x);return r.data.fill(NaN,0,e)}const y=_>1&&x>1?Math.min(_,x):Math.max(_,x);if(L>1&&N>1&&L!==N)return r.data.fill(NaN,0,y),r;const C=Math.max(L,N);for(c=r.data,d=0;d<y;d++)for(let t=0;t<C;t++){if(!S){const e=_>1?d*L:0,i=L>1?t:0;f=s.data[e+i],u=null!==f,I=Number.isNaN(f)}if(!m){const e=x>1?d*N:0,i=N>1?t:0;T=o.data[e+i],h=null!==T,M=Number.isNaN(T)}if(I||M)c.push(NaN);else switch(g=u&&h,l){case 6:c.push(g?f+T:null);break;case 7:c.push(g?f*T:null);break;case 8:c.push(g?f/T:null);break;case 9:c.push(B(f,T));break;case 10:c.push(g?0===f&&T<0?NaN:f**T:null);break;case 11:c.push(g?T!==-1/0||2!==f?T**(1/f):NaN:null);break;case e:c.push(g?-f-T:null);break;case i:c.push(g?f<T?f:T:u?f:h?T:null);break;case n:c.push(g?f>T?f:T:u?f:T);break;case 19:c.push(g?+(0!==f&&0!==T):u&&!h&&0===f||h&&!u&&0===T?0:null);break;case 20:c.push(g?+(0!==f||0!==T):u&&!h&&0!==f||h&&!u&&0!==T?1:null)}}return(s?.isVector||o?.isVector)&&(r.nRows=y,r.isVector=!0),r},G=function(e,t){let i,a,n,l,s,o,r=!1,c=e.data.length;if(e.isNumber())for(n=e.data,i=c>0?n[0]:null,a=0;a<c&&!r;a++)l=n[a],Number.isNaN(l)?(i=NaN,r=!0):null===l?t&&(i=null):t?i>l&&(i=l):i<l&&(i=l);else for(s=e.data,i=c>0?s[0]:null,a=0;a<c&&!r;a++)o=s[a],null===o?t&&(i=null,r=!0):null===i?i=o:t?i>o&&(i=o):i<o&&(i=o);return i},H=function(t,i){let a,n,l,s=!0,o=0,c=t.data,d=t.data.length;for(a=F(),n=a.data,l=0;l<d;l++)if(o=c[l],Number.isNaN(o))n[l]=NaN;else switch(s=null!==o,i){case e:n[l]=s?-o:o,a.isVector=t.isVector;break;case 15:n[l]=s?o>=0?o:-o:o;break;case 16:n[l]=s?Math.floor(o):o;break;case 17:n[l]=s?Math.ceil(o):o;break;case 18:n[l]=s?0!==o?0:1:null;break;case 29:n[l]=s?Math.exp(o):o;break;case 30:n[l]=s?Math.log(o):o;break;case 31:n[l]=s?Math.log10(o):o;break;case 32:n[l]=s?Math.log1p(o):o;break;case 33:n[l]=s?JMP.NumericStatic.zlgamma(o):o;break;case 34:n[l]=s?JMP.NumericStatic.zdigamma(o):o;break;case 35:n[l]=s?Math.log(o/(1-o)):o;break;case 36:n[l]=s?100/(1+Math.exp(-o)):o;break;case 134:n[l]=s?Math.sin(o):o;break;case 135:n[l]=s?Math.cos(o):o;break;case 136:n[l]=s?Math.tan(o):o;break;case 137:n[l]=s?(Math.exp(o)-Math.exp(-o))/2:o;break;case 138:n[l]=s?(Math.exp(o)+Math.exp(-o))/2:o;break;case 139:n[l]=s?(Math.exp(o)-Math.exp(-o))/(Math.exp(o)+Math.exp(-o)):o;break;case 140:n[l]=s?Math.asin(o):o;break;case 141:n[l]=s?Math.acos(o):o;break;case 142:n[l]=s?Math.atan(o):o;break;case 143:n[l]=s?Math.log(o+Math.sqrt(1+o*o)):o;break;case 144:n[l]=s?2*Math.log(Math.sqrt((o+1)/2)+Math.sqrt((o-1)/2)):o;break;case r:n[l]=s?(Math.log(1+o)-Math.log(1-o))/2:o}return a},Y=function(e,t,i){let a,n,r,c,d,u,h,g=!0,S=!0,m=!0,f="number"==typeof e||"string"==typeof e||null===e,T="number"==typeof t||"string"==typeof t||null===t,p=!0,E=!0,b=e,A=t,_=0,x=0,L=!1,N=!1;for(f?(p="number"==typeof e,null===e?g=!1:p?Number.isNaN(b)&&(L=!0):L=i===o):(a=e,p=a.isNumber(),r=a.data,_=a.data.length),T?(E="number"==typeof t,null===t?S=!1:E&&Number.isNaN(A)&&(N=!0)):(n=t,E=n.isNumber(),c=n.data,x=n.data.length,(f||_>x)&&(_=x)),d=F(),u=d.data,h=0;h<_;h++)if(f||(b=r[h],L=!1,g=null!==b,L=p?Number.isNaN(b):i===o),T||(A=c[h],N=!1,S=null!==A,E&&(N=Number.isNaN(A))),L||N)u[h]=NaN;else if(m=g&&S,!p&&null!==b||!E&&null!==A)switch(i){case l:u[h]=b===A?1:0;break;case 22:u[h]=b!==A?1:0;break;case 23:u[h]=m?b>A?1:0:null;break;case 24:u[h]=m?b<A?1:0:null;break;case 25:u[h]=m?b>=A?1:0:null;break;case 26:u[h]=m?b<=A?1:0:null;break;case s:u[h]=V(b);break;case o:u[h]=NaN}else switch(i){case l:u[h]=m?b===A?1:0:null;break;case 22:u[h]=m?b!==A?1:0:null;break;case 23:u[h]=m?b>A?1:0:null;break;case 24:u[h]=m?b<A?1:0:null;break;case 25:u[h]=m?b>=A?1:0:null;break;case 26:u[h]=m?b<=A?1:0:null;break;case s:u[h]=V(b);break;case o:u[h]=g&&0!==b?0:1}return d},U=function(e,t,i,a,n,l,s,o,r){let c,d,u,m,f,T=!0,p=!0,E=e,b=null,A=!0,_="string"==typeof a||"number"==typeof a||null===a,x=!0,L=a,N=null,I=!1,M=!1;for("string"==typeof e||"number"==typeof e||null===e?(p="number"==typeof e,null===e?(T=!1,p=!0):p&&(M=Number.isNaN(E))):(c=e,p=c.isNumber(),b=c.data),_?(x="number"==typeof a,null===a?(A=!1,x=!0):x&&(I=Number.isNaN(L))):(d=a,x=d.isNumber(),N=d.data),u=o.data,m=u?u.length:0,c&&m>b.length&&(m=b.length),d&&m>N.length&&(m=N.length),f=0;f<m;f++)(n===S&&r>=10||l[f]<2)&&(c&&(E=b[f],T=null!==E,p&&(M=Number.isNaN(E))),d&&(L=N[f],A=null!==L,x&&(I=Number.isNaN(L))),n===h||n===g?(t%2==0?i?Number.isNaN(s[f])||null===s[f]?u[f]=s[f]:(s[f]=!0,u[f]=L):x?(n===g&&null===L&&(L=0,A=!0),s[f]=I?NaN:A?0!==L:null):s[f]=null:Number.isNaN(s[f])||null===s[f]?u[f]=s[f]:s[f]&&(u[f]=L),s[f]&&l[f]++):n===S?0<t&&(t%2==0?Number.isNaN(s[f])||null===s[f]?u[f]=s[f]:s[f]&&(u[f]=L):i?Number.isNaN(s[f])||null===s[f]?u[f]=s[f]:0===l[f]&&(s[f]=!0,u[f]=L):s[f]=I||M?NaN:!T&&!A||(T&&A||!(r<10)?"string"==typeof E&&"string"==typeof L?E.trimRight()===L.trimRight():E===L:null),s[f]&&l[f]++):0<t&&(M?u[f]=NaN:(Math.floor(E)===t||i&&null!==E)&&(s[f]=!0,l[f]=2,u[f]=L)))},z=function(e){let t=e.data,i=e.data,a=0,n=null,l=0,s=0,o=0,r=e.data.length;if(e.isNumber())for(o=0;o<r;o++){if(a=t[o],Number.isNaN(a))return[NaN,NaN];null!==a&&(l+=a,s++)}else for(o=0;o<r;o++)n=i[o],null!==n&&""!==n.trim()&&s++;return[l,s]},W=function(e,t){let i,a,n=1/0,l=t.length,s=[];for(i=0;i<l;i++)t[i]&&t[i].setData&&n>t[i].data.length&&(n=t[i].data.length);if(n===1/0&&(n=1),n>1)a=e===f||e===T||e===p?function(e,t,i){let a,n,l,s,o,r=t.length,c=[],d=!1,u=!1;for(a=0;a<r;a++)"number"==typeof t[a]&&(c[a]=t[a]);for(l=F(),s=l.data,a=0;a<i;a++){for(n=0;n<r&&!d;n++)t[n]&&t[n].setData&&(o=t[n],c[n]=o.data[a]),Number.isNaN(c[n])?d=!0:null===c[n]&&(u=!0);if(d)s[a]=NaN;else if(u)s[a]=null;else switch(e){case f:s[a]=JMP.FinanceStatic.IRR(c);break;case T:s[a]=JMP.FinanceStatic.MIRR(c);break;case p:s[a]=JMP.FinanceStatic.NPV(c)}d=!1,u=!1}return l}(e,t,n):function(e,t,i){let a,n,l,s,o,r,c,d,u,h,g,S,f,T,p,b,A,_,x,L,N,I=t.length;for(I>0&&("number"==typeof t[0]||null===t[0]?a=t[0]:(c=t[0],f=c.data)),I>1&&(t[1]&&t[1].setData?(d=t[1],T=d.data):n=t[1]),I>2&&(t[2]&&t[2].setData?(u=t[2],p=u.data):l=t[2]),I>3&&(t[3]&&t[3].setData?(h=t[3],b=h.data):s=t[3]),I>4&&(t[4]&&t[4].setData?(g=t[4],A=g.data):o=t[4]),I>5&&(t[5]&&t[5].setData?(S=t[5],_=S.data):r=t[5]),x=F(),L=x.data,N=0;N<i;N++)if(c&&(a=f[N]),d&&(n=T[N]),u&&(l=p[N]),h&&(s=b[N]),g&&(o=A[N]),S&&(r=_[N]),Number.isNaN(a)||Number.isNaN(n)||Number.isNaN(l)||Number.isNaN(s)||Number.isNaN(o)||Number.isNaN(r))L[N]=NaN;else if(null===a||null===n||null===l||null===s||null===o||null===r)L[N]=null;else switch(e){case m:L[N]=JMP.FinanceStatic.DDB(a,n,l,s,o);break;case 154:L[N]=JMP.FinanceStatic.FV(a,n,l,s,o);break;case 155:L[N]=JMP.FinanceStatic.IPmt(a,n,l,s,o,r);break;case 158:L[N]=JMP.FinanceStatic.NPer(a,n,l,s,o);break;case 160:L[N]=JMP.FinanceStatic.Pmt(a,n,l,s,o);break;case 161:L[N]=JMP.FinanceStatic.PPmt(a,n,l,s,o,r);break;case 162:L[N]=JMP.FinanceStatic.PV(a,n,l,s,o);break;case 163:L[N]=JMP.FinanceStatic.Rate(a,n,l,s,o,r);break;case 164:L[N]=JMP.FinanceStatic.SLN(a,n,l);break;case E:L[N]=JMP.FinanceStatic.SYD(a,n,l,s)}return x}(e,t,n);else{for(i=0;i<l;i++){if(Number.isNaN(t[i]))return NaN;if(null===t[i])return null;s[i]=t[i]}switch(e){case m:a=JMP.FinanceStatic.DDB(...s);break;case 154:a=JMP.FinanceStatic.FV(...s);break;case 155:a=JMP.FinanceStatic.IPmt(...s);break;case f:a=JMP.FinanceStatic.IRR(s);break;case T:a=JMP.FinanceStatic.MIRR(s);break;case 158:a=JMP.FinanceStatic.NPer(...s);break;case p:a=JMP.FinanceStatic.NPV(s);break;case 160:a=JMP.FinanceStatic.Pmt(...s);break;case 161:a=JMP.FinanceStatic.PPmt(...s);break;case 162:a=JMP.FinanceStatic.PV(...s);break;case 163:a=JMP.FinanceStatic.Rate(...s);break;case 164:a=JMP.FinanceStatic.SLN(s[0],s[1],s[2]);break;case E:a=JMP.FinanceStatic.SYD(s[0],s[1],s[2],s[3])}}return a},X=function(e){let t,i=Number.MAX_VALUE,a=e.length;for(let n=0;n<a;n++)t=e[n],null!==t&&t<i&&(i=t);return i},Z=function(e){let t,i=-Number.MAX_VALUE,a=e.length;for(let n=0;n<a;n++)t=e[n],null!==t&&t>i&&(i=t);return i},q=function(e,t){let i,a,n,l,s,o=1;const r=t[0],c=t[1],d=!!r.setData;d&&(o=r.data.length),n=c.data.length,s=n-1;let u={data:[],setData:1};for(u.data.length=o*s,u.data.fill(0),u.nCols=s,u.nRows=o,i=0;i<o;i++){for(l=d?r.data[i]:r,a=0;a<n&&c.data[a]!==l;a++);a<=s&&400===e?u.data.fill(1,i*s,i*s+a):a<s?u.data[i*s+a]=1:a===s&&(401===e?u.data.fill(-1,i*s,i*s+s):402===e&&u.data.fill(0,i*s,i*s+s))}return u},j=function(e,t){const i=t.length,a=e===b||167===e?4:3;let n=[],l=F();if(i<2||i>a)return NaN;for(let e=0;e<i;e++){if(Number.isNaN(t[e])||null===t[e])return NaN;if("number"!=typeof t[e]&&!t[e].setData)return NaN}switch(e){case b:case 167:n=function(e,t){const i=e===b,a=t.length;let n,l=[];t[0].setData?(l=t[0].data,n=l.length):(n=1,l.length=n,l[0]=t[0]);let s,o=-1;if(t[1].setData)s=t[1].data;else if(o=t[1],o<0)return NaN;let r=3;if(a>2&&(r=t[2],r<0))return NaN;let c,d=null,u=null;if(4===a){if(c=t[3],!c.setData)return NaN;if(2!==c.data.length)return NaN;if(d=c.data[0],u=c.data[1],d>u||null===d||null===u)return NaN}null===d&&(d=X(l)),null===u&&(u=Z(l));let h=[];if(o>=0){let e=[...new Set(l)].sort(((e,t)=>e-t));if(o>e.length-2)return NaN;for(let t=0;t<o;t++){let i=(t+1)/(o+1);h.push(e[Math.ceil(e.length*i)-1])}}else{if(0===s.length)return NaN;if(h=[...s].sort(((e,t)=>e-t)),h[0]<d||h[h.length-1]>u)return NaN;o=h.length}let g=[],S=o;if(i){S+=2*(r+1);let e=!(null===d||null===u);for(let t=0;t<r+1;t++)g.push(e?d:l[0]);for(let e=0;e<o;e++)g.push(h[e]);for(let t=0;t<r+1;t++)g.push(e?u:l[l.length-1])}let m,f=[];if(i)m=JMP.SplineStatic.calculateBSpline(n,l,r,S,g,f);else{m=JMP.SplineStatic.calculatePSpline(n,l,r,S,h,f);for(let e=0;e<n;e++)if(l[e]<d||l[e]>u)for(let t=0;t<m;t++)f[t+e*m]=null}return f}(e,t);break;default:n=function(e){const t=e.length;let i,a=[];e[0].setData?(a=e[0].data,i=a.length):(i=1,a.length=i,a[0]=e[0]);const n=e[1];if(n<1)return NaN;let l;if(3===t){if(l=e[2],l<JMP.SINGULAR)return NaN}else l=Z(a)-X(a)+1;const s=2*Math.PI/l;let o=[];return JMP.FourierStatic.calculateBasis(i,a,n,s,o),o}(t)}return Number.isNaN(n)||null===n||"number"==typeof n?n:(l.data=[...n],l.isVector=!0,l)},K=function(e,t){const i=t.length;if(i<1||i>3)return NaN;const a=t[0];if(null===a)return null;let n=0,l=1,s=!1;if(i>=2){if(n=t[1],null===n)return null;3===i&&(l=t[2],s=!!l.setData)}const o=!!a.setData,r=!!n.setData;let c;if(e===A){if(o||r||s){c=F();let e=o?a.data.length:r?n.data.length:l.data.length;for(let t=0;t<e;t++){const e=o?a.data[t]:a,i=r?n.data[t]:n,d=s?l.data[t]:l;c.data[t]=null===d||d<=0||null===e?null:JMP.ProbitStatic.normalLogDensity((e-i)/d)-Math.log(d)}}else if(null===l||l<=0)c=null;else{const e=void 0!==a.value?a.value:a;c=JMP.ProbitStatic.normalLogDensity((e-n)/l)-Math.log(l)}}else if(e===_){if(o||r||s){c=F();let e=o?a.data.length:r?n.data.length:l.data.length;for(let t=0;t<e;t++){const e=o?a.data[t]:a,i=r?n.data[t]:n,d=s?l.data[t]:l;c.data[t]=null===d||d<=0||null===e?null:JMP.ProbitStatic.normalQuantile(e)*d+i}}else if(null===l||l<=0)c=null;else{const e=void 0!==a.value?a.value:a;c=JMP.ProbitStatic.normalQuantile(e)*l+n}}return c},Q=function(e,t,i){return null===e||null===t||null===i||i<=0?null:JMP.ProbitStatic.zprbnrm((e-t)/i)},J=function(e){if(e.length<1||e.length>3)return null;const t=e[0],i=e.length>1?e[1]:0,a=e.length>2?e[2]:1;if(t&&t.setData){const e=F();for(let n=0;n<t.data.length;n++)e.data[n]=Q(t.data[n],i,a);return e}if(i&&i.setData){const e=F();for(let n=0;n<i.data.length;n++)e.data[n]=Q(t,i.data[n],a);return e}return Q(t,i,a)},$=function(e,t,i){return null===e||e<=0||e>=1||null===t||t<=0||null===i?null:JMP.ProbitStatic.tQuantile(e,t,i)},ee=function(e){if(e.length<2||e.length>3)return null;const t=e[0],i=e[1],a=e.length>2?e[2]:0;if(t&&t.setData){const e=F();for(let n=0;n<t.data.length;n++)e.data[n]=$(t.data[n],i,a);return e}if(i&&i.setData){const e=F();for(let n=0;n<i.data.length;n++)e.data[n]=$(t,i.data[n],a);return e}if(a&&a.setData){const e=F();for(let n=0;n<a.data.length;n++)e.data[n]=$(t,i,a.data[n]);return e}return $(t,i,a)},te=function(e,t){return null===e||e<=0||null===t||0===t?null:Math.exp(-e/t)/t},ie=function(e){if(e.length<1||e.length>2)return null;const t=e[0],i=e.length>1?e[1]:1;if(t&&t.setData){const e=F();for(let a=0;a<t.data.length;a++)e.data[a]=te(t.data[a],i);return e}if(i&&i.setData){const e=F();for(let a=0;a<i.data.length;a++)e.data[a]=te(t,i.data[a]);return e}return te(t,i)},ae=function(e){if(e.length<1||e.length>3)return null;let t=e[0],i=e.length>1?e[1]:0;const a=e.length>2?e[2]:1;return null===i&&(i=0),null===a||a<=0?null:(t=(t-i)/a,JMP.ProbitStatic.normalDensity(t)/a)},ne=function(e){if(3!==e.length)return null;if(e[0]&&e[0].setData){const t=F();for(let i=0;i<e[0].data.length;i++)t.data[i]=ae([Math.log(e[0].data[i]),e[1],e[2]]),null!==t.data[i]&&(t.data[i]=t.data[i]/e[0].data[i]);return t}if(e[1]&&e[1].setData){const t=F();for(let i=0;i<e[1].data.length;i++)t.data[i]=ae([Math.log(e[0]),e[1].data[i],e[2]]),null!==t.data[i]&&(t.data[i]=t.data[i]/e[0]);return t}if(e[2].setData){const t=F();for(let i=0;i<e[2].data.length;i++)t.data[i]=ae([Math.log(e[0]),e[1],e[2].data[i]]),null!==t.data[i]&&(t.data[i]=t.data[i]/e[0]);return t}let t=e[0];e[0]=Math.log(e[0]);let i=ae(e);return null!==i&&(i/=t),i},le=function(e){if(3!==e.length)return null;const t=e[0],i=e[1],a=e[2];if(a<=0)return null;if(null===i)return null;const n=(t-i)/a;return Math.exp(n-2*Math.log(1+Math.exp(n))-Math.log(a))},se=function(e){if(3!==e.length)return null;if(e[0]&&e[0].setData){const t=F();for(let i=0;i<e[0].data.length;i++)t.data[i]=le([Math.log(e[0].data[i]),e[1],e[2]]),null!==t.data[i]&&(t.data[i]=t.data[i]/e[0].data[i]);return t}if(e[1]&&e[1].setData){const t=F();for(let i=0;i<e[1].data.length;i++)t.data[i]=le([Math.log(e[0]),e[1].data[i],e[2]]),null!==t.data[i]&&(t.data[i]=t.data[i]/e[0]);return t}if(e[2].setData){const t=F();for(let i=0;i<e[2].data.length;i++)t.data[i]=le([Math.log(e[0]),e[1],e[2].data[i]]),null!==t.data[i]&&(t.data[i]=t.data[i]/e[0]);return t}let t=e[0];e[0]=Math.log(e[0]);let i=le(e);return null!==i&&(i/=t),i},oe=function(e){if(3!==e.length)return null;const t=e[0],i=e[1],a=e[2];if(a<=0)return null;if(null===i)return null;const n=(t-i)/a;return Math.exp(-n-Math.exp(-n))/a},re=function(e){if(3!==e.length)return null;if(e[0]&&e[0].setData){const t=F();for(let i=0;i<e[0].data.length;i++)t.data[i]=oe([Math.log(e[0].data[i]),e[1],e[2]]),null!==t.data[i]&&(t.data[i]=t.data[i]/e[0].data[i]);return t}if(e[1]&&e[1].setData){const t=F();for(let i=0;i<e[1].data.length;i++)t.data[i]=oe([Math.log(e[0]),e[1].data[i],e[2]]),null!==t.data[i]&&(t.data[i]=t.data[i]/e[0]);return t}if(e[2].setData){const t=F();for(let i=0;i<e[2].data.length;i++)t.data[i]=oe([Math.log(e[0]),e[1],e[2].data[i]]),null!==t.data[i]&&(t.data[i]=t.data[i]/e[0]);return t}let t=e[0];e[0]=Math.log(e[0]);let i=oe(e);return null!==i&&(i/=t),i},ce=function(e,t,i,a){return null===e||null===t||t<=0||null===i||i<=0||null===a?null:e<=a?0:(e=(e-a)/i,e=t*Math.pow(e,t-1)*Math.exp(-Math.pow(e,t))/i)},de=function(e){if(e.length<2||e.length>4)return null;const t=e[0],i=e[1],a=e.length>=3?e[2]:1,n=e.length>=4?e[3]:0;if(t&&t.setData){const e=F();for(let l=0;l<t.data.length;l++)e.data[l]=ce(t.data[l],i,a,n);return e}if(i&&i.setData){const e=F();for(let l=0;l<i.data.length;l++)e.data[l]=ce(t,i.data[l],a,n);return e}if(a&&a.setData){const e=F();for(let l=0;l<a.data.length;l++)e.data[l]=ce(t,i,a.data[l],n);return e}if(n&&n.setData){const e=F();for(let l=0;l<n.data.length;l++)e.data[l]=ce(t,i,a,n.data[l]);return e}return ce(t,i,a,n)},ue=function(e,t,i,a){return null===e||null===t||t<=0||null===i||i<=0||null===a?null:e<=a?0:(e=(e-a)/i,e=1-Math.exp(-Math.pow(e,t)))},he=function(e){if(e.length<2||e.length>4)return null;const t=e[0],i=e[1],a=e.length>=3?e[2]:1,n=e.length>=4?e[3]:0;if(t&&t.setData){const e=F();for(let l=0;l<t.data.length;l++)e.data[l]=ue(t.data[l],i,a,n);return e}if(a&&a.setData){const e=F();for(let l=0;l<a.data.length;l++)e.data[l]=ue(t,i,a.data[l],n);return e}return ue(t,i,a,n)},ge=function(e,t,i,a){return null===e||e<0||e>1||null===t||t<=0||null===i||i<=0||null===a?null:0===e?a:e=(e=JMP.ProbitStatic.weibullQuantile(e,t))*i+a},Se=function(e){if(e.length<2||e.length>4)return null;const t=e[0],i=e[1],a=e.length>=3?e[2]:1,n=e.length>=4?e[3]:0;if(t&&t.setData){const e=F();for(let l=0;l<t.data.length;l++)e.data[l]=ge(t.data[l],i,a,n);return e}if(a&&a.setData){const e=F();for(let l=0;l<a.data.length;l++)e.data[l]=ge(t,i,a.data[l],n);return e}return ge(t,i,a,n)},me=function(t){let a=0;switch(t){case"apply":a=1;break;case"ci":a=2;break;case"cc":a=3;break;case"cn":a=4;break;case"cs":a=5;break;case"plus":a=6;break;case"times":a=7;break;case"divide":a=8;break;case"modulo":a=9;break;case"power":a=10;break;case"root":a=11;break;case"minus":a=e;break;case"min":a=i;break;case"max":a=n;break;case"abs":a=15;break;case"floor":a=16;break;case"ceiling":a=17;break;case"not":a=18;break;case"and":a=19;break;case"or":a=20;break;case"eq":a=l;break;case"neq":a=22;break;case"gt":a=23;break;case"lt":a=24;break;case"geq":a=25;break;case"leq":a=26;break;case"ismissing":a=s;break;case"zeroormissing":a=o;break;case"exp":a=29;break;case"ln":a=30;break;case"log":a=31;break;case"log1p":a=32;break;case"lgamma":a=33;break;case"digamma":a=34;break;case"logit":a=35;break;case"logistpercent":a=36;break;case"sin":a=134;break;case"cos":a=135;break;case"tan":a=136;break;case"sinh":a=137;break;case"cosh":a=138;break;case"tanh":a=139;break;case"arcsin":a=140;break;case"arccos":a=141;break;case"arctan":a=142;break;case"arcsinh":a=143;break;case"arccosh":a=144;break;case"arctanh":a=r;break;case"sum":a=c;break;case"mean":a=d;break;case"n":a=u;break;case"if":a=h;break;case"ifmz":a=g;break;case"match":a=S;break;case"choose":a=152;break;case"ddb":a=m;break;case"fv":a=154;break;case"ipmt":a=155;break;case"irr":a=f;break;case"mirr":a=T;break;case"nper":a=158;break;case"npv":a=p;break;case"pmt":a=160;break;case"ppmt":a=161;break;case"pv":a=162;break;case"rate":a=163;break;case"sln":a=164;break;case"syd":a=E;break;case"bspline":a=b;break;case"pspline":a=167;break;case"fourier":a=168;break;case"normallogdensity":a=A;break;case"normalquantile":a=_;break;case"normaldistribution":a=202;break;case"tquantile":a=203;break;case"expdensity":a=204;break;case"lognormaldensity":a=205;break;case"loglogisticdensity":a=206;break;case"frechetdensity":a=207;break;case"weibulldensity":a=208;break;case"weibulldistribution":a=209;break;case"weibullquantile":a=210;break;case"opmatrix":case"oplist":a=300;break;case"concat":a=301;break;case"designord":a=400;break;case"designnom":a=401;break;case"designlast":a=402;break;case"vecquadratic":a=403;break;case"hdirectproduct":a=404;break;default:a=0}return a};return x.cacheXML=function(e,i,n,l,s){let o,r,c,d,u,h,g,S,m,f,T=e.childNodes,p=i,E=l.length;for(o=T.length,r=0;r<o;r++){if(u=T[r],"degree"===u.nodeName)for(c=0,h=u.childNodes,u=h[c];u.nodeType===window.Node.TEXT_NODE;)c++,u=h[c];if(h=u.childNodes,g=u.nodeName,u.nodeType!==window.Node.TEXT_NODE)switch(g){case"apply":x.cacheXML(u,i,n,l,s),E=l.length;break;case"ci":for(S=null,m=h[0].nodeValue,f=p.length,c=0;c<f&&!S;c++)p[c]&&p[c].name===m&&(S=p[c]);l[E]="column"===u.getAttribute("type")?3:2,n[E]=S,s[E]=0,E++;break;case"cn":d=h[0].nodeValue,l[E]=4,n[E]="."===d?null:parseFloat(d),s[E]=0,E++;break;case"cs":l[E]=5,n[E]=h.length>0?h[0].nodeValue:"",s[E]=0,E++;break;case"matrix":if(h.length>0){let e=[];for(let t=0;t<h.length;t++){const i=h[t];for(let t=0;t<i.childNodes.length;t++){const a=i.childNodes[t].childNodes[0].nodeValue;e.push("."===a?null:parseFloat(a))}}l[E]=3;let i=new a(null,"",t.TYPE_NUMBER);i.data=[...e],i.isVector=!0,n[E]=i,s[E]=0,E++}break;default:l[E]=me(g),n[E]=null,s[E]=u.parentNode.childNodes.length-1,E++,"root"===g&&u.parentNode.childNodes.length<3&&(l[E]=4,n[E]=2,s[E-1]=s[E-1]+1,s[E]=0,E++)}}l[E]=1,n[E]=null,E++},x.calculateResult=function(t,a,f,T){I.fill(!0),M=0;let p,x,N,X,Z,Q,$,te,ae,le,oe=function(e){let t,i,a=e?e.length:0;for(L||(L=[]),t=0;t<a;t++)e[t]&&(i=e[t],i.setValue?L[t]=i.value:L[t]=i);return L}(t),ce=-1,ue=6,ge=!0,me=!1,fe=!1,Te=!1,pe=!1,Ee=!1,be=!1,Ae=!1,_e=!1,xe=!1,Le=!1,Ne=!1,Ie=null,Me=0,ye=0,Ce=null,Re=0,ve=!0,we=!0,Oe=!0,Pe=!1,De=!1,Fe=!1,Be=!0,Ve=!1,ke=!0,Ge=!0,He=!0,Ye=[],Ue=0,ze=0,We=!1,Xe=0,Ze=null,qe=null,je=!1,Ke=0,Qe=null,Je=y.length,$e=a.length;for(X=0;X<$e;X++)if(ae=f[X],ze=X,ae<=5){if(0===ae?Ie=NaN:1===ae?(ue===d&&(ye=+ye/Ke),Ie=ye,_e?Ie=W(ue,ye):xe?Ie=j(ue,ye):Le?Ie=K(ue,ye):202===ue?Ie=J(ye):203===ue?Ie=ee(ye):204===ue?Ie=ie(ye):205===ue?Ie=ne(ye):206===ue?Ie=se(ye):207===ue?Ie=re(ye):208===ue?Ie=de(ye):209===ue?Ie=he(ye):210===ue?Ie=Se(ye):400<=ue&&ue<=402?Ie=q(ue,ye):403===ue?Ie=JMP.MatrixStatic.builtinVecQuadratic(ye):300===ue?Ie=JMP.MatrixStatic.builtinMatrixConstructor(ye):301===ue?Ie=JMP.MatrixStatic.builtinConcat(ye):404===ue&&(Ie=JMP.MatrixStatic.builtinHDirectProduct(ye)),ue=y[ce],ge=6<=ue&&ue<=11,me=e<=ue&&ue<=n,fe=15<=ue&&ue<=18,Te=19<=ue&&ue<=20,pe=l<=ue&&ue<=o,Ee=29<=ue&&ue<=r,be=c<=ue&&ue<=u,Ae=h<=ue&&ue<=152,_e=m<=ue&&ue<=E,xe=b<=ue&&ue<=168,Le=A<=ue&&ue<=_,Ne=A<=ue,ze=C[ce],ye=R[ce],$=v[ce],Ue=$>>4,Xe=(12&$)>>2,We=(2&$)>0,je=(1&$)>0,qe=O[ce]||null,Ze=w[ce]||null,Qe=P[ce],Me=D[ce],ue===S&&(Fe=!1,Oe=!0,null===Qe?Oe=!1:"number"==typeof Qe&&(Fe=Number.isNaN(Qe))),ce--):2===ae?(te=a[X],Ie=oe[t.indexOf(te)],void 0===Ie&&(Ie=null)):Ie=a[X],Ce=Ie,Pe=!1,Ve=!1,"number"==typeof Ie?(Ve=!0,ke=!0,Pe=Number.isNaN(Ce),ve=!0):"string"==typeof Ie?(ke=!0,ve=!0):null===Ie?(Ve=!0,ke=!0,ve=!1,p=null):(ke=!1,ve=!0,p=Ie),je){if(ge||me||Te||pe||be)if(Re=ye,De=!1,"number"==typeof ye?(Ve=!0,Ge=!0,De=Number.isNaN(Re),we=!0):"string"==typeof ye?(Ve=!1,Ge=!0,we=!0):null===ye?(Ge=!0,we=!1):(Ge=!1,we=!0),Be=ve&&we,He=ke&&Ge,He)if(De||Pe)ye=NaN;else switch(ue){case 6:ye=Be?Re+Ce:null;break;case 7:ye=Be?Re*Ce:null;break;case 8:ye=Be?Re/Ce:null;break;case 9:ye=B(Re,Ce);break;case 10:ye=Be?0===Re&&Ce<0?NaN:Re**Ce:null;break;case 11:ye=Be?Ce!==-1/0||2!==Re?Ce**(1/Re):NaN:null;break;case e:ye=Be?-Re-Ce:null;break;case i:ye=Be?Re<Ce?Re:Ce:we?Re:ve?Ce:null;break;case n:ye=we||ve?Be?Re>Ce?Re:Ce:we?Re:Ce:null;break;case 19:ye=Be?+(0!==Re&&0!==Ce):we&&!ve&&0===Re||ve&&!we&&0===Ce?0:null;break;case 20:ye=Be?+(0!==Re||0!==Ce):we&&!ve&&0!==Re||ve&&!we&&0!==Ce?1:null;break;case l:ye=Ve?Be?ye===Ie?1:0:null:ye===Ie?1:0;break;case 22:ye=Ve?Be?ye!==Ie?1:0:null:ye!==Ie?1:0;break;case 23:ye=Be?ye>Ie?1:0:null;break;case 24:ye=Be?ye<Ie?1:0:null;break;case 25:ye=Be?ye>=Ie?1:0:null;break;case 26:ye=Be?ye<=Ie?1:0:null;break;case s:ye=V(ye);break;case o:ye=Ve?Be&&0!==Re?0:1:NaN;break;case c:ye=Be?Re+Ce:we?Re:ve?Ce:0;break;case d:ye=Be?Re+Ce:we?Re:ve?Ce:0,ve&&Ke++;break;case u:ye=Be?Re+1:we?Re:ve?1:0}else ge||me||Te?ye=k(ye,Ie,ue):pe&&(ye=Y(ye,Ie,ue))}else if(ue===s||ue===o)ye=ke?Pe||ue===o&&("string"==typeof Ie||te&&te.isString())?NaN:ue===o?ve&&0!==Ie?0:1:V(Ie):Ie,je=!0;else if(me||fe||Ee||be){if(ve&&!Pe)if(ke)switch(ue){case e:ye=-Ce;break;case i:case n:ye=Ce;break;case 15:ye=Ce>=0?Ce:-Ce;break;case 16:ye=Math.floor(Ce);break;case 17:ye=Math.ceil(Ce);break;case 18:ye=0!==Ce?0:1;break;case 29:ye=Math.exp(Ce);break;case 30:ye=Math.log(Ce);break;case 31:ye=Math.log10(Ce);break;case 32:ye=Math.log1p(Ce);break;case 33:ye=JMP.NumericStatic.zlgamma(Ce);break;case 34:ye=JMP.NumericStatic.zdigamma(Ce);break;case 35:ye=Math.log(Ce/(1-Ce));break;case 36:ye=100/(1+Math.exp(-Ce));break;case 134:ye=Math.sin(Ce);break;case 135:ye=Math.cos(Ce);break;case 136:ye=Math.tan(Ce);break;case 137:ye=(Math.exp(Ce)-Math.exp(-Ce))/2;break;case 138:ye=(Math.exp(Ce)+Math.exp(-Ce))/2;break;case 139:ye=(Math.exp(Ce)-Math.exp(-Ce))/(Math.exp(Ce)+Math.exp(-Ce));break;case 140:ye=Math.asin(Ce);break;case 141:ye=Math.acos(Ce);break;case 142:ye=Math.atan(Ce);break;case 143:ye=Math.log(Ce+Math.sqrt(1+Ce*Ce));break;case 144:ye=2*Math.log(Math.sqrt((Ce+1)/2)+Math.sqrt((Ce-1)/2));break;case r:ye=(Math.log(1+Ce)-Math.log(1-Ce))/2;break;case c:ye=Ce;break;case d:ye=Ce,Ke++;break;case u:ye=V(Ce)?0:1}else i<=ue&&ue<=n?ye=1===f[X+1]?G(p,ue===i):Ie:me||fe||Ee?ye=H(p,ue):(Ye=z(p),ue===c?ye=Ye[0]:ue===d?(ye=Ye[0],Ke=Ye[1]):ye=Ye[1]);else ye=Pe?NaN:ue===u?0:null;je=!0}else Ae||_e||xe||Le||Ne||(ye=Ie,je=!0);if(Ae){if(f[ze-1]===ue&&(Qe=Ie,Fe=!1,"number"==typeof Qe?(Fe=Number.isNaN(Qe),Oe=!0):"string"==typeof Qe?Oe=!0:null===Qe&&(Oe=!1)),N="number"==typeof Qe||"string"==typeof Qe||null===Qe?null:Qe,p="number"==typeof Ie||"string"==typeof Ie||null===Ie?null:Ie,x="number"==typeof ye||"string"==typeof ye||null===ye?null:ye,Ge=!N&&!p&&!x,"number"==typeof ye||null===ye)if(Re=ye,De=!1,Ge)De=Number.isNaN(Re),we=null!==ye;else for(we=!1,Q=N?N.data.length:p?p.data.length:x.data.length,x&&x.data.length===Q||(ye=F(),x=ye),Ze=[],qe=[],le=x.data,Z=0;Z<Q;Z++)le[Z]=Re,Ze[Z]=We,qe[Z]=Xe;else if(Ge)we=!0;else for(we=!0,De=!1,le=x.data,Z=0;Z<Q&&!De;Z++)De=Number.isNaN(le[Z]),null===le[Z]&&(we=!1);if(Ge){if(ue===S&&Me>=10||Xe<2)if(ue===h||ue===g){if(Ue%2==0)if(1===f[X+1]&&!1===We)We=!0,ye=Ie;else{if(ue===g&&null===Ie&&(Ie=0,ve=!0),Pe)return NaN;ve&&"number"==typeof Ie?We=0!==Ie:(We=null,ye=null)}else We&&(ye=Ie);We&&Xe++}else if(ue===S){if(0<Ue){if(Ue%2==0)We&&(ye=Ie);else if(1===f[X+1])0===Xe&&(We=!0,ye=Ie);else{if(Fe)return NaN;if(Oe||null!==Ie){if(!Oe&&Me<10)return null;We="string"==typeof Qe&&"string"==typeof Ie?Qe.trimRight()===Ie.trimRight():Qe===Ie}else We=!0}We&&Xe++}}else if(0<Ue){if(Fe)return NaN;(Math.floor(Qe)===Ue||1===f[X+1]&&null!==Qe)&&(We=!0,Xe=2,ye=Ie)}}else U(Qe,Ue,1===f[X+1],Ie,ue,qe,Ze,ye,Me);Ue++}else _e||xe||Le||Ne?ye.push(Ie):!p||ue!==s&&ue!==o||(ye=Y(p,null,ue))}else{if(ce++,$=(Ue<<4)+(Xe<<2)+(We?2:0)+(je?1:0),y[ce]=ue,C[ce]=X,R[ce]=ye,v[ce]=$,O[ce]=qe,w[ce]=Ze,P[ce]=Qe,D[ce]=Me,ce>Je&&Je++,ue=ae,ge=6<=ue&&ue<=11,me=e<=ue&&ue<=n,fe=15<=ue&&ue<=18,Te=19<=ue&&ue<=20,pe=l<=ue&&ue<=o,Ee=29<=ue&&ue<=r,be=c<=ue&&ue<=u,Ae=h<=ue&&ue<=152,_e=m<=ue&&ue<=E,xe=b<=ue&&ue<=168,Le=A<=ue&&ue<=_,Ne=A<=ue,ye=null,Me=T[X],_e||xe||Le||Ne)ye=[];else if(ue===S&&Me<3)return NaN;Ue=0,Xe=0,We=!1,je=!1,qe=null,Ze=null,Qe=null,Ke=0,Oe=!1}return ye&&ye.data&&(ye=ye.data),ye},x}(),JMP.MathParser=function(e){"use strict";let t=new l(e),i=null,a=null,n=!0,s=[],o=[],r=[];return t.setVariables=function(e){t.setInputVariables(e),n=!0},e&&t.setVariables(e),t.setMath=function(e){i=e,a=null,n=!0,t.needCalculation=!0},t.setMathDOM=function(e){a=e,n=!0,t.needCalculation=!0},t.calculate=function(){n&&(n=!1,function(){let e,n=new window.DOMParser;o=[],s=[],r=[],a||(i.startsWith("<apply>")||(i="<apply>"+i+"</apply>"),e=n.parseFromString(i,"text/xml"),a=e.documentElement),JMP.MathParserStatic.cacheXML(a,t.inputVariables,s,o,r)}()),t.needCalculation=!1,t.result=JMP.MathParserStatic.calculateResult(t.inputVariables,s,o,r)},t},JMP.MatrixStatic=function(){"use strict";let e={},t=function(e,t,i,a){let n,l,s,o,r,c;for(n=0,r=o=0;r<a;r++)if(s=e[t+r],0===s)o+=r+1;else{for(l=0,c=0;c<r;c++)l+=i[o++]*e[t+c];n+=s*(l+l+i[o++]*s)}return n};return e.builtinMatrixConstructor=function(e){let t={data:[],setData:1},i=1,a=0;for(let t=0;t<e.length;t++){const n=e[t];n.setData?void 0===n.nRows?(i=Math.max(n.data.length,i),a++):(i=Math.max(n.nRows,i),a+=n.nCols):a++}t.data.length=i*a,t.nRows=i,t.nCols=a;let n=0;for(let l=0;l<e.length;l++){const s=e[l];if(s.setData)if(void 0===s.nRows){for(let e=0;e<i;e++)t.data[e*a+n]=s.data[e];n++}else if(i===s.nRows){for(let e=0;e<i;e++)for(let i=0;i<s.nCols;i++)t.data[e*a+n+i]=s.data[e*s.nCols+i];n+=s.nCols}else{for(let e=0;e<i;e++)for(let i=0;i<s.nCols;i++)t.data[e*a+n+i]=s.data[i];n+=s.nCols}else{for(let e=0;e<i;e++)t.data[e*a+n]=s;n++}}return t},e.builtinVecQuadratic=function(e){const i=e[0],a=e[1];let n=[],l=Math.sqrt(i.data.length);!function(e,t,i){let a,n;for(a=0;a<e;a++)for(n=0;n<=a;n++)t.push(i[a*e+n])}(l,n,i.data);let s={data:[],setData:1};for(let e=0;e<a.nRows;e++)s.data.push(t(a.data,e*a.nCols,n,l));return 1===a.nRows?s.data[0]:(s.nRows=a.nRows,s.nCols=1,s)},e.builtinHDirectProduct=function(e){let t,i,a=e[0],n=e[1],l=1,s=1,o=1,r=1,c={data:[],setData:1};"number"==typeof a?t=!0:void 0===a.nRows?l=a.data.length:(l=a.nRows,o=a.nCols),"number"==typeof n?i=!0:void 0===n.nRows?s=n.data.length:(s=n.nRows,r=n.nCols);const d=Math.max(l,s);for(let e=0;e<d;e++)for(let d=0;d<o;d++)for(let u=0;u<r;u++){const h=t?a:1===l?a.data[d]:a.data[e*o+d],g=i?n:1===s?n.data[u]:n.data[e*r+u];null===h||null===g?c.data.push(null):c.data.push(h*g)}return c.nRows=d,c.nCols=o*r,c},e.builtinConcat=function(e){for(let t=1;t<e.length;t++)if(e[t-1].nRows&&e[t].nRows&&e[t-1].nRows!==e[t].nRows)return null;let t=-1;for(let i=0;i<e.length;i++)if(e[i].nRows){t=e[i].nRows;break}if(t<0){t=1;for(let i=0;i<e.length;i++)if(e[i].data.length>1){t=e[i].data.length;break}}for(let i=0;i<e.length;i++)1===e[i].data.length&&(e[i].data.length=t,e[i].data.fill(e[i].data[0],1));let i={data:[],setData:1,nCols:0,nRows:t};for(let a=0;a<e.length;a++)e[a].nCols=e[a].data.length/t,i.nCols+=e[a].nCols;for(let a=0;a<t;a++)for(let t=0;t<e.length;t++)for(let n=0;n<e[t].nCols;n++)i.data.push(e[t].data[a*e[t].nCols+n]);return i},e}(),JMP.MomentsStatic=function(){"use strict";let e={},t=function(t,i,a,n,l,s,o,r){let c,d,u,h,g,S,m,f,T,p,E,b,A=t?t.data:void 0,_=n?n.length:A?A.length:i?i.length:a?a.hidden.length:0,x=0,L=0,N=0,I=0,M=0,y=1/0,C=0,R=0,v=!!t&&t.isInformativeMissing;for(a&&(E=a.hidden,b=a.excluded),T=1;T<=3;T++){for(S=0;S<_;S++)if(f=n?n[S]:S,!(o&&b&&b[f]||s&&E&&E[f])){if(p=A?A[f]:1,null===p){if(!l&&!v)continue;p=1}if(p-=C,g=p,c=1,m=1,i){if(m=i[f],null===m||m<=0)continue;c*=m,g=c*p}1===T?(M<p&&(M=p),y>p&&(y=p),I+=m,x+=g,N+=c):2===T?x+=g:Math.abs(p/C)>=1e-14&&(R+=p*p*c)}if(1===T){if(N<=0)break;L=x,C=x/N,R=0,M>y&&M-y<Math.abs(C)/1e3?x=0:T++}else 2===T&&(C+=x/N)}d=null,u=null,h=null,N>0?Math.abs(I-1)>JMP.MAC_EPS&&(d=R/(I-1),u=d>0?Math.sqrt(d):0,h=u/Math.sqrt(N)):(C=null,x=null,L=null),r[e.STAT_N]=I,r[e.STAT_SUM]=L,r[e.STAT_MEAN]=C,r[e.STAT_VARIANCE]=d,r[e.STAT_STD]=u,r[e.STAT_SEM]=h,r[e.STAT_SUM_WGT]=N},i=function(t,i,a,n,l,s,o){let r,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L=t?t.data:void 0,N=i?i.data:void 0;for(a&&(S=a.hidden,m=a.excluded),o[e.STAT_NMISS]=null,o[e.STAT_SUM]=null,o[e.STAT_SKEW]=null,o[e.STAT_KURTOSIS]=null,o[e.STAT_CV]=null,o[e.STAT_VARIANCE]=null,h=o[e.STAT_MEAN],g=o[e.STAT_STD],E=o[e.STAT_N],b=E-1,A=0,_=0,x=0,u=n?n.length:L?L.length:N?N.length:0,c=0;c<u;c++)if(r=n?n[c]:c,!(s&&m&&m[r]||l&&S&&S[r]))if(T=L?L[r]:1,null!==T){if(f=1,d=1,N){if(d=N[r],null===d||d<=0)continue;f*=d}T=(T-h)/g,p=T*T,A+=f*p*T,_+=f*p*p}else{if(d=1,N&&(d=N[r],null===d||d<=0))continue;x+=d}o[e.STAT_NMISS]=x,null!==h&&(o[e.STAT_SUM]=h*o[e.STAT_SUM_WGT],o[e.STAT_SKEW]=E<=2?null:A*(E/(b*(E-2))),o[e.STAT_KURTOSIS]=E<=3?null:_*(E*(E+1)/(b*(E-2)*(E-3)))-3*b*b/((E-2)*(E-3)),null!==g&&(o[e.STAT_CV]=Math.abs(h)<JMP.MAC_EPS?null:100*(0!==h?g/h:0),o[e.STAT_VARIANCE]=g*g))},a=function(t,i,a,n,l,o,r){let c,d,u,h,g,S,m,f,T,p=[],E=t.data,b=i?i.data:void 0,A=n?n.length:E?E.length:b?b.length:0,_=0,x=0,L=!0;if(a&&(m=a.hidden,f=a.excluded),r[e.STAT_MIN]=null,r[e.STAT_MAX]=null,r[e.STAT_RANGE]=null,r[e.STAT_IQR]=null,r[e.STAT_Q1]=null,r[e.STAT_Q3]=null,r[e.STAT_MEDIAN]=null,r[e.STAT_GEOMETRIC_MEAN]=null,null!==r[e.STAT_MEAN]){for(d=0,g=0;g<A;g++)c=n?n[g]:g,o&&f&&f[c]||l&&m&&m[c]||(u=1,h=1,b&&(u=b[c],null===u||u<=0)||(T=E[c],null!==T&&(0===T&&(L=!1,_=0),T<0&&(L=!1,_=null),L&&(x+=1*u,_+=1*u*Math.log(T)),d++)));S=d,L&&S>0&&(_/=x,_=Math.exp(_)),r[e.STAT_GEOMETRIC_MEAN]=_,p=s.getValue([t],i,a,[n],void 0,!1,l,o)[0][0],p&&(r[e.STAT_MIN]=p[0],r[e.STAT_MAX]=p[4],r[e.STAT_RANGE]=p[4]-p[0],r[e.STAT_IQR]=p[3]-p[1],r[e.STAT_Q1]=p[1],r[e.STAT_Q3]=p[3],r[e.STAT_MEDIAN]=p[2])}};return e.STAT_NONE=-1,e.STAT_PERCENT=0,e.STAT_N=1,e.STAT_SUM=2,e.STAT_MEAN=3,e.STAT_VARIANCE=4,e.STAT_STD=5,e.STAT_SEM=6,e.STAT_MIN=7,e.STAT_MAX=8,e.STAT_RANGE=9,e.STAT_IQR=10,e.STAT_Q1=11,e.STAT_Q3=12,e.STAT_MEDIAN=13,e.STAT_CONFIDENCE=14,e.STAT_GEOMETRIC_MEAN=15,e.STAT_NMISS=16,e.STAT_SKEW=17,e.STAT_KURTOSIS=18,e.STAT_CV=19,e.STAT_SUM_WGT=20,e.STAT_MAD=21,e.NAMES=["Percent of Total","Count","Sum","Mean","Variance","Standard Deviation","Standard Error","Minimum","Maximum","Range","Interquartile Range","First Quartile","Third Quartile","Median","95% Confidence","Geometric Mean","Number of Missing Values","Skewness","Kurtosis","Coefficient of Variation","Sum of Weights","Median Absolute Deviation"],e.requiresPrecision=function(t){return t===e.STAT_PERCENT||t===e.STAT_MEAN||t===e.STAT_VARIANCE||t===e.STAT_STD||t===e.STAT_SEM||t===e.STAT_CONFIDENCE||t===e.STAT_GEOMETRIC_MEAN||t===e.STAT_SKEW||t===e.STAT_KURTOSIS||t===e.STAT_CV||t===e.STAT_SUM_WGT||t===e.STAT_MAD},e.getRange=function(e,t){let i,a,n=0,l={};if(!e||!e.length)return null;for(a=e.length,l.min=t?JMP.MAC_LOG_BIG:Number.MAX_VALUE,l.max=t?0:-Number.MAX_VALUE,i=0;i<a;i++)void 0!==e[i]&&null!==e[i]&&Number.isFinite(e[i])&&(!t||t&&e[i]>0)&&(n++,e[i]<l.min&&(l.min=e[i]),e[i]>l.max&&(l.max=e[i]));return n<2?null:(l.range=l.max-l.min,l)},e.getNRowsNonMissing=function(e,t,i,a,n){let l,s,o,r,c,d,u,h=0;for(d=e?e.length:0,u=n?n.length:e&&e[0]?e[0].data.length:i?i.data.length:a?a.excluded.length:0,a&&(c=a.excluded),l=0;l<u;l++){for(s=n?n[l]:l,r=!1,o=0;o<d&&!r;o++)r=null===e[o].data[s];r||=!!t&&null===t.data[s],c&&c[s]||r||(i?null!==i.data[s]&&i.data[s]>0&&(h+=i.data[s]):h++)}return h},e.getValue=function(n,l,s,o,r,c,d,u,h){let g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w=void 0!==c?c:e.STAT_N,O=o,P=n,D=[];for(l&&(m=l.data),s&&(_=s.hidden,x=s.excluded),(!O||O.length<=0)&&(O=[void 0]),(!P||P.length<=0)&&(P=[void 0]),E=O?O.length:0,b=P?P.length:0,f=0;f<E;f++)for(D[f]=[],T=0;T<b;T++)switch(g=P[T],g&&(S=g.data),v=!!g&&g.isInformativeMissing,R=[],w){case e.STAT_NONE:break;case e.STAT_N:case e.STAT_SUM:case e.STAT_MEAN:case e.STAT_VARIANCE:case e.STAT_STD:case e.STAT_SEM:t(g,m,s,O[f],(d||v)&&w===e.STAT_N,u,h,R),D[f][T]=R[w];break;case e.STAT_NMISS:case e.STAT_SKEW:case e.STAT_KURTOSIS:case e.STAT_CV:t(g,m,s,O[f],!1,u,h,R),i(g,l,s,O[f],u,h,R),D[f][T]=R[w];break;case e.STAT_MIN:case e.STAT_MAX:case e.STAT_RANGE:case e.STAT_IQR:case e.STAT_Q1:case e.STAT_Q3:case e.STAT_MEDIAN:case e.STAT_GEOMETRIC_MEAN:g&&(t(g,m,s,O[f],!1,u,h,R),a(g,l,s,O[f],u,h,R),D[f][T]=R[w]);break;default:for(C=0,D[f][T]=0,I=O&&O[f]?O[f].length:x?x.length:S?S.length:0,p=0;p<I;p++)A=O[f]?O[f][p]:p,y=S?S[A]:1,h&&x&&x[A]||null===y||u&&_&&_[A]||(N=1,l&&(N=null!==m[A]&&m[A]>0?m[A]:0,y*=N),D[f][T]+=y,C+=N);if(C>0){for(L=0,M=r?r.length:x?x.length:S?S.length:0,p=0;p<M;p++)A=r?r[p]:p,y=S?S[A]:1,h&&x&&x[A]||null===y||u&&_&&_[A]||(l&&(null!==m[A]&&m[A]>0?y*=m[A]:y=0),L+=y);L&&(D[f][T]/=L)}else D[f][T]=null}return D},e.calculate=function(t){t.result=e.getValue(t.inputVariables,t.freqColumn,t.rowStates,t.rowIndices,t.allIndices,t.statistic,t.isMissingUsed,t.isHiddenUsed,t.isExcludedUsed),t.needCalculation=!1},e}(),JMP.Moments=function(e,t,i,a,n,s,o){"use strict";let r=new l(e,t,i,a);return r.freqColumn=n,r.setFreqColumn=function(e){l.setValue(r,"freqColumn",e)},r.allIndices=s?s.concat():void 0,r.setAllIndices=function(e){l.setArray(r,"allIndices",e)},r.statistic=o,r.setStatistic=function(e){l.setValue(r,"statistic",e)},r.calculate=function(){JMP.MomentsStatic.calculate(r)},r},JMP.NStatic=function(){"use strict";let e={getValues:function(e,t,i,a,n,l){let s,o,r,c,d,u,h,g,S,m,f,T,p=e?e.length:1,E=a,b=[],A=0,_=0,x=0,L=0,N=0,I=0;for(p<1&&(p=1),t&&(o=t.data),i&&(m=i.selected,f=i.hidden,T=i.excluded),r=a?a.length:1,c=0;c<r;c++)for(E=a?a[c]:void 0,b[c]=[],d=0;d<p;d++){for(s=e?e[d]:void 0,g=E?E.length:o?o.length:f?f.length:0,A=0,_=0,x=0,L=0,N=0,I=0,u=0;u<g;u++)S=E?E[u]:u,l&&T&&T[S]||(!s||null!==s.data[S]||n||s.isInformativeMissing)&&(h=1,o&&(h=o[S],null===h||h<=0)||(A+=h,f&&f[S]?(x+=h,m&&m[S]&&(_+=h)):m&&m[S]&&(_+=h,L+=h),T&&T[S]&&(N+=h),f&&f[S]&&T&&T[S]&&(I+=h)));b[c][d]={count:A,countSelected:_,countHidden:x,countSelectedNonHidden:L,countExcluded:N,countHiddenExcluded:I}}return b},calculate:function(t){t.result=e.getValues(t.inputVariables,t.freqColumn,t.rowStates,t.rowIndices,t.isMissingUsed,t.isExcludedUsed),t.needCalculation=!1},getFractions:function(e,t){t[0]=0,t[1]=1,e.count&&(t[0]=e.countSelectedNonHidden/e.count,t[1]=1-e.countHidden/e.count)}};return e}(),JMP.N=function(e,t,i,a,n){"use strict";let s=new l(e,t,i,a);return s.freqColumn=n,s.setFreqColumn=function(e){l.setValue(s,"freqColumn",e)},s.calculate=function(){JMP.NStatic.calculate(s)},s},JMP.NumericStatic=function(){"use strict";let e={frexp:function(e){let t=new Float64Array(1),i=new Uint8Array(t.buffer);t[0]=e;let a=i[7]>>7,n=((127&i[7])<<4|i[6]>>4)-1023;return i[7]=63,i[6]|=240,{sign:a,exponent:n,mantissa:t[0]}},zibeta:function(t,i,a,n){let l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P;l=i,s=a,o=t,P=JMP.MAC_LOG_BIG/2,y=8*JMP.MAC_EPS;let D=function(){return-1,{p:null,d:null}},F=function(){return{p:Math.min(1,Math.max(N,0)),d:I}};if(i>JMP.MAC_LONG||a>JMP.MAC_LONG)return 1;if(t<0||t>1||i<=0||a<=0)return D();if(0===t)return N=I=0,F();if(1===t)return N=1,I=0,F();if(I=(i-1)*Math.log(t)+(a-1)*JMP.ProbitStatic.zln1px(-t)-e.zlbeta(i,a),I<JMP.MAC_LOG_SMALL)return N=t>i/(i+a)?1:0,I=0,F();if(I=Math.exp(I),w=400,C=0,E=i+a,r=E*t,c=2*Math.sqrt(i*a/(E+1)),(r>i+c||r+6*t>i+3)&&(C=1),C){const e=i;i=a,a=e,t=1-t}for(i<1?(i++,R=1):R=0,S=c=r=h=1,m=u=0,b=(1-t)/t,T=i*(i+1)*b,L=x=i+a,E=x-1,b+=b,p=i*b,A=-i*(a-1),_=i-a,v=1;v<400&&!(Math.abs(S-m)<y*S);v++)f=A/T,A+=_+=2,T+=p+=b,d=c+f*r,g=h+f*u,f=x/T,x+=L+=2,T+=p+=b,r=d+f*c,u=g+f*h,m=S,0===r?S=JMP.MAC_BIG:(({mantissa:M,exponent:O}=e.frexp(r)),Math.abs(O)>P&&(r=M,M=JMP.ProbitStatic.ldexp(1,-O),u*=M,d*=M,g*=M),S=u/r),c=r,r=d,h=u,u=g;return v>=400?(a=s,t=o,(i=l)>5e3&&a>100||a>5e3&&i>100?(S=a*t/(i*(1-t)),r=.1111111111111111/i,c=.1111111111111111/a,S=Math.pow(S,.3333333333333333),S=(S*(1-c)-(1-r))/Math.sqrt(r+S*S*c),N=JMP.ProbitStatic.zprbnrm(S),F()):D()):(N=I*t*(R?(1-t+S*t*E/i)/(i-1):S/i),C&&(N=1-N),F())},zlbeta:function(t,i){let a;if(t<=0||i<=0)return 99;if(t<i){const e=t;t=i,i=e}return a=-i/(t+i),a=t<15?e.zlgamma(t)+e.zlgamma(i)-e.zlgamma(t+i):(t+i-.5)*JMP.ProbitStatic.zln1px(a)-i*Math.log(t)+i+e.zlgamma(i)+e.zlgbern(t)-e.zlgbern(t+i),a},zlgamma:function(t){let i,a;if(t<=0)return null;if(Math.abs(t-1)<JMP.MAC_EPS||Math.abs(t-2)<JMP.MAC_EPS)return 0;if(i=t,i<15){for(a=1;i<1;)a/=i,i+=1;for(;i>2;)i-=1,a*=i;if(Math.abs(t-(t>>0)-.5)<JMP.MAC_EPS)return i=Math.log(a)-.12078223763524522,i;i-1.5<0?(i-=1,i*=(i*(i*(.2079812846119617+i*(.7494577256954738+i*(.36252537533106266+i*(.05692342633165193+.002126546376940967*i))))-.8017986934675778)-.5772156649015329)/(1+i*(2.8139668163177345+i*(2.9550965510668346+i*(1.4276752135116328+i*(.31469269123782706+i*(.026724016735058816+.0005124543681927987*i))))))):(i-=2,i*=(.42278433509846713+i*(.9712118746069075+i*(.8058203645027399+i*(.3098673634213962+i*(.05678875296955259+i*(.004410493669232917+9627912858833401e-20*i))))))/(1+i*(1.5344580849517535+i*(.8949255863507323+i*(.24611091348667924+i*(.03194668377437606+i*(.0016767266689027731+21326962979603636e-21*i))))))),i+=Math.log(a)}else i=(i-.5)*Math.log(i)-i+JMP.LN_R2PI+e.zlgbern(i);return i},zlgbern:function(e){let t;return t=(e=1/e)*e,e*(.08333333333333333+t*(t*(.0007936507936507937+t*(t*(.0008417508417508417+-.0019175269175269176*t)-.0005952380952380953))-.002777777777777778))},zdigamma:function(e){let t,i=0;if(e<.5){if((t=e+Math.floor(.5-e))<0&&(t=-t),-e>JMP.MAC_LONG||t<1e-12*(1>-e?1:-e))return null;i=-Math.PI*Math.cos(Math.PI*e)/Math.sin(Math.PI*e),e=1-e}if(e<20){for(;e>2;)i+=1/--e;for(;e<1;)i-=1/e++;i+=(e-=1.4616321449683622)*(.9676722454476212+e*(1.204498326430075+e*(.5378360457327382+e*(.10584618401804752+e*(.008905175232167111+e*(.0002457423193842438+4.6358835743887255e-7*e))))))/(1+e*(1.7022927992025696+e*(1.067560678680108+e*(.31252643484142645+e*(.04399281485507783+e*(.002693446899164847+507487259536148e-19*e))))))}else t=1/e,t*=t,i+=Math.log(e)-.5/e-t*(.08333333333333333+t*(t*(.003968253968253968+t*(t*(.007575757575757576+t*(t*(.08333333333333333+-.443259803921569*t)-.0210927960927961))-.004166666666666666))-.008333333333333333));return i}};return e}(),JMP.ProbitStatic=function(){"use strict";let e={ldexp:function(e,t){return e*Math.pow(2,t)},calerf:function(e,t,i){const a=[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],n=[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],l=[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],s=[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],o=[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097],r=[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918];let c,d,u,h,g,S;if(c=Math.abs(e),c>Math.SQRT2*JMP.MAC_LOG_BIG)S=0;else if(c>4){for(S=0,d=1/(c*c),u=o[5]*d,h=d,g=0;g<4;g++)u=(u+o[g])*d,h=(h+r[g])*d;S=d*(u+o[4])/(h+r[4]),S=(d=-c*c)<JMP.MAC_LOG_SMALL?0:Math.exp(d)/c*(.5641895835477563-S)}else{if(!(c>.46875)){for(d=0,c>42e-17&&(d=c*c),u=a[4]*d,h=d,g=0;g<3;g++)u=(u+a[g])*d,h=(h+n[g])*d;return S=e*(u+a[3])/(h+n[3]),0!==i&&(S=1-S),void(t.value=S)}for(d=c*c,u=l[8]*c,h=c,g=0;g<7;g++)u=(u+l[g])*c,h=(h+s[g])*c;S=Math.exp(-d)*(u+l[7])/(h+s[7])}0===i?(S=.5-S+.5,e<0&&(S=-S)):e<0&&(S=2-S),t.value=S},zferf:function(t){let i={};return e.calerf(t,i,0),i.value},zferfc:function(t){let i={};return e.calerf(t,i,1),i.value},zprbnrm:function(t){return t>0?e.ldexp(1+e.zferf(t*JMP.R_SQRT2),-1):e.ldexp(e.zferfc(-t*JMP.R_SQRT2),-1)},zcnfmill:function(e,t){let i,a,n,l,s,o,r,c,d,u,h,g,S;i=5*JMP.MAC_EPS,l=1/e,a=l,S=0,o=0,r=l,d=u=1,g=l*=l;do{c=r+o*g,h=u+d*g,n=a,a=c/h,s=a-n,o=r,r=c,d=u,u=h,g+=l}while(Math.abs(s)>i*a&&S++<100);return t.value=a,S>=100?1:0},zmillsr:function(t,i){let a;return t>=5?e.zcnfmill(t,i):(a=Math.exp(.5*t*t+JMP.LN_R2PI),t>=-10&&(a*=e.zprbnrm(-t)),i.value=a,0)},zln1px:function(e){let t;return Math.abs(e)>.03125?Math.log(1+e):(t=(e/=1+.5*e)*e,e+e*t*((.08333333333333427+-.0023812878804825234*t)/(1+-.178575454351365*t)))},zlognrm:function(t,i,a,n){let l,s,o,r,c,d={};if(o=-.5*t*t-JMP.LN_R2PI,n.value=o,s=Math.abs(t),s>=5){if(e.zmillsr(s,d))return 1;l=Math.log(d.value)+o}else l=Math.log(.5*e.zferfc(s*JMP.R_SQRT2));return t<=0?(r=l,c=e.zln1px(-Math.exp(r))):(c=l,r=e.zln1px(-Math.exp(c))),i.value=r,a.value=c,0},szprobit:function(t){let i,a,n,l,s,o,r,c,d,u,h=0;for(n=100*Number.MIN_VALUE,a=-Math.sqrt(-2*Math.log(n)),o=Math.log(t),i=-Math.sqrt(-2*o),l=JMP.MAC_SQRT_BIG;Math.abs(l-o)>=JMP.SINGULAR*Math.abs(o)&&h++<30;){if(c={value:l},u={value:0},d={value:s},e.zlognrm(i,c,u,d))return a;l=c.value,s=d.value,r=l-o,r*=Math.exp(l-s),i-=r}return h>=30?a:i},zprobit:function(t){let i,a,n=1.1774100225154747;return i=t,0===t?-Math.sqrt(-2*JMP.MAC_LOG_SMALL):1===t?7.941345326170997:t<1e-5?e.szprobit(t):((t=t>.5?1-t:t)>.01?(t=Math.sqrt(-2*Math.log(t))-n,t*=(((((((.00023850990628812184*t+.007748014532123519)*t+.09433047102597236)*t+.5906175347671243)*t+2.0524292014826053)*t+3.926527220876258)*t+3.827787912267809)*t+1.4756646266356057)/(((((((.00023846672191006805*t+.007472090148248392)*t+.08675117268832777)*t+.5155497927835685)*t+1.6853868285749263)*t+3.0193046324086072)*t+2.757985744718407)*t+1)):(a=Math.sqrt(-2*Math.log(t))-n,t=a*(13896718225467155e-21+(t=1/a)*(.0009933095513250212+t*(.021322238814693088+t*(.1971184884114817+t*(.9208235553699621+t*(2.302486886454419+t*(2.9349133839409465+t*(1.4756630668977935+2.2366406817573622e-7*t))))))))/(1389640654034189e-20+t*(.000977052221781334+t*(.020255719894916695+t*(.1775558927085442+t*(.7785719242838022+t*(1.8195065884540687+t*(2.152916059924272+t)))))))),i>.5?t:-t)},zqt:function(t,i){let a,n,l,s,o,r,c,d;let u;if(t<=0||t>=1||i<=0)return null;if(u=0,Math.abs(a=t-.5)<.001&&i>=1){if(s=.5*Math.log(i)+JMP.NumericStatic.zlbeta(.5,.5*i),s=a*Math.exp(s),n=s,Math.abs(n)<JMP.MAC_SQRT_EPS)return u=n,u;d=1/i,o=1+d,r=o*(1-d);do{l=n,c=n*n,n-=(n*(1-c*(o/6+c*r/40))-s)/(1-c*(.5*o+c*r/8))}while(Math.abs(l-n)>Math.abs(1e-7*n));u=n}else{if(n=e.ldexp(t>.5?1-t:t,1),n=e.zprobin(n,e.ldexp(i,-1),.5),null===n)return null;n=Math.sqrt(i*(1-n)/n),u=t<=.5?-n:n}return u},zprobin:function(t,i,a){let n,l,s,o;let r,c,d,u,h,g;if(c=1/JMP.MAC_SUM_BIG,0===t)return g=0,g;if(1===t)return g=1,g;if(t>.5){const e=i;i=a,a=e,t=1-t,u=1}else u=0;for(n=Math.sqrt(-2*Math.log(t)),n-=(2.30753+.27061*n)/((.04481*n+.99229)*n+1),i>1&&a>1?(h=1,l=1/(2*i-1),s=1/(2*a-1),o=2/(l+s),s-=l,l=(n*n-3)/6,n=n*Math.sqrt(o+l)/o-s*(l+.8333-.6666/o),n=i/(i+a*Math.exp(e.ldexp(n,1)))):(h=0,n=i/(i+a)-n*Math.sqrt(i*a/((i+a)*(i+a+1))),n<1e-9&&(n=Math.exp(Math.log(t)/i))),g=-1,r=1e-7*t,d=1;d<=30;d++){if(({p:o,d:l}=JMP.NumericStatic.zibeta(n,i,a,o,l)),null===o)return null;if(l<c?s=o>t?0:1:(l=h?(o-t)/(l+.5*(t-o)*((i-1)/n-(a-1)/(1-n))):(o-t)/l,s=n-l),n=s>=1?e.ldexp(1+n,-1):s<=0?e.ldexp(n,-1):s,Math.abs(t-o)<r)break}return 31===d?null:(g=u?1-n:n,g)},zqtnc:function(t,i,a){let n;return n=e.zqt(t,i),null===n?null:0===a?n:null},tQuantile:function(t,i,a){return t<0||t>1?null:e.zqtnc(t,i,a)},normalLogDensity:function(t){let i={};return e.zlognrm(t,{},{},i)?null:i.value},normalQuantile:function(t){return null===t||t<=0||t>=1?null:e.zprobit(t)},normalDensity:function(e){if(null===e)return e;if(e<-38||e>38)return 0;return.3989422804014327*Math.exp(-.5*e*e)},weibullQuantile:function(e,t){let i=e<.99?-Math.log(1-e):-Math.log1p(-e);return 1!==t&&(i=Math.pow(i,1/t)),i},calculate:function(t){t.result=[],t.inputVariables.length>0&&(t.result=e.zprobit(t.inputVariables[0].value)),t.needCalculation=!1}};return e}(),JMP.Probit=function(e,t,i){"use strict";let a=new l(e,t,void 0,i);return a.calculate=function(){JMP.ProbitStatic.calculate(a)},a},JMP.SplineStatic=function(){"use strict";let e={},t=function(e,i,a,n,l,s){let o=0;return 0===a?(e>=l[i]&&e<l[i+1]||i+1>=s&&e>=l[i])&&(o=1):(l[i+a]!==l[i]&&(o+=t(e,i,a-1,n,l,s)*(e-l[i])/(l[i+a]-l[i])),l[i+a+1]!==l[i+1]&&(o+=t(e,i+1,a-1,n,l,s)*(l[i+a+1]-e)/(l[i+a+1]-l[i+1]))),o};return e.calculateBSpline=function(e,i,a,n,l,s){const o=a+1,r=n-o,c=r;s.length=e*c;const d=l[0],u=l[n-1];for(let c=0;c<r;c++)for(let h=0;h<e;h++)i[h]<d||i[h]>u?s[h*r+c]=null:s[h*r+c]=t(i[h],c,a,n,l,n-o);return c},e.calculatePSpline=function(e,t,i,a,n,l){const s=1+i,o=a,r=s+o;if(l.length=e*r,l.fill(1),i>0)for(let a=0;a<e;a++)for(let e=1;e<=i;e++)l[e+a*r]=0===t[a]?Math.pow(t[a],e):Math.exp(e*Math.log(Math.abs(t[a])));for(let a=0;a<e;a++)for(let e=0;e<o;e++)t[a]>n[e]?l[s+e+a*r]=Math.exp(i*Math.log(Math.abs(t[a]-n[e]))):l[s+e+a*r]=0;return r},e}(),JMP.TermStatic=function(){"use strict";let e={},t=function(t,i){let a,n,l,s,o,r,c,d,u,h,g=t.inputVariables,S=t.rowStates,m=t.inputVariables[0],f=i?i.length:m.data.length,T=0,p={},E=e.hasMissingLevels(m,t.isScoreMissing);for(S&&t.isExcludedUsed&&(a=S.excluded),l=JMP.UniqueStatic.getValues(g,t.rowStates,E,!0,[i],!1,!1,t.isExcludedUsed)[0][0],s=l.length,m.isString()&&(p.charLevels=l,p.nLevels=s,p.nRanges=0),p.score=[],d=0;d<f;d++)n=i?i[d]:d,p.score[d]=-1,null===m.data[n]||a&&a[n]||T++;if(m.isNumber())if(m.valueOrdering||(p.min=l[0],p.max=l[s-1]),h=JMP.GroupStatic.getRows(g,[l],void 0,t.rowStates,i?[i]:void 0,E,!1,!1,!0),e.treatAsContinuous(t,s)&&!m.valueOrdering&&void 0!==t.requestedLevels&&s>2*t.requestedLevels){for(o=t.requestedLevels,p.rangeMin=[],p.rangeMin[0]=p.min,p.rangeMin[o]=p.max*(1+1e-10),r=0,c=0,d=0;d<s;d++){for(u=0;u<h[0][d].length;u++)p.score[h[0][d][u]]=r,c++;for(;c>=T*(r+1)/o>>0;)r++,r<o&&(p.rangeMin[r]=d+1<s?l[d+1]:p.rangeMin[o])}for(p.nRanges=o,p.nLevels=o,p.rangeMin.length=o,p.charLevels=[],d=0;d<o;d++)p.charLevels[d]=p.rangeMin[d].toString()+" - "+(d<o-1?p.rangeMin[d+1]:p.max).toString()}else{for(p.charLevels=[],d=0;d<s;d++){for(u=0;u<h[0][d].length;u++)n=i?i.indexOf(h[0][d][u]):h[0][d][u],p.score[n]=d;p.charLevels[d]=m.getValueString(l[d])}p.numLevels=l,p.nLevels=s,p.nRanges=0}else for(d=0;d<f;d++)n=i?i[d]:d,a&&a[n]||(p.score[d]=p.charLevels.indexOf(m.data[n]));return p};return e.SCORE_MISSING_NO=0,e.SCORE_MISSING_YES=1,e.SCORE_MISSING_IF_INFORMATIVE=2,e.scoreMissing=function(e,t){return e&&e.isContinuous()?JMP.TermStatic.SCORE_MISSING_NO:t?JMP.TermStatic.SCORE_MISSING_YES:JMP.TermStatic.SCORE_MISSING_IF_INFORMATIVE},e.hasMissingLevels=function(e,t){let i=t===JMP.TermStatic.SCORE_MISSING_YES;return t===JMP.TermStatic.SCORE_MISSING_IF_INFORMATIVE&&e&&e.isInformativeMissing&&(i=!0),i},e.treatColumnAsContinuous=function(e,t){return!!e.isNumber()&&(!(!e.isContinuous()||e.valueOrdering)||!!e.isOrdinal()&&(!e.valueLabels&&!(t<50)))},e.treatAsContinuous=function(e,t){let i=e.inputVariables[0];return!e.result[0].nRanges&&this.treatColumnAsContinuous(i,t)},e.findLevel=function(e,t,i){let a=void 0!==i?i:0,n=e.getResult()[a];return e.inputVariables[0].isString()?n.charLevels?n.charLevels.indexOf(t):-1:null!==t||!e.inputVariables[0].isContinuous()&&e.isMissingUsed?0!==n.nRanges?function(e,t,i){let a;for(a=0;a<e;a++)if(i<t[a])return a-1;return t[e-1]<=i?e-1:-1}(n.nLevels,n.rangeMin,t):n.numLevels.indexOf(t):-1},e.getScore=function(e,t,i){let a=void 0!==i?i:0,n=-1,l=e.getResult()[a].score;return t>=0&&t<l.length&&(n=l[t]),n},e.splitIndices=function(e,t,i){let a,n,l,s,o,r,c,d,u,h,g=t,S=void 0!==i?i:0;if(e)for(g=[],s=e.getResult()[S].nLevels,o=e.inputVariables[0],r=o.data,l=t?t.length:1,a=0;a<l;a++){for(h=[],c=0;c<s;c++)h[c]=[];for(d=t&&t[a]?t[a].length:r.length,n=0;n<d;n++)u=t&&t[a]?t[a][n]:n,c=e.findLevel(r[u],S),0<=c&&h[c].push(u);for(c=0;c<s;c++)g[a*s+c]=h[c]}return g},e.getValueString=function(e,t,i,a){let n=void 0!==a?a:0,l=null,s=e.inputVariables[0],o=e.getResult()[n];return void 0===i&&s.isNumber()&&(i=s.format),null!==t&&(s.isCategorical()||s.valueOrdering||o.nRanges>0)?(t<0?t=0:t>=o.nLevels&&(t=o.nLevels-1),l=o.charLevels[t>>0]):l=t,s.getValueString(l,i,n)},e.getCharLevel=function(e,t,i){let a=void 0!==i?i:0,n=e.getResult()[a].charLevels[t],l=e.inputVariables[0];return l.valueLabels&&(n=l.isString()?l.getValueString(n):l.getValueString(t)),n},e.calculate=function(e){let i,a=e.rowIndices,n=e.inputVariables;if((!a||a.length<=0)&&(a=[void 0]),e.result=[{nLevels:0,nRanges:0,score:[]}],n&&n[0])for(i=0;i<a.length;i++)e.result[i]={nLevels:0,nRanges:0,score:[]},e.result[i]=t(e,a[i]);e.needCalculation=!1},e}(),JMP.Term=function(e,t,i,a,n){"use strict";let s=new l(e,t,i,JMP.TermStatic.hasMissingLevels(e?e[0]:void 0,void 0===a?JMP.TermStatic.SCORE_MISSING_IF_INFORMATIVE:a));return s.requestedLevels=n,s.isScoreMissing=void 0===a?JMP.TermStatic.SCORE_MISSING_IF_INFORMATIVE:a,s.isExcludedUsed=!0,s.getScores=function(e){let t=void 0!==e?e:0;return s.getResult()[t].score},s.getMin=function(e){let t=void 0!==e?e:0;return s.getResult()[t].min},s.getMax=function(e){let t=void 0!==e?e:0;return s.getResult()[t].max},s.getNLevels=function(e){let t=void 0!==e?e:0;return s.getResult()[t].nLevels},s.getNRanges=function(e){let t=void 0!==e?e:0;return s.getResult()[t].nRanges},s.getNumLevels=function(e){let t=void 0!==e?e:0;return s.getResult()[t].numLevels},s.getCharLevels=function(e){let t=void 0!==e?e:0;return s.getResult()[t].charLevels},s.getRangeMin=function(e){let t=void 0!==e?e:0;return s.getResult()[t].rangeMin},s.getScore=function(e,t){return JMP.TermStatic.getScore(s,e,t)},s.findLevel=function(e,t){return JMP.TermStatic.findLevel(s,e,t)},s.splitIndices=function(e,t){return JMP.TermStatic.splitIndices(s,e,t)},s.getValueString=function(e,t,i){return JMP.TermStatic.getValueString(s,e,t,i)},s.getCharLevel=function(e,t){return JMP.TermStatic.getCharLevel(s,e,t)},s.treatAsContinuous=function(){return JMP.TermStatic.treatAsContinuous(s,s.getNLevels())},s.calculate=function(){JMP.TermStatic.calculate(s)},s},JMP.UniqueStatic=function(){"use strict";let e={},t=function(e,t,i,a){let n,l,s=0,o=e,r=t,c=i;if(a.valueLabels&&a.getValueString(e)!==a.getValueString(t)&&(o=a.getValueString(e),r=a.getValueString(t),c=-1),null===o)null!==r&&(s=-1);else if(null===r)s=1;else if(c>=0){n=o.slice(c),l=r.slice(c);let e=isFinite(n),t=isFinite(l);if(!e&&t)s=1;else if(e&&!t)s=-1;else if(c>0&&"0"===o.charAt(c-1)){let e=Math.min(n.length,l.length),t=n.slice(0,e),i=l.slice(0,e);t<i?s=-1:t>i?s=1:n<l?s=-1:n>l&&(s=1)}else n=+n,l=+l,n<l?s=-1:n>l||o<r?s=1:o>r&&(s=-1)}else{n=o.toLowerCase(),l=r.toLowerCase();let e=/[^\d\s]/,t=n.search(e),i=l.search(e),a=0,c=0;if(t>0&&i>0){let e=n.slice(0,t).trim(),s=l.slice(0,i).trim();e.length>0&&s.length>0&&(a=+e,c=+s)}a<c?s=-1:a>c?s=1:n<l?s=-1:n>l||o<r?s=1:o>r&&(s=-1)}return s},i=function(e,t){let i=0;return null===e?null!==t&&(i=-1):null===t?i=1:e<t?i=-1:e>t&&(i=1),i};return e.getValues=function(e,a,n,l,s,o,r,c){let d,u,h,g,S=e?e.length:0,m=s?s.length:1,f=Array(m);a&&(o&&(u=a.selected),r&&(h=a.hidden),c&&(g=a.excluded));for(let a=0;a<m;a++){d=s?s[a]:null,f[a]=new Array(S);for(let s=0;s<S;s++){let o,r,c=new Set;const S=e[s],m=S.data,T=d?d.length:m.length;o=[];for(let e=0;e<T;e++){let t=d?d[e]:e;if(g&&g[t])continue;if(h&&h[t])continue;if(u&&!u[t])continue;const i=m[t];(null!==i||n||S.isInformativeMissing)&&(c.has(i)||(c.add(i),o.push(i)))}if(S.charLevels||l&&S.valueOrdering){r=S.charLevels?S.charLevels:S.valueOrdering,o=[];let e=!1;const a=new Set;a.add(null);for(let t=0;t<r.length;t++){const i=r[t];c.has(i)&&(o.push(i),a.add(i),null===i&&(e=!0))}if(!S.charLevels){let e=[];for(let t of c)a.has(t)||e.push(t);S.isString()?e.sort(((e,i)=>t(e,i,-1,S))):e.sort(i),o.push(...e)}!e&&c.has(null)&&(S.isMissingLast?o.push(null):o.unshift(null))}else S.isString()?o.sort(((e,i)=>t(e,i,-1,S))):o.sort(i);f[a][s]=o}}return f},e.calculate=function(t){t.result=e.getValues(t.inputVariables,t.rowStates,t.isMissingUsed,t.isValueOrdering,t.rowIndices,t.isSelectedUsed,t.isHiddenUsed,t.isExcludedUsed),t.needCalculation=!1},e}(),JMP.Unique=function(e,t,i,a,n){"use strict";let s=new l(e,t,i,a);return s.isValueOrdering=n||!1,s.setValueOrdering=function(e){l.setValue(s,"isValueOrdering",e)},s.calculate=function(){JMP.UniqueStatic.calculate(s)},s};class r{static SCALE_LINEAR=0;static SCALE_LOG=1;static SCALE_NORMAL=2;static SCALE_GEODESIC=3;static SCALE_GEODESIC_US=4;static SCALE_POWER=5;static TIME_YEAR=0;static TIME_QUARTER=1;static TIME_MONTH=2;static TIME_WEEK=3;static TIME_DAY=4;static TIME_HOUR=5;static TIME_MINUTE=6;static TIME_SECOND=7;static EVENT_INPUT=0;static EVENT_CHANGED=1;static ScaleEvent(e,t,i=!1){return{type:e,scale:t,isReverted:i}}static convertToNormal(e,t){let i=t;return e.type===r.SCALE_NORMAL?(i=t<-4.09?2e-5:t>4.09?.99998:r.#p.get(t.toFixed(2)),void 0===i&&(i=0),i):i}static convertToValue(e,t,i,a){let n=0;switch(e){case r.SCALE_LOG:n=(void 0!==i?i:10)**t;break;case r.SCALE_POWER:a=void 0!==a?a:2,n=t?t/Math.abs(t)*Math.abs(Math.abs(t)**(1/a)):0;break;default:n=t}return n}static convertFromValue(e,t,i,a){let n=0;switch(e){case r.SCALE_LOG:t>0&&(n=Math.log(t)/Math.log(void 0!==i?i:10));break;case r.SCALE_POWER:a=void 0!==a?a:2,n=t?t/Math.abs(t)*Math.abs(Math.abs(t)**a):0;break;default:n=t}return n}static isGeodesic(e,t){let i=e.type===r.SCALE_GEODESIC||e.type===r.SCALE_GEODESIC_US;return i&&t&&(i=t.type===r.SCALE_GEODESIC||t.type===r.SCALE_GEODESIC_US),i}static getSeconds(e){let t=1;switch(e){case r.TIME_YEAR:t=31557600;break;case r.TIME_QUARTER:t=7889400;break;case r.TIME_MONTH:t=2629800;break;case r.TIME_WEEK:t=604800;break;case r.TIME_DAY:t=86400;break;case r.TIME_HOUR:t=3600;break;case r.TIME_MINUTE:t=60}return t}origin;range;type;format;widthMajor;nMinor;timeUnit;refValues;refMaxValues;refColors;refStyles;refWidths;refAlphas;refLabels;refLabelSizes;refLabelColors;refLabelFonts;base;power;labels;tickLabels;tickOrigins;tickSpans;tickTotals;axisLabel;isOrdinal;isContinuous;minInit;maxInit;id=void 0;mappingId=void 0;refFormat;refIsEditable=void 0;constructor(t,i,a,n,l,s,o,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R){this.#e=new e,this.origin=void 0!==t?t:0,this.range=void 0!==i?i:1,this.type=void 0!==a?a:r.SCALE_LINEAR,this.format=n,this.widthMajor=void 0!==l?l:1,this.nMinor=void 0!==s?s:0,this.timeUnit=o,this.refValues=void 0!==c?c.slice(0):void 0,this.refMaxValues=void 0!==d?d.slice(0):void 0,this.refColors=void 0!==u?u.slice(0):void 0,this.refStyles=void 0!==h?h.slice(0):void 0,this.refWidths=void 0!==g?g.slice(0):void 0,this.refAlphas=void 0!==S?S.slice(0):void 0,this.refLabels=void 0!==m?m.slice(0):void 0,this.refLabelSizes=void 0!==f?f.slice(0):void 0,this.refLabelColors=void 0!==T?T.slice(0):void 0,this.refLabelFonts=void 0!==p?p.slice(0):void 0,this.base=void 0!==E?E:10,this.power=void 0!==b?b:2,this.labels=void 0!==A?A.slice(0):void 0,this.tickLabels=void 0!==_?_.slice(0):void 0,this.tickOrigins=void 0!==x?x.slice(0):void 0,this.tickSpans=void 0!==L?L.slice(0):void 0,this.tickTotals=void 0!==N?N.slice(0):void 0,this.axisLabel=void 0!==I?I:void 0,this.isOrdinal=void 0!==M?M:void 0,this.isContinuous=R,this.minInit=void 0!==y?y:0,this.maxInit=void 0!==C?C:1,this.refFormat=JMP.ViewStatic.getPreciseFormat(this.origin,this.range,this.format,!0),this.addEventListener=this.#e.addEventListener,this.removeEventListener=this.#e.removeEventListener}getFormat(){let e;return this.type===r.SCALE_LINEAR?this.labels||(e=JMP.ViewStatic.getPreciseFormat(this.origin,this.range,this.format,!1)):e=this.format,e}getAxisValue(e,t){let i,a,n="";return this.labels&&(i=this.labels[t]),i?(a=this.getCategoryIndex(e,t),n=JMP.ModelStatic.getValueFromArray(a,i)):n=e,n}getCategoryIndex(e,t){let i,a,n,l,s,o,c,d=-1,u=0;if(this.#E[t]||(this.#E[t]=r.#b(this,t)),i=this.#E[t],i)if(a=this.labels[t],a&&i.endPositions)for(l=i.endPositions.length,d=0;d<l&&e>i.endPositions[d];)d++;else if(a){for(s=0,l=this.tickSpans?this.tickSpans[t].length:0,n=0;n<l;n++)s+=this.tickSpans[t][n];o=this.tickOrigins?this.tickOrigins[t]:0,c=s>0?s-o:this.range,this.labels.length>1?(0===t&&this.tickOrigins&&Number.isInteger(this.tickOrigins[t])&&(u=.5),d=(e-o+u)*a.length/c):d=e-o}return d>>0}getReferenceColor(e){if(!this.refColors||!this.refColors[e])return JMP.COLOR_BLACK;return"function"==typeof this.refColors[e]?this.refColors[e]():this.refColors[e]}getReferenceLabelColor(e){return this.refLabelColors&&this.refLabelColors[e]?this.refLabelColors[e]:this.getReferenceColor(e)}getReferenceLabelFont(e,t=JMP.FONT){return this.refLabelFonts&&this.refLabelFonts[e]?`"${this.refLabelFonts[e]}", ${t}`:t}getReferenceLabelSize(e){return this.refLabelSizes&&this.refLabelSizes[e]?this.refLabelSizes[e]:JMP.LARGE_FONT_SIZE}getNiceTickIncrement(e){let t,i,a,n,l=this.range;return void 0===e&&(e=20),t=Math.abs(l)/e,i=Math.log10(t)>>0,a=t/10**i,n=a<1.5?1:a<3?2:a<7?5:10,n*=10**i,void 0!==this.timeUnit&&(n=this.widthMajor),n}getNiceRange(e){let t,i,a,n,l,s;if(this.type===r.SCALE_LOG){for(e[0]<JMP.SMALL_LOG_VALUE&&(e[0]=JMP.SMALL_LOG_VALUE),t=void 0===this.base?10:this.base,n=Math.floor(Math.log(e[0])/Math.log(t)),s=t**n,l=t**(n-(e[0]<2*s?1:0));s+l<e[0];)s+=l;for(e[0]=s,n=Math.floor(Math.log(e[1])/Math.log(t)),s=t**n,l=t**(n-(e[1]<2*s?1:0));s<e[1];)s+=l;e[1]=s}else i=new r(0,e[1]-e[0]).getNiceTickIncrement(),a=1e3*i*JMP.MAC_EPS,0===e[0]?e[1]=i*Math.ceil(e[1]/i+a):0===e[1]?(e[0]=i*Math.floor(e[0]/i-a),e[1]=i):(e[0]=i*Math.floor(e[0]/i-a),e[1]=i*Math.ceil(e[1]/i+a))}isModified(){let e=r.convertToValue(this.type,this.origin,this.base,this.power);return e=r.convertToNormal(this,e),Math.abs((e-this.minInit)/this.minInit)>JMP.SINGULAR||(e=r.convertToValue(this.type,this.origin+this.range,this.base,this.power),e=r.convertToNormal(this,e),Math.abs((e-this.maxInit)/this.maxInit)>JMP.SINGULAR)}updateRange(e,t,i=r.EVENT_CHANGED,a=!1){let n=this.origin,l=this.range,s=a?e:r.convertFromValue(this.type,e,this.base,this.power),o=a?t:r.convertFromValue(this.type,e+t,this.base,this.power)-s;n===s&&l===o&&i!==r.EVENT_CHANGED||(this.origin=s,this.range=o,this.sendEvent(i))}updateTicks(e,t){this.tickLabels=e,this.tickSpans=t}updateReferenceLines(e,t,i,a){for(let n=0;n<e.length;n++){let l=e[n];this.refValues[l]=t[n],this.refLabels[l]=i[n],void 0!==a&&(this.refStyles[l]=a)}}sendEvent(e,t=!1){let i=r.ScaleEvent(e,this,t);this.#e.dispatchEvent(i)}#e;#E=[];static#p=new Map([["-4.00",3e-5],["-4.01",3e-5],["-4.02",3e-5],["-4.03",3e-5],["-4.04",3e-5],["-4.05",3e-5],["-4.06",2e-5],["-4.07",2e-5],["-4.08",2e-5],["-4.09",2e-5],["-3.90",5e-5],["-3.91",5e-5],["-3.92",4e-5],["-3.93",4e-5],["-3.94",4e-5],["-3.95",4e-5],["-3.96",4e-5],["-3.97",4e-5],["-3.98",3e-5],["-3.99",3e-5],["-3.80",7e-5],["-3.81",7e-5],["-3.82",7e-5],["-3.83",6e-5],["-3.84",6e-5],["-3.85",6e-5],["-3.86",6e-5],["-3.87",5e-5],["-3.88",5e-5],["-3.89",5e-5],["-3.70",11e-5],["-3.71",1e-4],["-3.72",1e-4],["-3.73",1e-4],["-3.74",9e-5],["-3.75",9e-5],["-3.76",8e-5],["-3.77",8e-5],["-3.78",8e-5],["-3.79",8e-5],["-3.60",16e-5],["-3.61",15e-5],["-3.62",15e-5],["-3.63",14e-5],["-3.64",14e-5],["-3.65",13e-5],["-3.66",13e-5],["-3.67",12e-5],["-3.68",12e-5],["-3.69",11e-5],["-3.50",23e-5],["-3.51",22e-5],["-3.52",22e-5],["-3.53",21e-5],["-3.54",2e-4],["-3.55",19e-5],["-3.56",19e-5],["-3.57",18e-5],["-3.58",17e-5],["-3.59",17e-5],["-3.40",34e-5],["-3.41",32e-5],["-3.42",31e-5],["-3.43",3e-4],["-3.44",29e-5],["-3.45",28e-5],["-3.46",27e-5],["-3.47",26e-5],["-3.48",25e-5],["-3.49",24e-5],["-3.30",48e-5],["-3.31",47e-5],["-3.32",45e-5],["-3.33",43e-5],["-3.34",42e-5],["-3.35",4e-4],["-3.36",39e-5],["-3.37",38e-5],["-3.38",36e-5],["-3.39",35e-5],["-3.20",69e-5],["-3.21",66e-5],["-3.22",64e-5],["-3.23",62e-5],["-3.24",6e-4],["-3.25",58e-5],["-3.26",56e-5],["-3.27",54e-5],["-3.28",52e-5],["-3.29",5e-4],["-3.10",97e-5],["-3.11",94e-5],["-3.12",9e-4],["-3.13",87e-5],["-3.14",84e-5],["-3.15",82e-5],["-3.16",79e-5],["-3.17",76e-5],["-3.18",74e-5],["-3.19",71e-5],["-3.00",.00135],["-3.01",.00131],["-3.02",.00126],["-3.03",.00122],["-3.04",.00118],["-3.05",.00114],["-3.06",.00111],["-3.07",.00107],["-3.08",.00104],["-3.09",.001],["-2.90",.00187],["-2.91",.00181],["-2.92",.00175],["-2.93",.00169],["-2.94",.00164],["-2.95",.00159],["-2.96",.00154],["-2.97",.00149],["-2.98",.00144],["-2.99",.00139],["-2.80",.00256],["-2.81",.00248],["-2.82",.0024],["-2.83",.00233],["-2.84",.00226],["-2.85",.00219],["-2.86",.00212],["-2.87",.00205],["-2.88",.00199],["-2.89",.00193],["-2.70",.00347],["-2.71",.00336],["-2.72",.00326],["-2.73",.00317],["-2.74",.00307],["-2.75",.00298],["-2.76",.00289],["-2.77",.0028],["-2.78",.00272],["-2.79",.00264],["-2.60",.00466],["-2.61",.00453],["-2.62",.0044],["-2.63",.00427],["-2.64",.00415],["-2.65",.00402],["-2.66",.00391],["-2.67",.00379],["-2.68",.00368],["-2.69",.00357],["-2.50",.00621],["-2.51",.00604],["-2.52",.00587],["-2.53",.0057],["-2.54",.00554],["-2.55",.00539],["-2.56",.00523],["-2.57",.00508],["-2.58",.00494],["-2.59",.0048],["-2.40",.0082],["-2.41",.00798],["-2.42",.00776],["-2.43",.00755],["-2.44",.00734],["-2.45",.00714],["-2.46",.00695],["-2.47",.00676],["-2.48",.00657],["-2.49",.00639],["-2.30",.01072],["-2.31",.01044],["-2.32",.01017],["-2.33",.0099],["-2.34",.00964],["-2.35",.00939],["-2.36",.00914],["-2.37",.00889],["-2.38",.00866],["-2.39",.00842],["-2.20",.0139],["-2.21",.01355],["-2.22",.01321],["-2.23",.01287],["-2.24",.01255],["-2.25",.01222],["-2.26",.01191],["-2.27",.0116],["-2.28",.0113],["-2.29",.01101],["-2.10",.01786],["-2.11",.01743],["-2.12",.017],["-2.13",.01659],["-2.14",.01618],["-2.15",.01578],["-2.16",.01539],["-2.17",.015],["-2.18",.01463],["-2.19",.01426],["-2.00",.02275],["-2.01",.02222],["-2.02",.02169],["-2.03",.02118],["-2.04",.02068],["-2.05",.02018],["-2.06",.0197],["-2.07",.01923],["-2.08",.01876],["-2.09",.01831],["-1.90",.02872],["-1.91",.02807],["-1.92",.02743],["-1.93",.0268],["-1.94",.02619],["-1.95",.02559],["-1.96",.025],["-1.97",.02442],["-1.98",.02385],["-1.99",.0233],["-1.80",.03593],["-1.81",.03515],["-1.82",.03438],["-1.83",.03362],["-1.84",.03288],["-1.85",.03216],["-1.86",.03144],["-1.87",.03074],["-1.88",.03005],["-1.89",.02938],["-1.70",.04457],["-1.71",.04363],["-1.72",.04272],["-1.73",.04182],["-1.74",.04093],["-1.75",.04006],["-1.76",.0392],["-1.77",.03836],["-1.78",.03754],["-1.79",.03673],["-1.60",.0548],["-1.61",.0537],["-1.62",.05262],["-1.63",.05155],["-1.64",.0505],["-1.65",.04947],["-1.66",.04846],["-1.67",.04746],["-1.68",.04648],["-1.69",.04551],["-1.50",.06681],["-1.51",.06552],["-1.52",.06426],["-1.53",.06301],["-1.54",.06178],["-1.55",.06057],["-1.56",.05938],["-1.57",.05821],["-1.58",.05705],["-1.59",.05592],["-1.40",.08076],["-1.41",.07927],["-1.42",.0778],["-1.43",.07636],["-1.44",.07493],["-1.45",.07353],["-1.46",.07215],["-1.47",.07078],["-1.48",.06944],["-1.49",.06811],["-1.30",.0968],["-1.31",.0951],["-1.32",.09342],["-1.33",.09176],["-1.34",.09012],["-1.35",.08851],["-1.36",.08692],["-1.37",.08534],["-1.38",.08379],["-1.39",.08226],["-1.20",.11507],["-1.21",.11314],["-1.22",.11123],["-1.23",.10935],["-1.24",.10749],["-1.25",.10565],["-1.26",.10383],["-1.27",.10204],["-1.28",.10027],["-1.29",.09853],["-1.10",.13567],["-1.11",.1335],["-1.12",.13136],["-1.13",.12924],["-1.14",.12714],["-1.15",.12507],["-1.16",.12302],["-1.17",.121],["-1.18",.119],["-1.19",.11702],["-1.00",.15866],["-1.01",.15625],["-1.02",.15386],["-1.03",.15151],["-1.04",.14917],["-1.05",.14686],["-1.06",.14457],["-1.07",.14231],["-1.08",.14007],["-1.09",.13786],["-0.90",.18406],["-0.91",.18141],["-0.92",.17879],["-0.93",.17619],["-0.94",.17361],["-0.95",.17106],["-0.96",.16853],["-0.97",.16602],["-0.98",.16354],["-0.99",.16109],["-0.80",.21186],["-0.81",.20897],["-0.82",.20611],["-0.83",.20327],["-0.84",.20045],["-0.85",.19766],["-0.86",.19489],["-0.87",.19215],["-0.88",.18943],["-0.89",.18673],["-0.70",.24196],["-0.71",.23885],["-0.72",.23576],["-0.73",.2327],["-0.74",.22965],["-0.75",.22663],["-0.76",.22363],["-0.77",.22065],["-0.78",.2177],["-0.79",.21476],["-0.60",.27425],["-0.61",.27093],["-0.62",.26763],["-0.63",.26435],["-0.64",.26109],["-0.65",.25785],["-0.66",.25463],["-0.67",.25143],["-0.68",.24825],["-0.69",.2451],["-0.50",.30854],["-0.51",.30503],["-0.52",.30153],["-0.53",.29806],["-0.54",.2946],["-0.55",.29116],["-0.56",.28774],["-0.57",.28434],["-0.58",.28096],["-0.59",.2776],["-0.40",.34458],["-0.41",.3409],["-0.42",.33724],["-0.43",.3336],["-0.44",.32997],["-0.45",.32636],["-0.46",.32276],["-0.47",.31918],["-0.48",.31561],["-0.49",.31207],["-0.30",.38209],["-0.31",.37828],["-0.32",.37448],["-0.33",.3707],["-0.34",.36693],["-0.35",.36317],["-0.36",.35942],["-0.37",.35569],["-0.38",.35197],["-0.39",.34827],["-0.20",.42074],["-0.21",.41683],["-0.22",.41294],["-0.23",.40905],["-0.24",.40517],["-0.25",.40129],["-0.26",.39743],["-0.27",.39358],["-0.28",.38974],["-0.29",.38591],["-0.10",.46017],["-0.11",.4562],["-0.12",.45224],["-0.13",.44828],["-0.14",.44433],["-0.15",.44038],["-0.16",.43644],["-0.17",.43251],["-0.18",.42858],["-0.19",.42465],["-0.00",.5],["-0.01",.49601],["-0.02",.49202],["-0.03",.48803],["-0.04",.48405],["-0.05",.48006],["-0.06",.47608],["-0.07",.4721],["-0.08",.46812],["-0.09",.46414],["0.00",.5],["0.01",.50399],["0.02",.50798],["0.03",.51197],["0.04",.51595],["0.05",.51994],["0.06",.52392],["0.07",.5279],["0.08",.53188],["0.09",.53586],["0.10",.53983],["0.11",.5438],["0.12",.54776],["0.13",.55172],["0.14",.55567],["0.15",.55962],["0.16",.5636],["0.17",.56749],["0.18",.57142],["0.19",.57535],["0.20",.57926],["0.21",.58317],["0.22",.58706],["0.23",.59095],["0.24",.59483],["0.25",.59871],["0.26",.60257],["0.27",.60642],["0.28",.61026],["0.29",.61409],["0.30",.61791],["0.31",.62172],["0.32",.62552],["0.33",.6293],["0.34",.63307],["0.35",.63683],["0.36",.64058],["0.37",.64431],["0.38",.64803],["0.39",.65173],["0.40",.65542],["0.41",.6591],["0.42",.66276],["0.43",.6664],["0.44",.67003],["0.45",.67364],["0.46",.67724],["0.47",.68082],["0.48",.68439],["0.49",.68793],["0.50",.69146],["0.51",.69497],["0.52",.69847],["0.53",.70194],["0.54",.7054],["0.55",.70884],["0.56",.71226],["0.57",.71566],["0.58",.71904],["0.59",.7224],["0.60",.72575],["0.61",.72907],["0.62",.73237],["0.63",.73565],["0.64",.73891],["0.65",.74215],["0.66",.74537],["0.67",.74857],["0.68",.75175],["0.69",.7549],["0.70",.75804],["0.71",.76115],["0.72",.76424],["0.73",.7673],["0.74",.77035],["0.75",.77337],["0.76",.77637],["0.77",.77935],["0.78",.7823],["0.79",.78524],["0.80",.78814],["0.81",.79103],["0.82",.79389],["0.83",.79673],["0.84",.79955],["0.85",.80234],["0.86",.80511],["0.87",.80785],["0.88",.81057],["0.89",.81327],["0.90",.81594],["0.91",.81859],["0.92",.82121],["0.93",.82381],["0.94",.82639],["0.95",.82894],["0.96",.83147],["0.97",.83398],["0.98",.83646],["0.99",.83891],["1.00",.84134],["1.01",.84375],["1.02",.84614],["1.03",.84849],["1.04",.85083],["1.05",.85314],["1.06",.85543],["1.07",.85769],["1.08",.85993],["1.09",.86214],["1.10",.86433],["1.11",.8665],["1.12",.86864],["1.13",.87076],["1.14",.87286],["1.15",.87493],["1.16",.87698],["1.17",.879],["1.18",.881],["1.19",.88298],["1.20",.88493],["1.21",.88686],["1.22",.88877],["1.23",.89065],["1.24",.89251],["1.25",.89435],["1.26",.89617],["1.27",.89796],["1.28",.89973],["1.29",.90147],["1.30",.9032],["1.31",.9049],["1.32",.90658],["1.33",.90824],["1.34",.90988],["1.35",.91149],["1.36",.91308],["1.37",.91466],["1.38",.91621],["1.39",.91774],["1.40",.91924],["1.41",.92073],["1.42",.9222],["1.43",.92364],["1.44",.92507],["1.45",.92647],["1.46",.92785],["1.47",.92922],["1.48",.93056],["1.49",.93189],["1.50",.93319],["1.51",.93448],["1.52",.93574],["1.53",.93699],["1.54",.93822],["1.55",.93943],["1.56",.94062],["1.57",.94179],["1.58",.94295],["1.59",.94408],["1.60",.9452],["1.61",.9463],["1.62",.94738],["1.63",.94845],["1.64",.9495],["1.65",.95053],["1.66",.95154],["1.67",.95254],["1.68",.95352],["1.69",.95449],["1.70",.95543],["1.71",.95637],["1.72",.95728],["1.73",.95818],["1.74",.95907],["1.75",.95994],["1.76",.9608],["1.77",.96164],["1.78",.96246],["1.79",.96327],["1.80",.96407],["1.81",.96485],["1.82",.96562],["1.83",.96638],["1.84",.96712],["1.85",.96784],["1.86",.96856],["1.87",.96926],["1.88",.96995],["1.89",.97062],["1.90",.97128],["1.91",.97193],["1.92",.97257],["1.93",.9732],["1.94",.97381],["1.95",.97441],["1.96",.975],["1.97",.97558],["1.98",.97615],["1.99",.9767],["2.00",.97725],["2.01",.97778],["2.02",.97831],["2.03",.97882],["2.04",.97932],["2.05",.97982],["2.06",.9803],["2.07",.98077],["2.08",.98124],["2.09",.98169],["2.10",.98214],["2.11",.98257],["2.12",.983],["2.13",.98341],["2.14",.98382],["2.15",.98422],["2.16",.98461],["2.17",.985],["2.18",.98537],["2.19",.98574],["2.20",.9861],["2.21",.98645],["2.22",.98679],["2.23",.98713],["2.24",.98745],["2.25",.98778],["2.26",.98809],["2.27",.9884],["2.28",.9887],["2.29",.98899],["2.30",.98928],["2.31",.98956],["2.32",.98983],["2.33",.9901],["2.34",.99036],["2.35",.99061],["2.36",.99086],["2.37",.99111],["2.38",.99134],["2.39",.99158],["2.40",.9918],["2.41",.99202],["2.42",.99224],["2.43",.99245],["2.44",.99266],["2.45",.99286],["2.46",.99305],["2.47",.99324],["2.48",.99343],["2.49",.99361],["2.50",.99379],["2.51",.99396],["2.52",.99413],["2.53",.9943],["2.54",.99446],["2.55",.99461],["2.56",.99477],["2.57",.99492],["2.58",.99506],["2.59",.9952],["2.60",.99534],["2.61",.99547],["2.62",.9956],["2.63",.99573],["2.64",.99585],["2.65",.99598],["2.66",.99609],["2.67",.99621],["2.68",.99632],["2.69",.99643],["2.70",.99653],["2.71",.99664],["2.72",.99674],["2.73",.99683],["2.74",.99693],["2.75",.99702],["2.76",.99711],["2.77",.9972],["2.78",.99728],["2.79",.99736],["2.80",.99744],["2.81",.99752],["2.82",.9976],["2.83",.99767],["2.84",.99774],["2.85",.99781],["2.86",.99788],["2.87",.99795],["2.88",.99801],["2.89",.99807],["2.90",.99813],["2.91",.99819],["2.92",.99825],["2.93",.99831],["2.94",.99836],["2.95",.99841],["2.96",.99846],["2.97",.99851],["2.98",.99856],["2.99",.99861],["3.00",.99865],["3.01",.99869],["3.02",.99874],["3.03",.99878],["3.04",.99882],["3.05",.99886],["3.06",.99889],["3.07",.99893],["3.08",.99896],["3.09",.999],["3.10",.99903],["3.11",.99906],["3.12",.9991],["3.13",.99913],["3.14",.99916],["3.15",.99918],["3.16",.99921],["3.17",.99924],["3.18",.99926],["3.19",.99929],["3.20",.99931],["3.21",.99934],["3.22",.99936],["3.23",.99938],["3.24",.9994],["3.25",.99942],["3.26",.99944],["3.27",.99946],["3.28",.99948],["3.29",.9995],["3.30",.99952],["3.31",.99953],["3.32",.99955],["3.33",.99957],["3.34",.99958],["3.35",.9996],["3.36",.99961],["3.37",.99962],["3.38",.99964],["3.39",.99965],["3.40",.99966],["3.41",.99968],["3.42",.99969],["3.43",.9997],["3.44",.99971],["3.45",.99972],["3.46",.99973],["3.47",.99974],["3.48",.99975],["3.49",.99976],["3.50",.99977],["3.51",.99978],["3.52",.99978],["3.53",.99979],["3.54",.9998],["3.55",.99981],["3.56",.99981],["3.57",.99982],["3.58",.99983],["3.59",.99983],["3.60",.99984],["3.61",.99985],["3.62",.99985],["3.63",.99986],["3.64",.99986],["3.65",.99987],["3.66",.99987],["3.67",.99988],["3.68",.99988],["3.69",.99989],["3.70",.99989],["3.71",.9999],["3.72",.9999],["3.73",.9999],["3.74",.99991],["3.75",.99991],["3.76",.99992],["3.77",.99992],["3.78",.99992],["3.79",.99992],["3.80",.99993],["3.81",.99993],["3.82",.99993],["3.83",.99994],["3.84",.99994],["3.85",.99994],["3.86",.99994],["3.87",.99995],["3.88",.99995],["3.89",.99995],["3.90",.99995],["3.91",.99995],["3.92",.99996],["3.93",.99996],["3.94",.99996],["3.95",.99996],["3.96",.99996],["3.97",.99996],["3.98",.99997],["3.99",.99997],["4.00",.99997],["4.01",.99997],["4.02",.99997],["4.03",.99997],["4.04",.99997],["4.05",.99997],["4.06",.99998],["4.07",.99998],["4.08",.99998],["4.09",.99998]]);static#b(e,t){let i,a,n,l,s,o=0;if((e.isOrdinal||e.labels)&&(i={},s=e.labels[t]?e.labels[t].length:0,e.tickSpans&&e.tickTotals&&(a=e.tickSpans[t],n=e.tickTotals[t],a&&n)))for(i.endPositions=[],l=0;l<s;l++)o+=a[l],i.endPositions[l]=o;return i}}class c{red;green;blue;constructor(e=0,t=0,i=0){this.red=e,this.green=t,this.blue=i}static fromHexString(e){return"#"===e[0]&&(e=e.substring(1)),new c(...c.stringTorgb(e))}getHexString(){return c.rgbToHexString([this.red,this.green,this.blue])}getLuminance(){const e=this.#A();return.3*e.red+.59*e.green+.11*e.blue}getHLS(){const e={hue:0,lightness:0,saturation:0},t=this.#A(),i=t.red,a=t.green,n=t.blue;let l=i;a>l&&(l=a),n>l&&(l=n);let s=i;if(a<s&&(s=a),n<s&&(s=n),e.lightness=(l+s)/2,l===s)e.saturation=0,e.hue=0;else{e.lightness<=.5?e.saturation=(l-s)/(l+s):e.saturation=(l-s)/(2-l-s);const t=l-s;e.hue=i===l?(a-n)/t:a===l?2+(n-i)/t:4+(i-a)/t,e.hue/=6,e.hue<0&&(e.hue+=1),e.hue>=1&&(e.hue-=1)}return e}setHLS(e,t,i){let a,n,l,s;s=t<=.5?t*(1+i):t+i-t*i;const o=2*t-s;0===i?a=n=l=Math.floor(255*t+.5):(a=Math.floor(255*this.#_(o,s,e+120/360)+.5),n=Math.floor(255*this.#_(o,s,e)+.5),l=Math.floor(255*this.#_(o,s,e-120/360)+.5)),this.red=a,this.green=n,this.blue=l}shadeRelative(e,t=1){let{hue:i,lightness:a,saturation:n}=this.getHLS();return a=Math.min(Math.max(a*e,0),1),n=Math.min(Math.max(n*t,0),1),this.setHLS(i,a,n),this}#A(){const e={red:0,green:0,blue:0};return e.red=this.red/255,e.green=this.green/255,e.blue=this.blue/255,e}#_(e,t,i){for(;i>=1;)i-=1;for(;i<0;)i+=1;return i<60/360?e+(t-e)*i*6:i<.5?t:i<240/360?e+(t-e)*(240/360-i)*6:e}static stringTorgb(e){let t=[],i=parseInt(e,16);return t[0]=i>>16&255,t[1]=i>>8&255,t[2]=255&i,t}static rgbToString(e){return 0===e[0]&&0===e[1]&&0===e[2]?JMP.COLOR_BLACK:"rgb("+(e[0]>>0)+", "+(e[1]>>0)+", "+(e[2]>>0)+")"}static rgbToHexString(e){let t=function(e){let t=Number(e).toString(16);return 1===t.length?"0"+t:t};return"#"+t(e[0])+t(e[1])+t(e[2])}static getDistance(e,t){let i=c.stringTorgb(e.slice(1)),a=c.stringTorgb(t.slice(1)),n=i[0]-a[0],l=i[1]-a[1],s=i[2]-a[2];return Math.sqrt(n*n+l*l+s*s)/441.6729559300637}static getLuminance(e){let t;return e=e.substring(1,7),t=c.stringTorgb(e),t[0]/255*.3+t[1]/255*.59+t[2]/255*.11}static lightenColor(e,t){let i=c.stringTorgb(e.substr(1,7));return i=c.interpolateColor(i,[255,255,255],t),c.rgbToHexString(i)}static darkenColor(e,t){let i=c.stringTorgb(e.substr(1,7));return i=c.interpolateColor(i,[0,0,0],t),c.rgbToHexString(i)}static interpolateColor(e,t,i){let a=[];return a[0]=JMP.ModelStatic.blend(e[0],t[0],i)>>0,a[1]=JMP.ModelStatic.blend(e[1],t[1],i)>>0,a[2]=JMP.ModelStatic.blend(e[2],t[2],i)>>0,a}static mixColors(e,t,i){const a=c.stringTorgb(e.substr(1,7)),n=c.stringTorgb(t.substr(1,7));let l=c.interpolateColor(a,n,i);return c.rgbToHexString(l)}static getFillFromOutlineColor(e){return c.lightenColor(e,.6)}static getHiddenColor(e){return c.lightenColor(e,.8)}static getSelectedColor(e,t){let i,a=c.darkenColor(e,.5);return t&&(i=c.getDistance(e,JMP.COLOR_BLACK),a=i<.1?c.lightenColor(e,.25):i<.2?c.lightenColor(e,.35):i<.8?c.darkenColor(e,.5):i<.9?c.darkenColor(e,.35):c.darkenColor(e,.25)),a}}JMP.ViewStatic=function(){"use strict";const e={};let i,a,n,l=!1,s=!1;const o=function(e,t){let i=0;const a=e.length;for(;i<a&&e[i]===t[i];)i++;return e[i]===t[i]?0:e[i]>t[i]?1:-1};function d(e,t="rgba(255,255,255,0)"){const i=document.createElement("canvas"),a=i.getContext("2d");return i.width=11,i.height=11,a.fillStyle=t,a.fillRect(0,0,11,11),a.strokeStyle=e,a.lineWidth=3.5,a.beginPath(),a.moveTo(12,-2),a.lineTo(-2,12),a.moveTo(1,-2),a.lineTo(-13,12),a.moveTo(23,-2),a.lineTo(9,12),a.stroke(),a.createPattern(i,"repeat")}const u=d("rgba(221,221,221,0.2)"),h=d("rgba(0,0,0,0.4)"),g=d("rgba(0,0,0,0.28)"),S=d("rgba(0,0,0,0.18)"),m=d("rgba(0,0,0,0.12)");return e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT",e.TOOLBAR_MENU_ID="ID_TOOLBAR_MENU",e.isServerAvailable=!1,e.isToolbarServerBased=!1,e.FUZZ_PIXELS=15,e.FUZZ_PIXELS_SQUARED=e.FUZZ_PIXELS*e.FUZZ_PIXELS,e.WHICH_NONE=0,e.WHICH_SELECTED=1,e.WHICH_ALL=2,e.FOCUS_REPORT=0,e.FOCUS_DATA=1,e.SELECT_ONLY=0,e.SELECT_TOGGLE=1,e.SELECT_EXTEND=2,e.SELECT_REDUCE=3,e.SELECT_OFF=4,e.COLON=":",e.OPEN_PAREN="(",e.CLOSE_PAREN=")",e.NESTED_AXIS_DELIMITER=" / ",e.MISSING_FACTORS_SKIP=0,e.MISSING_FACTORS_MISSING=1,e.MISSING_FACTORS_ZERO=2,e.getDiagPatternCanvas=function(e){const t=c.getLuminance(e);let i;return i=t<.26?u:t<.37?h:t<.6?g:t<.8?S:m,i},e.getSelectionPatternFillStyle=function(e){const t=c.getLuminance(e);let i;return i=t<.26?"rgba(221,221,221,0.2)":t<.37?"rgba(0,0,0,0.4)":t<.6?"rgba(0,0,0,0.28)":t<.8?"rgba(0,0,0,0.18)":"rgba(0,0,0,0.12)",d(i,e)},e.FILL_SELECTION_MODE=Object.freeze({PATTERNED:"patterned",DARKER:"darker"}),e.fillSelectionMode=e.FILL_SELECTION_MODE.PATTERNED,e.FILL_PATTERN=Object.freeze({LEFT_SLANT_LIGHT:"left slant light",RIGHT_SLANT_LIGHT:"right slant light",VERTICAL_LIGHT:"vertical light",HORIZONTAL_LIGHT:"horizontal light",GRID_LIGHT:"grid light",HATCH_LIGHT:"hatch light",H_WAVE_LIGHT:"h wave light",V_WAVE_LIGHT:"v wave light",HOLLOW_CIRCLE:"hollow circle",LEFT_SLANT_MEDIUM:"left slant medium",RIGHT_SLANT_MEDIUM:"right slant medium",VERTICAL_MEDIUM:"vertical medium",HORIZONTAL_MEDIUM:"horizontal medium",GRID_MEDIUM:"grid medium",HATCH_MEDIUM:"hatch medium",H_WAVE_MEDIUM:"h wave medium",V_WAVE_MEDIUM:"v wave medium",FILLED_CIRCLE:"filled circle",LEFT_SLANT_HEAVY:"left slant heavy",RIGHT_SLANT_HEAVY:"right slant heavy",VERTICAL_HEAVY:"vertical heavy",HORIZONTAL_HEAVY:"horizontal heavy",GRID_HEAVY:"grid heavy",HATCH_HEAVY:"hatch heavy",H_WAVE_HEAVY:"h wave heavy",V_WAVE_HEAVY:"v wave heavy",DIAMOND:"diamond",LEFT_SLANT_HEAVY_B:"left slant heavy b",RIGHT_SLANT_HEAVY_B:"right slant heavy b",RANDOM:"random",SQUARE:"square",SQUARE_OFFSET:"square offset",WIDE:"wide",TALL:"tall",CHECKERBOARD:"checkerboard",TRIANGLE_UP:"triangle up",TRIANGLE_DOWN:"triangle down",TRIANGLE_LEFT:"triangle left",TRIANGLE_RIGHT:"triangle right",WEAVE_LIGHT:"weave light",WEAVE_HEAVY:"weave heavy",HONEYCOMB:"honeycomb",GRID_DOTS:"grid dots",NONE:"none"}),e.getFillPatternCanvas=function(t,i){if(void 0===i)return;let a=document.createElement("canvas"),n=a.getContext("2d");switch(e.FILL_PATTERN[i]){case e.FILL_PATTERN.LEFT_SLANT_LIGHT:a.width=6,a.height=6,n.beginPath(),n.moveTo(-1,-1),n.lineTo(7,7),n.moveTo(-1,5),n.lineTo(1,7),n.moveTo(5,-1),n.lineTo(7,1),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.RIGHT_SLANT_LIGHT:a.width=6,a.height=6,n.beginPath(),n.moveTo(-1,7),n.lineTo(7,-1),n.moveTo(5,7),n.lineTo(7,5),n.moveTo(-1,1),n.lineTo(1,-1),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.VERTICAL_LIGHT:a.width=4,a.height=4,n.beginPath(),n.moveTo(2.5,-1),n.lineTo(2.5,5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.HORIZONTAL_LIGHT:a.width=4,a.height=4,n.beginPath(),n.moveTo(0,.5),n.lineTo(4,.5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.GRID_LIGHT:a.width=5,a.height=5,n.beginPath(),n.moveTo(-1,1.5),n.lineTo(6,1.5),n.moveTo(2.5,-1),n.lineTo(2.5,6),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.HATCH_LIGHT:a.width=8,a.height=8,n.beginPath(),n.moveTo(-1,-1),n.lineTo(9,9),n.moveTo(-1,7),n.lineTo(1,9),n.moveTo(7,-1),n.lineTo(9,1),n.moveTo(-1,9),n.lineTo(9,-1),n.moveTo(7,9),n.lineTo(9,7),n.moveTo(-1,1),n.lineTo(1,-1),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.H_WAVE_LIGHT:a.width=8,a.height=5,n.beginPath(),n.moveTo(-.5,-.5),n.lineTo(4,4),n.lineTo(8.5,-.5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.V_WAVE_LIGHT:a.width=5,a.height=8,n.beginPath(),n.moveTo(-.5,-.5),n.lineTo(4,4),n.lineTo(-.5,8.5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.HOLLOW_CIRCLE:a.width=8,a.height=8,n.beginPath(),n.arc(2,2,1.75,0,JMP.TWO_PI),n.strokeStyle=t,n.stroke(),n.beginPath(),n.arc(6,6,1.75,0,JMP.TWO_PI),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.LEFT_SLANT_MEDIUM:a.width=8,a.height=8,n.lineWidth=2,n.beginPath(),n.moveTo(-1,-1),n.lineTo(9,9),n.moveTo(-1,7),n.lineTo(1,9),n.moveTo(7,-1),n.lineTo(9,1),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.RIGHT_SLANT_MEDIUM:a.width=8,a.height=8,n.lineWidth=2,n.beginPath(),n.moveTo(-1,9),n.lineTo(9,-1),n.moveTo(-1,1),n.lineTo(1,-1),n.moveTo(7,9),n.lineTo(9,7),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.VERTICAL_MEDIUM:a.width=7,a.height=4,n.lineWidth=2,n.beginPath(),n.moveTo(4,-1),n.lineTo(4,5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.HORIZONTAL_MEDIUM:a.width=4,a.height=7,n.lineWidth=2,n.beginPath(),n.moveTo(-1,5),n.lineTo(5,5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.GRID_MEDIUM:a.width=7,a.height=7,n.lineWidth=2,n.beginPath(),n.moveTo(-1,2),n.lineTo(8,2),n.moveTo(1,-1),n.lineTo(1,8),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.HATCH_MEDIUM:a.width=10,a.height=10,n.lineWidth=2,n.beginPath(),n.moveTo(-1,-1),n.lineTo(11,11),n.moveTo(-1,9),n.lineTo(1,11),n.moveTo(9,-1),n.lineTo(11,1),n.moveTo(-1,11),n.lineTo(11,-1),n.moveTo(9,11),n.lineTo(11,9),n.moveTo(-1,1),n.lineTo(1,-1),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.H_WAVE_MEDIUM:a.width=10,a.height=7,n.lineWidth=2,n.beginPath(),n.moveTo(-.5,.5),n.lineTo(5,6),n.lineTo(10.5,.5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.V_WAVE_MEDIUM:a.width=7,a.height=10,n.lineWidth=2,n.beginPath(),n.moveTo(.5,-.5),n.lineTo(6,5),n.lineTo(.5,10.5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.FILLED_CIRCLE:a.width=8,a.height=8,n.fillStyle=t,n.beginPath(),n.arc(2,2,1.75,0,JMP.TWO_PI),n.fill(),n.beginPath(),n.arc(6,6,1.75,0,JMP.TWO_PI),n.fill();break;case e.FILL_PATTERN.LEFT_SLANT_HEAVY:case e.FILL_PATTERN.LEFT_SLANT_HEAVY_B:a.width=10,a.height=10,n.lineWidth=3,n.beginPath(),n.moveTo(-1,-1),n.lineTo(11,11),n.moveTo(-1,9),n.lineTo(1,11),n.moveTo(9,-1),n.lineTo(11,1),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.RIGHT_SLANT_HEAVY:case e.FILL_PATTERN.RIGHT_SLANT_HEAVY_B:a.width=10,a.height=10,n.lineWidth=3,n.beginPath(),n.moveTo(-1,11),n.lineTo(11,-1),n.moveTo(-1,1),n.lineTo(1,-1),n.moveTo(9,11),n.lineTo(11,9),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.VERTICAL_HEAVY:a.width=6,a.height=4,n.lineWidth=3,n.beginPath(),n.moveTo(1.5,-1),n.lineTo(1.5,5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.HORIZONTAL_HEAVY:a.width=4,a.height=6,n.lineWidth=3,n.beginPath(),n.moveTo(0,.5),n.lineTo(4,.5),n.moveTo(0,6.5),n.lineTo(4,6.5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.GRID_HEAVY:a.width=7,a.height=7,n.lineWidth=3,n.beginPath(),n.moveTo(-1,1.5),n.lineTo(8,1.5),n.moveTo(-.5,-1),n.lineTo(-.5,8),n.moveTo(6.5,-1),n.lineTo(6.5,8),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.HATCH_HEAVY:a.width=10,a.height=10,n.lineWidth=3.5,n.beginPath(),n.moveTo(-1,-1),n.lineTo(11,11),n.moveTo(-1,9),n.lineTo(1,11),n.moveTo(9,-1),n.lineTo(11,1),n.moveTo(-1,11),n.lineTo(11,-1),n.moveTo(9,11),n.lineTo(11,9),n.moveTo(-1,1),n.lineTo(1,-1),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.H_WAVE_HEAVY:a.width=12,a.height=7,n.lineWidth=3,n.beginPath(),n.moveTo(-.5,4.5),n.lineTo(6.5,-1.5),n.lineTo(12.5,4.5),n.moveTo(-.5,11.5),n.lineTo(6.5,5.5),n.lineTo(12.5,11.5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.V_WAVE_HEAVY:a.width=7,a.height=12,n.lineWidth=3,n.beginPath(),n.moveTo(-3.5,-.5),n.lineTo(2.5,6),n.lineTo(-3.5,12.5),n.moveTo(3.5,-.5),n.lineTo(9.5,6),n.lineTo(3.5,12.5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.DIAMOND:a.width=9,a.height=9,n.beginPath(),n.moveTo(.5,4.5),n.lineTo(4.5,.5),n.lineTo(8.5,4.5),n.lineTo(4.5,8.5),n.closePath(),n.fillStyle=t,n.fill();break;case e.FILL_PATTERN.RANDOM:a.width=8,a.height=8,n.fillStyle=t,n.beginPath(),n.moveTo(0,0),n.lineTo(2,0),n.lineTo(2,2),n.lineTo(0,2),n.closePath(),n.fill(),n.beginPath(),n.moveTo(3,0),n.lineTo(5,0),n.lineTo(5,1),n.lineTo(3,1),n.closePath(),n.fill(),n.beginPath(),n.moveTo(2,4),n.lineTo(4,4),n.lineTo(4,6),n.lineTo(2,6),n.closePath(),n.fill(),n.beginPath(),n.moveTo(0,3),n.lineTo(1,3),n.lineTo(1,5),n.lineTo(0,5),n.closePath(),n.fill(),n.beginPath(),n.moveTo(4,2),n.lineTo(6,2),n.lineTo(6,4),n.lineTo(4,4),n.closePath(),n.fill(),n.beginPath(),n.moveTo(7,3),n.lineTo(8,3),n.lineTo(8,5),n.lineTo(7,5),n.closePath(),n.fill(),n.beginPath(),n.moveTo(6,6),n.lineTo(8,6),n.lineTo(8,8),n.lineTo(6,8),n.closePath(),n.fill(),n.beginPath(),n.moveTo(3,7),n.lineTo(5,7),n.lineTo(5,8),n.lineTo(3,8),n.closePath(),n.fill();break;case e.FILL_PATTERN.SQUARE:a.width=7,a.height=7,n.fillStyle=t,n.beginPath(),n.moveTo(2,4),n.lineTo(5,4),n.lineTo(5,7),n.lineTo(2,7),n.closePath(),n.fill();break;case e.FILL_PATTERN.SQUARE_OFFSET:a.width=12,a.height=6,n.fillStyle=t,n.beginPath(),n.moveTo(0,0),n.lineTo(3,0),n.lineTo(3,3),n.lineTo(0,3),n.closePath(),n.fill(),n.beginPath(),n.moveTo(6,3),n.lineTo(9,3),n.lineTo(9,6),n.lineTo(6,6),n.closePath(),n.fill();break;case e.FILL_PATTERN.WIDE:a.width=8,a.height=8,n.fillStyle=t,n.beginPath(),n.moveTo(0,0),n.lineTo(5,0),n.lineTo(5,2),n.lineTo(0,2),n.closePath(),n.fill(),n.beginPath(),n.moveTo(0,4),n.lineTo(1,4),n.lineTo(1,6),n.lineTo(0,6),n.closePath(),n.fill(),n.beginPath(),n.moveTo(4,4),n.lineTo(8,4),n.lineTo(8,6),n.lineTo(4,6),n.closePath(),n.fill();break;case e.FILL_PATTERN.TALL:a.width=8,a.height=8,n.fillStyle=t,n.beginPath(),n.moveTo(0,0),n.lineTo(2,0),n.lineTo(2,1),n.lineTo(0,1),n.closePath(),n.fill(),n.beginPath(),n.moveTo(4,0),n.lineTo(6,0),n.lineTo(6,5),n.lineTo(4,5),n.closePath(),n.fill(),n.beginPath(),n.moveTo(0,4),n.lineTo(2,4),n.lineTo(2,8),n.lineTo(0,8),n.closePath(),n.fill();break;case e.FILL_PATTERN.CHECKERBOARD:a.width=8,a.height=8,n.fillStyle=t,n.beginPath(),n.moveTo(0,0),n.lineTo(4,0),n.lineTo(4,4),n.lineTo(0,4),n.closePath(),n.fill(),n.beginPath(),n.moveTo(4,4),n.lineTo(8,4),n.lineTo(8,8),n.lineTo(4,8),n.closePath(),n.fill();break;case e.FILL_PATTERN.GRID_DOTS:a.width=8,a.height=8,n.beginPath(),n.moveTo(4.5,0),n.lineTo(4.5,8),n.moveTo(0,4.5),n.lineTo(8,4.5),n.closePath(),n.strokeStyle=t,n.stroke(),n.beginPath(),n.arc(4.5,4.5,2,0,JMP.TWO_PI),n.fillStyle=t,n.fill();break;case e.FILL_PATTERN.TRIANGLE_UP:a.width=10,a.height=8,n.fillStyle=t,n.beginPath(),n.moveTo(2.5,6),n.lineTo(8.5,6),n.lineTo(5.5,0),n.closePath(),n.fill();break;case e.FILL_PATTERN.TRIANGLE_DOWN:a.width=10,a.height=8,n.fillStyle=t,n.beginPath(),n.moveTo(2.5,0),n.lineTo(8.5,0),n.lineTo(5.5,6),n.closePath(),n.fill();break;case e.FILL_PATTERN.TRIANGLE_LEFT:a.width=8,a.height=10,n.fillStyle=t,n.beginPath(),n.moveTo(6,2.5),n.lineTo(6,8.5),n.lineTo(0,5.5),n.closePath(),n.fill();break;case e.FILL_PATTERN.TRIANGLE_RIGHT:a.width=8,a.height=10,n.fillStyle=t,n.beginPath(),n.moveTo(0,2.5),n.lineTo(0,8.5),n.lineTo(6,5.5),n.closePath(),n.fill();break;case e.FILL_PATTERN.WEAVE_LIGHT:a.width=8,a.height=8,n.strokeStyle=t,n.beginPath(),n.moveTo(.5,.5),n.lineTo(3.5,3.5),n.moveTo(4.5,7.5),n.lineTo(7.5,4.5),n.stroke();break;case e.FILL_PATTERN.WEAVE_HEAVY:a.width=10,a.height=10,n.strokeStyle=t,n.fillStyle=t,n.beginPath(),n.moveTo(0,.5),n.lineTo(2.5,-2),n.lineTo(5,.5),n.lineTo(2.5,3),n.closePath(),n.fill(),n.beginPath(),n.moveTo(5,5.5),n.lineTo(7.5,3),n.lineTo(10,5.5),n.lineTo(7.5,8),n.closePath(),n.fill(),n.beginPath(),n.moveTo(0,10.5),n.lineTo(2.5,8),n.lineTo(5,10.5),n.lineTo(2.5,13),n.closePath(),n.fill(),n.beginPath(),n.moveTo(-.5,-.5),n.lineTo(2.5,2.5),n.lineTo(-.5,5.5),n.moveTo(3.5,-.5),n.lineTo(9.5,5.5),n.lineTo(10.5,4.5),n.moveTo(.5,10.5),n.lineTo(5.5,5.5),n.lineTo(10.5,10.5),n.stroke();break;case e.FILL_PATTERN.HONEYCOMB:a.width=12,a.height=6,n.strokeStyle=t,n.beginPath(),n.moveTo(12.5,3.5),n.lineTo(9.5,3.5),n.lineTo(6.5,.5),n.lineTo(3.5,.5),n.lineTo(.5,3.5),n.lineTo(3.5,6.5),n.lineTo(6.5,6.5),n.lineTo(9.5,3.5),n.strokeStyle=t,n.stroke();break;case e.FILL_PATTERN.NONE:a.width=6,a.height=6;break;default:a.width=12,a.height=15,n.strokeStyle=t,n.fillStyle=t,n.beginPath(),n.arc(6.5,3.5,3,2*JMP.HALF_PI,JMP.HALF_PI),n.lineTo(6.5,9),n.stroke(),n.beginPath(),n.arc(6.5,11,1,0,JMP.TWO_PI),n.fill()}return n.createPattern(a,"repeat")},e.CCB_STAT_NAMES={INDIVIDUAL:"Individual",MOVING_RANGE:"Moving Range",MEDIAN_MOVING_RANGE:"Median Moving Range",AVERAGE:"Average",RANGE:"Range",STD_DEV:"Standard Deviation",MOVING_RANGE_ON_MEANS:"Moving Range on Means",MOVING_RANGE_ON_STD_DEV:"Moving Range on Std Dev",PROPORTION:"Proportion",COUNT:"Count",CENTERED:"Centered",STANDARDIZED:"Standardized",RANGE_CENTERED:"Range Centered",RANGE_STANDARDIZED:"Range Standardized",MOVING_RANGE_CENTERED:"Moving Range Centered",MOVING_RANGE_STANDARDIZED:"Moving Range Standardized"},e.getTextColor=function(){return getComputedStyle(document.body).getPropertyValue("--color-text")},e.getIconColor=function(e){const t=getComputedStyle(document.body);return(e?t.getPropertyValue("--color-disabled-icon"):t.getPropertyValue("--color-enabled-icon")).replace("#","%23")},e.getNextIcon=function(){return`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="${JMP.ViewStatic.getIconColor()}" d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>`},e.getPreviousIcon=function(){return`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="${JMP.ViewStatic.getIconColor()}" d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>`},e.getPlayIcon=function(){return`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="${JMP.ViewStatic.getIconColor()}" d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>`},e.getPauseIcon=function(){return`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="${JMP.ViewStatic.getIconColor()}" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>`},e.setZooming=function(e){l=e},e.isZooming=function(){return l},e.setZoomingType=function(e){n=e},e.getZoomingType=function(){return n},e.setPanning=function(e){s=e},e.isPanning=function(){return s},e.isFocus=function(e){return!JMP.EventFacadeStatic.isTouch||i===e},e.setFocus=function(e){i=e},e.isSelect=function(e){return a===e},e.setSelect=function(e){a=e},e.debug=function(e){let t=document.getElementById("debug");t||(t=document.createElement("DIV"),t.id="debug",t.style.margin="20px",t.style.width="500px",t.style.height="300px",t.style.overflow="scroll",t.style.border="solid black 1px",document.getElementById("body").appendChild(t)),t.innerHTML+=`${e}<br/>`},e.getPosition=function(e,t){let i=e;for(t.x=0,t.y=0;i;)t.x+=i.offsetLeft||0,t.y+=i.offsetTop||0,i=i.offsetParent;for(t.x+=document.body.parentNode.offsetLeft||0,t.y+=document.body.parentNode.offsetTop||0,i=e;i&&i!==document.body;)t.x-=i.scrollLeft||0,t.y-=i.scrollTop||0,i=i.parentNode},e.mapFontSize=function(e){let t=JMP.SMALL_FONT_SIZE;return e<=t-2||e>JMP.LARGE_FONT_SIZE+2?t=e:Math.abs(JMP.LARGE_FONT_SIZE-e)<Math.abs(JMP.SMALL_FONT_SIZE-e)&&(t=JMP.LARGE_FONT_SIZE),t},e.reset=function(e){e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.font=`${JMP.LARGE_FONT_SIZE}px ${JMP.FONT}`,e.textAlign="start",e.textBaseline="alphabetic",e.fillStyle="#000000",e.strokeStyle="#000000",e.globalAlpha=1,e.globalCompositeOperation="source-over"},e.drawCommand=function(e,t,i,a,n,l){let s=t,o=i;l&&(a?(s=.5+(t+JMP.EPSILON>>0),o=.5+(i+JMP.EPSILON>>0)):(s=t+JMP.EPSILON+.5>>0,o=i+JMP.EPSILON+.5>>0)),e[n](s,o)},e.isPointValid=function(e){return null!==e.x&&null!==e.y&&void 0!==e.x&&void 0!==e.y},e.distance=function(e,t){const i=e.x-t.x,a=e.y-t.y;return Math.sqrt(i*i+a*a)},e.distanceFromCircle=function(e,t,i){const a=e.x-t.x,n=e.y-t.y,l=Math.sqrt(a*a+n*n)-i,s=l*l;return l<0?-s:s},e.findShortestDistanceToLine=function(e,t,i,a,n,l){let s=0,o=0;const r=Math.min(i.length,a.length);let c,d,u,h,g,S,m,f,T,p,E=-1,b=-1;const A={shortestSquaredLength:1/0,nearestPoint:{x:null,y:null}};for(;s<r-1;){if(m=i[s],f=a[s],o=1,!(null===m||null===f||l&&l[s])){for(E=s,b=-1;b<E&&E+o<r;)T=i[E+o],p=a[E+o],null===T||null===p||l&&l[E+o]?o++:b=E+o;b>=0&&(1===o||n||l)&&(d=T-m,u=p-f,c=((t-f)*u+(e-m)*d)/(d*d+u*u),c>1?c=1:c<0&&(c=0),g=m+c*d,S=f+c*u,d=g-e,u=S-t,h=d*d+u*u,h<A.shortestSquaredLength&&(A.shortestSquaredLength=h,A.nearestIndex=s===s+c+.5>>0?E:b,A.nearestPoint.x=g,A.nearestPoint.y=S))}s+=o}return A},e.pointAtPositionAlongLine=function(e,t,i){return{x:t.x*(1-e)+i.x*e,y:t.y*(1-e)+i.y*e}},e.pointAtDistanceAlongLine=function(t,i,a){return e.pointAtPositionAlongLine(t/e.distance(i,a),i,a)},e.calculateYIntercept=function(e,t,i,a,n){return t===a?i:i+(n-i)*(e-t)/(a-t)},e.calculateXIntercept=function(t,i,a,n,l){return e.calculateYIntercept(t,a,i,l,n)},e.isParallel=function(e){let t,i=null;const a=e.length;let n=!0;if(a%2!=0)return!1;for(t=0;t<a&&n;t++)t%2==0?i=e[t]:e[t]!==i&&(n=!1);return n},e.normalizeRect=function(e){e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height)},e.roundRect=function(e,t,i){let a=e.x+.5>>0,n=e.y+.5>>0,l=e.width+e.x-a+(e.width>=0?.5:-.5)>>0,s=e.height+e.y-n+(e.height>=0?.5:-.5)>>0;void 0!==t&&Math.abs(l)<t+.5>>0&&(l=t+.5>>0,e.width<0&&(l=-l),a=e.x+(e.width-l)/2+.5>>0),void 0!==i&&Math.abs(s)<i+.5>>0&&(s=i+.5>>0,e.height<0&&(s=-s),n=e.y+(e.height-s)/2+.5>>0),e.x=a,e.y=n,e.width=l,e.height=s},e.pointInRect=function(e,t,i){return i?t.x+i<=e.x&&t.y+i<=e.y&&e.x+i<=t.x+t.width&&e.y+i<=t.y+t.height:t.x<=e.x&&t.y<=e.y&&e.x<=t.x+t.width&&e.y<=t.y+t.height},e.squaredDistanceFromRect=function(e,t){let i=0;const a=t.y-e.y,n=e.y-t.y-t.height,l=t.x-e.x,s=e.x-t.x-t.width;return a>0?i=a*a:n>0&&(i=n*n),l>0?i+=l*l:s>0&&(i+=s*s),i},e.rectanglesIntersect=function(e,t,i){return i?e.x+i<=t.x+t.width&&t.x+i<=e.x+e.width&&e.y+i<=t.y+t.height&&t.y+i<=e.y+e.height:e.x<=t.x+t.width&&t.x<=e.x+e.width&&e.y<=t.y+t.height&&t.y<=e.y+e.height},e.lineSegmentIntersectsRectangle=function(e,t,i){let a;const n=[];let l,s;let o=!1;for(a=0;a<4&&!o;a++){if(0===a?(l=i.x,s=i.y):1===a?(l=i.x+i.width,s=i.y):2===a?(l=i.x+i.width,s=i.y+i.height):(l=i.x,s=i.y+i.height),n[a]=(t.y-e.y)*l+(e.x-t.x)*s+(t.x*e.y-e.x*t.y),Math.abs(n[a])-.1<=0)return!0;a>0&&(o=!(n[a-1]>0&&n[a]>0||n[a-1]<0&&n[a]<0))}return o&&(e.x>i.x+i.width&&t.x>i.x+i.width||e.x<i.x&&t.x<i.x||e.y<i.y&&t.y<i.y||e.y>i.y+i.height&&t.y>i.y+i.height)&&(o=!1),o},e.rectangleIntersectsCircle=function(e,t,i,a,n,l,s){const o=n>t?t-n:n<e?e-n:0,r=l>a?a-l:l<i?i-l:0;return o*o+r*r<s*s},e.getPreciseFormat=function(e,t,i,a,n,l){let s,o,r,c,d,u,h,g=i||JMP.Format();const S=JMP.FormatStatic.isCurrency(g)?2:3;let{formatName:m}=g,{fieldWidth:f}=g,{nDecimals:T}=g;return l===JMP.MomentsStatic.STAT_N?(g=JMP.Format(JMP.FormatStatic.FORMAT_FIXED),m=g.formatName,f=g.fieldWidth,T=0):l===JMP.MomentsStatic.STAT_VARIANCE&&m!==JMP.FormatStatic.FORMAT_FIXED?(g=JMP.Format(JMP.FormatStatic.FORMAT_BEST),m=g.formatName,f=g.fieldWidth,T=g.nDecimals):n&&!JMP.MomentsStatic.requiresPrecision(l)?(m!==JMP.FormatStatic.FORMAT_FIXED&&m!==JMP.FormatStatic.FORMAT_BEST||(m=JMP.FormatStatic.FORMAT_FIXED),T=l===JMP.MomentsStatic.STAT_Q1||l===JMP.MomentsStatic.STAT_Q3||l===JMP.MomentsStatic.STAT_MEDIAN?1:0):JMP.FormatStatic.isDateTime(g)||JMP.FormatStatic.isGeographic(g)||(g.nDecimals>=0?T+=S:(s=Math.abs(e),d=s<JMP.SINGULAR?0:Math.floor(Math.log10(s)),o=Math.abs(e+t),u=o<JMP.SINGULAR?0:Math.floor(Math.log10(o)),r=Math.abs(t),h=r<JMP.SINGULAR?0:Math.floor(Math.log10(r)),c=Math.abs(d-h)<Math.abs(u-h)?d:u,T=Math.max(S-c,0)),m!==JMP.FormatStatic.FORMAT_BEST&&f>=0&&(f+=S),m===JMP.FormatStatic.FORMAT_BEST&&a&&(m=JMP.FormatStatic.FORMAT_FIXED),l===JMP.MomentsStatic.STAT_PERCENT&&(m=JMP.FormatStatic.FORMAT_PERCENT_FIXED0)),JMP.Format(m,g.showThousands,T,f,g.formatCode,g.decimalSeparator,g.thousandsSeparator,g.positivePrefix,g.positiveSuffix,g.negativePrefix,g.negativeSuffix,g.dateTimePattern,g.dateSeparator,g.timeSeparator,g.AMDesignator,g.PMDesignator,g.useAMPM,g.useAMPMInFront,g.use24HourClock,g.useZeroForMidnight,g.useMinusForNegativeDateTime,g.useLeadingZeroForHour)},e.getProperFormat=function(t,i,a){const n=t?t.format:void 0;let l=n;const{xColumns:s}=i,{xScale:o}=i,c=o?o.format:void 0,{yColumns:d}=i,{yScale:u}=i,h=u?u.format:void 0,{colorColumn:g}=i,S=i.legendFormat,m=function(e,t,i){let a=!1;return void 0!==e&&void 0===t?a=!1:void 0===e&&void 0!==t?a=!0:void 0===e&&void 0===t?a=!1:e.formatName!==t.formatName&&(a=e.formatName===JMP.FormatStatic.FORMAT_FIXED&&t.formatName===JMP.FormatStatic.FORMAT_BEST?void 0===i||i:e.formatName!==JMP.FormatStatic.FORMAT_BEST||t.formatName!==JMP.FormatStatic.FORMAT_FIXED),a};return o&&s&&s.includes(t)&&m(l,c,o.type===r.SCALE_LINEAR)?l=e.getPreciseFormat(o.origin,o.range,c,!0,t.isIntegral()):u&&d&&d.includes(t)&&m(l,h,u.type===r.SCALE_LINEAR)?l=e.getPreciseFormat(u.origin,u.range,h,!0,t.isIntegral()):t===g&&m(l,S)&&(l=S),l===n&&a&&(l=a),l},e.getSortedValuesFromLabeledColumns=function(t,i,a,n,l,s,r,c){let d,u;const h=t.length,g=i.length;let S,m;const f=[],T=[];let p,E;const b={};for(b.xScale=l,b.yScale=s,b.xColumns=a,b.yColumns=n,b.colorColumn=r,b.legendFormat=c,d=0;d<g;d++)for(S=i[d],f[d]=[],u=0;u<h;u++)p=t[u],T[u]=[],m=p.data[S],E="number"==typeof m?e.getProperFormat(p,b):void 0,f[d][u]=p.valueLabels?p.getValueString(m,E):m;const A=g>1?f.sort(o):f.concat();for(d=0;d<g;d++)for(u=0;u<h;u++)p=t[u],p.valueLabels||(m=A[d][u],E="number"==typeof m?e.getProperFormat(p,b):void 0,A[d][u]=m?E?JMP.FormatStatic.formatNumber(m,E):p.getValueString(m):m),T[u].push(A[d][u]);return T},e.createLabels=function(e,i,a){let n,l,s,r,c,d,u,h;const g=[];let S,m;const f=i.length;for(r=a?a.length:e,n=0;n<r;n++){for(c=a?a[n].length:1,h=[],l=0;l<c;l++)if(d=a?a[n][l]:n,h[l]=[],0===f)h[l][0]=d+1;else for(s=0;s<f;s++)u=i[s].data[d],h[l][s]=i[s].valueLabels?i[s].getValueString(u):u;for(S=c>1?h.sort(o):h.concat(),l=0;l<c;l++)if(0===f)S[l][0]=String(S[l][0]);else for(s=0;s<f;s++)i[s].type!==t.TYPE_NUMBER||i[s].valueLabels||(u=S[l][s],S[l][s]=JMP.FormatStatic.formatNumber(u,i[s].format));g.push(S)}for(r=a?a.length:0,n=0;n<r&&f>0;n++){for(m=!0,c=a?a[n].length:1,l=1;l<c&&m;l++)for(s=0;s<f&&m;s++)m=g[n][l][s]===g[n][l-1][s];m&&(g[n].length=1)}return g},e.removeMissing=function(e,t,i){let a,n,l;const s=e.length;let o;for(a=0;a<s;a++)for(l=e[a].length,n=l-1;n>=0;n--)o=t[e[a][n]],(null===o||i&&i(o))&&e[a].splice(n,1)},e.setSelectedAggregates=function(e,t,i,a){const n=t.selected,{nSelectedIndices:l}=t,s=t.excluded;let o,r,c,d,u;const h=e.length;for(o=0;o<h;o++){if(d=!1,l>0)for(c=e[o]?e[o].length:0,r=0;r<c&&!d;r++)u=e[o][r],d=(!i||!s[u])&&n[u];a[o]=d}},e.setHiddenAggregates=function(e,t,i,a){const n=t.hidden,l=t.excluded;let s,o,r,c;const d=e.length;for(s=0;s<d;s++){for(r=e[s]?e[s].length:0,c=r>0,o=0;o<r&&c;o++)c=i&&l[e[s][o]]||n[e[s][o]];a[s]=c}},e.permuteUniqueValues=function(e,t,i){let a,n,l,s,o,r=!1;const c=t.length;let d,u,h,g,S;const{tickSpans:m}=e;let f,T,p,E=!1;const b=i?function(e){return i.getValueString(e)}:function(e){return null===e?E?null:".":`${e}`},A=e.labels;if(A)for(h=A.length,a=0;a<c;a++){for(u=t[a].concat(),S=u.length,r=!1,E=u.some((e=>null!==e&&"string"==typeof e)),r=!1,n=0;n<h&&!r;n++)if(d=A[n],g=d.length,n<h-1)for(r=!1,p=0,f=m?m[n+1]:[S],T=f.length,l=0;l<T&&!r;l++){for(r=f[l]===S,s=0;s<S&&r;s++)o=d.indexOf(b(u[s]),p),r=p<=o&&o<p+S;r||(p+=f[l])}else{for(r=g===S,s=0;s<S&&r;s++)r=d.indexOf(b(u[s]))>=0;p=0}if(r)for(s=0;s<S;s++)t[a][d.indexOf(b(u[s]),p)-p]=u[s]}},e.selectRows=function(t,i,a,n){if(void 0===a)switch(i){case JMP.ViewStatic.SELECT_ONLY:case JMP.ViewStatic.SELECT_EXTEND:t.selectAll();break;case JMP.ViewStatic.SELECT_REDUCE:t.selectAll(!1);break;default:t.selectAll(!n)}else if(a.length>0)switch(i){case e.SELECT_ONLY:t.selectOnly(a,!0);break;case e.SELECT_EXTEND:t.select(a,!0);break;case e.SELECT_REDUCE:t.select(a,!1);break;default:t.select(a,!n)}else if(i===e.SELECT_ONLY)t.selectAll(!1)},e.isPointInPath=function(e,t,i,a){if(e.getTransform().a!==JMP.SCALING_FACTOR)return e.isPointInPath(t,i,a);e.save(),e.scale(1/JMP.SCALING_FACTOR,1/JMP.SCALING_FACTOR);let n=e.isPointInPath(t,i,a);return e.restore(),n},e.isCanvasScaled=function(e){return e.getTransform().a===JMP.SCALING_FACTOR},e.copyRect=function(e,t){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},i=e.FOCUS_REPORT,a=e.SELECT_ONLY,e}(),JMP.ColorThemeStatic=function(){"use strict";let e={getCache:function(e,t){let i,a,n,l,s=[],o=[],r=c.stringTorgb;if(e.positions&&e.colors)for(l=e.positions[0],a=e.positions.length,i=0;i<a;i++)s[i]=r(e.colors[i].substr(1,7)),i>0&&(n=e.positions[i],o[i]=1/(n-l),l=n);t.rgb=s,t.inversePositionDeltas=o},getColor:function(e,t,i){let a,n,l=Math.min(1,Math.max(0,i)),s=e.positions,o=t.inversePositionDeltas,r=t.rgb,d=r?r.length:0;if(0===d)return[0,0,0];for(a=1;a<d&&l>=s[a];)a++;return a===d?r[d-1]:(n=(l-s[a-1])*o[a],n=Math.min(1,Math.max(0,n)),c.interpolateColor(r[a-1],r[a],n))}};return e}(),JMP.ColorTheme=function(e,t){"use strict";let i,a={};return a.positions=e,a.colors=t,a.getColor=function(e){return JMP.ColorThemeStatic.getColor(a,(i||(i={},JMP.ColorThemeStatic.getCache(a,i)),i),e)},a},JMP.ScalingStatic=function(){"use strict";let e={},t={x:-125,y:21.8,width:20,height:10},i={x:-172,y:52,width:43,height:20},a={x:-120.375,y:22.3,width:10.75,height:9},n={x:-160,y:18,width:6,height:5},l={x:-109,y:24.5,width:6,height:5},s=function(e,i){let a={x:e.origin,y:i.origin,width:e.range,height:i.range};return JMP.ViewStatic.rectanglesIntersect(a,t)||JMP.ViewStatic.rectanglesIntersect(a,l)},o=function(e,t){return e&&t&&Math.abs(e)<8&&Math.abs(t)<8};return e.CANVAS_MAX_INT=2e4,e.updateScale=function(e,t){let i=r.convertToValue(t.type,t.range,t.base,t.power);e.scale=t,e.pixelPerValueScale=function(e,t,i,a){let n,l=0;switch(e){case r.SCALE_LOG:l=t/Math.log(i);break;case r.SCALE_POWER:n=i/Math.abs(i)*Math.abs(Math.abs(i)**a),l=t/n;break;default:l=t/i}return l}(t.type,e.pixelRange,i,t.power),e.valuePerPixelScale=1/e.pixelPerValueScale},e.updateOrigin=function(e,t){e.scale=t,e.valueOrigin=r.convertToValue(t.type,t.origin,t.base,t.power)},e.valueToPixel=function(t,i,a){let n,l,s,o,c=0;switch(o=t.worldScaling?e.valueToPixel(t.worldScaling,i):i,t.scale.type){case r.SCALE_LOG:c=o<=0?a?null:t.pixelRange>0?t.pixelPerValueScale<0?e.CANVAS_MAX_INT:-e.CANVAS_MAX_INT:t.pixelPerValueScale>0?-e.CANVAS_MAX_INT:e.CANVAS_MAX_INT:t.pixelOrigin+t.pixelPerValueScale*(Math.log(o)-Math.log(t.valueOrigin));break;case r.SCALE_NORMAL:c=0===o?t.pixelOrigin:1===o?t.pixelOrigin+t.pixelRange:t.pixelOrigin+t.pixelPerValueScale*(JMP.ProbitStatic.zprobit(o)-t.valueOrigin);break;case r.SCALE_POWER:n=t.scale.power,l=o?o/Math.abs(o)*Math.abs(Math.abs(o)**n):0,s=t.valueOrigin,s=s?s/Math.abs(s)*Math.abs(Math.abs(s)**n):0,c=t.pixelOrigin+t.pixelPerValueScale*(l-s);break;default:c=t.pixelOrigin+t.pixelPerValueScale*(o-t.valueOrigin)}return c},e.pixelToValue=function(e,t){let i,a,n,l=0;switch(e.scale.type){case r.SCALE_LOG:l=Math.exp(Math.log(e.valueOrigin)+(t-e.pixelOrigin)*e.valuePerPixelScale);break;case r.SCALE_NORMAL:l=e.valueOrigin+(t-e.pixelOrigin)*e.valuePerPixelScale;break;case r.SCALE_POWER:i=e.scale.power,a=e.valueOrigin,a=a?a/Math.abs(a)*Math.abs(a)**i:0,n=a+(t-e.pixelOrigin)*e.valuePerPixelScale,l=n?n/Math.abs(n)*Math.abs(n)**(1/i):0;break;default:l=e.valueOrigin+(t-e.pixelOrigin)*e.valuePerPixelScale}return l},e.albersValuesToInternals=function(e,t,i,a){let n,l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v;return n=e.scale.origin+e.scale.range/2,l=i-n,c=i,l>180&&(c-=360*((l+180)/360>>0)),l<-180&&(c+=360*((180-l)/360>>0)),d=t.scale.origin,u=t.scale.range,h=d+u,S=d*JMP.DEG2RAD,m=h*JMP.DEG2RAD,s=n*JMP.DEG2RAD,T=(3*S+m)/4,p=(S+3*m)/4,h>90?(E=Math.max(0,Math.min(1,(h-90)/(u/4))),p=p*(1-E)+90*JMP.DEG2RAD*E,T=T*(1-E)+89*JMP.DEG2RAD*E):d<-90&&(E=Math.max(0,Math.min(1,(h-90)/(u/4))),p=p*(1-E)+-89*JMP.DEG2RAD*E,T=T*(1-E)+-90*JMP.DEG2RAD*E),f=(T+p)/2,b=f<0,b?(f=-f,T=-T,p=-p,A=-a):A=a,T<0&&(T=0),_=Math.sin(T),x=1-_*_,L=_+Math.sin(p),N=L/2,I=1/N,M=x+L*_,y=M-L*Math.sin(f),y=y<=0?0:Math.sqrt(y)*I,C=c*JMP.DEG2RAD,g=A*JMP.DEG2RAD,R=N*(C-s),v=M-L*Math.sin(g),v=v<=0?0:Math.sqrt(v)*I,o=v*Math.sin(R),r=y-v*Math.cos(R),o+=s,r+=f,o*=JMP.RAD2DEG,r*=JMP.RAD2DEG,b&&(r=-r),{x:o,y:r}},e.albersInternalsToValues=function(e,t,i,a){let n,l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w;return null===i||null===a?{x:null,y:null}:(n=e.scale.origin+e.scale.range/2,r=t.scale.origin,c=t.scale.range,d=r+c,h=r*JMP.DEG2RAD,g=d*JMP.DEG2RAD,l=n*JMP.DEG2RAD,m=(3*h+g)/4,f=(h+3*g)/4,d>90?(T=Math.max(0,Math.min(1,(d-90)/(c/4))),f=f*(1-T)+90*JMP.DEG2RAD*T,m=m*(1-T)+89*JMP.DEG2RAD*T):r<-90&&(T=Math.max(0,Math.min(1,(d-90)/(c/4))),f=f*(1-T)+-89*JMP.DEG2RAD*T,m=m*(1-T)+-90*JMP.DEG2RAD*T),S=(m+f)/2,p=S<0,p?(S=-S,m=-m,f=-f,E=-a):E=a,m<0&&(m=0),b=Math.sin(m),A=1-b*b,_=b+Math.sin(f),x=_/2,L=1/x,N=A+_*b,I=Math.sqrt(N-_*Math.sin(S))*L,s=i*JMP.DEG2RAD,o=E*JMP.DEG2RAD,s-=l,o-=S,w=I-o,C=Math.sqrt(Math.max(0,s*s+w*w)),y=Math.atan2(s,w),u=Math.asin(Math.min(1,Math.max(-1,(N-C*C*x*x)/_))),M=l+y*L,R=M*JMP.RAD2DEG,v=u*JMP.RAD2DEG,v=Math.min(90,Math.max(-90,v)),p&&(v=-v),R>n+180&&(R-=360*((R-n+180)/360>>0)),R<n-180&&(R+=360*((180-(R-n))/360>>0)),{x:R,y:v})},e.kavrayskiy7ValuesToInternals=function(e,t,i){let a,n,l,s,o,r;return a=e.scale.origin+e.scale.range/2,r=t-a,r>180&&(r-=360*((r+180)/360>>0)),r<-180&&(r+=360*((180-r)/360>>0)),n=r*JMP.DEG2RAD,l=i*JMP.DEG2RAD,s=3*n/2*Math.sqrt(1/3-l/Math.PI*(l/Math.PI)),s*=2/JMP.SQRT3,o=l,s*=JMP.RAD2DEG,o*=JMP.RAD2DEG,s+=a,{x:s,y:o}},e.kavrayskiy7InternalsToValues=function(e,t,i){let a,n,l,s,o,r,c;return a=e.scale.origin+e.scale.range/2,r=t-a,r>180&&(r<180.0000001?r=180:r-=360*((r+180)/360>>0)),r<-180&&(r>-180.0000001?r=-180:r+=360*((180-r)/360>>0)),r*=JMP.DEG2RAD,c=i*JMP.DEG2RAD,r/=2/JMP.SQRT3,l=c,n=2*r/3/Math.sqrt(1/3-l/Math.PI*(l/Math.PI)),s=Number.isFinite(n)?n*JMP.RAD2DEG:r*JMP.RAD2DEG,o=l*JMP.RAD2DEG,s=Math.max(Math.min(s,180),-180),s+=a,{x:s,y:o}},e.mercatorValuesToInternals=function(e,t,i){let a,n,l,s,o;return a=e.scale.origin+e.scale.range/2,n=(2*Math.atan(Math.exp(a*JMP.DEG2RAD))-JMP.HALF_PI)*JMP.RAD2DEG,o=i-a+n,l=o*JMP.DEG2RAD,s=Math.log(Math.abs(Math.tan(Math.PI/4+l/2))),s*=JMP.RAD2DEG,{x:t,y:s}},e.mercatorInternalsToValues=function(e,t,i){let a,n,l,s,o;return l=i*JMP.DEG2RAD,s=Math.exp(l),o=2*Math.atan(s)-JMP.HALF_PI,o*=JMP.RAD2DEG,a=e.scale.origin+e.scale.range/2,n=(2*Math.atan(Math.exp(a*JMP.DEG2RAD))-JMP.HALF_PI)*JMP.RAD2DEG,o+=a-n,{x:t,y:o}},e.getCompactUSInset=function(e,t,s,o){return JMP.ViewStatic.copyRect(i,t),JMP.ViewStatic.copyRect(a,s),JMP.ViewStatic.pointInRect(e,o?t:s)?1:(JMP.ViewStatic.copyRect(n,t),JMP.ViewStatic.copyRect(l,s),JMP.ViewStatic.pointInRect(e,o?t:s)?2:0)},e.translateToInset=function(e,t,i,a){const n=i.x+i.width/2,l=i.y+i.height/2,s=a.x+a.width/2,o=a.y+a.height/2;return{x:(e-n)*a.width/i.width+s,y:(t-l)*a.height/i.height+o}},e.mapInsetValuesToInternals=function(t,i,a,n,l,s){let o=l.x+l.width/2,r=l.y+l.height/2,c=s.x+s.width/2,d=s.y+s.height/2,u=(a-o)*s.width/l.width+c,h=(n-r)*s.height/l.height+d;return e.albersValuesToInternals(t,i,u,h)},e.mapInsetInternalsToValues=function(e,t,i,a){let n=i.x+i.width/2,l=i.y+i.height/2,s=a.x+a.width/2,o=a.y+a.height/2,r=(e-n)*a.width/i.width+s,c=(t-l)*a.height/i.height+o,d=a.x,u=a.x+a.width;return r<d&&(r=d),r>u&&(r=u),d=a.y,u=a.y+a.height,c<d&&(c=d),c>u&&(c=u),{x:r,y:c}},e.compactUSValuesToInternals=function(t,i,a,n){let l={},s={};return 0===e.getCompactUSInset({x:a,y:n},l,s,!0)?e.albersValuesToInternals(t,i,a,n):e.mapInsetValuesToInternals(t,i,a,n,l,s)},e.compactUSInternalsToValues=function(t,i,a,n){let l,s={},o={},r=e.albersInternalsToValues(t,i,a,n);return l=e.getCompactUSInset(r,s,o,!1),0===l?r:e.mapInsetInternalsToValues(r.x,r.y,o,s)},e.geodesicValuesToPixel=function(t,i,a,n){let l=t.scale.range,c=i.scale.range,d={};return null===a||null===n?{x:null,y:null}:(t.isInternals?(d.x=a,d.y=n):d=l>150||c>100?e.kavrayskiy7ValuesToInternals(t,a,n):o(l,c)?e.mercatorValuesToInternals(i,a,n):t.scale.type===r.SCALE_GEODESIC_US&&(l>20||c>20||s(t.scale,i.scale))?e.compactUSValuesToInternals(t,i,a,n):e.albersValuesToInternals(t,i,a,n),{x:e.valueToPixel(t,d.x),y:e.valueToPixel(i,d.y)})},e.geodesicPixelToValues=function(t,i,a,n){let l,c,d=t.scale.range,u=i.scale.range,h={};return null===a||null===n?{x:null,y:null}:(l=e.pixelToValue(t,a),c=e.pixelToValue(i,n),h=d>150||u>100?e.kavrayskiy7InternalsToValues(t,l,c):o(d,u)?e.mercatorInternalsToValues(i,l,c):t.scale.type===r.SCALE_GEODESIC_US&&(d>20||u>20||s(t.scale,i.scale))?e.compactUSInternalsToValues(t,i,l,c):e.albersInternalsToValues(t,i,l,c),{x:h.x,y:h.y})},e.valuesToPixel=function(t,i,a,n,l){return r.isGeodesic(t.scale,i.scale)?e.geodesicValuesToPixel(t,i,a,n):{x:e.valueToPixel(t,a,l),y:e.valueToPixel(i,n,l)}},e.pixelToValues=function(t,i,a,n){return r.isGeodesic(t.scale,i.scale)?e.geodesicPixelToValues(t,i,a,n):{x:e.pixelToValue(t,a),y:e.pixelToValue(i,n)}},e.ensureValid=function(e,t,i){return null===e||Number.isFinite(e)?(e>JMP.ScalingStatic.CANVAS_MAX_INT?e=JMP.ScalingStatic.CANVAS_MAX_INT:e<-JMP.ScalingStatic.CANVAS_MAX_INT&&(e=-JMP.ScalingStatic.CANVAS_MAX_INT),e):Number.isNaN(e)?null:e>0?t+i:t},e.toLon360=function(e){let t=e%360;return t<0&&(t+=360),t},e.toLon180=function(t){let i=e.toLon360(t);return i>180&&(i-=360),i},e.getScaledValues=function(t,i){let a,n,l,s=[],o=t.scale;if(o&&o.labels)for(l=o.labels.length,n=0;n<l;n++)a=e.pixelToValue(t,i),s[n]=o.getAxisValue(a,n),0===n&&(i=e.valueToPixel(t,o.getCategoryIndex(a,0))+.5);else s[0]=e.pixelToValue(t,i);return s},e}(),JMP.Scaling=function(e,t,i,a){"use strict";let n={},l=function(e){e.type!==r.EVENT_INPUT&&e.type!==r.EVENT_CHANGED||(JMP.ScalingStatic.updateScale(n,n.scale),JMP.ScalingStatic.updateOrigin(n,n.scale))};return n.scale=e,n.pixelOrigin=void 0!==t?t:0,n.pixelRange=void 0!==i?i:1,n.valueOrigin=0,n.pixelPerValueScale=1,n.valuePerPixelScale=1,n.worldScaling=void 0,n.isInternals=!!a,n.addScaling=function(e){n.worldScaling=e},n.scaleValue=function(e){return JMP.ScalingStatic.valueToPixel(n,e)},n.getValueRange=function(){return r.convertToValue(n.scale.type,n.scale.origin+n.scale.range,n.scale.base,n.scale.power)-n.valueOrigin},n.removeEventListener=function(){e.removeEventListener(l)},JMP.ScalingStatic.updateScale(n,e),JMP.ScalingStatic.updateOrigin(n,e),e.addEventListener(l),n},JMP.SegmentStatic=function(){"use strict";let e={MENU_SELECT_ALL:"Select All",TIP_NUMBER_OF_BINS:"Number of Bins",TIP_PERCENTAGE_OF_BINS:"Percentage of Bins",EVENT_SEGMENT_CHANGED:0,EVENT_DRAWING_COMPLETE:1,SCALABLE_NONE:0,SCALABLE_SERVER:1,SCALABLE_CLIENT:2,SCALABLE_CLIENT_SERVER:3,pointerDownSegment:void 0};return e.event={type:e.EVENT_SEGMENT_CHANGED},e.determineScalability=function(e,t,i){return i&JMP.SegmentStatic.SCALABLE_CLIENT&&t&JMP.SegmentStatic.SCALABLE_CLIENT?t|=i:i<t&&(t=i),t},e.setBinning=function(e,i,a){if(void 0!==i){e.binning[t.ROLE_X]=i;let a=e.binControl[t.ROLE_X];a&&(a.value=a.max*i,a.style.setProperty("--value",Math.round(100*i)+"%"))}if(void 0!==a){e.binning[t.ROLE_Y]=a;let i=e.binControl[t.ROLE_Y];i&&(i.value=i.max*a,i.style.setProperty("--value",Math.round(100*a)+"%"))}},e.onRowStatesEvent=function(e,t){switch(t.type){case n.EVENT_SELECTED:case n.EVENT_HIDDEN:e.isSelectedUsed=!0,e.isHiddenUsed=!0,t.type===n.EVENT_HIDDEN&&JMP.TooltipStatic.hidePinnedTips(e.canvas);break;case n.EVENT_EXCLUDED:e.isExcludedUsed=!0}},e.getOffset=function(e){let t,i,a,n,l,s,o={x:0,y:0},r=e.canvas;for(t=document.body.parentNode,i=t.offsetLeft,a=t.offsetTop,n=r;n;)i+=n.offsetLeft||0,a+=n.offsetTop||0,n=n.offsetParent;return l=window.getComputedStyle(r),s=l.paddingLeft,i+=+s.slice(0,s.indexOf("px")),s=l.borderLeftWidth,i+=+s.slice(0,s.indexOf("px")),s=l.paddingTop,a+=+s.slice(0,s.indexOf("px")),s=l.borderTopWidth,a+=+s.slice(0,s.indexOf("px")),o.x=i,o.y=a,o},e.convertToSegmentCoordinates=function(e,t){let i,a=e.getOffset();for(t.x+=window.pageXOffset-a.x,t.y+=window.pageYOffset-a.y,i=e.canvas;i&&i!==document.body;)t.x+=i.scrollLeft||0,t.y+=i.scrollTop||0,i=i.parentNode;t.x-=e.x,t.y-=e.y},e.isInBounds=function(e,t){let i=!1;return i=-e.padLeft<=t.x&&t.x<=e.width+e.padRight&&-e.padTop<=t.y&&t.y<=e.height+e.padBottom,i},e}();class d{offset=0;scalable=JMP.SegmentStatic.SCALABLE_CLIENT;isPannableWithoutAxis=!0;x=0;y=0;width=0;height=0;padTop=0;padBottom=0;padLeft=0;padRight=0;scale=[];columns=void 0;isHorizontal=!1;contents=[];groupCalculation=void 0;groupIndex=void 0;cal=void 0;statistic=JMP.MomentsStatic.STAT_NONE;overlayTerm=void 0;shapeTerm=void 0;hasMissingLevels=!1;legend=void 0;legendOffset=void 0;legendModelID=void 0;isDisplayed=!0;isSelectedUsed=!1;isHiddenUsed=!1;isExcludedUsed=!0;rowIndices=void 0;subsetRowIndices=void 0;colorStatistic=void 0;sizeStatistic=void 0;binning=[];binControl=[];fillSelectionMode=JMP.ViewStatic.fillSelectionMode;getFillSelectionStyle=c.getSelectedColor;dataSetIndex=0;#e;constructor(t){t&&(this.canvas=t,this.g=t?t.getContext("2d"):void 0),this.#e=new e,this.addEventListener=this.#e.addEventListener,this.removeEventListener=this.#e.removeEventListener,this.onRowStatesEvent=this.onRowStatesEvent.bind(this)}hasBinning(e){return!1}setBinning(e,t){JMP.SegmentStatic.setBinning(this,e,t)}getScalable(){return this.scalable}setScalable(e){this.scalable=e}getPannableWithoutAxis(){return this.isPannableWithoutAxis}setPannableWithoutAxis(e){this.isPannableWithoutAxis=e}onRowStatesEvent(e){JMP.SegmentStatic.onRowStatesEvent(this,e)}onPointerEvent(e){}mousePanEvent(e){}removeBrush(){JMP.FrameBoxStatic.isValidRectangle(this.brush)&&this.select()}invalidateOffset(){this.offset=void 0}getOffset(){return this.offset||(this.offset=JMP.SegmentStatic.getOffset(this)),this.offset}getTooltip(e,t){return null}getPriority(e){return e.x,e.y,null}draw(){}getCache(){}select(e,t){this.columns&&this.columns.rowStates&&this.columns.rowStates.selectAll(!1)}sendEvent(e){JMP.SegmentStatic.event.type=e,this.#e.dispatchEvent(JMP.SegmentStatic.event)}menuProvider(){}menuHandler(e){}getStoredState(){}applyStoredState(e){}isEmpty(){return!1}areAllVisibleSelected(){let e=this.columns?this.columns.rowStates:void 0;return!e||e.nSelectedIndices===e.selected.length}getPreferredRange(e){}}JMP.TextBoxStatic=function(){"use strict";let e={},t=function(t,i,a,n,l,s,o){let r,c=!1,d=a,u=i.length-1;if(t?(r=e.getLastCharIndex(t,i,d,u,o),s=r-d+1):r=d+s-1,r<u)do{i.charAt(r).search(n)>=0||i.charAt(r+1).search(l)>=0?r-=1:c=!0}while(!c&&r>=d);else r=u,c=!0;return c||(r=d+s-1),r},i=function(e,i,a,n,l,s,o,r){let c,d,u,h;for(c=new RegExp("("+l.join("|")+")"),d=new RegExp("("+s.join("|")+")"),u=0;u<n.length;u=h+1)h=t(e,n,u,c,d,o,r),i.splice(a,0,n.slice(u,h+1)),a++},a=function(i,a,n,l,s,o,r,c=!0,d=!1){let u,h,g,S,m,f,T,p,E,b,A,_=!1;for(u=0;u<l.length;u=h+1){i?(h=e.getLastCharIndex(i,l,u,l.length-1,o),g=h+1,s=g-u):(h=u+s-1,g=h+1),T=/(?:\u0020|\u00A0)/,S=g>l.length-1?h:g;do{if(l.charAt(S).search(T)>=0){_=!0;break}S-=1}while(S>=u);if(m=S,S===u)h=u;else{f=/(?:\-|\)|\])/;do{if(l.charAt(h).search(f)>=0)break;h-=1}while(h>=u);let e;g=h+1,(S>h||_&&d)&&(h=S,g=m);let x=!0;if(l.length<=u+s)h=l.length-1,g=h+1,e=l.slice(u,g);else if(h<u&&!r)p=["\\u0028","\\u005B","\\u007B"],E=["\\u0021","\\u0025","\\u0029","\\u002C","\\u002E","\\u003A","\\u003B","\\u003F","\\u005D","\\u007D"],b=new RegExp("("+p.join("|")+")"),A=new RegExp("("+E.join("|")+")"),h=t(i,l,u,b,A,s,o),g=h+1,e=l.slice(u,g);else if(h<u&&r)if(c){for(e=l.slice(u,u+s-1);i.measureText(e+JMP.ELLIPSIS).width>o&&e.length>0;)e=e.substr(0,e.length-1);if(e.length>0){for(e+=JMP.ELLIPSIS,T=/(?:\u0020|\u00A0)/,S=u+s;S<l.length&&!(l.charAt(S).search(T)>=0);)S+=1;h=S}else h=l.length,x=!1}else{const t=l.substring(u).search(/(?:\-|\s)/);t>-1?(h=u+t,g=h+(/\s/.test(l[h])?0:1)):(h=u+l.length,g=h),e=l.slice(u,g)}else e=l.slice(u,g);x&&(a.splice(n,0,e),n++)}}},n=function(e){let t,i=!0;for(t=0;t<e.length;t++)if(e.charCodeAt(t)>255){i=!1;break}return i};return e.ORIENTATION_HORIZONTAL=0,e.ORIENTATION_VERTICAL_LEFT=1,e.ORIENTATION_VERTICAL_RIGHT=2,e.ORIENTATION_SLANT=3,e.ALIGNMENT_LEFT=0,e.ALIGNMENT_RIGHT=1,e.ALIGNMENT_CENTER=2,e.ALIGNMENT_TOP=0,e.ALIGNMENT_BOTTOM=1,e.ALIGNMENT_MIDDLE=2,e.draw=function(t,i,a,n,l,s,o,r,c,d){e.drawWrappedText(t,i,a,r||JMP.LARGE_FONT_SIZE,n,l,s,e.ALIGNMENT_MIDDLE,o,void 0,void 0,void 0,c,d)},e.drawWrappedText=function(t,i,a,n,l,s,o,r,c,d,u,h,g,S=JMP.FONT,m){let f,T,p,E,b,A,_,x,L,N=[],I=i.x+i.width/2,M=i.y+i.height/2,y=void 0===l||l===e.ORIENTATION_HORIZONTAL,C=r,R=l===e.ORIENTATION_VERTICAL_LEFT?-JMP.HALF_PI:l===e.ORIENTATION_VERTICAL_RIGHT?JMP.HALF_PI:-JMP.HALF_PI/2,v=!1,w={width:t.canvas.clientWidth,height:t.canvas.clientHeight};if(t.save(),t.beginPath(),t.fillStyle=void 0!==s?s:JMP.ViewStatic.getTextColor(),t.textAlign="start",L=g?g+" ":"",L+=n+"px "+S,t.font=L,h||(t.rect(i.x,i.y,i.width,i.height),t.clip()),d=void 0===d?2:d,A=y?i.width:i.height,A=l===e.ORIENTATION_SLANT?A*Math.SQRT2:A,null!=a){if(a=a.toString(),c&&(a=e.addBullet(a)),u?N[0]=a.concat():N=a.split(JMP.LINE_SEPARATOR),N=e.wrap(t,A,N,m),T=N.length,_=y?i.height:i.width,x=_/n>>0,x=x>0?x:1,T>x){N.splice(x,T-x),T=N.length;let e=N[x-1],i=/[^_]/g;if(e.match(i)){const i=N[x-1].length-1;if(N[x-1][i]!==JMP.ELLIPSIS){for(;t.measureText(N[x-1]+JMP.ELLIPSIS).width>A&&N[x-1].length>0;)N[x-1]=N[x-1].substr(0,N[x-1].length-1);N[x-1].length>0?v=!0:N[x-1]=e,v&&(N[x-1]=N[x-1]+JMP.ELLIPSIS)}}}for(t.textBaseline=C===e.ALIGNMENT_MIDDLE?"middle":"alphabetic",b=C===e.ALIGNMENT_TOP?y?i.y-M+d+n:d:C===e.ALIGNMENT_MIDDLE?n*(1-T)/2:(y?i.y+i.height-M:i.x+i.width-I)-d-n*(T-1),y&&(w.width=0),f=0;f<T;f++)p=t.measureText(N[f]).width,y?(E=o===e.ALIGNMENT_LEFT?i.x-I:o===e.ALIGNMENT_CENTER?-p/2:i.x+i.width-I-p,t.fillText(N[f],I+E,M+b),p>w.width&&(w.width=p)):(E=-p/2,t.translate(I,M),t.rotate(R),t.fillText(N[f],E,b),t.rotate(-R),t.translate(-I,-M)),b+=n;y&&(w.height=T*n+2*d)}return t.restore(),w},e.drawBox=function(e,t,i,a,n,l,s,o){let r,c=t.x>>0,d=t.y>>0,u=t.width>>0,h=t.height>>0,g=void 0!==i,S=void 0!==n;o|=JMP.LineSegmentStatic.PATTERN_SOLID,S&&(void 0!==s&&e.lineWidth!==s&&(e.lineWidth=s),e.setLineDash(function(e){switch(e){case JMP.LineSegmentStatic.PATTERN_DASH:return[6,3];case JMP.LineSegmentStatic.PATTERN_DOT:return[2,4];case JMP.LineSegmentStatic.PATTERN_DASHDOT:return[5,2,2,2];case JMP.LineSegmentStatic.PATTERN_DASHDOTDOT:return[5,3,2,3,2,3];case JMP.LineSegmentStatic.PATTERN_DASHDASHDOT:return[5,3,5,3,2,3];case JMP.LineSegmentStatic.PATTERN_DASHDASHDOTDOT:return[5,3,5,3,2,3,2,3];case JMP.LineSegmentStatic.PATTERN_LONGDASH:return[12,3];case JMP.LineSegmentStatic.PATTERN_LONGDASHDASH:return[12,3,5,3];case JMP.LineSegmentStatic.PATTERN_DENSEDASH:return[5,2];case JMP.LineSegmentStatic.PATTERN_SPARSEDASH:return[5,12];case JMP.LineSegmentStatic.PATTERN_SPARSEDOT:return[2,12];case JMP.LineSegmentStatic.PATTERN_SPARSEDASHDOT:return[5,12,3,12];default:return[]}}(o)),(1&e.lineWidth||0===e.lineWidth)&&(c+=.5,d-=.5)),(g||S)&&(e.beginPath(),e.rect(c,d,u,h),g&&(1!==a&&(r=e.globalAlpha,e.globalAlpha=a),e.fillStyle=i,e.fill(),1!==a&&(e.globalAlpha=r)),S&&(1!==l&&(r=e.globalAlpha,e.globalAlpha=l),e.strokeStyle=n,e.stroke(),1!==l&&(e.globalAlpha=r)))},e.drawBoxedText=function(t,i,a,n,l,s,o,r,c,d,u){let h=t.measureText(s).width+8,g=o+4,S=i-.5*h,m=a-.5*g;if(-1!==n&&-1!==l){if(0===n&&0===l)return;S=i-.5*n,m=a-.5*l,e.drawWrappedText(t,{x:S,y:m,width:n,height:l},s,o,e.ORIENTATION_HORIZONTAL,r,e.ALIGNMENT_CENTER,e.ALIGNMENT_TOP,!1)}else{let n=u&&"#FFFFFF"===c&&!d;n&&(S+=(h/2>>0)-2),e.drawBox(t,{x:S,y:m,width:h,height:g},c,1,d,1),t.textBaseline="middle",t.textAlign=n?"left":"center",t.fillStyle=JMP.ViewStatic.getTextColor(),r&&(t.fillStyle=r),t.fillText(s,i,a)}},e.drawOffsetText=function(e,t,i,a,n,l,s,o,r,c=JMP.FONT,d){let u,h,g,S,m,f,T,p,E=!0,b=t,A=i,_={};e.font=(d?d+" ":"")+s+"px "+c,e.textBaseline="alphabetic",e.textAlign="start",g=e.measureText(l).width,u=t+a-1,h=i+n+2,r&&(u-=g/2,h+=s/2-2),S=u+g+2,m=h-s-4,b>S?f=S:b<u?f=u:(b=.5+(b>>0),f=b),A<m?T=m:A>h?T=h:(A=.5+(A>>0),T=A),p=(b-f)*(b-f)+(A-T)*(A-T),o&&(p>o*o?(_=JMP.ViewStatic.pointAtDistanceAlongLine(o,{x:b,y:A},{x:f,y:T}),b=_.x,A=_.y,p=(b-f)*(b-f)+(A-T)*(A-T)):E=!1),E&&p>100&&(e.lineWidth=1,e.beginPath(),e.moveTo(b,A),e.lineTo(f,T),e.stroke(),e.closePath()),e.fillText(l,u+1,h-2)},e.getLastCharIndex=function(e,t,i,a,n){let l,s,o=i;for(i-=1,a+=1;i+1!==a;)s=i+a>>1,l=e.measureText(t.slice(o,s+1)).width,l>n?a=s:i=s;return i<o?o:i},e.addBullet=function(e){let t="• ";return null!=e&&(t+=e),t},e.getApproximateWidth=function(e,t){let i=document.getElementById("sizingCanvas").getContext("2d");return i.font=(void 0!==t?t:JMP.LARGE_FONT_SIZE)+"px "+JMP.FONT,void 0!==e?i.measureText(e).width:0},e.wrap=function(t,l,s,o,r,c){let d,u,h,g,S,m,f=[],T=[],p=s.concat();for(h=p.length,d=h-1;d>=0;d--)S=p[d],S=S?S.trim():"",p[d]=S,m=t?t.measureText(S).width:e.getApproximateWidth(S),m>l&&(p.splice(d,1),u=S.length,g=u*l/m>>0,g+2>=u&&!S.includes(" ")&&(g=u),JMP.isAsianLocale()&&!n(S)?("zh-CN"===JMP.LOCALE?(f=["\\u0030","\\u0031","\\u0032","\\u0033","\\u0034","\\u0035","\\u0036","\\u0037","\\u0038","\\u0039","\\u0028","\\u005B","\\u007B","\\u2018","\\u201C","\\u3014","\\u3008","\\u300A","\\u300C","\\u300E","\\u3016","\\u3010","\\uFF08","\\uFF0E","\\uFF10","\\uFF11","\\uFF12","\\uFF13","\\uFF14","\\uFF15","\\uFF16","\\uFF17","\\uFF18","\\uFF19","\\uFF3B","\\uFF5B"],T=["\\u0021","\\u0029","\\u002C","\\u002E","\\u003A","\\u003B","\\u003F","\\u005D","\\u007D","\\u3001","\\u3002","\\u00B7","\\u02C9","\\u02C7","\\u00A8","\\u3003","\\u3005","\\u2014","\\uFF5E","\\u2016","\\u2026","\\u2019","\\u201D","\\u3015","\\u3009","\\u300B","\\u300D","\\u300F","\\u3017","\\u3011","\\u2236","\\uFF01","\\uFF02","\\uFF07","\\uFF09","\\uFF0C","\\uFF0E","\\uFF1A","\\uFF1B","\\uFF1F","\\uFF3D","\\uFF40","\\uFF5C","\\uFF5D"]):"ja"===JMP.LOCALE?(f=["\\u0030","\\u0031","\\u0032","\\u0033","\\u0034","\\u0035","\\u0036","\\u0037","\\u0038","\\u0039","\\u0024","\\u0028","\\u005B","\\u00A5","\\u007B","\\uFF62","\\u2018","\\u201C","\\uFF08","\\u3014","\\uFF3B","\\uFF5B","\\u3008","\\u300A","\\u300C","\\u300E","\\u3010","\\uFFE5","\\uFF04","\\u00A3"],T=["\\u0021","\\u0025","\\u0029","\\u002C","\\u002E","\\u003F","\\u005D","\\u007D","\\uFF61","\\uFF63","\\uFF64","\\uFF65","\\uFF67","\\uFF68","\\uFF69","\\uFF6A","\\uFF6B","\\uFF6C","\\uFF6D","\\uFF6E","\\uFF6F","\\uFF70","\\uFF9E","\\uFF9F","\\u3001","\\u3002","\\uFF0C","\\uFF0E","\\u30FB","\\uFF1A","\\uFF1B","\\uFF1F","\\uFF01","\\u309B","\\u309C","\\u30FD","\\u30FE","\\u309D","\\u309E","\\u3005","\\u30FC","\\u2019","\\u201D","\\uFF09","\\u3015","\\uFF3D","\\uFF5D","\\u3009","\\u300B","\\u300D","\\u300F","\\u3011","\\u00B0","\\u2032","\\u2033","\\u2103","\\u00A2","\\uFF05","\\u2030","\\u3041","\\u3043","\\u3045","\\u3047","\\u3049","\\u3063","\\u3083","\\u3085","\\u3087","\\u308E","\\u30A1","\\u30A3","\\u30A5","\\u30A7","\\u30A9","\\u30C3","\\u30E3","\\u30E5","\\u30E7","\\u30EE","\\u30F5","\\u30F6"]):(f=["\\u0030","\\u0031","\\u0032","\\u0033","\\u0034","\\u0035","\\u0036","\\u0037","\\u0038","\\u0039","\\u0028","\\u005B","\\u005C","\\u007B","\\u2018","\\u201C","\\u3014","\\u3008","\\u300A","\\u300C","\\u300E","\\u3010","\\uFF04","\\uFF08","\\uFF3B","\\uFFE6","\\uFF5B"],T=["\\u0021","\\u0025","\\u0029","\\u002C","\\u002E","\\u003A","\\u003B","\\u003F","\\u005D","\\u007D","\\u3001","\\u2019","\\u201D","\\u3015","\\u3009","\\u300B","\\u300D","\\u300F","\\u3011","\\u00B0","\\u2032","\\u2033","\\u2103","\\uFFE0","\\uFF01","\\uFF05","\\uFF09","\\uFF0C","\\uFF0E","\\uFF1A","\\uFF1B","\\uFF1F","\\uFFE6","\\uFF3D","\\uFF5D"]),i(t,p,d,S,f,T,g,l)):a(t,p,d,S,g,l,o,r,c));return p},e.getTextColor=function(e){let t=JMP.COLOR_BLACK;return c.getLuminance(e)<.4&&(t=JMP.COLOR_WHITE),t},e.drawHalo=function(e,t,i,a){e.fillStyle=JMP.COLOR_WHITE,e.fillText(t,i-1,a-1),e.fillText(t,i+1,a-1),e.fillText(t,i-1,a+1),e.fillText(t,i+1,a+1),e.fillText(t,i,a-1),e.fillText(t,i,a+1),e.fillText(t,i-1,a),e.fillText(t,i+1,a)},e}(),JMP.TextBox=function(e){"use strict";let t=new d(e);return t.text="",t.orientation=JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,t.color=void 0,t.isBulleted=!1,t.isHidden=!1,t.isEditable=!1,t.fontFamily=JMP.FONT,t.fontSize=JMP.LARGE_FONT_SIZE,t.fontWeight=void 0,t.horizontalAlignment=JMP.TextBoxStatic.ALIGNMENT_CENTER,t.draw=function(){let e=t.color?t.color:JMP.ViewStatic.getTextColor();t.isHidden||JMP.TextBoxStatic.draw(t.g,{x:t.x,y:t.y,width:t.width,height:t.height},t.text,t.orientation,e,t.horizontalAlignment,t.isBulleted,t.fontSize,t.fontWeight,t.fontFamily)},t};class u extends d{static PADX=4;static PADY=2;xValue=0;yValue=0;isPercentX=!1;isPercentY=!1;text=[];fontFamily=void 0;fontSize=JMP.SMALL_FONT_SIZE;textAlign=void 0;textBaseline=void 0;color=JMP.COLOR_BLACK;fillColor=JMP.COLOR_WHITE;fillAlpha=1;lineColor=JMP.COLOR_BLACK;lineAlpha=1;isFilled=!1;isFramed=!1;lineWidth=1;style=JMP.LineSegmentStatic.PATTERN_SOLID;yOffset=0;#x;constructor(e){super(e)}#L=function(e){let i,a,n,l,s=0,o=0;this.isPercentX||this.isPercentY||!this.scale||(n=this.scale[t.ROLE_X],n&&(i=this.isHorizontal?JMP.Scaling(n,.5+(this.y+this.height-1>>0),1-this.height):JMP.Scaling(n,.5+(this.x>>0),this.width-1)),l=this.scale[t.ROLE_Y],l&&(a=this.isHorizontal?JMP.Scaling(l,.5+(this.x>>0),this.width-1):JMP.Scaling(l,.5+(this.y+this.height-1>>0),1-this.height))),!this.isPercentX&&this.scale&&(n=this.scale[t.ROLE_X],n&&(i=this.isHorizontal?JMP.Scaling(n,.5+(this.y+this.height-1>>0),1-this.height):JMP.Scaling(n,.5+(this.x>>0),this.width-1))),!this.isPercentY&&this.scale&&(l=this.scale[t.ROLE_Y],l&&(a=this.isHorizontal?JMP.Scaling(l,.5+(this.x>>0),this.width-1):JMP.Scaling(l,.5+(this.y+this.height-1>>0),1-this.height))),this.textAlign?"center"===this.textAlign?s=-.5:"right"===this.textAlign&&(s=-1):this.textAlign="start",this.textBaseline?"bottom"===this.textBaseline?o=-1:"middle"===this.textBaseline&&(o=-.5):(this.textBaseline="alphabetic",o=-3/4),e.xScaling=i,e.yScaling=a,e.xShift=s,e.yShift=o};#N(){return this.#x||(this.#x={},this.#L(this.#x)),this.#x}draw(){let e,t,i,a,n,l,{g:s,xValue:o,yValue:r,isPercentX:c,isPercentY:d,fontFamily:h,fontSize:g,fillColor:S,fillAlpha:m,lineColor:f,lineAlpha:T,lineWidth:p,lineStyle:E,isFilled:b,isFramed:A}=this,_=this.#N(),x=this.text,L=this.textAlign,N=this.textBaseline,I=this.color,M=_?_.xScaling:void 0,y=_?_.yScaling:void 0,C=_?_.xShift:0,R=_?_.yShift:0,v=[],w=[],O=void 0!==I?I:JMP.COLOR_BLACK,P=void 0!==S?S:JMP.COLOR_WHITE,D=void 0!==f?f:JMP.COLOR_BLACK,F=this.x+7,B=this.x+this.width-7,V=this.y+this.yOffset+7+1,k=this.y+this.yOffset+this.height-7,G=u.PADX,H=u.PADY,Y={x:1/0,y:1/0,width:0,height:0};const U=B-F,z=k-V;for(JMP.ViewStatic.reset(s),s.font=g+"px "+h,s.textAlign=L,s.textBaseline=N,n=x.length,v[0]=M?JMP.ScalingStatic.valueToPixel(M,o):0,w[0]=y?JMP.ScalingStatic.valueToPixel(y,r):1,i=g+2*H,Y.height=i*n,a=0;a<n;a++)l=x[a],e=s.measureText(l).width,t=e+2*G,v[a]=c?F+o*U:v[0],w[a]=d?V+r*z+i*R*(n-1):w[0],w[a]+=a*i,(b||A)&&(Y.x=Math.min(v[a]-G+e*C,Y.x),Y.width=Math.max(t,Y.width));for((b||A)&&(Y.y=w[0]-H+g*R,JMP.TextBoxStatic.drawBox(s,Y,b?P:void 0,m,A?D:void 0,T,p,E)),s.fillStyle=O,a=0;a<n;a++)l=x[a],s.fillText(l,v[a],w[a])}}JMP.PriorityStatic=function(){"use strict";let e={};return e.TIP_PRIORITY_POINT=0,e.TIP_PRIORITY_LINE=1,e.TIP_PRIORITY_REFERENCE_LINE=2,e.TIP_PRIORITY_INCIPIENT_AREA=3,e.isSecondHigherPriorityThanFirst=function(t,i,a,n){return t===a&&n<i||t===e.TIP_PRIORITY_POINT&&a===e.TIP_PRIORITY_LINE&&i>64*n||t===e.TIP_PRIORITY_LINE&&a===e.TIP_PRIORITY_POINT&&n<64*i||t+a>e.TIP_PRIORITY_LINE&&(t>a&&(n<=64||i>=n)||t<a&&i>64&&i>n)},e}(),JMP.Priority=function(e,t,i){"use strict";let a={};return a.seg=i,a.distance=e||0,a.priority=t||JMP.PriorityStatic.TIP_PRIORITY_POINT,a.isHigherPriorityThan=function(e){return JMP.PriorityStatic.isSecondHigherPriorityThanFirst(e.priority,e.distance,a.priority,a.distance)},a},JMP.TooltipModelStatic=function(){"use strict";let e={};return e.TIP_ROWS="Rows",e.TIP_FREQUENCY="Frequency",e.TIP_ROW="Row",e.TIP_LOWER_BOUND="Lower bound",e.TIP_UPPER_BOUND="Upper bound",e.TIP_VALUE="Value",e.TIP_PERCENT="Percent of Total",e.TIP_PERCENT_GROUP="Percent of Group",e.TIP_SUM="Sum",e.TIP_ABOVE="Above",e.TIP_BELOW="Below",e.TIP_LEFT="Left",e.TIP_SELECTED="(^SEL selected)",e.TIP_HIDDEN="(^HID hidden)",e.TIP_SELECTED_HIDDEN="(^SEL selected, ^HID hidden)",e.TIP_SELECTED_HIDDEN_EXCLUDED="(^SEL selected, ^HID hidden, ^EXC excluded)",e.TIP_NUMBER_OF_TRIALS="Number of Trials",e.TIP_PRIORITY_POINT=0,e.TIP_PRIORITY_LINE=1,e.TIP_PRIORITY_REFERENCE_LINE=2,e.addLine=function(t,i,a,n){let l="";null!==a&&"."!==a||(n=void 0,a=JMP.ModelStatic.TIP_MISSING),void 0===i?l+=a:""!==i&&null!==i&&(l+=i+JMP.ViewStatic.COLON+" ",n?(!function(e,t){let i=JMP.FormatStatic.formatNumber(e,t),a=0,n=0,l=function(){for(;n<i.length&&l;){if("#"!==i[n])return!1;n++}return!0};for(;l()&&a<10;)t.fieldWidth++,a++,i=JMP.FormatStatic.formatNumber(e,t)}(a,n),i===e.TIP_ROW&&(n=JMP.Format(JMP.FormatStatic.FORMAT_FIXED,!1,0)),l+=JMP.FormatStatic.formatNumber(a,n)):l+=a),l&&!t.lines.includes(l)&&t.lines.push(l)},e.addLineFromValues=function(t,i,a,n){let l,s,o="",r=Math.min(a.length,3),c=!0,d=function(e,t){let i="";return i+=null===e||"."===e?JMP.ModelStatic.TIP_MISSING:t?JMP.FormatStatic.formatNumber(e,t):e,i};for(s=a[0],l=1;l<a.length&&c;l++)a[l]!==s&&(c=!1);if(c)o+=d(s,n);else{for(l=0;l<r;l++)s=a[l],o+=d(s,n),l<r-1&&(o+=", ");a.length>3&&(o+=", ...")}e.addLine(t,i,o)},e.isTooltipCloser=function(t,i,a,n){return t===a&&n<i||t===e.TIP_PRIORITY_POINT&&a===e.TIP_PRIORITY_LINE&&i>64*n||t===e.TIP_PRIORITY_LINE&&a===e.TIP_PRIORITY_POINT&&n<64*i||t+a>e.TIP_PRIORITY_LINE&&(t>a&&(n<=64||i>=n)||t<a&&i>64&&i>n)},e.getTooltipPosition=function(t,i){let a,n,l,s=!1,o=!1,r=!1,c=!1;if(t&&(a=t.pointerTarget,a||(a=t.target),n=a,n&&(o=JMP.ControlStatic.isControl(n),a=e.getParentButtonFromImage(n),"IMG"===a&&(s=!0),"CANVAS"!==n.nodeName)))for(;n;)"HEADER"===n.nodeName?c=!0:"TD"!==n.nodeName&&"TH"!==n.nodeName||(r=!0),n=n.parentNode;return(s||o||r)&&(l=e.TIP_BELOW,c?(i.x=0,i.y=a.offsetHeight+1):(l=e.TIP_ABOVE,i.x=-window.pageXOffset,i.y=-window.pageYOffset)),l},e.getParentButtonFromImage=function(e){let t=e;return e&&"IMG"===e.nodeName&&"BUTTON"===e.parentNode.nodeName&&(t=e.parentNode),t},e.addBinLines=function(i,a,n,l,s,o,r,c,d,u=!1,h=!0){let g,S,m,f,T,p,E,b;if(g=n.length,g)for(S=0;S<g;S++)if(m=n[S],m.dataLevel!==t.LEVEL_CONTINUOUS||m.valueOrdering||r)e.addLineFromColumn(i,m,l);else{if(f=JMP.TooltipStatic.getLabel(m,JMP.MomentsStatic.STAT_RANGE),p=JMP.ViewStatic.getProperFormat(m,{xScale:void 0,yScale:a,xColumns:void 0,yColumns:n,colorColumn:c,legendFormat:c===m&&d?d:void 0}),p&&p.formatName!==JMP.FormatStatic.FORMAT_PERCENT&&(E=10**p.nDecimals*s,b=10**p.nDecimals*o,E-Math.floor(E)>=.1||b-Math.floor(b)>=.1)){let e=Object.assign({},p);e.nDecimals++,p=e}T=JMP.FormatStatic.formatRange(p,Math.min(s,o),Math.max(s,o),u,h),i.addLine(f,T)}else f=JMP.TooltipStatic.getLabel(void 0,JMP.MomentsStatic.STAT_RANGE,a.axisLabel),p=JMP.ViewStatic.getPreciseFormat(a.origin,a.range,a.format),T=JMP.FormatStatic.formatRange(p,Math.min(s,o),Math.max(s,o),u,h),i.addLine(f,T)},e.addLabeledColumns=function(e,i,a,n,l,s,o,r){let c=e.scale[t.ROLE_X],d=e.scale[t.ROLE_Y],u=JMP.ViewStatic.getSortedValuesFromLabeledColumns(a,n,l,s,c,d,o,r);for(let e=0;e<a.length;e++)i.addLineFromValues(a[e].name,u[e])},e.addLineFromColumn=function(t,i,a,n){const l=i.data[a];null===l?e.addLine(t,i.name,l):e.addLine(t,i.name,i.getValueString(l,n))},e}();class h{#I;#M;#y=new Map;constructor(e=[],t=JMP.HOVER_LABEL_FONT_SIZE,i=JMP.HOVER_LABEL_FONT_FAMILY,a=[],n=[]){let l=e.filter((e=>e.match(/:|\/label separator\//))).map((e=>e.split(/:|\/label separator\//)[0]+":"));this.#I=t,this.#M=i;for(let e=0;e<2*l.length;e+=2)this.#y.set(l[e/2],[a[e]>0?JMP.adjustFontSize(a[e]):t,a[e+1]>0?JMP.adjustFontSize(a[e+1]):t,null!==n[e]?n[e]:i,null!==n[e+1]?n[e+1]:i])}getSize(){return this.#I}getFamily(){return this.#M}getLineFont(e){return this.#y.has(e)?this.#y.get(e):[this.#I,this.#I,this.#M,this.#M]}}JMP.TooltipModel=function(e,t,i,a,n,l){"use strict";let s={seg:void 0,lines:void 0,labels:[],distance:0};return s.priority=JMP.TooltipModelStatic.TIP_PRIORITY_POINT,s.x=void 0,s.y=void 0,s.xOffset=void 0,s.yOffset=void 0,s.frameBoxCoord=void 0,s.hasNoLabel=void 0,s.imageSrc=void 0,s.pointerTarget=void 0,s.fonts=l||new h,s.addLine=function(e,t,i){JMP.TooltipModelStatic.addLine(s,e,t,i)},s.addLineFromValues=function(e,t,i){JMP.TooltipModelStatic.addLineFromValues(s,e,t,i)},s.addLineFromColumn=function(e,t,i){JMP.TooltipModelStatic.addLineFromColumn(s,e,t,i)},s.addLabeledColumns=function(e,t,i,a,n,l,o){JMP.TooltipModelStatic.addLabeledColumns(e,s,t,i,a,n,l,o)},s.positionFunc=function(e,t){return JMP.TooltipModelStatic.getTooltipPosition(e,t)},s.isCloserThan=function(e){return JMP.TooltipModelStatic.isTooltipCloser(e.priority,e.distance,s.priority,s.distance)},s.isHigherPriorityThan=s.isCloserThan,s.lines=e||[],t&&(s.distance=t),i&&(s.priority=i),s.x=a,s.y=n,s},JMP.TooltipStatic=function(){"use strict";let e,t={},i={x:-1,y:-1},a=20,n=[],l=[],s=JMP.TooltipModel(),o=function(e){let t=n.indexOf(e);return l[t]},r=function(e){let a,n=e.pointerTarget,l=!1;for(n||(n=e.target),n&&"IMG"===n.nodeName&&"BUTTON"===n.parentNode.nodeName&&(n=n.parentNode),a=n;a&&!l;)"HEADER"===a.nodeName&&(l=!0),a=a.parentNode;if(l&&(!n||"-1"!==n.id||!JMP.EventFacadeStatic.isTouch)||JMP.ViewStatic.isFocus(JMP.ViewStatic.FOCUS_REPORT)&&(!n||"BUTTON"!==n.nodeName||!JMP.EventFacadeStatic.isTouch))switch(e.type){case"click":case"focus":case"pointerdown":t.updateTooltip(e,o(n));break;case"pointerup":n&&"BUTTON"===n.nodeName&&t.updateTooltip(e,o(n));break;case"pointermove":case"pointerover":i.x=e.clientX,i.y=e.clientY,t.updateTooltip(e,o(n));break;case"blur":t.updateTooltip();break;case"pointerout":e.clientX===i.x&&e.clientY===i.y||t.updateTooltip()}},c=function(e){let t,i,a,n;for(t=e.match(/((http|https):\/\/)?([\w_\-]+(?:(?:\.[\w_\-]+)+))([\w.,@?\^=%&:\/~+#\-]*[\w@?\^=%&\/~+#\-])?/g),i=t?t.length:0,n=0;n<i;n++)a=t[n].replace(/(http|https):\/\//,""),e=e.replace(t[n],'<a href="https://'+a+'" target="_blank" rel="noreferrer noopener" >'+t[n]+"</a>");return e};return t.fill=function(e,t,i,n,l,s,o,r=!0){let d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O=t.length,P=window.innerWidth-a-6-8,D=!1,F={},B=document.getElementById("sizingCanvas").getContext("2d"),V=`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="${getComputedStyle(document.body).getPropertyValue("--color-text-tooltip").replace("#","%23")}" /><path d="M0 0h24v24H0z" fill="none"/></svg>`;if(B.font=JMP.LARGE_FONT_SIZE+"px "+JMP.FONT,w=s?"/label separator/":":",g=!0,!l)for(u=0;u<O&&g;u++)g=!t[u].includes(w);for(d=`<table class='tip' style=font-size:${o.getSize()}px${o.getFamily()}>`,u=0;u<O;u++){if(S="",m=JMP.ParserStatic.htmlEscape(t[u]),m=m.replace(/&amp;/g,"&"),m=m.replace(/&quot;/g,'"'),m=JMP.ParserStatic.htmlEncodeSelectTags(m),g)s&&(f=c(m),0!==f.localeCompare(m)&&(D=!0,m=f));else{h=m.indexOf(w),h>=0&&(S=h>=0?m.slice(0,h)+":":m.slice(0,h+1),m=m.slice(h+w.length));let e=new RegExp(w,"g");m=m.replace(e,":")}v=g||""===S&&0===u?1:.7,T=JMP.TextBoxStatic.wrap(B,Math.min(200,.3*P),[S],void 0,void 0,r),p=D?[m]:JMP.TextBoxStatic.wrap(B,Math.min(400,v*P),[m]),E=T.length,b=p.length;let[e,i,a,n]=o.getLineFont(S);for(h=0;h<E-1;h++)d+="<tr><th>",d+=`<span style="font-size:${e}px; font-family:${a}">${T[h]}</span>`,d+="</th><td></td></tr>";for(h=0;h<b;h++)d+="<tr>",g||""===S&&0===u?(d+="<td colspan='2' class=",d+=g||1!==b?"'left'>":"'center'>"):0===h?(d+="<th>",d+=`<span style="font-size:${e}px; font-family:${a}">${T[E-1]}</span>`,d+="</th><td class='left'>"):d+="<th></th><td class='left'>",d+=`<span style="font-size:${i}px; font-family:${n}">${p[h]}</span>`,d+="</td></tr>"}if(d+="</table>",s||i||n){if(e.innerHTML="",A=JMP.ParserStatic.createElement("TABLE","",e),_=JMP.ParserStatic.createElement("TR","",A),x=JMP.ParserStatic.createElement("TD","",_),x.innerHTML=d,s&&(L=JMP.ParserStatic.createElement("TD","",_),N=JMP.ParserStatic.createElement("IMG","tipClose svgImageTip",L),N.setAttribute("src",V),N.tabIndex=0,JMP.EventFacadeStatic.addEventListener(N,s)),i){s&&(i=c(i)),I=JMP.ParserStatic.createElement("TR","",A),M=JMP.ParserStatic.createElement("TD","left",I);let e=JMP.ParserStatic.createElement("SPAN",void 0,M);e.setAttribute("style",`font-size:${o.getSize()}px${o.getFamily()}`),e.innerHTML=i,s&&(M.colSpan=2)}n&&(y=JMP.ParserStatic.createElement("TR","",A),C=JMP.ParserStatic.createElement("TD","left",y),R=JMP.ParserStatic.createElement("IMG","",C),F=JSON.parse(n.replace(/\\"/g,'"')),R.setAttribute("src",F.imageSrc),F.width&&F.height&&(R.setAttribute("width",F.width),R.setAttribute("height",F.height)),s&&(C.colSpan=2))}else e.innerHTML=d},t.isPinnedTip=function(e){let t,i=!1;if(e)switch(e.nodeName){case"DIV":e.className.includes("tipPinned")&&(i=!0);break;case"TD":case"TH":case"IMG":if(t=e.parentNode,"IMG"!==e.nodeName||t&&"TD"===t.nodeName){for(;t&&"DIV"!==t.nodeName;)t=t.parentNode;t&&t.className.includes("tipPinned")&&(i=!0)}}return i},t.updateElementTooltip=function(e,t,i,a){let s,o;0===t.length||!t[0]||t[0].search(/\S/)<0||(o=JMP.TooltipModel(t),a&&(o.positionFunc=a),o.hasNoLabel=i,s=n.indexOf(e),s>=0?l[s]=o:(n.push(e),l.push(o)))},t.notifyTooltip=function(e,i,a){t.updateElementTooltip(e,a),r(i)},t.addTooltipListener=function(e,i,a,n){t.updateElementTooltip(e,i,a,n),JMP.EventFacadeStatic.addEventListener(e,r)},t.updateTooltip=function(i,n){let l,o,r,c,d,u,g,S,m,f,T,p,E,b,A=0,_=0,x=null,L=document.getElementById("tooltip"),N=[],I={x:0,y:0},M={x:0,y:0},y=!1;if(i&&(m=i.pointerTarget,m=JMP.TooltipModelStatic.getParentButtonFromImage(m)),n){N=n.lines.concat();const e=n.frameBoxCoord??{x:0,y:0};d=n.x?Math.max(n.x,e.x):void 0,u=n.y?Math.max(n.y,e.y):void 0,S=n.yOffset,g=n.xOffset,E=n.fonts}for(o=N.length,c=o!==s.lines.length||m!==s.pointerTarget||d!==s.x||u!==s.y,l=0;l<o&&!c;l++)c=N[l]!==s.lines[l];!function(e,t){let i,a,n=!1;if(JMP.EventFacadeStatic.isTouch&&e&&"pointermove"===e.type)for(i=e.pointerTarget,i||(i=e.target),a=i;a;){if("TABLE"===a.nodeName&&a.className.includes("scrollableTable")){t.className=t.className.replace("revealed","concealed"),n=!0;break}a=a.parentNode}return n}(i,L)&&c&&((i||o<=0)&&(L.className=L.className.replace("revealed","concealed"),e&&(clearTimeout(e),e=void 0)),r=m,r||(r=i?i.target:null,r=JMP.TooltipModelStatic.getParentButtonFromImage(r)),r&&"INPUT"===r.nodeName&&r.hasAttribute("type")&&"range"===r.getAttribute("type")&&(x=r),s.lines=N,s.pointerTarget=m,s.x=d,s.y=u,s.fonts=E,t.fill(L,N,void 0,n?n.imageSrc:void 0,n?n.hasNoLabel:void 0,void 0,n?n.fonts:new h),L.className.includes("concealed")&&(y=!0,L.className=L.className.replace("concealed","revealed")),L.clientWidth>0&&L.clientHeight>0&&(A=L.clientWidth,_=L.clientHeight),y&&(L.className=L.className.replace("revealed","concealed")),i&&o>0&&(JMP.ViewStatic.getPosition(r,I),n.positionFunc&&(p=n.positionFunc(i,M)),void 0!==d&&void 0!==u?(I.x+=d-window.scrollX,I.y+=u-_-window.scrollY):(I.x+=M.x,I.y+=M.y,p===JMP.TooltipModelStatic.TIP_ABOVE&&(I.y-=_+2),p||(I.x=i.clientX,I.y=i.clientY-_-4)),f=I.x,T=I.y,p!==JMP.TooltipModelStatic.TIP_LEFT&&I.y===Math.max(4,Math.min(I.y,window.innerHeight-a-4-_))||(I.x=f-(A+4)),I.x!==f&&I.x!==Math.max(4,Math.min(I.x,window.innerWidth-a-4-A))&&(b=I.y+8+_+2,void 0!==S?(I.y+=4+_+S,I.y!==Math.max(4,Math.min(I.y,window.innerHeight-a-4-_))&&(I.y=b)):I.y=b,g&&I.x<0&&(I.y=T+_+4,I.x=f+4+g),I.y!==Math.max(4,Math.min(I.y,window.innerHeight-a-4-_))&&(I.x=f,I.y=T)),I.x=Math.max(4,Math.min(I.x,window.innerWidth-a-4-A)),I.y=Math.max(4,Math.min(I.y,window.innerHeight-a-4-_)),L.style.left=window.scrollX+I.x+"px",L.style.top=window.scrollY+I.y+"px","pointerover"===i.type||"pointermove"===i.type&&!x?e=setTimeout((function(){L.className=L.className.replace("concealed","revealed")}),300):L.className=L.className.replace("concealed","revealed")))},t.hidePinnedTip=function(e){t.updateTooltip(),e.className=e.className.replace("revealed","permanentlyConcealed"),e.tagNode.className=e.tagNode.className.replace("revealed","permanentlyConcealed")},t.hidePinnedTips=function(e){let i,a,n=e.parentNode.querySelectorAll(".tipPinned");for(a=n.length,i=0;i<a;i++)t.hidePinnedTip(n[i])},t.getSliderTooltipPosition=function(e,t){let i,a=JMP.TooltipModelStatic.TIP_ABOVE;return i=e.pointerTarget,i||(i=e.target),t.x=(i.value-i.getAttribute("min"))*(i.offsetWidth-30)/(i.getAttribute("max")-i.getAttribute("min")),t.x=t.x||0,t.x-=window.pageXOffset,t.y=-window.pageYOffset,a},t.updateSliderTooltip=function(e,i,a){let n={},l={},s=document.getElementById("tooltip"),r=o(e);r?r.lines=[i]:r=JMP.TooltipModel([i]),r.hasNoLabel=!0,s.className.includes("revealed")&&(l=s.getBoundingClientRect(),n=e.getBoundingClientRect(),JMP.ViewStatic.rectanglesIntersect({x:l.left,y:l.top,width:l.width,height:l.height},{x:n.left,y:n.top-10,width:n.width+10,height:n.height+10})&&t.updateTooltip(a,r))},t.addAxisValuesToTooltip=function(e,t,i,a){let n,l,s,o,r,c;if(i&&i.scale)if(c=i.scale,r=JMP.ScalingStatic.getScaledValues(i,t),c.axisLabel?c.labels&&c.labels.length>1?o=c.axisLabel.split(JMP.ViewStatic.NESTED_AXIS_DELIMITER):s=c.axisLabel:s=null,o)for(r.reverse(),l=r.length,n=0;n<l;n++)e.addLine(o[n],r[n]);else e.addLine(s,r[0],a||c.getFormat())},t.addLineForRows=function(e,t,i,a,n,l=JMP.TooltipModelStatic.TIP_FREQUENCY,s){let o,r="";r+=t=+(Math.round(t+"e+3")+"e-3"),(i||a||s)&&(i=i?+(Math.round(i+"e+3")+"e-3"):i,a=a?+(Math.round(a+"e+3")+"e-3"):a,o=(s=s?+(Math.round(s+"e+3")+"e-3"):s)?JMP.TooltipModelStatic.TIP_SELECTED_HIDDEN_EXCLUDED.replace("^SEL",i).replace("^HID",a).replace("^EXC",s):i&&a?JMP.TooltipModelStatic.TIP_SELECTED_HIDDEN.replace("^SEL",i).replace("^HID",a):i?JMP.TooltipModelStatic.TIP_SELECTED.replace("^SEL",i):JMP.TooltipModelStatic.TIP_HIDDEN.replace("^HID",a),r+=" "+o),e.addLine(n?l:JMP.TooltipModelStatic.TIP_ROWS,r)},t.getLabel=function(e,t,i){let a=e?e.name||i||null:i||null;return a&&void 0!==t&&t!==JMP.MomentsStatic.STAT_NONE&&(a=JMP.MomentsStatic.NAMES[t]+"("+a+")"),a},t}(),JMP.AnnotationStatic=function(){"use strict";let e={},t=JMP.ViewStatic.isCanvasScaled;return e.onScaleEvent=function(e){e.g.clearRect(0,0,e.canvas.width,e.canvas.height),e.isTip&&(JMP.ReportStatic.removePinnedTooltip(e.mappingId),JMP.TooltipStatic.hidePinnedTip(e.htmlNode))},e.measure=function(t){return e.draw(t)},e.draw=function(e){let i,a,n,l,s,o,r,c,d,u,{g:h,text:g,fontSize:S,isFilled:m,isFramed:f,isTip:T,triangleSize:p,xValue:E,yValue:b,xTarget:A,yTarget:_,width:x,height:L,lineXValue:N,lineYValue:I}=e,M=void 0!==e.color?e.color:JMP.COLOR_BLACK,y=void 0!==e.fillColor?e.fillColor:JMP.COLOR_WHITE,C="#939ba1",R={width:e.canvas.width,height:e.canvas.height};if(g)if(i={x:0,y:1,width:e.canvas.width-1,height:e.canvas.height-1},e.canvasNode){h=e.canvasNode.getContext("2d"),JMP.ViewStatic.reset(h),i.width=e.canvasNode.width-1,i.height=e.canvasNode.height-1,h.clearRect(i.x,i.y,i.width,i.height);let g=JMP.ReportStatic.getClosedPinnedTooltips().has(e.mappingId);if(u=E<A,p&&!g?(a=.5,l=a+p,n=.5,s=n+2*p,r=(n+s)/2,c=u?l:a,d=u?a:l,h.beginPath(),h.moveTo(c,r),h.lineTo(d,r-p),h.lineTo(d,r+p),h.closePath(),h.globalAlpha=.7,h.strokeStyle=C,h.fillStyle="#ebeeef",h.stroke(),h.fill(),h.globalAlpha=1):void 0===A||g||(t(h)&&(i.width=i.width/JMP.SCALING_FACTOR,i.height=i.height/JMP.SCALING_FACTOR),h.beginPath(),a=i.x,l=a+i.width,n=i.y,s=n+i.height-1,o=E+x/2,r=b+L/2,(_-r)*(A-o)>0?(h.moveTo(l,s),h.lineTo(a,n)):(h.moveTo(a,s),h.lineTo(l,n)),h.strokeStyle=C,h.stroke()),e.x>0&&!g){e.htmlNode.className=e.htmlNode.className.replace("concealed","revealed");let t=e.x-e.relativeX,i=e.y-e.relativeY;if(p&&u)e.canvasNode.style.left=t+e.xTarget-p+"px",e.htmlNode.style.left=t+e.xTarget-e.htmlNode.offsetWidth-p+2+"px";else{let i=0,a=E,n=b,l=a+e.htmlNode.offsetWidth,s=n+e.htmlNode.offsetHeight;a<A&&A<l&&n<_&&_<s&&l-41<A&&(i-=41),e.htmlNode.style.left=t+E+i+"px"}e.htmlNode.style.top=i+b+"px"}}else if(!T&&(e.lineLess&&(i={...e.lineLess}),JMP.ViewStatic.reset(h),t(h)&&(i.width=i.width/JMP.SCALING_FACTOR,i.height=i.height/JMP.SCALING_FACTOR),(m||f)&&JMP.TextBoxStatic.drawBox(h,i,m?y:void 0,1,f?M:void 0,1),h.font=S+"px "+JMP.FONT,i.x+=6,i.width+=1,i.width-=12,i.y-=1,i.y+=1,i.height+=1,i.height-=2,R=JMP.TextBoxStatic.drawWrappedText(h,i,g,S,JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,M,JMP.TextBoxStatic.ALIGNMENT_LEFT,JMP.TextBoxStatic.ALIGNMENT_MIDDLE,!1),R.width+=12,R.height+=2,N||I)){e.lineLess={...R};let t=N>0?0:Math.abs(N),c=I>0?1:Math.abs(I);e.lineLess.x=t,e.lineLess.y=c;let d,u,g=I>i.height-N,S=I>=N,m=I>=i.width-N,f=I>N-i.width+i.height,T=N<0,p=I<0;if(a=i.x-6,l=i.x+i.width+6,n=i.y-1,s=i.y+i.height+1,o=i.x+i.width/2,r=i.y+i.height/2,!g&&S&&T)d=a,u=r;else if(S||m||!p)if(m&&!f)d=l,u=r;else{if(!f||!g)return R;d=o,u=s}else d=o,u=n;h=e.canvas.getContext("2d"),JMP.ViewStatic.reset(h),h.beginPath(),h.moveTo(d,u),h.lineTo(a+N,n+I),h.strokeStyle=M,h.stroke(),N<0?R.width+=Math.abs(N):N>R.width&&(R.width=N),I<0?R.height+=Math.abs(I):I>R.height&&(R.height=I),R.height+=1,R.width+=1,N<0&&(e.canvas.style.left=e.left+N+"px"),I<0&&(e.canvas.style.top=e.top+I+"px")}return R},e}(),JMP.Annotation=function(e){"use strict";let t=new d(e);return t.xValue=0,t.yValue=0,t.relativeX=0,t.relativeY=0,t.text=void 0,t.fontSize=JMP.SMALL_FONT_SIZE,t.color=JMP.COLOR_BLACK,t.fillColor=JMP.COLOR_WHITE,t.isFilled=!1,t.isFramed=!1,t.isTip=!1,t.triangleSize=void 0,t.xTarget=void 0,t.yTarget=void 0,t.customText=void 0,t.image=void 0,t.htmlNode=void 0,t.canvasNode=void 0,t.onScaleEvent=function(e){JMP.AnnotationStatic.onScaleEvent(t,e)},t.draw=function(){JMP.AnnotationStatic.draw(t)},t.measure=function(){return JMP.AnnotationStatic.measure(t)},t.onPointerEvent=function(e){return JMP.AnnotationStatic.onPointerEvent(t,e)},t},JMP.AxisBoxStatic=function(){"use strict";const e=100,i=JMP.Format(JMP.FormatStatic.FORMAT_LATITUDE_DMM,void 0,0,void 0,"PUNDIR"),a=JMP.Format(JMP.FormatStatic.FORMAT_LONGITUDE_DMM,void 0,0,void 0,"PUNDIR");let n,l,s={},o=function(e){let t={x:0,y:0,width:0,height:0};return e.isHorizontal?(t.x=e.x,t.y=e.y,t.width=Math.min(e.x+e.width,e.canvas.width)-t.x,t.height=e.height):(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height),t},c=function(e,t,i,a,n){class l{constructor(){this.x=0,this.y=0,this.width=0,this.height=0}}const o=[new l,new l,new l],r=.25;let c;return i?(o[0].x=t.x,o[0].y=t.y,o[0].width=t.width*r,o[0].height=t.height,o[1].x=t.x+t.width*r,o[1].y=t.y,o[1].width=.5*t.width,o[1].height=t.height,o[2].x=t.x+.75*t.width,o[2].y=t.y,o[2].width=t.width*r,o[2].height=t.height):(o[2].x=t.x,o[2].y=t.y,o[2].width=t.width,o[2].height=t.height*r,o[1].x=t.x,o[1].y=t.y+t.height*r,o[1].width=t.width,o[1].height=.5*t.height,o[0].x=t.x,o[0].y=t.y+.75*t.height,o[0].width=t.width,o[0].height=t.height*r),JMP.ViewStatic.pointInRect(e,o[0],2*a)&&n?c=s.ID_ZOOM_ORIGIN_AREA:JMP.ViewStatic.pointInRect(e,o[2],2*a)&&n?c=s.ID_ZOOM_RANGE_AREA:JMP.ViewStatic.pointInRect(e,o[1],a)&&(c=s.ID_PAN_AREA),c},d=function(e,t,i,a,n,l){const s=10;let o,r,c,d,u,h,g,S,m=t.scale.widthMajor,f=e.x+.5,T=e.x+e.width-.5,p=e.y+.5,E=e.y+e.height-.5,b=function(){return Math.abs(l[0].value-l[l.length-1].value)<=360-m};if(l=l.filter((function(e){return e.isMajor})),a){if(n){for(o=0;o<3&&b();o++)l.push({value:l[l.length-1].value+m,isMajor:!0});for(o=0;o<3&&b();o++)l.unshift({value:l[0].value-m,isMajor:!0})}for(r=l.length,o=r-1;o>0&&!b();o--)l.splice(o,1);for(r=l.length,o=0;o<r;o++){for(;l[o].value<-180;)l[o].value+=360;for(;l[o].value>180;)l[o].value-=360}}else{if(n)for(o=0;o<3;o++)l.unshift({value:l[0].value-m,isMajor:!0}),l.push({value:l[l.length-1].value+m,isMajor:!0});l=l.filter((function(e){return!(e.value<-90||90<e.value)}))}if(r=l.length,a)for(o=r-1;o>=0;o--)if(c=l[o].value,d=l[o].value,Math.abs(i.getValueRange())>10?(u=90,h=-90):(u=JMP.ScalingStatic.geodesicPixelToValues(t,i,f,E).y,h=JMP.ScalingStatic.geodesicPixelToValues(t,i,T,E).y),g=JMP.ScalingStatic.geodesicValuesToPixel(t,i,c,u),S=JMP.ScalingStatic.geodesicValuesToPixel(t,i,d,h),g.y<E+s&&E<S.y+s||S.y<E+s&&E<g.y+s){for(;Math.abs(S.x-g.x)>2||Math.abs(S.y-g.y)>20;)Math.abs(S.y-E)<Math.abs(g.y-E)?u=(4*u+h)/5:h=(4*h+u)/5,g=JMP.ScalingStatic.geodesicValuesToPixel(t,i,c,u),S=JMP.ScalingStatic.geodesicValuesToPixel(t,i,d,h);l[o].x=(g.x+S.x)/2,l[o].y=p}else l.splice(o,1);else for(o=r-1;o>=0;o--)if(u=l[o].value,h=l[o].value,c=JMP.ScalingStatic.geodesicPixelToValues(i,t,T,p).x,d=JMP.ScalingStatic.geodesicPixelToValues(i,t,T,E).x,g=JMP.ScalingStatic.geodesicValuesToPixel(i,t,c,u),S=JMP.ScalingStatic.geodesicValuesToPixel(i,t,d,h),Math.abs(S.x-g.x)<s||g.x<T+s&&T<S.x+s||S.x<T+s&&T<g.x+s){for(;Math.abs(S.y-g.y)>2||Math.abs(S.x-g.x)>20;)Math.abs(S.x-T)<Math.abs(g.x-T)?c=(4*c+d)/5:d=(4*d+c)/5,g=JMP.ScalingStatic.geodesicValuesToPixel(i,t,c,u),S=JMP.ScalingStatic.geodesicValuesToPixel(i,t,d,h);l[o].x=T,l[o].y=(g.y+S.y)/2}else l.splice(o,1);return l},u=function(e,t,i,a,n,l,s,o,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y=0){let C,R,v,w,O,P,D,F,B,V,k,G,H,Y,U,z=[],W=s.scale.format,X=!1,Z=b===JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,q=b===JMP.TextBoxStatic.ORIENTATION_SLANT,j=function(t,i,a,n,l,s,o){let r=t;if(null===r||"."===r){let t=e.measureText(JMP.ModelStatic.TIP_MISSING).width;(i?n:a?t*JMP.R_SQRT2:t)<=l.height-(s?0:o)&&(r=JMP.ModelStatic.TIP_MISSING)}return r};if(v=g,w=S,i?v=L%2==1?.5+(g>>0):g+.5>>0:w=L%2==1?.5+(S>>0):S+.5>>0,!A&&JMP.ViewStatic.pointInRect({x:g,y:S},t,-N)&&(e.lineWidth=L,e.moveTo(v,w),i?e.lineTo(v,w+u):e.lineTo(v-u,w),X=!0),D=[],p)D=p,D[0]=j(p[0],Z,q,c,t,A,u);else if(void 0===p){s.scale.type===r.SCALE_NORMAL&&W&&W.formatName===JMP.FormatStatic.FORMAT_FIXED&&W.nDecimals<2&&(W.nDecimals=2);let i=W;if(i&&s.scale.type===r.SCALE_LINEAR&&W.formatName===JMP.FormatStatic.FORMAT_FIXED&&0===i.nDecimals&&Math.abs(s.scale.widthMajor)<1&&(i=Object.assign({},W),i.nDecimals=1),D[0]=j(JMP.FormatStatic.formatNumber(T,i),Z,q,c,t,A,u),W&&(W.formatName===JMP.FormatStatic.FORMAT_BEST||W.formatName===JMP.FormatStatic.FORMAT_SCIENTIFIC)){let i=(Z?t.width:t.height)-(A?0:u);if("#"===D[0].charAt(0)&&W.fieldWidth>5)D=[JMP.FormatStatic.formatNumber(JMP.FormatStatic.roundUp(T,W.fieldWidth-5),W)];else if(i<e.measureText(D[0]).width){let t=1,a=D[0].indexOf(W.decimalSeparator?W.decimalSeparator:".");for(;i<e.measureText(D[0]).width&&W.fieldWidth>a&&W.fieldWidth-t>=0;)D=[JMP.FormatStatic.formatNumber(JMP.FormatStatic.roundUp(T,W.fieldWidth-t),W)],t++}}}H=D.length,F=0;let K=0,Q=0;for(C=0;C<H;C++)if(M&&s.scale.format&&s.scale.format.majorPattern.length>0&&(D[C]=JMP.FormatStatic.formatPattern(T,s.scale.format,s.scale.format.majorPattern,D[C])),!M&&s.scale.format&&s.scale.format.minorPattern.length>0&&(D[C]=JMP.FormatStatic.formatPattern(T,s.scale.format,s.scale.format.minorPattern,D[C])),D[C]){const t=e.measureText(D[C]);z[C]=t.width,F<z[C]&&(F=z[C]),K=Math.max(K,t.actualBoundingBoxDescent>>0),Q=Math.max(Q,t.actualBoundingBoxAscent>>0)}E=Math.abs(E);const J=!q,$=i===Z;if(!$&&!q)for(;y*(c+2)>E;)y--;const ee=$?E:i?t.height:t.width;if(J&&1===H&&y>0&&F>ee){D=JMP.TextBoxStatic.wrap(e,ee,D,!0,!1);if(D.length>y){D=D.splice(0,y);let t=D[D.length-1];for(;t.length>1&&e.measureText(t+JMP.ELLIPSIS).width>ee;)t=t.substr(0,t.length-1);D[D.length-1]=t.trim()+JMP.ELLIPSIS}for(F=0,C=0;C<D.length;C++)z[C]=e.measureText(D[C]).width,F=Math.max(F,z[C])}if(H=D.length,O=void 0===m?v:(v+m)/2,P=void 0===f?w:(w+f)/2,Z?i?(v=O-F/2,w=a?t.y+t.height-u-c-2:t.y+u-1,x&&(w-=(H-1)*c)):(v=a?t.x+u+1:t.x+t.width-u-F-1,w=P-c/2-2,w-=(H-1)*c/2):q?(k=F*JMP.R_SQRT2,G=c/3,i?a?(v=O-c+G,w=t.y+t.height-u-c+1):(v=O-k-G,w=t.y+u+k-2):a?(v=t.x+u,w=P-G):(v=t.x+t.width-u-k-c+1,w=P+k-c+G),v-=(H-1)*c,w-=(H-1)*c):(i?(v=O-c/2-1,w=a?t.y+t.height-u-F-1:t.y+u+1,v-=(H-1)*c/2):(v=a?t.x+u:t.x+t.width-u-c,w=P-F/2,v-=(H-1)*c),v+=b===JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT?-1:2),!i&&_&&(a?v++:v--),Z||q?(B=F,V=H*c):(B=H*c,V=F),!q&&i!==Z){for(F=(Z?t.width:t.height)-u+(void 0===o?0:2),Y=!1,H=D.length,C=0;C<H;C++)if(D[C]){let t=D[C],i=e.measureText(t).width;if(F<i){F-=e.measureText("...").width,R=JMP.TextBoxStatic.getLastCharIndex(e,t,0,t.length-1,F);let a=t.slice(0,R+1)+"...";i>e.measureText(a).width&&(D[C]=a,Y=!0)}}if(Y){for(F=0,C=0;C<H;C++)D[C]&&(z[C]=e.measureText(D[C]).width,F<z[C]&&(F=z[C]));Z?(v<t.x&&(v=t.x),B>t.width&&(B=t.width),v+=a?0:t.width-F-u,B=F):(w<t.y&&(w=t.y),V>t.height&&(V=t.height),w+=a?t.height-F-u:0,V=F)}}return(n>0||l>0)&&(U=Z||q?0:c/6,i?(h.x-d<v&&v<h.x&&(v=h.x),h.x+h.width-B<v&&v<h.x+h.width-B+d&&(v=h.x+h.width-B+U)):(h.y-d<w&&w<h.y&&(w=h.y),h.y+h.height-V<w&&w<h.y+h.height-V+d&&(w=h.y+h.height-V+U))),I.push(B*V<=0?null:{label:D,x:v,y:w,labelWidths:z,width:B,height:V,textDescent:K,textAscent:Q,isMajor:M}),X},h=function(e,t,i){let a,n,l=1/i;return n=e+t>0?(e+t)**l:-((-(e+t))**l),a=e>0?e**l:-((-e)**l),n-=a,[a,n]},g=function(e,t,n,l,o,c,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w=JMP.FONT,O=0,P,D,F,B){const V=Math.cos(Math.PI/4),k=Math.sin(Math.PI/4);let G,H,Y,U,z,W,X,Z,q,j,K,Q,J,$,ee,te,ie,ae,ne,le,se,oe,re,ce,de,ue,he,ge,Se,me,fe,Te,pe,Ee,be,Ae,_e,xe,Le,Ne,Ie,Me,ye,Ce,Re,ve,we,Oe,Pe,De,Fe,Be,Ve,ke,Ge,He,Ye=void 0!==f?f:0,Ue=Ye>0,ze=_,We=R||JMP.SMALL_FONT_SIZE,Xe=[],Ze=[],qe=[],je=S.scale.origin,Ke=S.scale.range,Qe=void 0!==S.scale.power?S.scale.power:2,Je=Ke>0?Ke:-Ke,$e=Ke<0,et=N.isRange,tt=S.scale.type===r.SCALE_LINEAR,it=S.scale.type===r.SCALE_POWER,at=S.scale.type===r.SCALE_LOG,nt=S.scale.type===r.SCALE_NORMAL,lt=r.isGeodesic(S.scale),st=tt||at||it?Math.abs(S.scale.widthMajor):.1,ot=nt?null:T,rt=!1,ct=function(e,t,i,a,n){return e>V*Math.abs(t?i?a.x-n.x:a.x+a.width*V-n.x-n.width*V:i?a.y-n.y:a.y-a.width*k-n.y+n.width*k)},dt=function(e,t,i,a,n,l,s){let o=!1;return n&&l&&(o=a?ct(e,t,i,n,l):JMP.ViewStatic.rectanglesIntersect(n,l,s)),o},ut=function(e,t,i,a,n){let l,s,o,r,c,d,u,h=e.length,g=a?0:2,S=a?2:0,m=t.x-g,f=t.x+t.width+g,T=t.y-S,p=t.y+t.height+S;for(l=0;l<h;l++)s=e[l],s&&(d=s.x<m||s.x>f-s.width,u=s.y<T||s.y>p-s.height,n?(s.x<m+1&&(s.x=m+1),s.x>f-1-s.width&&(s.x=f-1-s.width),s.y<T+2&&(s.y=T+2),s.y>p-2-s.height&&(s.y=p-2-s.height)):(d||u)&&(o=e[l-1],r=e[l+1],i&&d?(c=a?R/2:0,s.x<m&&m<s.x+s.width/2&&(o&&o.x>s.x&&o.x>m+s.width+c||r&&r.x>s.x&&r.x>m+s.width+c)?s.x=m:s.x>f-s.width&&s.x+s.width/2<f&&(o&&o.x<s.x&&o.x+o.width+c<f-s.width||r&&r.x<s.x&&r.x+r.width+c<f-s.width)?s.x=f-s.width:e[l]=null):!i&&u&&(c=a?0:R/2,s.y<T&&T<s.y+s.height/2&&(o&&o.y>s.y&&o.y>T+s.height+c||r&&r.y>s.y&&r.y>T+s.height+c)?s.y=T:s.y>p-s.height&&s.y+s.height/2<p&&(o&&o.y<s.y&&o.y+o.height+c<p-s.height||r&&r.y<s.y&&r.y+r.height+c<p-s.height)?s.y=p-s.height:e[l]=null)))};if(it&&(Ee=h(je,Ke,Qe),je=Ee[0],Ke=Ee[1],Je=Ke>0?Ke:-Ke),xe=S.scale.labels&&!S.scale.tickSpans?st:1,st<=0)return[];if(!ot)for(;Je/st>1e3;)st*=10;if(fe={x:t.x,y:t.y,width:t.width,height:t.height},n?(fe.x=fe.x-($e?g:c)+1,fe.width=fe.width+c+g-2,fe.x<1&&(fe.width-=1-fe.width,fe.x=1),void 0!==M&&fe.width>M-fe.x-1&&(fe.width=M-fe.x-1)):(fe.y=fe.y-($e?c:g)-1,fe.height=fe.height+c+g+2,fe.y<1&&(fe.height-=1-fe.y,fe.y=1),void 0!==y&&fe.height>y-fe.y-1&&(fe.height=y-fe.y-1)),ve=b,void 0===ve&&(ve=n&&t.height>3*We+(void 0!==f?0:2*R)?JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT:JMP.TextBoxStatic.ORIENTATION_HORIZONTAL),Le=void 0===ve||ve===JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,Ne=ve===JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT||ve===JMP.TextBoxStatic.ORIENTATION_VERTICAL_RIGHT,Ie=ve===JMP.TextBoxStatic.ORIENTATION_SLANT,Me=ze?Le&&n||Ne&&!n?1:2:3,Ce=ve===JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT?-JMP.HALF_PI:ve===JMP.TextBoxStatic.ORIENTATION_VERTICAL_RIGHT?JMP.HALF_PI:-JMP.HALF_PI/2,Re=n&&Ne||!n&&Le?1:B>0?-1:S.scale.isContinuous?-3:-2,ye=function(e,t=s.TICK_STYLE_MARK_LONG){return e?2:t===s.TICK_STYLE_MARK_SHORT?3:t===s.TICK_STYLE_MARK_LONG?5:t===s.TICK_STYLE_INTERVAL_TRAY?4:2}(A,D),e.font=We+"px "+w,e.textBaseline="alphabetic",ce=o,void 0===ce&&(ce=JMP.COLOR_LINE),e.fillStyle=ce,e.strokeStyle=ce,l&&(e.save(),e.translate(t.x,t.y),n?(e.scale(1,-1),e.translate(0,-t.height)):(e.scale(-1,1),e.translate(-t.width,0)),e.translate(-t.x,-t.y)),e.beginPath(),Ue||(n?($=.5+(t.y+0>>0),e.moveTo(t.x,$),e.lineTo(t.x+t.width,$)):(J=.5+(t.x-0>>0),e.moveTo(J+t.width-1,t.y),e.lineTo(J+t.width-1,t.y+t.height))),F)if(n){const i=t.x+.5,a=t.x+t.width-1+.5,n=t.y+.5,l=t.y+t.height+.5;e.moveTo(i,n),e.lineTo(i,l),e.lineTo(a,l),e.lineTo(a,n)}else{const i=t.x+.5,a=t.x+t.width+.5,n=t.y+.5,l=t.y+t.height-1+.5;e.moveTo(a,n),e.lineTo(i,n),e.lineTo(i,l),e.lineTo(a,l)}if(Y=.6*e.measureText("M").width,ot&&ot.length<=2&&(Y=n?fe.width/3:We),H=Math.round(je/st),ot&&(H=(void 0!==E?E:0)/st,I&&(H+=.5),$e&&(H+=ot.length-1)),pe=1e3*JMP.MAC_EPS,j=(ot?ot.length/xe:Je/st+1+pe)>>0,G=je>>0==je+Ke>>0,U=j/(n?t.width:t.height),at&&G?U=0:!nt&&j<=4&&(j<3?U=0:(X=(je+Ke)/st>>0,pe=.1*st,(je-H*st<pe||je+Ke-X*st<pe)&&(U=0))),ke=(at||it)&&U<.025&&!ot&&!et,!ke&&Je<st&&!ot&&!et&&(ke=!0,S.scale.nMinor<=0)){for(He=1;He*Je<st&&He<1e3;)He*=2,He*Je<st&&(He*=5);He-=1}if(ot||(j+=2),qe=s.getTickValuesAndPositions(t,S,m,n,N,Ye,E,He,O),et=N.isRange,P&&S.scale.refValues&&S.scale.refMaxValues)for(let e=0;e<S.scale.refValues.length;e++)S.scale.refLabels[e]&&null!==S.scale.refMaxValues[e]&&(qe=qe.filter((t=>!JMP.ModelStatic.isBetween(t.value,S.scale.refValues[e],S.scale.refMaxValues[e]))));if(q=qe.length,tt&&!p&&S.scale.nMinor>0)for(z=0;z<q-1&&!ze;z++){let e=qe[z],t=qe[z+1];ze=Math.abs(n?e.x-t.x:e.y-t.y)<2}if(D===s.TICK_STYLE_DIVIDER_SHORT)for(z=0;z<q;z++){if(qe[z].width<We){ye+=!n&&Le?1:3;break}}for(;B*We+ye>t.height;)B--;for(pe=1e3*JMP.MAC_EPS*(t.width+t.height),X=0,z=0;z<q;z++){if(Te=qe[z].value,ee=qe[z].x,te=qe[z].y,de=qe[z].isMajor,et||I||JMP.ViewStatic.pointInRect({x:ee,y:te},t,-pe))if(de||ke){Ve=ot?[ot[($e?q-1-X:X)*xe]]:void 0,!Ve&&lt&&et&&(Ve=[JMP.FormatStatic.formatNumber(Te.y,i),JMP.FormatStatic.formatNumber(Te.x,a)]);let s=!!I||A;p&&p.length===q&&p[z]<=0&&(s=!0);const o=u(e,t,n,l,c,g,S,f,We,Y,de?ye:Me,fe,ee,te,void 0,void 0,Te,Ve,qe[z].width*st,ve,s,I,et,1,pe,Xe,de,B);rt=rt||o}else ze||(e.moveTo(ee,te),e.lineTo(n?ee:ee-Me,n?te+Me:te));de&&(X++,T&&et&&(X+=T.length-2))}if(Xe.length>1&&Xe[0]&&Xe[Xe.length-1]&&(Ge=n?(Xe[Xe.length-1].x-Xe[0].x)/(Xe.length-1):(Xe[0].y-Xe[Xe.length-1].y)/(Xe.length-1)),I){for(z=0;z<q;z++)if(Xe[z]&&z<q){if(ee=qe[z].x-(n?qe[z].width/2:0),te=qe[z].y-(n?0:qe[z].width/2),ie=qe[z].x+(n?qe[z].width/2:0),ae=qe[z].y+(n?0:qe[z].width/2),Le&&Xe[z].width>Math.abs(ee-ie)&&T&&"."===T[z]){let t=e.measureText(".").width;Xe[z].x+=(Xe[z].width-t)/2,Xe[z].width=t,Xe[z].labelWidths=[t],Xe[z].label="."}n?(ne=t.x,se=t.x+t.width,ne=$e?Math.max(ie,ne):Math.max(ee,ne),se=$e?Math.min(ee,se):Math.min(ie,se),ne<se&&(Xe[z].x=.5+((ne+se)/2>>0)),Le?Xe[z].x-=Xe[z].width/2:Ie?Xe[z].x-=Xe[z].width*JMP.R_SQRT2+We/3:(Xe[z].x-=Xe[z].width/2+1,Xe[z].x+=b===JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT?-1:2),A||(D===s.TICK_STYLE_INTERVAL_TRAY&&ne+4<se?(ee=.5+(ne+2>>0),ie=.5+(se-2>>0),e.moveTo(ee,te+.5),e.lineTo(ee,te+3.5),e.lineTo(ie,ae+3.5),e.lineTo(ie,ae+.5),rt=!0):D===s.TICK_STYLE_DIVIDER_FULL&&ne<se?(ee=.5+(se>>0),e.moveTo(ee,te),e.lineTo(ee,te+t.height),st>1&&(ie=.5+(ne>>0),e.moveTo(ie,te),e.lineTo(ie,te+t.height)),rt=!0):D===s.TICK_STYLE_DIVIDER_SHORT&&ne<se&&(ee=.5+(se>>0),e.moveTo(ee,te),e.lineTo(ee,te+5),st>1&&(ie=.5+(ne>>0),e.moveTo(ie,te),e.lineTo(ie,te+5)),rt=!0))):(le=t.y,oe=t.y+t.height,le=$e?Math.max(te,le):Math.max(ae,le),oe=$e?Math.min(ae,oe):Math.min(te,oe),le<oe&&(Xe[z].y=.5+((le+oe)/2>>0)),Xe[z].y-=Le?Xe[z].height/2+2:Ie?l?We/3:Xe[z].height-Xe[z].width*JMP.R_SQRT2-We/3:Xe[z].height/2,A||(D===s.TICK_STYLE_INTERVAL_TRAY&&le+4<oe?(te=.5+(le+2>>0),ae=.5+(oe-2>>0),e.moveTo(ee+.5,te),e.lineTo(ee-2.5,te),e.lineTo(ie-2.5,ae),e.lineTo(ie+.5,ae),rt=!0):D===s.TICK_STYLE_DIVIDER_FULL&&le<oe?(te=.5+(oe>>0),e.moveTo(ee,te),e.lineTo(ee-t.width,te),st>1&&(ae=.5+(le>>0),e.moveTo(ee,ae),e.lineTo(ee-t.width,ae)),rt=!0):D===s.TICK_STYLE_DIVIDER_SHORT&&le<oe&&(te=.5+(oe>>0),e.moveTo(ee,te),e.lineTo(ee-5,te),st>1&&(ae=.5+(le>>0),e.moveTo(ee,ae),e.lineTo(ee-5,ae)),rt=!0)))}if(!A&&(D===s.TICK_STYLE_DIVIDER_SHORT||D===s.TICK_STYLE_DIVIDER_FULL)&&(n?(ee=qe[0].x,te=qe[0].y,ee=.5+(ee-Math.abs(qe[0].width)/2>>0)):(ee=qe[qe.length-1].x,te=qe[qe.length-1].y,te=.5+(te-Math.abs(qe[qe.length-1].width)/2>>0)),JMP.ViewStatic.pointInRect({x:ee,y:te},t,-pe))){let i=D===s.TICK_STYLE_DIVIDER_SHORT?5:n?t.height:t.width;e.moveTo(ee,te),e.lineTo(n?ee:ee-i,n?te+i:te)}}if(e.stroke(),e.closePath(),0===Ye&&(we=S.scale.refValues,Oe=S.scale.refMaxValues,Pe=S.scale.refLabels,De=S.scale.refColors,Fe=S.scale.refWidths,Be=S.scale.refLabelSizes,we&&!L)){for(Be&&e.save(),Z=we.length,z=0;z<Z;z++){Te=we[z];let i=We;Number.isNaN(Te)||(se=void 0,oe=void 0,_e=Oe&&void 0!==Oe[z],m?(be=d(t,S,m,n,!1,[{value:Te,isMajor:!0}]),ee=be.length?be[0].x:1/0,te=be.length?be[0].y:1/0):(ee=n?JMP.ScalingStatic.valueToPixel(S,Te):t.x+t.width,te=n?t.y:JMP.ScalingStatic.valueToPixel(S,Te),_e&&(se=n?JMP.ScalingStatic.valueToPixel(S,Oe[z]):t.x+t.width,oe=n?t.y:JMP.ScalingStatic.valueToPixel(S,Oe[z]))),Ae=JMP.ViewStatic.pointInRect({x:ee,y:te},t,-pe)&&!!Pe&&void 0!==Pe[z],Ae&&(e.beginPath(),De&&De[z]&&(e.strokeStyle=S.scale.getReferenceColor(z)),Be&&Be[z]&&-1!==Be[z]&&(i=S.scale.getReferenceLabelSize(z),e.font=i+"px "+S.scale.getReferenceLabelFont(z,w))),u(e,t,n,l,c,g,S,f,i,Ae?1/0:Y,ye,fe,ee,te,se,oe,Te,Pe?[Pe[z]]:void 0,void 0,ve,_e,I,et,Fe&&Fe[z]?Fe[z]:1,pe,Ze),Ae?(e.stroke(),e.closePath()):Ze[z]&&(Ze[z].label=null))}Be&&e.restore()}if(l&&e.restore(),Ie||(we&&!L&&ut(Ze,Ue?t:fe,n,Le,et),ut(Xe,Ue?t:fe,n,Le,et)),x&&Xe.fill(null),we&&!L)for(Z=we.length,q=Xe.length,z=0;z<Z;z++)if(K=Ze[z],K&&""!==K.label){for(X=z+1;X<Z;X++)dt(We,n,l,Ie,K,Ze[X],Re)&&(Ze[X]=null);for(X=0;X<q;X++)dt(We,n,l,Ie,K,Xe[X],Re)&&(Xe[X]=null)}if(!p&&tt)if(n&&Ne||!n&&Le){const e=S.scale.isContinuous?n?3:7.25:0,t=Math.ceil((.75*We+1+e)/Ge);for(z=0;z<Xe.length;z++)z%t>0&&(Xe[z]=null)}else{q=Xe.length,X=1;do{for(re=!1,z=0;z+X<q&&!re;z+=X)re=dt(We,n,l,Ie,Xe[z],Xe[z+X],Re);if(X*=2,re)for(z=0;z<q;z++)z%X>0&&(Xe[z]=null)}while(X<q&&re)}else{if(q=Xe.length,p&&p.length===q)for(z=0;z<q;z++)p[z]<=0&&(Xe[z]=null);if(Le&&!I)for(z=0;z<q-1;z++)if(K=Xe[z],Q=Xe[z+1],K&&Q&&JMP.ViewStatic.rectanglesIntersect(K,Q,Re)&&T&&"."===T[z]){let t=e.measureText(".").width;K.x+=(K.width-t)/2,K.width=t,K.labelWidths=[t],K.label="."}for(z=0;z<q;z++)if(K=Xe[z],K)for(X=z+1;X<q;X++)if(Q=Xe[X],Q&&X!==z&&(re=!1,re=Ie?ct(We,n,l,K,Q):JMP.ViewStatic.rectanglesIntersect(K,Q,Re),re)){if(Q.isMajor&&!K.isMajor){Xe[z]=null;break}Xe[X]=null}}for(Xe=Xe.filter((function(e){return null!==e})),Le||e.save(),he=C.x,ge=C.x+C.width,Se=C.y,me=C.y+C.height,D===s.TICK_STYLE_DIVIDER_FULL&&(n?me=Math.max(me,t.y+t.height):he=Math.min(he,t.x)),q=Xe.length,0===q&&rt&&(n?me=Math.max(me,t.y+ye):he=Math.min(he,t.x+t.width-ye)),z=0;z<q;z++)if(K=Xe[z],K){const e=Le?K.textDescent:0,t=Le?R-K.textAscent-1:0,i=Ne?K.textDescent:0,a=Ne?R-K.textAscent-1:0;he>K.x+a&&(he=K.x+a),ge<K.x+K.width+i&&(ge=K.x+K.width+i),Se>K.y+t&&(Se=K.y+t),me<K.y+K.height+e&&(me=K.y+K.height+e)}for(Z=Ze.length,Xe=Xe.concat(Ze),q+=Z,De=S.scale.refColors,e.fillStyle=v||JMP.ViewStatic.getTextColor(),e.strokeStyle=JMP.ViewStatic.getTextColor(),z=0;z<q;z++)if(K=Xe[z],K&&K.label){const t=De&&z>=q-Z;let i;if(t){const t=S.scale.getReferenceLabelColor(z-q+Z);i=S.scale.getReferenceLabelSize(z-q+Z),e.fillStyle=t,e.strokeStyle=t,e.font=i+"px "+S.scale.getReferenceLabelFont(z-q+Z,w),We=i}if(ue=K.label.length,H=0,Le){for(lt&&ue>1&&(H=l?ye-2:2),W=0;W<ue;W++)if(null!==K.label[W]){const t=n?(K.width-K.labelWidths[W])/2:K.width-K.labelWidths[W];e.fillText(K.label[W],K.x+t,K.y+(W+1)*We+H)}}else if(Ie){for(J=K.x,$=K.y,e.translate(J,$),e.rotate(Ce),W=0;W<ue;W++)null!==K.label[W]&&e.fillText(K.label[W],0,(W+1)*We);e.rotate(-Ce),e.translate(-J,-$)}else{for(J=K.x+K.width/2,$=K.y+K.height/2,e.translate(J,$),e.rotate(Ce),lt&&ue>1&&(H=l?-ye:0),W=0;W<ue;W++)if(null!==K.label[W]){const t=n?K.height-K.labelWidths[W]:(K.height-K.labelWidths[W])/2;e.fillText(K.label[W],-K.height/2+t,(W+1)*We-K.width/2+H)}e.rotate(-Ce),e.translate(-J,-$)}if(t){const e=Le?K.textDescent:0,t=Le?We-K.textAscent-1:0,i=Ne?K.textDescent:0,a=Ne?We-K.textAscent-1:0;he>K.x+a&&(he=K.x+a),ge<K.x+K.width+i&&(ge=K.x+K.width+i),Se>K.y+t&&(Se=K.y+t),me<K.y+K.height+e&&(me=K.y+K.height+e)}}return Le||e.restore(),he>>=0,ge=ge+1-JMP.EPSILON>>0,Se>>=0,me=me+1-JMP.EPSILON>>0,C.x=he,C.y=Se,C.width=ge-he,C.height=me-Se,Xe},S=function(e,t,i,a,n,l){let o,r,c,d,u,h=0,g=n||JMP.SMALL_FONT_SIZE;if(e.font=g+"px "+JMP.FONT,a){if(t){for(u=t.labels||t.tickLabels,u?r=u[0].length:(d=s.getTickValues(t,i),r=d.length),o=0;o<r;o++){if(u)c=u[0][o],null!==c&&"."!==c||(c=JMP.ModelStatic.TIP_MISSING);else{if(!d[o].isMajor)continue;null===d[o].value?c=JMP.ModelStatic.TIP_MISSING:(c=JMP.FormatStatic.formatNumber(d[o].value,t.format),t.format&&t.format.majorPattern.length>0&&(c=JMP.FormatStatic.formatPattern(d[o].value,t.format,t.format.majorPattern,c)))}h<e.measureText(c).width&&(h=e.measureText(c).width)}for(r=0,l&&t.refValues&&(r=t.refValues.length),o=0;o<r;o++)c=t.refLabels[o],c&&h<e.measureText(c).width&&(h=e.measureText(c).width)}}else h+=g;return h},m=function(e,t,i,a,n,l){if(!i||0===i.length)return 0;let s,o,r=0,c=n||JMP.LARGE_FONT_SIZE,d=i.length,u=0,h=0;const g=c+4;let S=0;const m=d>0?i[0].fontFamily:JMP.FONT,f=i[0].wrapWidth;for(e.font=c+"px "+m,s=0;s<d;s++){const t=i[s],n=!t||t.isHidden?"":t.isBulleted?JMP.TextBoxStatic.addBullet(t.text):t.text,c=f>0?JMP.TextBoxStatic.wrap(e,f,[n]):[n];if(a?t.orientation!==JMP.TextBoxStatic.ORIENTATION_HORIZONTAL:t.orientation===JMP.TextBoxStatic.ORIENTATION_HORIZONTAL){let t=0;for(o=0;o<c.length;o++){const i=c[o].trim(),a=e.measureText(i).width;t=Math.max(t,a)}S=Math.max(S,t)}else S+=g*c.length;u++,l&&u>=l[h]&&(h++,u=0,r+=S,S=0)}return r};return s.ID_ZOOM_ORIGIN_AREA=-1,s.ID_ZOOM_RANGE_AREA=1,s.ID_PAN_AREA=0,s.TICK_STYLE_NOT_SET=0,s.TICK_STYLE_MARK_SHORT=1,s.TICK_STYLE_MARK_LONG=2,s.TICK_STYLE_DIVIDER_SHORT=3,s.TICK_STYLE_DIVIDER_FULL=4,s.TICK_STYLE_INTERVAL_TRAY=5,s.BRACKET_TICK_STYLES=[s.TICK_STYLE_DIVIDER_SHORT,s.TICK_STYLE_DIVIDER_FULL,s.TICK_STYLE_INTERVAL_TRAY],s.removeEventListeners=function(e){e&&e.scaling&&e.scaling.removeEventListener(),e&&e.otherScaling&&e.otherScaling.removeEventListener()},s.getCache=function(e,i){let a,n,l,s,o=JMP.ReportStatic.getAssociatedFrames(e),r=o.length>0?JMP.SegmentStatic.SCALABLE_CLIENT:JMP.SegmentStatic.SCALABLE_NONE;1===o.length&&(a=!!e.isHorizontal),o.forEach((t=>{let i=t.contentScalability(a);r=JMP.SegmentStatic.determineScalability(e,r,i)})),e.setScalable(r),e.scale&&(s=e.scale[e.isHorizontal?t.ROLE_X:t.ROLE_Y],s&&(n=e.isHorizontal?JMP.Scaling(s,.5+(e.x>>0),e.width-1):JMP.Scaling(s,.5+(e.y+e.height-1>>0),1-e.height)),s=e.scale[e.isHorizontal?t.ROLE_Y:t.ROLE_X],s&&(l=e.isHorizontal?JMP.Scaling(s,.5+(e.y+e.height-1>>0),1-e.height):JMP.Scaling(s,.5+(e.x>>0),e.width-1))),i.scaling=n,i.otherScaling=l,i.drawingBounds||(i.drawingBounds={x:0,y:0,width:-1,height:-1})},s.getTickValues=function(e,t,i,a,n=0){let l,s,o,c,d,u,g,S,m,f,T,p,E,b=void 0!==i?i:0,A=e.origin,_=e.range,x=void 0!==e.base?e.base:10,L=void 0!==e.power?e.power:2,N=_>0?_:-_,I=_<0,M=!!t&&t.isRange,y=e.type===r.SCALE_LINEAR,C=e.type===r.SCALE_LOG,R=e.type===r.SCALE_NORMAL,v=e.type===r.SCALE_POWER,w=r.isGeodesic(e),O=y||C||v||w?Math.abs(e.widthMajor):.1,P=a||(y||v||w?e.nMinor:0),D=e.labels||e.tickLabels,F=e.tickOrigins,B=[],V=[],k=[],G=e.timeUnit;if(JMP.FormatStatic.isDate(e.format)&&(P=0),v&&(f=h(A,_,L),A=f[0],_=f[1],N=_>0?_:-_),R)for(B=Math.abs(e.origin+2)<.08&&Math.abs(e.range-4)<.16||Math.abs(e.origin-2)<.08&&Math.abs(e.range+4)<.16?[.03,.06,.09,.14,.2,.35,.5,.65,.8,.86,.91,.94,.97]:[1e-14,2e-14,3e-14,5e-14,1e-13,2e-13,3e-13,5e-13,1e-12,2e-12,3e-12,5e-12,1e-11,2e-11,3e-11,5e-11,1e-10,2e-10,3e-10,5e-10,1e-9,2e-9,3e-9,5e-9,1e-8,2e-8,3e-8,5e-8,1e-7,2e-7,3e-7,5e-7,1e-6,2e-6,3e-6,5e-6,1e-5,12e-6,14e-6,16e-6,18e-6,2e-5,25e-6,3e-5,35e-6,4e-5,45e-6,5e-5,6e-5,7e-5,8e-5,9e-5,1e-4,2e-4,3e-4,4e-4,5e-4,6e-4,7e-4,8e-4,9e-4,.001,.0015,.002,.003,.004,.005,.0075,.01,.015,.02,.03,.04,.05,.06,.07,.08,.09,.1,.12,.14,.16,.18,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.82,.84,.86,.88,.9,.91,.92,.93,.94,.95,.96,.97,.98,.985,.99,.9925,.995,.996,.997,.998,.9985,.999,.9991,.9992,.9993,.9994,.9995,.9996,.9997,.9998,.9999,.99991,.99992,.99993,.99994,.99995,.999955,.99996,.999965,.99997,.999975,.99998,.999982,.999984,.999986,.999988,.99999,.999995,.999997,.999998,.999999,.9999995,.9999997,.9999998,.9999999,.99999995,.99999997,.99999998,.99999999,.999999995,.999999997,.999999998,.999999999,.9999999995,.9999999997,.9999999998,.9999999999,.99999999995,.99999999997,.99999999998,.99999999999,.999999999995,.999999999997,.999999999998,.999999999999,.9999999999995,.9999999999997,.9999999999998,.9999999999999,.99999999999995,.99999999999997,.99999999999998,.99999999999999],M&&(B=[0,1]),d=B.length,o=0;o<d;o++)V.push(!0);else if(C){let i=I?Math.ceil(A):Math.floor(A);i-=i%O;const a=1e3*JMP.MAC_EPS,n=A+_+(I?-a:a),l=A+(I?a:-a),s=1/Math.log10(x);P=e.nMinor>2?1:e.nMinor;const r=x**(1-(P+(x>2?0:1))),c=(x-1)/r-1;if(I)for(o=i;o>=A+_;o-=O)for(o>=n&&(B.push(x**o),V.push(!0)),S=1;S<=c;S++){const e=o-1+Math.log10(x-S*r)*s;if(!(e>l)){if(e<n)break;B.push(x**e),V.push(!1)}}else for(o=i;o<=A+_;o+=O)for(o>=l&&(B.push(x**o),V.push(!0)),S=1;S<=c;S++){const e=o+Math.log10(1+S*r)*s;if(!(e<l)){if(e>n)break;B.push(x**e),V.push(!1)}}0===B.length?(t&&(t.isRange=!0),B.push(x**A),V.push(!0),B.push(x**(A+_)),V.push(!0)):t&&(t.isRange=!1)}else if(O>0){let t=O;if(O*=r.getSeconds(G),!D)for(;N/O>1e3;)O*=10,t*=10;if(O<1&&(l=1/O,s=l%1,s=Math.min(s,1-s),s<1e3*l*JMP.MAC_EPS&&(l=Math.round(l))),void 0===G)u=Math.round(A/O);else{u=0,E=JMP.FormatStatic.valueToDateTime(A);let i=E.dayOfWeek-E.day,a=E.dayOfYear-E.day;switch(E.hours=0,E.minutes=0,E.seconds=0,G){case r.TIME_YEAR:E.year=t*Math.round(E.year/t),E.month=0,E.day=1,E.dayOfWeek=E.day+i,E.dayOfYear=E.day+a;break;case r.TIME_QUARTER:E.month=3*t*Math.round((E.month/3>>0)/t),E.day=1,E.dayOfWeek=E.day+i,E.dayOfYear=E.day+a;break;case r.TIME_MONTH:E.month=t*Math.round(E.month/t),E.day=1,E.dayOfWeek=E.day+i,E.dayOfYear=E.day+a;break;case r.TIME_WEEK:E.dayOfWeek=0,E.day=E.dayOfWeek-i,E.dayOfYear=E.day+a;break;case r.TIME_DAY:JMP.FormatStatic.isDuration(e.format)?E=JMP.FormatStatic.valueToDateTime(O*Math.round(A/O)):(E.day=t*Math.round((E.day-1)/t)+1,E.dayOfWeek=E.day+i,E.dayOfYear=E.day+a);break;default:E=JMP.FormatStatic.valueToDateTime(O*Math.round(A/O))}}for(D&&D[b]&&(u=(void 0!==F?F[b]:0)/O,b>0&&(u+=.5),I&&(u+=D[b].length-1)),D&&D[b]?d=D[b].length:(g=1e3*JMP.MAC_EPS,d=N/O+1+g>>0,d+=2),o=0;o<d;o++){for(c=u+(I?-o:o-1),S=1;S<=P;S++)m=I?P+1-S:S,p=(c+m/(P+1))*O,B.push(p),V.push(!1);switch(c=u+(I?-o:o),T=O>=1?c*O:c/l,G){case r.TIME_YEAR:case r.TIME_QUARTER:case r.TIME_MONTH:let e={year:E.year,month:E.month,day:1,hours:0,minutes:0,seconds:0},i=Math.round(c*t);if(G===r.TIME_YEAR)e.year+=i;else{for(G===r.TIME_QUARTER&&(i*=3),i+=e.month,e.year+=i>=0?i/12>>0:((i+1)/12>>0)-1;i<0;)i+=12;e.month=i%12}T=JMP.FormatStatic.dateTimeToValue(e);break;case r.TIME_WEEK:case r.TIME_DAY:case r.TIME_HOUR:case r.TIME_MINUTE:case r.TIME_SECOND:T=JMP.FormatStatic.dateTimeToValue(E)+c*O}B.push(T),V.push(!0)}if(M)if(y)B=[A,A+_],V=[!0,!0];else{for(d=B.length,o=0;o<d;o++)V[o]=!1;for(T=_<0?A:A+_,C&&(T=x**T);T<B[d-1];)B.pop(),V.pop(),d--;for(T!==B[d-1]?(B.push(T),V.push(!0)):V[d-1]=!0,T=_<0?A+_:A,C&&(T=x**T);T>B[0];)B.shift(),V.shift(),d--;T!==B[0]?(B.unshift(T),V.unshift(!0)):V[0]=!0}}const H=O>0?n%O:n;for(d=B.length,o=0;o<d;o++)k[o]={value:B[o]+H,isMajor:V[o]};return k},s.getCategoricalTickValuesAndPositions=function(e,t,i,a,n=0){let l,s,o=0,r=0;const c=t.scale.range<0,d=0===a?t.scale.widthMajor:1,{tickSpans:u}=t.scale;t.scale.tickLabels&&t.scale.tickLabels[a]?o=t.scale.tickLabels[a].length:u&&u[a]&&(o=u[a].length),l=new Array(o);for(let h=0;h<o;h++){s=c?o-1-h:h;const g=u?u[a][h]:1,S=g*t.pixelPerValueScale,m=JMP.ScalingStatic.valueToPixel(t,r+n)+S/2;l[s]=i?{value:h,isMajor:!0,x:m,y:e.y,width:S}:{value:h,isMajor:!0,x:e.x+e.width,y:m,width:S},r+=g*d}return l},s.getContinuousTickValuesAndPositions=function(e,t,i,a,n,l,o,c=0){let u,g,S,m,f,T,p,E,b,A,_,x,L=void 0!==l?l:0,N=s.getTickValues(t.scale,n,L,o,c),I=void 0!==t.scale.power?t.scale.power:2,M=t.scale.type===r.SCALE_LOG,y=function(e,t,i){let a=0;return i.forEach((function(i){t>=0?e<=i.value&&i.value<=e+t&&a++:e>=i.value&&i.value>=e+t&&a++})),a};if(t.scale.type===r.SCALE_POWER){let e=o||t.scale.nMinor,i=t.scale.origin,a=t.scale.range,l=h(i,a,I);i=l[0],a=l[1];let r=0;for(;y(i,a,N)<3&&r<5;)e=2*e+1,N=s.getTickValues(t.scale,n,L,e),r++}let C=!!n&&n.isRange;if(i){if(!C)return d(e,t,i,a,!0,N);N=[{isMajor:!0},{isMajor:!0}],x=[t.pixelOrigin,t.pixelOrigin+t.pixelRange],a?(N[0].value=JMP.ScalingStatic.geodesicPixelToValues(t,i,x[0],i.pixelOrigin),N[1].value=JMP.ScalingStatic.geodesicPixelToValues(t,i,x[1],i.pixelOrigin)):(N[0].value=JMP.ScalingStatic.geodesicPixelToValues(i,t,i.pixelOrigin,x[0]),N[1].value=JMP.ScalingStatic.geodesicPixelToValues(i,t,i.pixelOrigin,x[1]))}for(S=N.length,u=0;u<S;u++)f=i?a?JMP.ScalingStatic.geodesicValuesToPixel(t,i,N[u].value.x,N[u].value.y).x:JMP.ScalingStatic.geodesicValuesToPixel(i,t,N[u].value.x,N[u].value.y).y:JMP.ScalingStatic.valueToPixel(t,N[u].value),a?(b=x?x[u]:.5+(f>>0),A=e.y):(b=e.x+e.width,A=x?x[u]:.5+(f>>0)),N[u].x=b,N[u].y=A;if(t.scale.type===r.SCALE_NORMAL)for(m=2*JMP.SMALL_FONT_SIZE,S=N.length,u=S/2>>0;u<S;){for(T=JMP.ScalingStatic.valueToPixel(t,N[u].value),E=!0,g=u+1;g<S&&E;g++)p=JMP.ScalingStatic.valueToPixel(t,N[g].value),E=Math.abs(p-T)<m,E&&(N[g]=null,N[S-1-g]=null);u=E?g:g-1}else if(!t.scale.labels&&!t.scale.tickLabels)for(g=0,C&&(g++,S--);g<S-1;){for(u=g;u<S-1&&(!N[u]||!N[u].isMajor);)u++;for(g=u,_=!0;g<S-1&&(!N[g]||_);)g++,_=!1,N[g]&&(!M||!N[g].isMajor)&&Math.abs(a?N[u].x-N[g].x:N[u].y-N[g].y)<3&&(N[g]=null,_=!0)}return N=N.filter((function(e){return null!==e})),N},s.getTickValuesAndPositions=function(e,t,i,a,n,l,o,c,d=0){return t.scale.isContinuous||!t.scale.tickSpans&&!t.scale.tickLabels||t.scale.type!==r.SCALE_LINEAR?s.getContinuousTickValuesAndPositions(e,t,i,a,n,l,c,d):s.getCategoricalTickValuesAndPositions(e,t,a,l,o)},s.updateRange=function(e,t,i,a,n){let{type:l,origin:o,range:c}=e.scale,d=e.scale,u=void 0!==d.base?d.base:10,h=void 0!==d.power?d.power:2,g=JMP.ScalingStatic.pixelToValue(e,a.x),S=JMP.ScalingStatic.pixelToValue(e,a.y),m=JMP.ScalingStatic.pixelToValue(e,n.x),f=JMP.ScalingStatic.pixelToValue(e,n.y);g=r.convertFromValue(l,g,u,h),S=r.convertFromValue(l,S,u,h),m=r.convertFromValue(l,m,u,h),f=r.convertFromValue(l,f,u,h);let T=r.EVENT_CHANGED,p=t?g-m:S-f,E=t?n.x:n.y,b=t?g:S;if(i===s.ID_ZOOM_RANGE_AREA)c=e.pixelRange*(b-o)/(E-e.pixelOrigin);else if(i===s.ID_ZOOM_ORIGIN_AREA){let t=e.pixelRange*(c+o-b)/(e.pixelRange-(E-e.pixelOrigin));o=c+o-t,c=t}else T=r.EVENT_INPUT,o+=p;c=r.convertToValue(l,o+c,u,h),o=r.convertToValue(l,o,u,h),c-=o,d.updateRange(o,c,T),JMP.ReportStatic.drawDirtyFrames()},s.commitScaleChanges=function(e,t){e.getScalable()&JMP.SegmentStatic.SCALABLE_SERVER&&JMP.ViewStatic.isServerAvailable&&JMP.ReportStatic.updateScales([t.scaling.scale])},s.onPointerEvent=function(e,t,i){let a=t.scaling,r=e.isHorizontal,d=o(e);let u={x:i.clientX,y:i.clientY};JMP.SegmentStatic.convertToSegmentCoordinates(e,u);let h={x:u.x+e.x,y:u.y+e.y},g=JMP.ViewStatic.pointInRect(h,d,-4),S=JMP.SegmentStatic.isInBounds(e,u)||g,m=function(e){let t="cursorArrow";return e===s.ID_ZOOM_ORIGIN_AREA?t=r?"cursorHandLeft":"cursorHandDown":e===s.ID_ZOOM_RANGE_AREA?t=r?"cursorHandRight":"cursorHandUp":e===s.ID_PAN_AREA&&(t=r?"cursorHandUp":"cursorHandLeft"),t};if((S||JMP.SegmentStatic.pointerDownSegment===e||"pointerout"===i.type&&!JMP.EventFacadeStatic.isTouch)&&(JMP.TooltipStatic.updateTooltip(),e.getScalable()&JMP.SegmentStatic.SCALABLE_CLIENT||e.getScalable()===JMP.SegmentStatic.SCALABLE_SERVER&&JMP.ViewStatic.isServerAvailable))switch(i.type){case"pointerdown":l=c(h,d,r,-4,!t.otherScaling),void 0!==l&&(JMP.SegmentStatic.pointerDownSegment=e,n={x:h.x,y:h.y}),document.body.className=m(l);break;case"pointermove":JMP.SegmentStatic.pointerDownSegment===e?(e.getScalable()!==JMP.SegmentStatic.SCALABLE_NONE&&(s.updateRange(a,r,l,n,h),n.x=h.x,n.y=h.y),document.body.className=m(l)):void 0===JMP.SegmentStatic.pointerDownSegment&&(document.body.className=m(c(h,d,r,-4,!t.otherScaling)));break;case"pointerup":JMP.SegmentStatic.pointerDownSegment===e&&(JMP.SegmentStatic.pointerDownSegment=void 0,s.updateRange(a,r,l,n,h),s.commitScaleChanges(e,t),n=void 0,l=void 0,S&&(document.body.className=m(c(h,d,r,-4,!t.otherScaling))));break;case"pointerout":l||(document.body.className="cursorArrow");break;case"pointercancel":JMP.SegmentStatic.pointerDownSegment=void 0,n=void 0,l=void 0,S&&(document.body.className="cursorArrow")}},s.draw=function(e,t){let i,a,n,l,s,r,c,d,u,h,S,m,f,T,p,{g:E,x:b,y:A,width:_,height:x,isHorizontal:L,isFlipped:N,lineColor:I,padBefore:M,padAfter:y,padBetween:C,tickSizes:R,tickOrientations:v,hideMajorTicks:w,hideMinorTicks:O,hideTickLabels:P,hideReferenceTicks:D,tryHorizontalTickLabels:F,labelFontSize:B,fontSize:V,fontSizes:k,tickFontColor:G,tickOffset:H}=e,Y=e.contents,{scaling:U,otherScaling:z,drawingBounds:W}=t,X=U.scale.labels||U.scale.tickLabels,Z=U.scale.tickOrigins,q=U.scale.tickSpans,j=L?x:_,K=o(e);if(W||(W={x:0,y:0,width:-1,height:-1}),L?(W.x=b,W.width=_,W.y=N?A+x:A,W.height=0):(W.y=A,W.height=x,W.x=N?b:b+_,W.width=0),q&&U.scale.tickLabels&&(X=U.scale.tickLabels),!e.isDisplayed)return;JMP.ViewStatic.reset(E),e.zoomButton&&"none"===e.zoomButton.style.display&&e.isZoomed&&E.clearRect(K.x,K.y,K.width,K.height),l=X?X.length:1,s=j,Y&&l>1&&(s=(s-Y.length*B)/l>>0),c=b,d=A,u=_,h=x,r=l>1&&R&&0<=R[0]&&R[0]<j?R[0]:s,L?d+=N?x-r:0:c+=N?0:_-r;let Q=!0;for(i=0;i<l;i++){if(r=l>1&&R&&0<=R[i]&&R[i]<j?R[i]:s,L?h=r:u=r,S=!1,T=v?v[i]:void 0,void 0===T||F&&(T===JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT||T===JMP.TextBoxStatic.ORIENTATION_VERTICAL_RIGHT)){if(X&&X[i])for(p=0,n=X[i].length,a=0;a<n&&p<7;a++)X[i][a]&&(p=X[i][a].length);else m=Math.max(U.scale.origin,U.scale.origin+U.scale.range),f=JMP.FormatStatic.formatNumber(m,U.scale.format),p=f.length;p<7&&(S=!0)}g(E,{x:c,y:d,width:u,height:h},L,N,I,M,y,U,z,l>1?i:void 0,X?X[i]:void 0,q?q[i]:void 0,Z?Z[i]:void 0,v&&!S?v[i]:void 0,w?w[i]:void 0,O?O[i]:void 0,P?P[i]:void 0,D,e,e.isBracket?e.isBracket[i]:i>0,e.canvas.width,e.canvas.height,W,k?k[i]:V,G,e.fontFamily,H,Q,e.tickStyles?e.tickStyles[i]:void 0,e.lowerFrames?e.lowerFrames[i]:void 0,e.wrapLines),Q=!1,i<l-1&&(L?d+=N?-(R?R[i+1]:s):r:c+=N?r:-(R?R[i+1]:s))}!function(e,t,i,a,n,l,s,o,r){let c,d,u,h,g,S,m,f,T,p,E,b,A,_,x=o||JMP.LARGE_FONT_SIZE;if(!n||0===n.length)return;u=n.length;const L=x+4,N=x/8,I=n[0].fontFamily;e.font=x+"px "+I;const M=i?t.width:t.width-s.width,y=i?t.height-s.height:t.height;let C=[],R=0,v=0,w=0,O=0,P=[],D=[0];for(c=0;c<u;c++){const t=n[c],a=t.orientation===JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,l=a===i,s=!t||t.isHidden?"":t.isBulleted?JMP.TextBoxStatic.addBullet(t.text):t.text,o=t.wrapWidth?t.wrapWidth:a?M:y,u=o>0?JMP.TextBoxStatic.wrap(e,o,[s]):[s];let h={lines:u,lineWidths:[],lineSizes:[],maxSize:0};for(d=0;d<u.length;d++){const t=u[d],i=e.measureText(t).width;h.lineWidths.push(i),h.lineSizes.push(l?x:i),h.maxSize=Math.max(h.maxSize,h.lineSizes[d]),D[R]++}l&&(h.maxSize=x*u.length,h.maxSize+=4*(u.length-1)),C.push(h),w=Math.max(w,h.maxSize),v++,v>=r[R]&&(P.push(w),D.push(0),O+=w,v=0,w=0,R++)}O+=4*(u-1),i?(S=t.x+t.width/2,m=t.y+(a?y/2:t.height-(y-l)/2)):(S=t.x+(a?s.width+M/2:M/2),m=t.y+t.height/2),E=1/0,A=1/0,b=-1/0,_=-1/0;let F=0,B=0;for(R=0,c=0;c<C.length;c++){const l=C[c],s=n[c].orientation!==JMP.TextBoxStatic.ORIENTATION_HORIZONTAL;for(f=l.maxSize/2,T=-(l.lines.length-1)/2*L,p=L*l.lines.length,B=(v+(l.lines.length-1)/2-(D[R]-1)/2)*L+x/2,F=l.maxSize+4,s?(M<x&&(S=a?t.x+t.width-D[R]/2*L:t.x+D[R]/2*L),e.save(),e.translate(S,m),e.rotate(n[c].orientation===JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT?-JMP.HALF_PI:JMP.HALF_PI),h=i?n[c].orientation===JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT?O/2-f:f-O/2:0,g=i?B:n[c].orientation===JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT?f-O/2+B:f+O/2-B,E=Math.min(E,S+T-O/2),A=Math.min(A,m-f),b=Math.max(b,S+p),_=Math.max(_,m+f)):(y<x&&(m=a?t.y+D[R]/2*L:t.y+t.height-D[R]/2*L),h=S+(i?0:f-O/2),g=m+(i?B+f-O/2:B),E=Math.min(E,h-f),A=Math.min(A,m+B-p),b=Math.max(b,S+f),_=Math.max(_,m+B+p)),e.fillStyle=void 0!==n[c].color?n[c].color:JMP.ViewStatic.getTextColor(),d=0;d<l.lines.length;d++){const t=l.lines[d],i=g-(l.lines.length-1)*L/2+d*L,a=h-l.lineWidths[d]/2;e.fillText(t,a,i-N),v++}s&&e.restore(),v>=D[R]&&(v=0,R++,i?m+=F:S+=F)}E>>=0,b=b+1-JMP.EPSILON>>0,A>>=0,_=_+1-JMP.EPSILON>>0,s.x>E&&(s.width+=s.x-E,s.x=E),s.width<b-s.x&&(s.width=b-s.x),s.y>A&&(s.height+=s.y-A,s.y=A),s.height<_-s.y&&(s.height=_-s.y)}(E,{x:b,y:A,width:_,height:x},L,N,Y,C,W,B,e.labelLayout),W.height+=1},s.getPreferredWidth=function(i){let a=i.contents,n=i.tickOrientations,l=e;return i.isHorizontal||(l=(void 0!==i.padBetween?i.padBetween:0)+S(i.g,i.scale[t.ROLE_Y],i,void 0===n||void 0===n[0]||n[0]===JMP.TextBoxStatic.ORIENTATION_HORIZONTAL||i.tryHorizontalTickLabels,i.fontSize,!i.hideReferenceTicks)+m(i.g,void 0!==i.height&&i.height,a,!1,i.fontSize,i.labelLayout),l+=4*(i.labelLayout.length+1)),l},s.getPreferredHeight=function(i){let a=i.contents,n=i.tickOrientations,l=e;return i.isHorizontal&&(l=15+S(i.g,i.scale[t.ROLE_X],i,void 0!==n&&void 0!==n[0]&&n[0]!==JMP.TextBoxStatic.ORIENTATION_HORIZONTAL&&!i.tryHorizontalTickLabels,i.fontSize,!i.hideReferenceTicks),i.controlPosY=l,l+=+(void 0!==i.padBetween?i.padBetween:0)+m(i.g,void 0!==i.width&&i.width,a,!0,i.fontSize,i.labelLayout)),l},s}(),JMP.AxisBox=function(e){"use strict";let i,a=new d(e),n=function(e){let i;e.type===r.EVENT_CHANGED&&(e.isReverted||(i=a.scale[a.isHorizontal?t.ROLE_X:t.ROLE_Y],i.type!==r.SCALE_LINEAR||i.labels||i.tickLabels||(i.widthMajor=i.getNiceTickIncrement(),i.nMinor=0))),e.type!==r.EVENT_INPUT&&e.type!==r.EVENT_CHANGED||(a.clear(),a.draw(),a.isDirty=!0)},l=function(){return i||(i={},JMP.AxisBoxStatic.getCache(a,i),i.scaling&&i.scaling.scale.addEventListener(n),i.otherScaling&&i.otherScaling.scale.addEventListener(n)),i};return a.lineColor=JMP.COLOR_LINE,a.isFlipped=!1,a.padBefore=0,a.padAfter=0,a.padBetween=0,a.tickSizes=void 0,a.tickOffset=0,a.tickOrientations=void 0,a.hideMajorTicks=void 0,a.hideMinorTicks=void 0,a.hideTickLabels=void 0,a.hideReferenceTicks=!1,a.lowerFrames=void 0,a.isRange=!1,a.tryHorizontalAxisLabel=!1,a.tryHorizontalTickLabels=!1,a.isZoomed=!1,a.zoomButton=void 0,a.fontSize=JMP.SMALL_FONT_SIZE,a.fontSizes=void 0,a.fontFamily=JMP.FONT,a.labelFontSize=JMP.SMALL_FONT_SIZE,a.tickFontColor=void 0,a.tickStyles=void 0,a.isBracket=void 0,a.controlPosY=void 0,a.labelLayout=[],a.wrapLines=0,a.onPointerEvent=function(e){l(),JMP.AxisBoxStatic.onPointerEvent(a,i,e)},a.clearCache=function(){i&&(JMP.AxisBoxStatic.removeEventListeners(i),i=void 0)},a.clear=function(){i&&a.g.clearRect(i.drawingBounds.x,i.drawingBounds.y,i.drawingBounds.width,i.drawingBounds.height)},a.draw=function(){l(),i.scaling&&(JMP.AxisBoxStatic.draw(a,i),a.sendEvent(JMP.SegmentStatic.EVENT_DRAWING_COMPLETE))},a.getPreferredWidth=function(){return JMP.AxisBoxStatic.getPreferredWidth(a)},a.getPreferredHeight=function(){return JMP.AxisBoxStatic.getPreferredHeight(a)},a},JMP.BarSegmentStatic=function(){"use strict";let e={},i=JMP.Format(JMP.FormatStatic.FORMAT_PERCENT,!1,1),n=Object.freeze({HORIZONTAL:"horizontal",VERTICAL:"vertical",FLOATING:"floating"}),l=function(e){return e.style===JMP.BarSegmentStatic.STYLE_RANGE||e.errorStatistic===JMP.MomentsStatic.STAT_NONE&&(e.style===JMP.BarSegmentStatic.STYLE_INTERVAL||e.style===JMP.BarSegmentStatic.STYLE_INTERVAL_SIDE_BY_SIDE)},s=function(e,t,i){let a,n=i;return t&&e.groupCalculation&&(a=e.groupCalculation.getResult()[0].length/e.overlayTerm.getNLevels()>>0,n=a>1?e.groupIndex/a>>0:e.groupIndex),n},o=function(e,i,a){let n,l=e.columns.getColumns(t.ROLE_X),s=e.overlayTerm,o=l.indexOf(s.inputVariables[0]),r=1;for(n=i.length-1;n>o;n--)r*=i[n].length;return(a/r>>0)%s.getNLevels()},d=function(e,t,i,a){let n=a;return e.errorStatistic!==JMP.MomentsStatic.STAT_NONE&&e.yInterval.length!==2*a*(t?1:i)&&(n=1),n},u=function(a,n,o,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N){let I,M,y,C,R,v,w,O,P,D,F,B,V,k,G=N.iY,H=N.nY,Y=N.iX,U=N.nX,z=N.iOverlay,W=N.nOverlay,X=Y*W+z+L,Z=l(a),q=u.scale;if(N.indices=void 0!==S[X]||T?S[X]:[g],v=a.statistic,v===JMP.MomentsStatic.STAT_MEAN&&_&&(v=void 0),N.label=void 0,E)switch(a.labeling){case e.LABELING_VALUE:0!==h&&(Z&&(h=Math.abs(h)),w=b&&v!==JMP.MomentsStatic.STAT_PERCENT?JMP.ViewStatic.getPreciseFormat(q.origin,q.range,q.format,!0,b,A||f&&Number.isInteger(h)?void 0:n.length>0?v:JMP.MomentsStatic.STAT_N):q.type!==r.SCALE_LOG?q.refFormat:q.format,N.label=JMP.FormatStatic.formatNumber(h,a.valueLabelFormat?a.valueLabelFormat:w));break;case e.LABELING_PERCENT:if(M=a.subsetRowIndices,a.groupCalculation&&(M=a.groupCalculation.getResult()[0][a.groupIndex]),O=N.indices?N.indices.concat():void 0,Z&&H<=1&&1===z&&(O=void 0!==S[X-1]||T?S[X-1]:[g]),!a.hasMissingLevels&&n.length&&o.length){if(!M)for(M=[],B=o[0].data.length,P=0;P<B;P++)M[P]=P;for(B=M.length,P=B-1;P>=0;P--){for(F=o.length,V=!1,D=0;D<F&&!V;D++)V=null===o[D].data[M[P]];V&&M.splice(P,1)}}I=n.length>0||a.overlayTerm?JMP.MomentsStatic.getValue([n[G]],c,d,[O],M,JMP.MomentsStatic.STAT_PERCENT,a.hasMissingLevels,!1,!0)[0][0]:O.length/m;let l=o.length>0&&a.groupCalculation&&a.groupCalculation.inputVariables.includes(o[0]);if((v===JMP.MomentsStatic.STAT_N||n.length>0&&(v===JMP.MomentsStatic.STAT_MEDIAN||v===JMP.MomentsStatic.STAT_MEAN||v===JMP.MomentsStatic.STAT_PERCENT||v===JMP.MomentsStatic.STAT_MIN||v===JMP.MomentsStatic.STAT_MAX||v===JMP.MomentsStatic.STAT_RANGE||v===JMP.MomentsStatic.STAT_IQR)||(n.length>1||l)&&v===JMP.MomentsStatic.STAT_SUM)&&(P=Z&&G<=1?0:G,I=JMP.MomentsStatic.getValue([n[P]],c,d,[O],M,v,a.hasMissingLevels,!1,!0)[0][0],I/=x),!l&&a.overlayTerm&&!a.isOverlayDisabled&&n.length<=0&&(R=JMP.MomentsStatic.getValue([a.overlayTerm.inputVariables[0]],c,d,void 0,M,JMP.MomentsStatic.STAT_N,!0,!1,!0)[0][0],C=N.nValidForPct,C&&(I*=R/C)),null===I||0===I&&!Z||(N.label=JMP.FormatStatic.formatNumber(I,i)),Z)for(B=d.hidden.length,P=0;P<B&&N.label;P++)(d.hidden[P]||d.excluded[P])&&(N.label=void 0);break;case e.LABELING_ROW_LABEL:if(p&&(W=a.overlayTerm.getNLevels(),k=a.overlayTerm.inputVariables[0],a.groupCalculation&&a.groupCalculation.inputVariables.includes(k)?(z=s(a,p,z),X=Y*W+z+L):a.columns.getColumns(t.ROLE_X).includes(k)&&(X=Y*W+Y+L)),y=a.subsetRowIndices?N.iRowIndex:!a.groupCalculation&&f&&U<a.rowLabels.length?S[X][0]:!a.groupCalculation&&T?G:H*U*W<=a.rowLabels.length?Z?X:H*X:Y,Z&&(H>1?G<2&&(y*=2):o[0]!==a.overlayTerm.inputVariables[0]&&z<2&&y--),H>1)for(;!a.rowLabels[y]&&y<H*(X+1)-1;)y++;0!==h&&a.rowLabels[y]&&a.rowLabels[y].length>0&&(N.label=a.rowLabels[y])}},h=function(i,a,n,s,r,c,d,u,h,g,S,m,f,T,p,E){let b,A,_,x,L,N,I,M,y,C=i.fontSize,R=E.r,v=E.rRaw,w=E.rLabel,O=i.g,P=i.isHorizontal,D=E.iOverlay,F=E.iY,B=E.nX,V=E.nOverlay,k=E.nY,G=E.iYInterval,H=i.yInterval?i.yInterval.length:0,Y=i.style===JMP.BarSegmentStatic.STYLE_STACK,U=i.style===JMP.BarSegmentStatic.STYLE_BULLET,z=i.style===JMP.BarSegmentStatic.STYLE_NESTED,W=l(i),X=i.style===JMP.BarSegmentStatic.STYLE_INTERVAL,Z=i.style===JMP.BarSegmentStatic.STYLE_INTERVAL_SIDE_BY_SIDE,q=i.errorStatistic!==JMP.MomentsStatic.STAT_NONE,j=i.columns.getColumns(t.ROLE_Y).length,K=(P?a.yScaling.scale.range:a.xScaling.scale.range)<0;E.anySelected=!!s[0],E.anyVisible=!!s[1],_=.8*r,X||Z||(_*=k>1?k:V),L=i.columns.getColumns(t.ROLE_X),N=L.length>0&&i.groupCalculation&&i.groupCalculation.inputVariables.includes(L[0]),void 0!==i.yIndex&&(F=i.yIndex),void 0!==i.overlayIndex&&(D=i.overlayIndex),I=K?V-1-D:D,M=0,q&&!h&&(M=2*i.errorBarOffset*(i.isHorizontal?i.height:i.width)/B,j>1&&V>1&&(M*=4*k/V),i.groupCalculation&&(M*=(-1-i.groupIndex)/(2*i.groupCalculation.getResult()[0].length)),a.xScaling.scale.range<0&&(M=-M)),y=r,y>(i.isHorizontal?i.height:i.width)/(k*V)&&(y=(i.isHorizontal?i.height:i.width)/(k*V)),P?(R.height=y,R.y=S.y-R.height*(-V*k/2+I*k+F+1),R.x=Math.max(i.x,f.x),R.width=S.x-R.x,Y?(h||(R.height=_),R.x-=n>=0?f.x-T.x:f.x-p.x,R.y=k>1?S.y-R.height*(-V/2+D+1):S.y-R.height/2):U?(R.height=r,(k>1&&F>0||k<=1&&D>0)&&(R.height=_),R.height%2!=_%2&&R.height--,R.y=k>1?S.y-_*(-V/2+D+1)+(_-R.height)/2:S.y-R.height/2):z?(R.height=k>1?_*(2*F+1)/(2*k-1):_*(2*D+1)/(2*V-1),R.height%2!=_%2&&R.height--,R.y=k>1?S.y-_*(-V/2+D+1)+(_-R.height)/2:S.y-R.height/2):(W||q)&&(void 0!==T.x?(R.x=Math.min(S.x,T.x),R.width=Math.abs(S.x-T.x)):(R.x=Math.min(p.x,S.x),R.width=Math.abs(p.x-S.x)),(W&&!Z&&(k>1&&F>1||k<=1&&(D>1||V<=1))||q&&G>1&&(k>2||!g))&&(R.x=S.x-1,R.width=2),R.height=Math.max(_,3),W&&(!Z||Z&&!q&&k%2==0)?R.y=k<=1?.5+(S.y>>0)-R.height/2:.5+(S.y>>0)-R.height*(-V/2+D+1):(R.y=.5+(R.y+r/2>>0)-R.height/2,Z||(void 0===i.yIndex&&void 0===i.overlayIndex&&!Z||N?k<=1&&H<2*V&&(R.y=.5+(S.y>>0)-R.height/2):R.y=V>1?.5+(S.y+((V*j-1)/2-F-j*D)*M>>0)-R.height/2:.5+(S.y+((j-1)/2-F)*M>>0)-R.height/2))),c&&(U||z?(x=R.height,U?x=_:z&&(x=r*k*.3),R.y-=D*x/2-(V%2==0?x/4:0)-(V>2?x:0)):R.y-=Y||q?(D+(1-V)/2)*_/2:W?(D+(1-V)/2)*r:(D+(1-V)/2)*r/2),-1<R.width&&R.width<1&&(Math.abs(R.width)>JMP.SINGULAR&&0!==n||W||q)&&(R.width=n<0?-1:1),Y||q||(R.width>0?(R.x+R.width>i.x+i.width&&(R.width=i.x+i.width-R.x),R.x<i.x&&(R.width-=i.x-R.x,R.x=i.x)):(R.x+R.width<i.x&&(R.width=i.x-R.x),R.x>i.x+i.width&&(R.width+=R.x-i.x-i.width,R.x=i.x+i.width))),E.label&&(i.labeling===e.LABELING_ROW_LABEL?(w.width=Math.min(O.measureText(E.label).width,(Y?R.width:i.x+i.width-R.x-R.width)-4),E.label=JMP.TextBoxStatic.wrap(O,w.width,[E.label])):(w.width=O.measureText(E.label).width,E.label=[E.label]),R.width>=0?w.x=R.x+R.width+2:w.x=Math.max(i.x+2,R.x+R.width-w.width-4),w.height=Math.min(E.label.length*C,Math.max(C,R.height-4)),w.y=R.y+(R.height-w.height)/2,Y||W?W&&R.width<=2?w.x=R.x+R.width+2:w.x=R.x+(R.width-w.width)/2:(U||z)&&(k>1&&0===F||1===k&&V>1&&0===D)&&(w.x=R.x+(R.width-w.width)/2),z&&((j>2||1===j&&V>2)&&(R.width>=0&&(w.x=R.x),w.y=R.y+(R.height+(j>1?2*F-j:2*D-V)*(C+2))/2),w.x=Math.max(w.x,f.x)))):(R.width=y,R.x=S.x+R.width*(-V*k/2+I*k+F),R.y=S.y,R.height=f.y-S.y,Y?(h||(R.width=_),R.y-=n>=0?f.y-T.y:f.y-p.y,R.x=k>1?S.x+R.width*(-V/2+D):S.x-R.width/2):U?(R.width=r,(k>1&&F>0||k<=1&&D>0)&&(R.width=_),R.width%2!=_%2&&R.width--,R.x=k>1?S.x+_*(-V/2+D)+(_-R.width)/2:S.x-R.width/2):z?(R.width=k>1?_*(2*F+1)/(2*k-1):_*(2*D+1)/(2*V-1),R.width%2!=_%2&&R.width--,R.x=k>1?S.x+_*(-V/2+D)+(_-R.width)/2:S.x-R.width/2):(W||q)&&(void 0!==T.y?(R.y=Math.min(T.y,S.y),R.height=Math.abs(T.y-S.y)):(R.y=Math.min(S.y,p.y),R.height=Math.abs(S.y-p.y)),(W&&!Z&&(k>1&&F>1||k<=1&&(D>1||V<=1))||q&&G>1&&(k>2||!g))&&(R.y=S.y-1,R.height=2),R.width=Math.max(_,3),W&&(!Z||Z&&!q&&H%2==0)?R.x=k<=1?.5+(S.x>>0)-R.width/2:.5+(S.x>>0)+R.width*(-V/2+D):(R.x=.5+(R.x+r/2>>0)-R.width/2,Z||(void 0===i.yIndex&&void 0===i.overlayIndex||N?k<=1&&H<2*V&&(R.x=.5+(S.x>>0)-R.width/2):R.x=V>1?.5+(S.x+(F+j*D+(1-j*V)/2)*M>>0)-R.width/2:.5+(S.x+(F+(1-j)/2)*M>>0)-R.width/2))),c&&(U||z?(x=R.width,U?x=_:z&&(x=r*k*.3),R.x+=D*x/2-(V%2==0?x/4:0)-(V>2?x:0)):R.x+=Y||q?(D+(1-V)/2)*_/2:W?(D+(1-V)/2)*r:(D+(1-V)/2)*r/2),-1<R.height&&R.height<1&&(Math.abs(R.height)>JMP.SINGULAR&&0!==n||W||q)&&(R.height=n<0?-1:1,W||q||Y&&!(Math.abs(R.y-f.y)<1)||(R.y=f.y-R.height)),Y||q||(R.height>0?(R.y+R.height>i.y+i.height&&(R.height=i.y+i.height-R.y),R.y<i.y&&(R.height-=i.y-R.y,R.y=i.y)):(R.y+R.height<i.y&&(R.height=i.y-R.y),R.y>i.y+i.height&&(R.height+=R.y-i.y-i.height,R.y=i.y+i.height))),E.label&&(i.labeling===e.LABELING_ROW_LABEL?(b=O.measureText(E.label).width,w.width=Math.max(40,R.width-(Y?4:0)),w.width>b?w.width=b:w.width>b/2&&(w.width=b/2+4),E.label=JMP.TextBoxStatic.wrap(O,w.width,[E.label])):(w.width=O.measureText(E.label).width,E.label=[E.label]),w.x=R.x+(R.width-w.width)/2,R.height>=0?(w.height=Math.min(E.label.length*C,Math.max(C,(Y?R.height:R.y-i.y)-4)),w.height-=w.height%C,w.y=R.y-w.height-2):(w.height=Math.min(E.label.length*C,Math.max(C,(Y?R.height:i.y+i.height-R.y)-4)),w.height-=w.height%C,w.y=R.y+2),W||q?R.height<=2?w.y=R.y-C-1:w.y=R.y+(R.height-(k>2?-2:C))/2:Y?w.y=R.y+(R.height-w.height)/2:(U||z)&&(k>1&&0===F||1===k&&V>1&&0===D)&&(w.y=R.y+(R.height-C)/2),z&&(j>2||1===j&&V>2)&&(w.y=R.y+R.height+(j>1?F-j:D-V)*(C+2)))),W&&!X&&g&&j<=1&&o(i,a.xValues,E.iX)<2&&(R.width=0,R.height=0,w.width=0,w.height=0),Math.abs(R.width)<JMP.SINGULAR&&(R.width=0),Math.abs(R.height)<JMP.SINGULAR&&(R.height=0),JMP.ViewStatic.copyRect(R,v),JMP.ViewStatic.normalizeRect(v),b=P?0:1,A=P?1:0,JMP.ViewStatic.roundRect(R,b,A),JMP.ViewStatic.normalizeRect(R),d&&(JMP.ViewStatic.roundRect(w,b,A),JMP.ViewStatic.normalizeRect(w),P&&JMP.ModelStatic.isBetween(w.y+w.height/2,i.y,i.y+i.height)||!P&&JMP.ModelStatic.isBetween(w.x+w.width/2,i.x,i.x+i.width)?(w.x<i.x+2&&(w.x=i.x+2),w.x>i.x+i.width-w.width-2&&(w.x=i.x+i.width-w.width-2),w.y<i.y+2&&(w.y=i.y+2),w.y>i.y+i.height-w.height-2&&(w.y=i.y+i.height-w.height-2)):(w.width=-1,w.height=-1))},g=function(e,t,i,a,n){let o,r,c,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F={r:{x:0,y:0,width:-1,height:-1},rRaw:{x:0,y:0,width:-1,height:-1},rLabel:{x:0,y:0,width:-1,height:-1},anySelected:!1},B=e.isHorizontal,V={x:0,y:0},k={x:0,y:0},G=0,H=e.style===JMP.BarSegmentStatic.STYLE_STACK,Y=e.style===JMP.BarSegmentStatic.STYLE_BULLET,U=e.style===JMP.BarSegmentStatic.STYLE_NESTED,z=e.style===JMP.BarSegmentStatic.STYLE_RANGE,W=e.style===JMP.BarSegmentStatic.STYLE_INTERVAL_SIDE_BY_SIDE,X=l(e),Z=e.errorStatistic!==JMP.MomentsStatic.STAT_NONE,q=Z?e.yInterval.length:1,j=[0,1];if(!t)return;let{yColumns:K,xColumns:Q,freqColumn:J,rowStates:$,xScaling:ee,yScaling:te,nX:ie,nOverlay:ae,nRows:ne,dataRowIndices:le,rawIndices:se,xData:oe,yData:re,count:ce,isNoX:de,isContinuous:ue,isGap:he,sumYValues:ge,barWidth:Se,pZero:me,isOverlayColor:fe,isYIntegral:Te,isStatIntegral:pe,isAllOne:Ee,nAllIndices:be}=t,Ae=d(e,t.isOverlayColor,t.nOverlay,t.nY);for(E=0,b=ae,void 0===e.overlayIndex||Z||(E=e.overlayIndex,b=e.overlayIndex+1),D=0,c=0;c<ie&&!T;c++)for(g=E;g<b&&!T;g++)for(S=(Y||U)&&Ae<=1?ae-g-1:g,(0===S||Ae>1)&&(V.x=me.x,V.y=me.y,k.x=me.x,k.y=me.y),m=c*ae+S,M=le[m],C=M?M.length:ne,y=0;y<C&&!T;y++)if(f=M?M[y]:y,oe[m]&&(x=oe[m][f],null!==x))for(o=0;o<Ae&&!T;o++){r=Y||U?Ae-o-1:o;let l=W&&r%2==1||!W&&r>0,d=W&&S%2==1||!W&&S>0,g=1===r||r%2==1&&W,E=1===S||S%2==1&&W,b=m-(ae>1?1:0);for(p=0;p<q;p++)if(L=re[m][r]?re[m][r][Z?p:f]:null,null!==L||t.rawIndices[m].length&&X&&(Ae>1&&l||Ae<=1&&(1===ae||d))){if(void 0!==L&&void 0!==ce[m]&&void 0!==ce[m][o]){if(N=null,!Z)if(J&&$){let e;j[0]=ce[m][o].countSelected>0?1:0,t.rawIndices&&t.rawIndices[m]&&(e=[t.rawIndices[m]]),j[1]=$.areAllHidden(e)?0:1}else JMP.NStatic.getFractions(ce[m][o],j);if(X){if(O=L,P=L,g)O=re[m][o-1][0],P=re[m][o][0],L=P;else if(E){if(I={...ce[m][o]},ae>1)for(const[e,t]of Object.entries(I))I[e]=t+ce[m-1][o][e];JMP.NStatic.getFractions(I,j),re[b][o]&&(O=re[b][o][0]),P=re[m][o][0],L=P}a&&j[0]&&(N=O+(P-O)*j[0])}else Z||a&&(N=L*j[0])}B?(A=JMP.ScalingStatic.valuesToPixel(ee,te,L,x,!0),null!==N&&(_=JMP.ScalingStatic.valuesToPixel(ee,te,N,x,!0))):(A=JMP.ScalingStatic.valuesToPixel(ee,te,x,L,!0),null!==N&&(_=JMP.ScalingStatic.valuesToPixel(ee,te,x,N,!0))),A&&null!==A.x&&Number.isFinite(A.x)&&null!==A.y&&Number.isFinite(A.y)&&(F.iX=c,F.nX=ie,F.iOverlay=void 0!==e.overlayIndex?e.overlayIndex:S,F.nOverlay=ae,F.iY=r,F.nY=Ae,F.iYInterval=p,F.iRowIndex=D++,F.nValidForPct=t.nValidForPct,R=L,w=i,X?(w=!1,(Ae>1&&l||Ae<=1&&d||!l&&!d)&&(v=Ae>1&&g?re[m][r-1][f]:Ae<=1&&E&&re[b][r]?re[b][r][f]:R,null!==v&&((Ae>1&&g||Ae<=1&&E)&&(null!==R?R-=v:null===t.xValues[0][c]&&(R=v,v=0)),w=z))):Z&&(w=!1,(1===p||Ae<=2&&fe)&&(v=re[m][r][p-1],V=B?JMP.ScalingStatic.valuesToPixel(ee,te,v,x,!0):JMP.ScalingStatic.valuesToPixel(ee,te,x,v,!0))),Z&&se[m+G]&&0===se[m+G].length&&G++,u(e,K,Q,J,$,B?ee:te,R,y,se,be,ue,de,fe,w,Te,pe,Ee,ge,G,F),h(e,t,L,j,Se,he,i,0,ue,fe,A,0,me,V,k,F),(H||X)&&(B?L>=0?(W?V.x=A.x:(V.x=F.rRaw.x+F.rRaw.width,ee.scale.range<0&&(V.x-=F.rRaw.width)),H||(k.x=void 0)):(W?k.x=A.x:(k.x=F.rRaw.x,ee.scale.range<0&&(k.x+=F.rRaw.width)),H||(V.x=void 0)):L>=0?(W?V.y=A.y:(V.y=F.rRaw.y,te.scale.range<0&&(V.y+=F.rRaw.height)),H||(k.y=void 0)):(W?k.y=A.y:(k.y=F.rRaw.y+F.rRaw.height,te.scale.range<0&&(k.y-=F.rRaw.height)),H||(V.y=void 0))),F.yValue=L,F.previousValue=v,X?Ae>1&&l?null!==v&&(null!==R||r>1)&&(T=n(F)):Ae<=1&&(1===ae||d)&&(1===ae?null!==v&&(s(e,fe,F.iOverlay)>1||z&&F.indices.length>=1)&&(T=n(F)):E?(null!==v&&F.indices&&F.indices.length&&null!==L&&(v!==L||W)||e.statistic===JMP.MomentsStatic.STAT_SUM)&&t.rawIndices[m-(ae>1?1:0)].length&&(T=n(F)):T=n(F)):Z?p>0&&null!==v&&(T=n(F)):T=n(F))}}return T},S=function(e,t,i){let a=0,n=t.isOverlayColor,l=e.overlayTerm;return t.colorColumn||(a=n?Math.max(0,l.findLevel(l.inputVariables[0].data[i.indices[0]]))*i.nY+i.iY:i.nY>1?i.iOverlay*i.nY+i.iY:i.iOverlay),a},m=function(e,t,i,a,n,l,s,r,c,d,u,h){let g,S,m,f,T=e.overlayTerm,p=e.hasMissingLevels,E=t.freqColumn,b=t.isContinuous,A=t.nY,_=r,x=a?a.length:0;if(x>0&&(T&&!h&&!e.groupCalculation&&(A<=1||b)?_=JMP.TermStatic.splitIndices(T)[u]:h&&x>1&&(f=a.indexOf(e.overlayTerm.inputVariables[0]),S=o(e,n,d),_=JMP.FrequencyStatic.getRows([a[f]],[[n[f][S]]],l)[0]),!p)){if(!_)for(_=[],m=a[0].data.length,f=0;f<m;f++)_[f]=f;for(f=_.length-1;f>=0;f--){for(g=!1,m=0;m<x&&!g;m++)g=null===a[m].data[_[f]];g&&_.splice(f,1)}}return JMP.MomentsStatic.getValue([i],E,l,[s],_,c,e.hasMissingLevels,!1,!0)[0][0]};return e.STYLE_SIDE_BY_SIDE=0,e.STYLE_BOX_PLOT=1,e.STYLE_BULLET=2,e.STYLE_FLOAT=3,e.STYLE_INTERVAL=4,e.STYLE_INTERVAL_SIDE_BY_SIDE=5,e.STYLE_INTERVAL_TWO_WAY=6,e.STYLE_NEEDLE=7,e.STYLE_NESTED=8,e.STYLE_RANGE=9,e.STYLE_STACK=10,e.STYLE_STOCK=11,e.STYLE_TICKED=12,e.LABELING_NONE=0,e.LABELING_VALUE=1,e.LABELING_PERCENT=2,e.LABELING_ROW_LABEL=3,e.hasBinning=function(e,i,a){let n=!1;if(a===t.ROLE_X&&e.style===JMP.BarSegmentStatic.STYLE_SIDE_BY_SIDE&&!e.overlayTerm){let t=e.columns.getColumns(a);n=1===t.length&&t[0].isCategorical()}return n},e.setBinning=function(e,i){JMP.SegmentStatic.setBinning(e,i);let a=e.frequency.values.concat();a[0]=a[0].concat(),e.frequency.setOther([1-i]);let n=e.frequency.getResult().concat();JMP.FrequencyStatic.combineValues(a[0],n);let l=e.scale[e.isHorizontal?t.ROLE_Y:t.ROLE_X];l.tickLabels=a[0].concat(),l.labels=[a[0].concat()],l.range=a[0].length,l.maxInit=l.minInit+l.range,l.sendEvent(r.EVENT_CHANGED),l=e.scale[e.isHorizontal?t.ROLE_X:t.ROLE_Y],l.range=0;let s=e.getPreferredRange(e.isHorizontal?t.ROLE_X:t.ROLE_Y);l.origin=s[0],l.range=s[1]-s[0],l.maxInit=l.minInit+l.range,l.sendEvent(r.EVENT_CHANGED)},e.getCache=function(i,a){let n,s,c,u,h,g,S,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F,B,V,k,G,H,Y,U,z,W,X,Z,q,j,K,Q,J,$,ee,te,ie,ae,ne=i.yInterval,le=i.isHorizontal,se=!1,oe=!1,re=[],ce=[],de=i.statistic,ue=i.hasMissingLevels,he=0,ge=0,Se=[],me=!1,fe=de===JMP.MomentsStatic.STAT_PERCENT,Te=0,pe=i.overlayTerm,Ee=0,be=i.style===JMP.BarSegmentStatic.STYLE_SIDE_BY_SIDE,Ae=i.style===JMP.BarSegmentStatic.STYLE_BULLET,_e=i.style===JMP.BarSegmentStatic.STYLE_STACK,xe=i.style===JMP.BarSegmentStatic.STYLE_NESTED,Le=l(i),Ne=i.style===JMP.BarSegmentStatic.STYLE_INTERVAL_SIDE_BY_SIDE,Ie=i.errorStatistic!==JMP.MomentsStatic.STAT_NONE,Me=i.fontWeight,ye=i.fontSize,Ce=i.fontFamily,Re=i.fontColor,ve=function(e,t,n,l,s,o,c,u,h,g,S,f,T,p,E,b,A,x,L,N,I){let M,y,C,R=0,v=d(i,A,s,o),w=function(e,t,i,a,n){let l=0;return e.errorStatistic!==JMP.MomentsStatic.STAT_NONE&&(l=e.yInterval.length,(e.yInterval.length===2*a*i||e.yInterval.length===n*i&&!t)&&(l=2)),l}(i,A,s,o,l),O=I.type===r.SCALE_LOG;for(_=0;_<v;_++){if(c)for(b[e][_]=[],M=v>1?2*(n*v+_):void 0!==i.overlayIndex||l>1&&E.length<2*s?0:2*n,y=0;y<Math.min(w,E.length-M);y++)C=E[M+y][t],O&&C<=0&&(C=JMP.SMALL_LOG_VALUE),b[e][_].push(C);else b[e][_]=s>1&&void 0===f?[[null]]:[m(i,a,u[_],h,L,S,f,T,p,t,n,A)];R+=b[e][_][0]}return R},we=function(e,t,a,n,l,s,r,c,d,u,h,g,S,m,f,T,p,A,_){let L,N,I,M=0;if(m[e]=[],s>0)if(r||fe)M+=ve(e,t,a,n,l,s,r,c,d,0,h,b[e],W,g,S,m,f,0,p,0,E.scale);else for(L=0;L<s;L++)m[e][L]=[],ee[e]&&(m[e][L]=[ee[e][L]],null!==m[e][L][0]&&(M+=m[e][L][0]));else ee=JMP.MomentsStatic.getValue([d[0]],u,h,[b[e]],W,JMP.MomentsStatic.STAT_N,A,!1,i.isExcludedUsed),m[e][0]=[ee[0][0]],fe&&pe&&f&&(d.length>1?(I=d.indexOf(i.overlayTerm.inputVariables[0]),N=o(i,p,x),_=JMP.FrequencyStatic.getRows([d[I]],[[p[I][N]]],h,W)[0].length):_=b[e].length),_>0&&(m[e][0][0]/=_),M+=m[e][0][0],Le&&0===m[e][0][0]&&(m[e][0][0]=null);return M};if(n=i.columns.getLabeledColumns(),s=i.columns.getColumns(t.ROLE_Y),c=i.columns.getColumns(t.ROLE_X),u=i.columns.getColumn(t.ROLE_COLOR),h=i.columns.getColumn(t.ROLE_FREQ),f=i.columns.rowStates,v=s.length,R=c.length,i.isOverlayDisabled&&(pe=void 0),se=!1,R>0&&!c[0].valueOrdering&&!i.scale[t.ROLE_X].tickLabels&&(c[0].isContinuous()?se=!0:c[0].isNumber()&&(T=JMP.UniqueStatic.getValues(c,f,ue,!0)[0],!Le&&c[0].isOrdinal()&&T[0].length>50&&(se=!0)),se&&(c=[c[0]],R=1)),V=s.every((function(e){return e.isIntegral()})),k=c.every((function(e){return e.isIntegral()})),Z=1,pe&&(c.includes(pe.inputVariables[0])||i.groupCalculation&&i.groupCalculation.inputVariables.includes(pe.inputVariables[0])?oe=!0:Z=pe.getNLevels()),p=JMP.Scaling(i.scale[t.ROLE_X],i.x+.5,i.width-1),E=JMP.Scaling(i.scale[t.ROLE_Y],i.y+i.height-.5,1-i.height),W=i.subsetRowIndices,C=s[0]?s[0].data.length:c[0]?c[0].data.length:f?f.hidden.length:0,i.groupCalculation&&(i.subsetRowIndices&&i.groupCalculation.setRowIndices([i.subsetRowIndices]),i.groupCalculation.setRowStates(f),i.groupCalculation.setMissingUsed(ue),i.groupCalculation.setExcludedUsed(i.isExcludedUsed),W=i.groupCalculation.getResult()[0][i.groupIndex],C=W.length),i.unique||(i.unique=JMP.Unique()),i.unique.setInputVariables(c),i.unique.setRowStates(f),i.unique.setMissingUsed(ue),i.unique.setExcludedUsed(i.isExcludedUsed),i.unique.setValueOrdering(!0),T=i.unique.getResult()[0].concat(),JMP.ViewStatic.permuteUniqueValues(le?E.scale:p.scale,T,c[0]),T[0]&&(T[0]=T[0].concat()),i.frequency||(i.frequency=JMP.Frequency()),i.frequency.setInputVariables(c),i.frequency.setValues(T),i.frequency.setRowStates(f),i.frequency.setRowIndices(W),i.frequency.setMissingUsed(ue),i.frequency.setHiddenUsed(!1),i.frequency.setExcludedUsed(i.isExcludedUsed),b=i.frequency.getResult().concat(),b.forEach((function(e){if(f)for(let t=0;t<e.length;t++)f.excluded[e[t]]||he++})),i.labeling===e.LABELING_PERCENT&&i.overlayTerm&&!i.isOverlayDisabled&&s.length<=0&&(ge=JMP.MomentsStatic.getNRowsNonMissing(ue?[]:c,i.overlayTerm?i.overlayTerm.inputVariables[0]:void 0,h,f,W)),(!c||!c[0]||1===c[0].data.length&&1<C)&&(b=[W]),1===T.length&&T[0]&&JMP.FrequencyStatic.combineValues(T[0],b),pe&&!oe&&(b=pe.splitIndices(b),f&&i.isHiddenUsed&&v>1&&1===R&&!s.includes(pe.inputVariables[0]))){for(R=b.length,x=0;x<R;x++)if(C=b[x].length,C){for(z=!0,w=0;w<C&&z;w++)z=f.hidden[b[x][w]];z&&(b[x]=null)}for(v&&(R/=v),x=R-1;x>=0;x--){for(z=!0,_=v-1;_>=0&&z;_--)z=null===b[x+_*R];if(z){for(_=v-1;_>=0;_--)b.splice(x+_*R,1);x--}}for(R=b.length,x=0;x<R;x++)null===b[x]&&(b[x]=[])}if(i.n||(i.n=JMP.N()),i.n.setInputVariables(s),i.n.setRowStates(f),i.n.setFreqColumn(h),i.n.setMissingUsed(!0),i.n.setRowIndices(b),i.n.setSelectedUsed(!0),i.n.setHiddenUsed(i.isHiddenUsed),i.n.setExcludedUsed(i.isExcludedUsed),te=i.n.getResult().concat(),F=c.length<=0&&(!pe||oe),i.cal||(i.cal=JMP.Moments()),i.cal.setInputVariables(s),i.cal.setRowStates(f),i.cal.setMissingUsed(!1),i.cal.setSelectedUsed(!1),i.cal.setHiddenUsed(!1),i.cal.setExcludedUsed(i.isExcludedUsed),i.cal.setFreqColumn(h),i.cal.setRowIndices(b),i.cal.setAllIndices(W),i.cal.setStatistic(de),ee=i.cal.getResult(),ae=[],R=b.length,ae.length=R,ae.fill(!1),f&&!Ie)for(x=0;x<R;x++){let e=!1,t=!1;if(b[x]){let i=b[x],a=i.length;if(a>0){for(w=0;w<a&&!e;w++)e=!f.hidden[i[w]]&&!f.excluded[i[w]];t=!e}}else{for(C=f.hidden.length,w=0;w<C&&!e;w++)e=!f.hidden[w]&&!f.excluded[w];t=!e}t&&(ae[x]=!0)}for(O=1===v&&1===Z,x=0;x<R&&O;x++)b[x]&&(O=b[x].length<=1);if(fe&&(pe&&!oe&&(X=pe.splitIndices([W])),v<=0&&(Te=JMP.MomentsStatic.getNRowsNonMissing(ue?[]:c,void 0,h,f,W))),R=b.length/Z,se)for(C=R,I=0,x=0;x<R;x++){for(M=0,L=0;L<Z;L++)N=x*Z+L,y=I*Z+M,re[y]=[],re[y][0]=T[0][I],X&&(W=X[M],Te=JMP.MomentsStatic.getNRowsNonMissing(ue?[]:c,void 0,h,f,W)),Ee+=we(y,I,L,R,Z,v,Ie,s,c,h,f,de,ne,ce,oe,0,T,ue,Te),!ae[y]||_e||Ae||(b[y]=[],ce[y]=[]),Se[y]=b[N],b[N]=[0],Ie&&!re[y]||(b[y]=[0],M++);Ie&&!re[y]||I++}else{for(i.ungroupedFrequency||(i.ungroupedFrequency=JMP.Frequency()),i.ungroupedFrequency.setInputVariables(c),i.ungroupedFrequency.setValues(T),i.ungroupedFrequency.setRowStates(f),i.ungroupedFrequency.setRowIndices(i.subsetRowIndices),i.ungroupedFrequency.setHiddenUsed(!1),i.ungroupedFrequency.setExcludedUsed(i.isExcludedUsed),i.ungroupedFrequency.setOther(i.frequency.other),q=i.ungroupedFrequency.getResult(),C=1,I=0,x=0;x<R;x++){for(M=0,L=0;L<Z;L++)N=x*Z+L,y=I*Z+M,q[x]&&q[x].length<=0?re[y]=null:(re[y]=[],re[y][0]=I,c.length<1&&(re[y][0]=le?E.scale.origin+E.scale.range/2:p.scale.origin+p.scale.range/2),X&&(W=X[M],Te=JMP.MomentsStatic.getNRowsNonMissing(ue?[]:c,void 0,h,f,W)),Ee+=we(y,I,L,R,Z,v,Ie,s,c,h,f,de,ne,ce,oe,0,T,ue,Te)),!ae[y]||_e||Ae||(b[y]=[],ce[y]=[]),Se[y]=b[N],Ie&&!re[y]||(b[y]=[0],M++);Ie&&!re[y]||I++}if(Ae)for(x=0;x<R;x++)for(Y=null,U=null,L=0;L<Z;L++)if(N=x*Z+L,v>1)for(Y=null,U=null,_=0;_<v;_++)_>0&&ce[N]&&ce[N][_]&&(H=ce[N][_][0],H&&(H>0?null===Y?Y=H:Y>=H&&(ce[N][_]=[]):null===U?U=H:U<=H&&(ce[N][_]=[])));else L>0&&ce[N]&&ce[N][0]&&(H=ce[N][0][0],H&&(H>=0?null===Y?Y=H:Y>=H&&(ce[N][0]=[]):null===U?U=H:U<=H&&(ce[N][0]=[])));if(Ie)for(y++;y<R*Z;y++)Se[y]=b[N];else for(x=R-1;x>=0;x--)if(null===re[x*Z]||void 0===re[x*Z])for(R--,b.splice(x*Z,Z),Se.splice(x*Z,Z),ce.splice(x*Z,Z),te.splice(x*Z,Z),re.splice(x*Z,Z),w=x;w<R;w++)for(L=0;L<Z;L++)re[w*Z+L]&&re[w*Z+L][0]--}if(G=!Le,ce)for(let e=0;e<ce.length&&G;e++)if(ce[e])for(let t=0;t<ce[e].length&&G;t++)if(ce[e][t])for(let i=0;i<ce[e][t].length&&G;i++)ce[e][t][i]&&(G=Number.isInteger(ce[e][t][i]));if(v<=0&&(v=1),B=R,J=!0,T[0]&&($=T[0].length,$>2))for(Q=T[0][1]-T[0][0],x=2;x<$&&J;x++)J=Q===T[0][x]-T[0][x-1];if(j=Math.abs(le?E.pixelRange:p.pixelRange),K=Math.abs(F?1:le?E.getValueRange():p.getValueRange()),se){if($=R,be?$*=v*Z:v>1&&Z>1&&($*=Z),1<C&&C===T[0].length||$>j/2)A=function(e,t,i){let a,n,l=e,s=i.length;for(a=0;a<s-1;a++)n=Math.abs(JMP.ScalingStatic.valueToPixel(t,i[a+1])-JMP.ScalingStatic.valueToPixel(t,i[a])),l>n&&(l=n);return Math.max(1,Math.min(l-1,.7*l))}(j/Math.min(R,K),le?E:p,T[0]),(be||Ae||xe||Le)&&(A/=v),(!_e||v>1)&&(A/=Z),be&&A*$>j/2&&(A*=.8);else if(!xe){for(B=1,$=T.length,x=0;x<$;x++)B*=T[x].length;A=j,B>.05*K&&!J&&(A*=B/K),A/=be?(B+1)*(v*Z+1):Ae||Le||v>1&&Z>1?(B+1)*(Z+1):2*B,A>j/B&&(A=j/B>>0)}}else A=j/K,xe&&(A*=v>1?2*v/(2*v-1):Z>1?2*Z/(2*Z-1):1.25),v>1&&Z>1?(me=!0,A/=Z*v+(Z+1)/2):(A/=!Ie&&Ne&&Z*v>2?Z*v-Z*v%2+1>>0:1+Z*v,Ae&&1===v&&1===Z?A/=2:1===v&&c.length<1&&(A=j/(Z+1),be&&Z>2&&($=Z<=5?1.33:Z<=10?1.25:1.2,A=j/(Z*$)))),A>j/B&&(A=j/B>>0);(!Ae&&!_e&&!xe||A>1)&&(A=A+.5>>0,A<1&&(A=1)),P=JMP.ScalingStatic.valuesToPixel(p,E,p.scale.type===r.SCALE_LOG?Math.min(10**p.scale.origin,JMP.SMALL_LOG_VALUE):0,E.scale.type===r.SCALE_LOG?Math.min(10**E.scale.origin,JMP.SMALL_LOG_VALUE):0,!0),D=1e3*JMP.MAC_EPS,le?Math.abs(i.x+.5-P.x)<D*i.width&&(P.x=i.x+.5+D):Math.abs(i.y+i.height-.5-P.y)<D*i.height&&(P.y=i.y+i.height-.5-D),ie={xScale:le?E.scale:p.scale,yScale:le?p.scale:E.scale,xColumns:c,yColumns:s,colorColumn:u,legendFormat:i.legend?i.legend.getGradientFormat():void 0},i.overlayTerm&&!i.isOverlayDisabled&&(g=i.overlayTerm.inputVariables[0],S=JMP.UniqueStatic.getValues([g],f,i.hasMissingLevels,!!g.valueOrdering,[i.subsetRowIndices])[0][0]),i.groupCalculation||n.length||u||h||g||c.length&&c[0].name||s.length&&s[0].name||(f=void 0),Object.assign(a,{labelColumns:n,xColumns:c,yColumns:s,colorColumn:u,freqColumn:h,overlayColumn:g,rowStates:f,xValues:T,overlayValues:S,xScaling:p,yScaling:E,nX:R,nY:v,nOverlay:Z,nRows:C,dataRowIndices:b,nAllIndices:he,nValidForPct:ge,rawIndices:Se,xData:re,yData:ce,count:te,isNoX:F,isContinuous:se,isYIntegral:V,isXIntegral:k,isStatIntegral:G,isGap:me,isOverlayColor:oe,isAllOne:O,sumYValues:Ee,barWidth:A,pZero:P,formatData:ie,fontWeight:Me,fontSize:ye,fontFamily:Ce,fontColor:Re})},e.menuHandler=function(e,t){"frameBoxSpecifyBins"===t&&JMP.DialogStatic.onShow({type:"click"},{},(function(){const t=e.unique.getResult()[0][0].length;let i=0,a=function(){let e=+document.getElementById("ID_CAT").value,i=1<=e&&e<=t;return document.getElementById("dialogOKButton").disabled=!i,i};JMP.DialogStatic.setTopPadding();let n=JMP.ParserStatic.createElement("FORM",null,document.getElementById("dialogContent")),l=JMP.ParserStatic.createElement("TABLE",null,n);JMP.DialogStatic.createField(l,i++,"ID_CAT",JMP.SegmentStatic.TIP_NUMBER_OF_BINS,"number",10,a,void 0,1,100*t).onchange=a;let s=document.getElementById("dialogButtonBar"),o=JMP.DialogStatic.createButton(s,"dialogOKButton",JMP.FormatDialogStatic.BUTTON_OK.toUpperCase());o.setAttribute("tabindex",i++),o.onclick=function(i){e.setBinning(+document.getElementById("ID_CAT").value/t),JMP.DialogStatic.onCancel(i)},o=JMP.DialogStatic.createButton(s,"dialogCancelButton",JMP.FormatDialogStatic.BUTTON_CANCEL.toUpperCase()),o.setAttribute("tabindex",i++),o.onclick=JMP.DialogStatic.onCancel}))},e.getPreferredRange=function(e,i,a){let n,l,s,o,c,d,u,h,g,S,m,f,T=i.nY,p=i.nX,E=i.nOverlay,b=p*E,A=e.style===JMP.BarSegmentStatic.STYLE_STACK,_=e.style===JMP.BarSegmentStatic.STYLE_INTERVAL_SIDE_BY_SIDE,x=e.errorStatistic!==JMP.MomentsStatic.STAT_NONE,L=a===t.ROLE_X;if(f=e.scale[a],n=r.convertToValue(f.type,f.origin,f.base,f.power),l=r.convertToValue(f.type,f.origin+f.range,f.base,f.power),s=[n,l],!x&&i.rowStates)if(L!==e.isHorizontal)m=e.columns.getColumn(t.ROLE_X),m&&(i.isContinuous?(n=JMP.MomentsStatic.getValue([m],void 0,void 0,void 0,void 0,JMP.MomentsStatic.STAT_MIN,e.hasMissingLevels,!1,e.isExcludedUsed)[0][0],l=JMP.MomentsStatic.getValue([m],void 0,void 0,void 0,void 0,JMP.MomentsStatic.STAT_MAX,e.hasMissingLevels,!1,e.isExcludedUsed)[0][0]):(n=-.5,l=n+i.xData.length/i.nOverlay));else{if(n=1/0,l=-1/0,d=i.yData,_)if(T>1)for(o=0;o<b;o++)for(u=d[o],c=0;c<T-T%2;c++)h=+u[c],h&&(n>h&&(n=h),l<h&&(l=h));else for(o=0;o<p;o++)for(c=0;c<E-E%2;c++)u=d[o*E+c],h=+u[0],h&&(n>h&&(n=h),l<h&&(l=h));else if(A)if(T>1)for(o=0;o<b;o++){for(u=d[o],g=0,S=0,c=0;c<T;c++)h=+u[c],h>0?g+=h:S+=h;n>S&&(n=S),l<g&&(l=g)}else for(g=[],S=[],o=0;o<p;o++){for(g[o]=0,S[o]=0,c=0;c<E;c++)u=d[o*E+c],h=+u[0],h>0?g[o]+=h:S[o]+=h;n>S[o]&&(n=S[o]),l<g[o]&&(l=g[o])}else for(o=0;o<b;o++)for(u=d[o],c=0;c<T;c++)h=+u[c],h&&(n>h&&(n=h),l<h&&(l=h));(n<s[0]||s[1]<l)&&(s[0]=Math.min(n,s[0]),s[1]=Math.max(l,s[1]),f.getNiceRange(s))}return s},e.drawOutline=function(e,t,i,a,l){e.strokeStyle=i,l&&(e.lineWidth=l),e.beginPath(),a===n.HORIZONTAL?(e.moveTo(t.x,t.y),e.lineTo(t.x+t.width,t.y),e.lineTo(t.x+t.width,t.y+t.height-1),e.lineTo(t.x,t.y+t.height-1)):(e.moveTo(t.x,t.y+t.height),e.lineTo(t.x,t.y),e.lineTo(t.x+t.width-1,t.y),e.lineTo(t.x+t.width-1,t.y+t.height)),a===n.FLOATING&&e.closePath(),e.stroke()},e.draw=function(i,a){let{g:r,overlayTerm:d,lineColor:u,lineWidth:h,isHorizontal:m}=i,f=i.style===JMP.BarSegmentStatic.STYLE_STACK,T=i.style===JMP.BarSegmentStatic.STYLE_BULLET,p=i.style===JMP.BarSegmentStatic.STYLE_NESTED,E=l(i),b=i.style===JMP.BarSegmentStatic.STYLE_RANGE,A=i.style===JMP.BarSegmentStatic.STYLE_INTERVAL,_=i.style===JMP.BarSegmentStatic.STYLE_INTERVAL_SIDE_BY_SIDE,x=i.errorStatistic!==JMP.MomentsStatic.STAT_NONE,L=i.columns?i.columns.getColumns(t.ROLE_Y).length:0,N=i.fontWeight?i.fontWeight+" ":"",I=i.fontSize;JMP.ViewStatic.reset(r),r.font=N+I+"px "+i.fontFamily,g(i,a,!0,!0,(function(t){let l,g,N,I,M,y,C,R,v,w,O,P,D,F=t.r,B=t.anySelected,V=t.anyVisible,k=t.nY,G=t.iY,H=t.iX,Y=t.nX,U=t.nOverlay,z=t.iOverlay,W=a.xValues,X=a.xColumns,Z=i.fillColors,q=Z.length,j=n.VERTICAL,K=i.legend,Q=a.isOverlayColor,J=r.globalAlpha,$=a.colorColumn,ee=a.overlayColumn,te=a.overlayValues;if(ee&&ee.isCategorical()&&k>1&&U>1&&te.length!==U&&(z=te.indexOf(ee.data[t.indices[0]]),U=te.length),l=0,E)if($){if(l=2*H*(U>1?k:1),1===Y&&U>1&&(l=2*z),Q&&(N=X.indexOf(ee),N>=0)){for(g=1,I=1,l=0;l<W.length;l++)l<=N?g*=W[l].length:I*=W[l].length;l=2*g*(H%I)}}else k>2&&U>1?l=i.style===JMP.BarSegmentStatic.STYLE_INTERVAL_SIDE_BY_SIDE?z*(L/2>>0)+(G/2>>0):z*(L-1)+G-1:k>2&&G>0?l=i.style===JMP.BarSegmentStatic.STYLE_INTERVAL_SIDE_BY_SIDE?G/2>>0:G-1:k>1?(l=z,K&&k<=2&&Q&&(l=o(i,W,H))):z>0?l=_?z/2>>0:z-1:Q&&(i.groupCalculation?(U=d.getNLevels(),l=s(i,Q,z),l>0&&l--):l=o(i,W,H)-1);else x&&void 0===i.overlayIndex&&(l=k>1?G:z);if(K&&i.groupCalculation&&1===i.groupCalculation.inputVariables.length&&(!$&&i.groupCalculation.inputVariables.includes(ee)||!ee&&i.groupCalculation.inputVariables.includes($)&&$.isCategorical()))l=i.groupIndex,M=K.getColor(l,i.legendOffset,i.legendModelID),y=K.getAlpha(l,i.legendOffset,i.legendModelID);else if(K&&(A||_)&&$&&!X.includes($)&&G<=1&&z<=1)M=JMP.COLOR_BLACK;else if(K&&$&&ee&&_)M=JMP.COLOR_BLACK;else if(K&&q<=1&&x)M=l+i.legendOffset>=K.items.length||K.isGradient(i.legendOffset,i.legendModelID)?JMP.COLOR_BLACK:K.getLineColor(l,i.legendOffset,i.legendModelID);else if(K&&q<=1&&!$)E||(l=S(i,a,t)),l+i.legendOffset>=K.items.length&&(l=0),M=K.getColor(l,i.legendOffset,i.legendModelID,!0),y=K.getAlpha(l,i.legendOffset,i.legendModelID);else if(K&&b&&Q&&(i.groupCalculation||!X||X&&X.length>1&&X.indexOf(ee)<0))M=K.getColor(l,i.legendOffset,i.legendModelID,!0),y=K.getAlpha(l,i.legendOffset,i.legendModelID);else{if(E)$&&(k<=1&&U>1?l=H*k*U+(1===z?0:z)*k+G:Y>1&&Y*k===q&&(l=H*k+G));else if(!x){let e=$&&ee&&W.length>0;if(l=H*k*U+z*k+(e?0:G),$){if(a.isContinuous){let e,t=!1;for(e=0;e<X.length&&!t;e++)t=W[e].includes(null);i.groupCalculation?(l=H*U+z,l>0&&i.hasMissingLevels&&l--):(ee||a.nY>0)&&t&&(l=((H-(i.hasMissingLevels?1:0))*U+z)*k)}}else k>1&&(f||T||p)&&(l=G),1===k&&U>1&&(l=z);if(Q){let a=d.getNLevels(),n=ee===$;if(i.groupCalculation&&(n&&i.groupCalculation.inputVariables.includes($)||ee.isCategorical()&&i.groupCalculation.inputVariables.includes(ee)))l=n&&$.isContinuous()||!n&&ee.isContinuous()?l*a+i.groupIndex/a>>0:l*a+i.groupIndex%a;else if(n&&X.includes($)){let e,i=X.indexOf($),a=W[i].indexOf(X[i].data[t.indices[0]]),n=-1;for(i=0;i<q&&n<a;i++){let t=Z[i];"#000000"!==t&&t!==e&&(e=t,n++)}l=i-1}else R=l,W.length>1?l=l*a+(l/W[W.length-1].length>>0):i.groupCalculation&&i.groupCalculation.inputVariables.includes(ee)||(l=l*(a+1)+(e?G:0)),i.groupCalculation&&(X.length>1||!(1===X.length&&X.indexOf(ee)>=0)&&i.groupCalculation.inputVariables.includes(ee))&&(l=l*i.groupCalculation.getResult()[0].length+i.groupIndex)}i.subsetRowIndices&&a.isContinuous&&(l=t.iRowIndex)}M=Z[Math.min(q-1,l)],y=1}if(C=i.fillPattern,!C&&K&&(C=K.getFillPattern(R||l,i.legendOffset,i.legendModelID)),C&&(w=M,v=JMP.COLOR_TRANSPARENT,B&&(w=c.getSelectedColor(M,!0),i.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED&&(v=JMP.COLOR_FILL_PATTERN_SELECT)),O=Object.assign({},F),E?j=n.FLOATING:m?(j=n.HORIZONTAL,O.height++):O.width++),K&&K.hasType(l,i.legendOffset,i.legendModelID,JMP.LegendBoxStatic.TYPE_MARKER)&&(P=K.getMarkerShape(l,i.legendOffset,i.legendModelID),void 0!==P&&(D=K.getMarkerSize(l,i.legendOffset,i.legendModelID),D<0&&(D=K.prefMarkerSize))),r.globalAlpha=y,A||_){if(V)if(M=K&&u===JMP.COLOR_BLACK?M:u,r.fillStyle=B?c.getSelectedColor(c.getFillFromOutlineColor(M)):M,void 0===P||x)!function(e,t,i){let a,n;i&&(e+=2),m?(a=t.height,a%2!=e%2&&a--,t.width>0&&(r.fillRect(t.x,t.y,e,a),r.fillRect(t.x,t.y+(a-e)/2>>0,t.width,e),r.fillRect(t.x+t.width-e,t.y,e,a))):(n=t.width,n%2!=e%2&&n--,t.height>0&&(r.fillRect(t.x,t.y,n,e),r.fillRect(t.x+(n-e)/2>>0,t.y,e,t.height),r.fillRect(t.x,t.y+t.height-e,n,e)))}(h,F,B);else{let e=m?F.x:F.x+F.width/2>>0,t=m?F.y+F.height/2>>0:F.y;JMP.MarkerSegmentStatic.drawMarker(r,e,t,D,P,M,B)}}else C?(r.fillStyle=v,r.fillRect(F.x,F.y,F.width,F.height),r.globalAlpha=1,r.fillStyle=JMP.ViewStatic.getFillPatternCanvas(w,C),r.fillRect(F.x,F.y,F.width,F.height),e.drawOutline(r,O,w,j,1)):f||T?V?(T&&y!==J&&(k>1&&G>0||U>1&&z>0)&&(r.globalAlpha=J,r.fillStyle=JMP.COLOR_WHITE,r.fillRect(F.x,F.y,F.width,F.height),r.globalAlpha=y),r.fillStyle=B&&i.fillSelectionMode!==JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED?c.getSelectedColor(M,!0):M,r.fillRect(F.x,F.y,F.width,F.height),B&&i.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED&&(r.fillStyle=JMP.ViewStatic.getDiagPatternCanvas(M),r.fillRect(F.x,F.y,F.width,F.height))):(r.globalAlpha=J,r.fillStyle=JMP.COLOR_WHITE,r.fillRect(F.x,F.y,F.width,F.height),r.globalAlpha=y):V&&(r.fillStyle=B&&i.fillSelectionMode!==JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED?c.getSelectedColor(M,!0):M,r.fillRect(F.x,F.y,F.width,F.height),B&&i.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED&&(r.fillStyle=JMP.ViewStatic.getDiagPatternCanvas(M),r.fillRect(F.x,F.y,F.width,F.height)));r.globalAlpha=J})),i.labeling!==JMP.BarSegmentStatic.LABELING_NONE&&g(i,a,!0,!0,(function(e){let t,a,n,l,s,o=e.label,c=e.rLabel,d=e.anyVisible;if(o&&c.width>0&&c.height>0&&d)for(a=o.length,n=c.y+I-2,t=0;t<a&&n<c.y+c.height;t++){if(l=o[t],t<a-1&&n+I>=c.y+c.height&&l.length>=3){for(s=l.length-3;s>1&&(";"===l.charAt(s-1)||" "===l.charAt(s-1));)s--;l=l.slice(0,s)+"..."}r.fillStyle=i.fontColor,r.fillText(l,c.x,n),n+=I}}))},e.select=function(e,t,i,a){let n,s,o,r=[],c=!1,d=1/0,u=1/0,h=1/0,S=e.style===JMP.BarSegmentStatic.STYLE_BULLET,m=e.style===JMP.BarSegmentStatic.STYLE_NESTED,f=e.style===JMP.BarSegmentStatic.STYLE_INTERVAL_SIDE_BY_SIDE,T=l(e);if(!t||!t.rowStates)return;n=t.rowStates,g(e,t,!1,!0,(function(e){let a,n,l=e.r,g=e.anySelected,p=e.indices;return T&&e.nY<=1&&(f||1!==e.iOverlay?f&&e.iOverlay%2>0&&(a=t.rawIndices[e.iX*e.nOverlay+e.iOverlay-1]):a=t.rawIndices[e.iX*e.nOverlay]),i.width<=0&&i.height<=0?(s=Math.max(0,JMP.ViewStatic.FUZZ_PIXELS-Math.min(l.width,l.height)/2),JMP.ViewStatic.pointInRect({x:i.x,y:i.y},l,-s)&&(n=JMP.ViewStatic.squaredDistanceFromRect({x:i.x,y:i.y},l),o=d>n,(S||m)&&d===n&&(o=u>e.iY||h>e.iOverlay),o&&(d=n,u=e.iY,h=e.iOverlay,r=p,a&&(r=r.concat(a)),c=!g))):JMP.ViewStatic.rectanglesIntersect(l,i)&&(void 0===p?r=void 0:(r=r.concat(p),a&&(r=r.concat(a)))),!1}));let p=!c;JMP.ViewStatic.selectRows(n,a,r,p)},e.getTooltip=function(e,t,i,n){let o,c,u,h=null,f=1/0,T=1/0,p=1/0,E=1/0,b=e.isHorizontal,A=e.legend,_=e.style===JMP.BarSegmentStatic.STYLE_BULLET,x=e.style===JMP.BarSegmentStatic.STYLE_NESTED,L=l(e),N=e.style===JMP.BarSegmentStatic.STYLE_INTERVAL,I=e.style===JMP.BarSegmentStatic.STYLE_INTERVAL_SIDE_BY_SIDE,M=e.errorStatistic!==JMP.MomentsStatic.STAT_NONE;if(!t)return null;let{isContinuous:y,isYIntegral:C,isXIntegral:R,labelColumns:v,yColumns:w,xColumns:O,colorColumn:P,freqColumn:D,rowStates:F}=t;return u=b?t.xScaling.scale:t.yScaling.scale,c=b?t.yScaling.scale:t.xScaling.scale,g(e,t,!1,!1,(function(l){let g,b,B,V,k,G,H,Y,U,z,W,X,Z,q,j,K,Q,J,$,ee,te,ie=l.r,ae=l.anyVisible,ne=l.indices?l.indices[0]:0,le=w[0]?w[0].data.length:O[0]?O[0].data.length:F?F.hidden.length:0,se=l.indices?l.indices.length:le,oe=function(e,t,i,a,n){let l=i.data[a],s=n;i.valueLabels&&(l=null===l?l:i.getValueString(l),s=void 0),e.addLine(t,l,s)};if(z=Math.max(0,JMP.ViewStatic.FUZZ_PIXELS-Math.min(ie.width,ie.height)/2),se>0&&ae&&JMP.ViewStatic.pointInRect({x:i,y:n},ie,-z)&&(U=JMP.ViewStatic.squaredDistanceFromRect({x:i,y:n},ie),o=f>U,f===U&&(_||x?o=T>l.iY||p>l.iOverlay:(L||M)&&(o=E>ie.width*ie.height)),o)){let i;for(f=U,T=l.iY,p=l.iOverlay,E=ie.width*ie.height,h=JMP.TooltipModel(void 0,void 0,void 0,ie.x,Math.max(ie.y,e.y)-2),L&&l.nY<=1&&(I||1!==l.iOverlay?I&&l.iOverlay%2>0&&(j=t.rawIndices[l.iX*l.nOverlay+l.iOverlay-1]):j=t.rawIndices[l.iX*l.nOverlay]),k=v.length,F&&(i=F.excluded),B=0;B<k;B++){for(Y=v[B],K=[],b=0;b<se;b++)V=l.indices?l.indices[b]:b,i&&i[V]||(W=Y.data[V],K.push(Y.getValueString(W)));if(j)for(b=0;b<j.length;b++)i&&i[j[b]]||(W=Y.data[j[b]],K.push(Y.getValueString(W)));h.labels.push(Y.name),h.addLineFromValues(Y.name,K)}if(Q=e.statistic,Q===JMP.MomentsStatic.STAT_MEAN&&t.isAllOne&&(Q=void 0),J=e.colorStatistic,void 0===J&&(J=Q),ee=l.iX*l.nOverlay+(void 0===e.overlayIndex?l.iOverlay:0),g=JMP.ViewStatic.getProperFormat(w[l.iY],t.formatData),g=JMP.ViewStatic.getPreciseFormat(u.origin,u.range,g,!0,C,e.statistic),k=d(e,t.isOverlayColor,t.nOverlay,t.nY),!L&&!M&&w.length>0){u.type===r.SCALE_LOG&&(g=u.format),Y=w[l.iY];let e=JMP.TooltipStatic.getLabel(Y,Q,u.axisLabel);h.labels.includes(e)||h.addLine(e,t.yData[ee][l.iY][0],g)}else if(M)W=t.yData[ee][l.iY][0],X=t.yData[ee][l.iY][1],h.addLine(JMP.TooltipStatic.getLabel(w[void 0!==e.yIndex?e.yIndex:l.iY],e.errorStatistic,u.axisLabel),JMP.FormatStatic.formatRange(u.refFormat,Math.min(W,X),Math.max(W,X)));else if(L&&1===w.length&&e.overlayTerm&&!e.isOverlayDisabled)X=t.yData[ee][0][0],W=t.yData[ee-1]?t.yData[ee-1][0][0]:X,null!==W&&null!==X&&(l.iOverlay<=1||I)?h.addLine(JMP.TooltipStatic.getLabel(w[0],Q,u.axisLabel),JMP.FormatStatic.formatRange(u.refFormat,Math.min(W,X),Math.max(W,X))):h.addLine(JMP.TooltipStatic.getLabel(w[0],Q,u.axisLabel),t.yData[ee][0][0],g);else{let i=0;for(k=w.length,I&&k>2&&(i=l.iY-1,k=l.iY+1),B=i;B<k;B++)Y=w[B],v.includes(Y)||(g=JMP.ViewStatic.getProperFormat(Y,t.formatData),g=JMP.ViewStatic.getPreciseFormat(u.origin,u.range,g,!0,C,e.statistic),h.addLine(JMP.TooltipStatic.getLabel(Y,Q,u.axisLabel),t.yData[ee][B][0],g));0===k&&e.statistic===JMP.MomentsStatic.STAT_PERCENT&&h.addLine(JMP.MomentsStatic.NAMES[JMP.MomentsStatic.STAT_PERCENT],t.yData[ee][0][0],g)}for(k=O.length,B=0;B<k;B++)Y=O[B],v.includes(Y)||(g=void 0,Y.isNumber()&&(g=Y.format,y&&g&&(g=JMP.ViewStatic.getPreciseFormat(c.origin,c.range,c.format,!0,R))),$=JMP.TooltipStatic.getLabel(Y,void 0,c.axisLabel),(N||I)&&y?h.addLine($,t.xData[ee][0],g):""===Y.name&&c.labels?h.addLine($,c.labels[0][ee],g):oe(h,$,Y,ne,g));if(P&&(Q!==J||!w.includes(P))&&!v.includes(P)&&!O.includes(P)&&(!e.overlayTerm||e.isOverlayDisabled||e.overlayTerm.inputVariables[0]!==P)){Y=P;let i=e.subsetRowIndices;if(e.groupCalculation&&(i=e.groupCalculation.getResult()[0][e.groupIndex]),P.isContinuous()||A&&A.isGradient(e.legendOffset,e.legendModelID))J===JMP.MomentsStatic.STAT_PERCENT?H=m(e,t,Y,O,t.xValues,F,l.indices,i,J,l.iX,l.iOverlay,t.isOverlayColor):(H=JMP.MomentsStatic.getValue([Y],D,F,[l.indices],i,J,e.hasMissingLevels,!1,!0)[0][0],null===H&&J===JMP.MomentsStatic.STAT_SUM&&(H=0)),g=JMP.ViewStatic.getProperFormat(Y,t.formatData),g=JMP.ViewStatic.getPreciseFormat(H,0,g,!0,Y.isIntegral(),J),h.addLine(JMP.TooltipStatic.getLabel(Y,J),H,g);else{let t=e.colorTerm.getScores();l.indices?l.indices.forEach((e=>{t[e]<0&&(t[e]=null)})):t.forEach(((e,i)=>{e<0&&(t[i]=null)})),H=JMP.MomentsStatic.getValue([new a(t)],D,F,[l.indices],i,J,e.hasMissingLevels,!1,!0)[0][0];let n=e.colorTerm.getCharLevels();H=JMP.ModelStatic.getCategoricalString(H,n,Y),h.addLine(JMP.TooltipStatic.getLabel(Y,J),H)}}if(e.overlayTerm&&!e.isOverlayDisabled&&!t.isOverlayColor&&(Y=e.overlayTerm.inputVariables[0],!v.includes(Y)))if(g=Y.isNumber()?Y.format:void 0,!P&&(Y.isContinuous()||(N||I||L)&&1===w.length)){if(A)if(L)if(1===w.length)X=t.yData[ee][0][0],W=t.yData[ee-1]?t.yData[ee-1][0][0]:X,te=s(e,t.isOverlayColor,l.iOverlay),h.addLine(Y.name,A.getLabel(te<=1&&null!==W&&null!==X?0:I?te/2>>0:te-1,e.legendOffset,e.legendModelID));else{let t=A.getLabel(l.iOverlay,e.legendOffset,e.legendModelID),i=Y.name+"=";t.includes(w[0].name)&&t.includes(w[1].name)&&t.includes(i)?h.addLine(Y.name,t.slice(t.indexOf(i)+i.length,t.length-1)):h.addLine(Y.name,A.getLabel(l.iOverlay,e.legendOffset,e.legendModelID))}else G=A.getLabel(M?0:S(e,t,l),e.legendOffset,e.legendModelID),1===w.length?h.addLine(Y.name,G):h.addLine(Y.name,function(e,t,i){let a,n,l,s,o=e;if(a=e.indexOf(" - "),a>=0){for(n=a-1;n>=0&&" "!==e.charAt(n)&&"="!==e.charAt(n);)n--;for(l=e.slice(n+1,a),n=a+3;n<e.length&&" "!==e.charAt(n)&&")"!==e.charAt(n);)n++;s=e.slice(a+3,n),o=(t?"(":"[")+l+", "+s+(i?")":"]")}return o}(G,!1,l.iOverlay<l.nOverlay-1))}else L&&l.nY<=1&&1===l.iOverlay?(W=Y.data[l.iX*l.nOverlay],X=Y.data[ne],Y.valueLabels&&(W=Y.getValueString(W),X=Y.getValueString(X)),h.addLine(Y.name,W+".."+X)):oe(h,Y.name,Y,ne,g);Z=JMP.NStatic.getValues([w[l.iY]],D,F,[l.indices],!0)[0],j&&(q=JMP.NStatic.getValues([w[l.iY]],D,F,[j])[0],Z[0].count+=q[0].count,Z[0].countSelected+=q[0].countSelected,Z[0].countHidden+=q[0].countHidden),M&&(Z[0].countSelected=0,Z[0].countHidden=0),JMP.TooltipStatic.addLineForRows(h,Z[0].count,Z[0].countSelected,Z[0].countHidden,!!D)}return!1})),h&&(h.seg=e),h},e.getPriority=function(e,t,i){let a,n=null,s=1/0,o=1/0,r=1/0,c=1/0,d=e.style===JMP.BarSegmentStatic.STYLE_BULLET,u=e.style===JMP.BarSegmentStatic.STYLE_NESTED,h=l(e),S=e.errorStatistic!==JMP.MomentsStatic.STAT_NONE,m=i.x,f=i.y;if(!t)return null;let{yColumns:T,xColumns:p,rowStates:E}=t;return g(e,t,!1,!1,(function(t){let i,l,g=t.r,b=T[0]?T[0].data.length:p[0]?p[0].data.length:E?E.hidden.length:0,A=t.indices?t.indices.length:b;return l=Math.max(0,JMP.ViewStatic.FUZZ_PIXELS-Math.min(g.width,g.height)/2),A>0&&JMP.ViewStatic.pointInRect({x:m,y:f},g,-l)&&(i=JMP.ViewStatic.squaredDistanceFromRect({x:m,y:f},g),a=s>i,s===i&&(d||u?a=o>t.iY||r>t.iOverlay:(h||S)&&(a=c>g.width*g.height)),a&&(s=i,o=t.iY,r=t.iOverlay,c=g.width*g.height,n=JMP.Priority(S?i:JMP.PriorityStatic.TIP_PRIORITY_POINT,S?JMP.PriorityStatic.TIP_PRIORITY_INCIPIENT_AREA:c,e))),!1})),n},e}(),JMP.BarSegment=function(e){"use strict";let i,a=new d(e),n=function(){return!i&&a.columns&&a.scale[t.ROLE_X]&&a.scale[t.ROLE_Y]&&(i={},JMP.BarSegmentStatic.getCache(a,i)),i},l=function(){i&&(i.xScaling.removeEventListener(),i.yScaling.removeEventListener(),i=void 0)};return a.statistic=JMP.MomentsStatic.STAT_MEAN,a.fillColors=["#678bc9"],a.lineColor=JMP.COLOR_BLACK,a.lineWidth=1,a.style=JMP.BarSegmentStatic.STYLE_SIDE_BY_SIDE,a.errorStatistic=JMP.MomentsStatic.STAT_NONE,a.errorBarOffset=.02,a.labeling=JMP.BarSegmentStatic.LABELING_NONE,a.rowLabels=void 0,a.fontWeight=void 0,a.fontSize=JMP.GRAPH_LABEL_FONT_SIZE,a.fontFamily=JMP.FONT,a.fontColor=JMP.COLOR_BLACK,a.yInterval=void 0,a.yIndex=void 0,a.overlayIndex=void 0,a.isOverlayDisabled=!1,a.unique=void 0,a.frequency=void 0,a.ungroupedFrequency=void 0,a.n=void 0,a.valueLabelFormat=void 0,a.setBinning=function(e,t){JMP.BarSegmentStatic.setBinning(a,e,t)},a.menuHandler=function(e){JMP.BarSegmentStatic.menuHandler(a,e)},a.getPreferredRange=function(e){return l(),JMP.BarSegmentStatic.getPreferredRange(a,n(),e)},a.draw=function(){l(),JMP.BarSegmentStatic.draw(a,n())},a.select=function(e,t){JMP.BarSegmentStatic.select(a,n(),e,t)},a.getTooltip=function(e,t){return JMP.BarSegmentStatic.getTooltip(a,n(),e,t)},a.getPriority=function(e){return JMP.BarSegmentStatic.getPriority(a,n(),e)},a.binning[t.ROLE_X]=1,a},JMP.BoxPlotSegmentStatic=function(){"use strict";let e={},i=10,n=["100%","99.5%","97.5%","90%","75%","50%","25%","10%","2.5%","0.5%","0%"],l=[1,.7,.5,.3,.2,.2,.2,.3,.5,.7,1],s=[0,3,4],o=[JMP.MomentsStatic.NAMES[JMP.MomentsStatic.STAT_MEAN],"+95%","-95%"],d=1/9,u=JMP.ScalingStatic.valueToPixel,h=c.getSelectedColor,g=c.getHiddenColor,S=c.getFillFromOutlineColor,m=!1,f=function(e){e.type!==r.EVENT_INPUT&&e.type!==r.EVENT_CHANGED||(this.isScaleChanged=!0)},T=function(e,t,i){if(i){let a=JMP.NStatic.getValues(t.yColumns,t.freqColumn,i,[t.boxPlotIndicesInclOutliers],!0,e.isExcludedUsed)[0][0],{count:n,countHidden:l}=a;if(n===l)return!1}return!0},p=function(e,t,i,a){t?(e.x=i,e.y=a-6):(e.x=a,e.y=i-6)},E=function(e,t,i,a){e.strokeStyle=a?h(t):i?g(t):t},b=function(e,t,a){switch(a){case i:case 0:return e===JMP.BoxPlotSegmentStatic.TYPE_QUANTILE;case 6:case 5:case 4:return!0;default:return e===JMP.BoxPlotSegmentStatic.TYPE_QUANTILE&&t}},A=function(e){return e>>0},_=function(e){return.5+(e>>0)},x=function(e,t,a,n){let l,s=0,o=i;return n&&(s=1,o=0),l=a===JMP.BoxPlotSegmentStatic.TYPE_OUTLIER?e[s]:t[o],l},L=function(e,t,a){let n,l=e.adjacentPositions,s=e.quantilePositions,o=0,r=i;return a&&(o=1,r=0),n=t===JMP.BoxPlotSegmentStatic.TYPE_OUTLIER?l[o]:s[r],n},N=function(e,t,i,a,n){let l={x:e,y:t,width:i,height:a};return n&&(l.x=t-a,l.y=e,l.width=a,l.height=i),l},I=function(e,t,i,a,n){let l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,I=i.width||i.height,{pixelBoxCenter:M,quantilePositions:y,adjacentPositions:C}=t,{graphType:R,showFences:v,isHorizontal:w}=e,O=I?.5:JMP.ViewStatic.FUZZ_PIXELS,P=2*O,D=w?-P:P,F=e.isHorizontal?-O:O,B=2*t.pixelHalfBoxWidth,V=y[6]-y[4],k=y[4]+V/2,G=!1,H=!1,Y=!1,U=!1,z=!1;return B=B<P?P:B,c=M-B/2,a?V+=D:Math.abs(V)<P&&(V=D),d=k-V/2,o=v?c:M-O,r=v?B:P,l=R===JMP.BoxPlotSegmentStatic.TYPE_OUTLIER?C[1]:y[0],s=R===JMP.BoxPlotSegmentStatic.TYPE_OUTLIER?C[0]:y[10],u=y[4]-l,h=l+u/2,u=Math.abs(u)<P?D:u,g=h-u/2,S=s-y[6],m=y[6]+S/2,S=Math.abs(S)<P?D:S,f=m-S/2,T=N(c,d,B,Math.abs(V),w),p=N(M-O,g,P,Math.abs(u),w),E=N(M-O,f,P,Math.abs(S),w),b=N(o,l-F,r,P,w),A=N(o,s-F,r,P,w),L=JMP.ViewStatic.pointInRect,I&&(L=JMP.ViewStatic.rectanglesIntersect),H=L(i,E)||L(i,A),z=L(i,p)||L(i,b),n&&(_=N(c,y[5],B,Math.abs(y[5]-y[6]),w),x=N(c,y[4],B,Math.abs(y[5]-y[4]),w),Y=L(i,_),U=L(i,x),n.isQ2Intersected=Y,n.isQ3Intersected=U,n.isQ1Intersected=H&&(I||!(Y||U)),n.isQ4Intersected=z&&(I||!(Y||U))),(L(i,T)||H||z)&&(G=!0),G},M=function(i,a,n,l){let s,o,r,c,d,u,h,g,S,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P,{isHorizontal:D,isCCBBoxPlot:F,rowIndices:B}=i,V=i.width-1,k=i.height-1,G=.5+(i.x>>0),H=.5+(i.y>>0),Y=[],U=[],z=[],W=[],X=i.columns?i.columns.getColumns(t.ROLE_X):void 0,Z=i.columns?i.columns.getColumns(t.ROLE_Y):void 0,q=i.columns?i.columns.getColumn(t.ROLE_COLOR):void 0,j=i.columns?i.columns.rowStates:void 0,K=j?j.excluded:void 0,Q=0,J=1,$=[],ee=[],te=1,ie=1,ae=D?i.scale[t.ROLE_Y]:i.scale[t.ROLE_X];if((!Z||Z.length<=0)&&(Z=void 0,X=void 0,i.columns&&i.columns.rowStates&&i.columns.rowStates.removeEventListener(i.onRowStatesEvent),j=void 0),i.groupCalculation&&(B&&i.groupCalculation.setRowIndices([B]),h=i.groupCalculation.getResult()[0][i.groupIndex],g=[],g[0]=h),X&&X.length>0){for(S=X.length,T=!0,E=0;E<S&&T;E++)A=X[E],T=A.dataLevel!==t.LEVEL_CONTINUOUS;T||(S=1),U=X.splice(0,S),i.unique.setInputVariables(U),i.unique.setRowStates(j),i.unique.setRowIndices([B]),i.unique.setMissingUsed(U.length>0&&U[0].isCategorical()&&i.hasMissingLevels),i.unique.setExcludedUsed(i.isExcludedUsed),i.unique.setValueOrdering(!0),z=i.unique.getResult()[0],ae&&(m||(JMP.ViewStatic.permuteUniqueValues(ae,z,A),e.setUniqValuesCalculated(!0))),h||(h=B),i.frequency.setInputVariables(U),i.frequency.setValues(z),i.frequency.setRowStates(j),i.frequency.setRowIndices(h),i.frequency.setMissingUsed(i.hasMissingLevels),i.frequency.setExcludedUsed(i.isExcludedUsed),i.aggregatedRowIndices=i.frequency.getResult().concat(),g=i.aggregatedRowIndices}if(F&&(i.overlayTerm||i.ccbSubgroupSize>1)||i.isOverlayEnabled&&i.overlayTerm){if(!g)if(B)g=[B.concat()];else for(g=[],g[0]=[],_=Z[0].data.length,p=0,E=0;p<_;p++)!F&&K[p]||(g[0][E++]=p);if(_=g.length,i.overlayTerm)if(F){let e,t,a=i.overlayTerm.getResult()[0].nLevels;for(e=0;e<a;e++)for(p=0;p<g.length;p++)t=i.overlayTerm.splitIndices([g[p]])[e],t&&t.length>0&&W.push(t);g=W}else{for(p=0;p<_;p++)W.push.apply(W,i.overlayTerm.splitIndices([g[p]])),0===p&&(te=W.length);g=W}if(i.ccbSubgroupSize>1){let e=g.concat(),t=[],a=i.ccbSubgroupSize;for(p=0;p<e.length;p++)for(e[p];e[p].length>0;)t.push(e[p].splice(0,a));g=t}}if(Z&&g){if(v=!1,_=Z.length,_>1)for(p=0;p<_;p++)if(!Z[p].isCategorical()){v=!0;break}for(ie=_,_=g.length,p=0;p<_;p++)for(w=0,O=Z.length,v||(w=Z.length>0?Z.length-1:0,O=Z.length),E=w;E<O;E++)for(Y.push([]),b=0;b<g[p].length;b++)if(Z[E].isCategorical()||null!==Z[E].data[g[p][b]]){Y.pop(),Y.push(g[p]),i.hasMissingLevels||null!==Z[E].data[Y[p][b]]||Y[p].splice(b,1);break}g=Y}if(d=i.columns?i.columns.getColumn(t.ROLE_FREQ):null,u=d?d.data:null,i.columns&&Z&&Z.length>0){if(g){for(i.ordinals=[],E=0,_=g.length,p=0;p<_;p++)if(Q=0,x=g[p].length,g[p].length>0){let e=!K[g[p][b]]||K[g[p][b]]&&F&&!i.isExcludedUsed;for(b=0;b<x&&e&&Q<1;b++)L=g[p][b],Q=u?!u[L]||u[L]<=0?0:u[L]:1;Q>0&&(i.ordinals[E]=p,E++)}}else M=0,i.ordinals=[M],g=B?[B.concat()]:void 0;i.positionObj.isSorted||(i.positionObj.positionArray.sort((function(e,t){return e-t})),i.positionObj.isSorted=!0),M=i.positionObj.positionArray.indexOf(i.position)}if(n&&(o=JMP.Scaling(i.scale[t.ROLE_X],G,V)),l&&(r=JMP.Scaling(i.scale[t.ROLE_Y],H+k,-k)),s=D?o:r,P={xColumns:U,xScale:D?i.scale[t.ROLE_Y]:i.scale[t.ROLE_X],yColumns:Z,yScale:D?i.scale[t.ROLE_X]:i.scale[t.ROLE_Y],colorColumn:q},g&&void 0!==M){y=g[i.ordinals[M]],J=te*ie;let e=F&&U&&U.length>0&&i.overlayTerm?[ae.labels[0]]:z;if(e)for(p=e.length-1;p>=0;p--)ee[p]=U[p].name,$[p]=e[p][(i.ordinals[M]/J>>0)%e[p].length],U[p].valueLabels?$[p]=U[p].getValueString($[p]):U[p].isNumber()&&(c=JMP.ViewStatic.getProperFormat(U[p],P),$[p]=JMP.FormatStatic.formatNumber($[p],c)),J*=e[p].length}N=null,Z&&Z.length>0&&(N=v?Z[i.ordinals[M]%Z.length]:Z[Z.length-1]),I=N?N.data:null,!N||N.dataLevel!==t.LEVEL_NOMINAL&&N.dataLevel!==t.LEVEL_ORDINAL||(C=JMP.Term([N],void 0,[B]),I=function(e,t,i){let a,n,l,s;if(s=[],l=e.getScores(),i)for(n=0,a=0;a<t;a++)s[a]=-1,a===i[n]&&(s[a]=l[n++]);else s=l;return s}(C,I.length,B),R=C.getCharLevels(),R&&function(e,t,i){let a,n,l=[],s=t.concat();for(JMP.ViewStatic.permuteUniqueValues(i,[s]),a=0;a<t.length;a++)n=s.indexOf(t[a]),l[a]=n;for(a=0;a<e.length;a++)e[a]=e[a]<0?e[a]:l[e[a]]}(I,R,s.scale)),o&&o.scale.addEventListener(f.bind(i)),r&&r.scale.addEventListener(f.bind(i)),a.labels=ee,a.values=$,a.xColumns=U,Object.assign(a,{boxPlotIndices:y,yData:I,freqData:u,xScaling:o,yScaling:r,rowStates:j,freqColumn:d,yColumns:Z,yColumn:N,colorColumn:q,formatData:P})};return e.TYPE_OUTLIER=0,e.TYPE_QUANTILE=1,e.TYPE_SOLID=2,e.TYPE_THIN=3,e.DEFAULT_SHORTEST_HALF_COLOR="#f03246",e.ADJACENTS_NAMES=["Minimum, excluding outliers","Maximum, excluding outliers","Shortest half minimum","Shortest half maximum"],e.setUniqValuesCalculated=function(e){m=e},e.convertComponents=function(e,t,i,a,n,l,s,o,r){let c,d,h,g,S=!0,m=1&o?_:A;for(d=e[0],c=0;c<=10;c++)h=e[c],S=S&&h===d,null!==e[c]&&Number.isFinite(e[c])?(g=e[c],r&&(g=r.scaleValue(e[c])),a[c]=m(u(s,g))):a[c]=null;for(c=0;c<=4;c++)null!==t[c]&&Number.isFinite(t[c])?(g=t[c],r&&(g=r.scaleValue(t[c])),n[c]=m(u(s,g))):n[c]=null;for(c=0;c<=3;c++)null!==i[c]&&Number.isFinite(i[c])?(g=i[c],r&&(g=r.scaleValue(i[c])),l[c]=m(u(s,g))):l[c]=null;return S},e.canDrawMeansDiamond=function(e){return e[3]>e[4]},e.canDrawShortestHalf=function(e){return e[3]&&Number.isFinite(e[3])&&e[3]>e[2]},e.getCache=function(e,i,a,n,l){e.isCacheInitialized||M(e,i,n,l),e.isCacheInitialized&&!e.isScaleChanged||(i.xScaling&&(i.xScaling.removeEventListener(),i.xScaling=void 0),i.yScaling&&(i.yScaling.removeEventListener(),i.yScaling=void 0),function(e,i,a,n,l){let s,o,c,h,g,S,m,f,T,p,E,b,A,_,L,N,I,M,y,C,{quantiles:R,moments:v,adjacents:w,lineWidth:O,lineStyle:P,graphType:D,isHorizontal:F,widthProportion:B}=e,{boxPlotIndices:V,yData:k,freqData:G,xColumns:H,yColumns:Y,yColumn:U,colorColumn:z}=i,W=0,X=[],Z=[],q=[],j=e.columns?e.columns.rowStates:void 0,K=(j&&j.hidden,j?j.selected:void 0),Q=j?j.excluded:void 0,J=0,$=0,ee=0,te=0,ie=0,ae=0,ne=[],le=[],se=[],oe=[],re=[],ce=[],de=e.width-1,ue=e.height-1,he=!1,ge=.5+(e.x>>0),Se=.5+(e.y>>0),me=[],fe=[],Te=0,pe=0;for(s=V?V.length:j?j.hidden.length:void 0,c=x(w,R,D,!0),h=x(w,R,D),E=0,b=0,g=0,S=0,m=0,f=0,T=0;T<s;T++)p=V?V[T]:T,(!Q[p]||Q[p]&&e.isCCBBoxPlot&&!e.isExcludedUsed)&&(o=k?k[p]:null,null!==o&&!Number.isFinite(o)&&k||(ce[E++]=p),(o<=c&&o>=h||!k)&&(re[b++]=p,W=G?!G[p]||G[p]<=0?0:G[p]:1,J+=W,e.isSelectedUsed&&K[p]&&($+=W),o>R[4]?(oe[f++]=p,ae+=W):o<=R[4]&&o>=R[5]?(se[m++]=p,ie+=W):o<=R[5]&&o>=R[6]?(le[S++]=p,te+=W):o<R[6]&&(ne[g++]=p,ee+=W)));let Ee=ce.filter((e=>!re.includes(e)));if(n&&(A=JMP.Scaling(e.scale[t.ROLE_X],ge,de)),l&&(_=JMP.Scaling(e.scale[t.ROLE_Y],Se+ue,-ue)),L=F?A:_,H&&H.length>0){let e,i=H.length,a=!0;for(p=0;p<i&&a;p++)e=H[p],a=e.dataLevel!==t.LEVEL_CONTINUOUS;a||(i=1),me=H.splice(0,i)}M={xColumns:me,xScale:F?e.scale[t.ROLE_Y]:e.scale[t.ROLE_X],yColumns:Y,yScale:F?e.scale[t.ROLE_X]:e.scale[t.ROLE_Y],colorColumn:z},R&&(he=JMP.BoxPlotSegmentStatic.convertComponents(R,v,w,X,Z,q,L,O,e.parallelScaling),N=L.scale,I=N.type===r.SCALE_LINEAR?JMP.ViewStatic.getPreciseFormat(N.origin,N.range,N.format,!1):N.format,I=JMP.ViewStatic.getProperFormat(U,M,I),a?(L=F?_:A,y=e.boxWidth/4,(e.parallelScaling||L.pixelPerValueScale>0)&&F&&(y=-y),Te=u(L,L.valueOrigin+y),F?Te=Se+ue-Te:Te-=ge,B>0&&(Te=Te*B*2),pe=u(L,e.position)):(Te=F?ue/4:de/4,pe=F?Se+ue/2:ge+de/2),pe>>=0,1&O&&(pe+=.5),C=F?de*d:ue*d,Te>C&&0===B&&(Te=C),Te>>=0,e.showMeansDiamond=e.showMeansDiamond&&JMP.BoxPlotSegmentStatic.canDrawMeansDiamond(v),e.showShortestHalf=e.showShortestHalf&&JMP.BoxPlotSegmentStatic.canDrawShortestHalf(w),fe=JMP.LineSegmentStatic.getLineDash(P,O)),e.isScaleChanged&&(e.isScaleChanged=!1),i.xColumns=me,Object.assign(i,{nQ1:ee,nQ2:te,nQ3:ie,nQ4:ae,q1Indices:ne,q2Indices:le,q3Indices:se,q4Indices:oe,boxPlotProperIndices:re,boxPlotIndicesInclOutliers:ce,boxPlotOutliers:Ee,nTotalObs:J,nTotalObsSelected:$,quantilePositions:X,momentPositions:Z,adjacentPositions:q,xScaling:A,yScaling:_,lineDash:fe,isOnlyOneValue:he,pixelHalfBoxWidth:Te,pixelBoxCenter:pe,format:I,formatData:M})}(e,i,a,n,l)),e.isCacheInitialized=!0},e.draw=function(t,i){let a,n,s,o,r,c,d,u,m,f,p,b,A,_,x,L,N,I,M,y,C,R,v,w,O,{g:P,graphType:D,isHorizontal:F,showFences:B,showFill:V,showMeansDiamond:k,showShortestHalf:G,lineWidth:H,alpha:Y,isSelectedUsed:U}=t,z=void 0!==t.lineColor?t.lineColor:JMP.COLOR_BLACK,W=void 0!==t.fillColor?t.fillColor:JMP.COLOR_FILL,X=void 0!==t.shortestHalfLineColor?t.shortestHalfLineColor:e.DEFAULT_SHORTEST_HALF_COLOR,Z=0,q=0,j=P.globalAlpha,K=!1,Q=!1;if(!i||0===i.quantilePositions.length)return;let{pixelBoxCenter:J,pixelHalfBoxWidth:$,quantilePositions:ee,momentPositions:te,adjacentPositions:ie,lineDash:ae,rowStates:ne,boxPlotProperIndices:le,nTotalObsSelected:se}=i;if(a=J-$,n=J+$,s=J,r=ie[2],c=ie[3],d=ie[0],u=ie[1],T(t,i,ne)){if(F?(M=function(e,t,i,a){P.lineCap="butt",P.lineWidth=a?H+a:H,P.setLineDash(ae),P.beginPath(),P.moveTo(i,t),P.lineTo(i,e),P.stroke(),P.setLineDash([])},y=function(e,t,i,a){let n=t;t>i&&(t=i,i=n),P.lineCap="butt",P.lineWidth=a?H+a:H,P.setLineDash(ae),P.beginPath(),P.moveTo(t-.5,e),P.lineTo(i+.5,e),P.stroke(),P.setLineDash([])},C=function(e,t,i,a,n,l){n&&P.fillRect(i+.5,e+.5,a-i-1,t-e),l&&(P.lineWidth=H,P.setLineDash(ae),P.strokeRect(i,e,a-i,t-e),P.setLineDash([]))},R=function(e,t,i,a,n,l){P.lineJoin="miter",P.miterLimit=5*H,P.lineWidth=H,P.beginPath(),P.moveTo(n,e),P.lineTo(a,t),P.lineTo(n,i),P.lineTo(l,t),P.closePath(),P.stroke()},v=function(e,t,i,a){P.lineWidth=H,P.lineJoin="miter",P.miterLimit=5*H,P.beginPath(),P.moveTo(i,t),P.lineTo(i,e),P.lineTo(a,e),P.lineTo(a,t),P.stroke()}):(M=function(e,t,i,a){P.lineCap="butt",P.lineWidth=a?H+a:H,P.setLineDash(ae),P.beginPath(),P.moveTo(e,i),P.lineTo(t,i),P.stroke(),P.setLineDash([])},y=function(e,t,i,a){let n=t;t>i&&(t=i,i=n),P.lineCap="butt",P.lineWidth=a?H+a:H,P.setLineDash(ae),P.beginPath(),P.moveTo(e,t-.5),P.lineTo(e,i+.5),P.stroke(),P.setLineDash([])},C=function(e,t,i,a,n,l){n&&P.fillRect(e+.5,i-.5,t-e,a-i+1),l&&(P.lineWidth=H,P.setLineDash(ae),P.strokeRect(e,i,t-e,a-i),P.setLineDash([]))},R=function(e,t,i,a,n,l){P.lineJoin="miter",P.miterLimit=5*H,P.lineWidth=H,P.beginPath(),P.moveTo(e,n),P.lineTo(t,a),P.lineTo(i,n),P.lineTo(t,l),P.closePath(),P.stroke()},v=function(e,t,i,a){P.lineWidth=H,P.lineJoin="miter",P.miterLimit=5*H,P.beginPath(),P.moveTo(t,i),P.lineTo(e,i),P.lineTo(e,a),P.lineTo(t,a),P.stroke()}),JMP.ViewStatic.reset(P),Y<1&&(P.globalAlpha=Y),w=!1,O=!(!U||!se),W=V?W:S(z),ne){let e,a=function(e,t){let i=!1;if(t)for(let a=0;a<t.length&&!i;a++)for(let n=0;n<t[a].length&&!i;n++)i=e.selected[t[a][n]]&&!e.excluded[t[a][n]];return i}(ne,[i.boxPlotIndicesInclOutliers]);if(t.aggregatedRowIndices){let t=ne.nSelectedIndices>0;e=!a&&!t}else a||(e=!function(e){let t=!1;for(let i=0;i<e.nSelectedIndices&&!t;i++){let a=e.selectedIndices[i];e.excluded[a]||(t=!0)}return t}(ne));P.strokeStyle=a||e?z:g(z)}else E(P,z,false,O);if(q=H/2,ee[4]===ee[6]?(se&&(K=!0),x=$+q,x=x<1?x>>0:x,L=s-x,N=s+x,M(L,N,ee[4],K?2:void 0)):(!function(e,t,i,a){e.fillStyle=a?h(t,!0):i?g(t):t}(P,W,Q),t.fillPattern&&(P.fillStyle=JMP.ViewStatic.getFillPatternCanvas(W,t.fillPattern)),C(a,n,ee[4],ee[6],!t.isCCBBoxPlot&&V,!1)),Z=D===JMP.BoxPlotSegmentStatic.TYPE_OUTLIER?u:ee[0],ee[4]!==Z&&y(s,Z,ee[4]),Z=D===JMP.BoxPlotSegmentStatic.TYPE_OUTLIER?d:ee[10],ee[6]!==Z&&y(s,Z,ee[6]),ee[4]!==ee[6]&&C(a,n,ee[4],ee[6],!1,!0),k&&te&&te.length>0&&(m=te[0],p=te[3],null===p&&(p=m),f=te[4],null===f&&(f=m),q=1&H?.5:0,o=(s>>0)+q,b=(.9*$>>0)-3+q,A=o-b,_=o+b,R(A,o,_,p,m,f)),q=H/2,B)if(D===JMP.BoxPlotSegmentStatic.TYPE_OUTLIER)x=(l[10]*$>>0)+q,x=x<1?x>>0:x,L=s-x,N=s+x,M(L,N,d),M(L,N,u);else for(I=0;I<=10;I++)(I>6||I<4)&&ee[I]&&(x=(l[I]*$>>0)+q,x=x<1?x>>0:x,L=s-x,N=s+x,M(L,N,ee[I]));M(a,n,ee[5]),G&&c!==r&&ie.length>0&&(N=a-5+q>>0,L=N-3-q,E(P,X,false,O),v(L,N,c,r)),Y<1&&(P.globalAlpha=j)}},e.select=function(e,t,i,a){let n,l=i.width||i.height,s=[],o=!1,r=t.rowStates,c={isQ1Intersected:!1,isQ2Intersected:!1,isQ3Intersected:!1,isQ4Intersected:!1};if(e.hasChangedRowStates=!0,r&&!e.isCCBBoxPlot&&T(e,t,r)){if(l?I(e,t,i,void 0,c)&&(c.isQ1Intersected&&(s=t.q1Indices),c.isQ2Intersected&&(s=s.concat(t.q2Indices)),c.isQ3Intersected&&(s=s.concat(t.q3Indices)),c.isQ4Intersected&&(s=s.concat(t.q4Indices)),s.length&&(s=s.concat(t.boxPlotOutliers))):s=t.boxPlotIndicesInclOutliers,!l&&a===JMP.ViewStatic.SELECT_TOGGLE)for(n=0;n<s.length&&!o;n++)r.selected[s[n]]&&(o=!0);JMP.ViewStatic.selectRows(r,a,s,o)}},e.getTooltip=function(t,i,l){let r,c,d,u,h,g,S,m,f,E,A,_,x,N,M,y,C,R,{graphType:v,isHorizontal:w,showFences:O,showMeansDiamond:P,showShortestHalf:D,quantiles:F,moments:B,adjacents:V,lineWidth:k}=t,G=l.x,H=l.y,Y=JMP.TooltipModel(),U=null,z=20+k,W=-1,X=Number.MAX_VALUE,Z=!1,q=[],j=[],K=[],Q=[],J=t.overlayTerm?t.overlayTerm.inputVariables[0]:void 0;if(!i)return null;let{rowStates:$,boxPlotIndicesInclOutliers:ee,boxPlotIndices:te,freqColumn:ie,yColumns:ae,yColumn:ne,xColumns:le,colorColumn:se,formatData:oe}=i;if(!T(t,i,$))return null;let{pixelBoxCenter:re,pixelHalfBoxWidth:ce,quantilePositions:de,momentPositions:ue,adjacentPositions:he,format:ge,isOnlyOneValue:Se,labels:me,values:fe}=i;if(!(F&&B&&V&&de&&ue&&he))return null;if(m=w?G:H,f=w?H:G,g=re-ce,S=re+ce,D&&he.length>0&&(E=he[2],A=he[3],E<A?(x=E,N=A):(x=A,N=E),f<g&&m>x-z&&m<N+z&&(h=f-(g-8),h*=h,h<z*z&&(X=h),x=m-z,N=m+z,_=E,_>x&&_<N&&(h=(m-_)*(m-_),h<X&&(X=h)),_=A,_>x&&_<N&&(h=(m-_)*(m-_),h<X&&(X=h)),X!==Number.MAX_VALUE)))return Y.addLine(e.ADJACENTS_NAMES[2],V[2],ge),Y.addLine(e.ADJACENTS_NAMES[3],V[3],ge),p(Y,w,Math.min(he[2],he[3]),g-8),Y;if(f<g-z||f>S+z)return null;if(g=m-100,S=m+100,I(t,i,l,!0)){for(M=Se?0:10,d=0,c=0;c<=M;c++)(Se||b(v,O,c))&&(q[d]=n[c],j[d++]=F[c],u=de[c],u>g&&u<S&&(h=(m-u)*(m-u),h<X&&(X=h,W=c)));if(X!==Number.MAX_VALUE&&(r=F[W],U=n[W],p(Y,w,L(i,v,!w),re-ce)),v!==JMP.BoxPlotSegmentStatic.TYPE_QUANTILE){for(c=0;c<=1;c++)K[c]=e.ADJACENTS_NAMES[c],Q[c]=V[c],u=he[c],u>g&&u<S&&(h=(m-u)*(m-u),h<=X&&(Z=!0,X=h,W=c));Z&&(r=V[W],U=e.ADJACENTS_NAMES[W],p(Y,w,L(i,v,!w),re-ce))}}if(Z=!1,P&&ue.length>0){for(c=0;c<3;c++)u=ue[s[c]],u&&u>g&&u<S&&(h=(m-u)*(m-u),h<X&&(Z=!0,X=h,W=c));Z&&(r=B[s[W]],U=o[W],p(Y,w,ue[s[W]],re-(0===W?.9*ce-3:0)))}if(X===Number.MAX_VALUE)return null;if(Se&&(U=ne?ne.name:JMP.TooltipModelStatic.TIP_VALUE),Z||Se)Y.addLine(U,r,ge);else{for(2===K.length&&Y.addLine(K[1],Q[1],ge),c=0;c<q.length;c++)Y.addLine(q[c],j[c],ge);2===K.length&&Y.addLine(K[0],Q[0],ge)}if(me.length>0)for(c=0;c<me.length;c++)Y.addLine(me[c],fe[c],void 0);if(se){let e,n=t.colorStatistic,l=t.subsetRowIndices;if(se.isContinuous()||t.legend.isGradient(t.colorLegendItemID,t.legendModelID))e=n===JMP.MomentsStatic.STAT_PERCENT?function(e,t,i,a,n,l,s,o){let r,c,d,u=e.overlayTerm,h=e.hasMissingLevels,g=t.freqColumn,S=s,m=a?a.length:0;if(m>0&&(u&&(S=JMP.TermStatic.splitIndices(u)[o]),!h)){if(!S)for(S=[],c=a[0].data.length,d=0;d<c;d++)S[d]=d;for(d=S.length-1;d>=0;d--){for(r=!1,c=0;c<m&&!r;c++)r=null===a[c].data[S[d]];r&&S.splice(d,1)}}return JMP.MomentsStatic.getValue([i],g,n,[l],S,JMP.MomentsStatic.STAT_PERCENT,e.hasMissingLevels,!1,!0)[0][0]}(t,i,se,le,$,te,l,t.overlayIndex):JMP.MomentsStatic.getValue([se],void 0,$,[te],l,n,t.hasMissingLevels,!1,!0)[0][0],null===e&&n===JMP.MomentsStatic.STAT_SUM&&(e=0);else{let i=t.colorTerm.getScores(),s=t.colorTerm.getCharLevels();e=JMP.MomentsStatic.getValue([new a(i)],void 0,$,[te],l,n,t.hasMissingLevels,!1,!0)[0][0],e=JMP.ModelStatic.getCategoricalString(e,s,se)}let s=JMP.ViewStatic.getProperFormat(se,oe);s=JMP.ViewStatic.getPreciseFormat(e,0,s,!0,se.isIntegral(),n),Y.addLine(JMP.TooltipStatic.getLabel(se,n),e,se.isContinuous()?s:void 0)}return t.isOverlayEnabled&&(t.overlayTerm&&t.overlayTerm.inputVariables[0].isContinuous()&&t.legend&&(C=t.legend.getLabel(void 0,t.legendOffset,t.legendModelID)),J&&(y=J.name,R=C||J.getValueString(J.data[ee[0]]),Y.addLine(y,R))),!Z&&ae&&function(e,t,i,a,n){let l=t?[t]:void 0,s=JMP.NStatic.getValues(i,a,n,l,!0)[0][0],{count:o,countSelected:r,countHidden:c}=s;JMP.TooltipStatic.addLineForRows(e,o,r,c,!!a)}(Y,ee,ae,ie,$),Y},e.getPriority=function(t,i,a){let l,o,r,c,d,u,h,g,S,m,f,p,E,A,{graphType:_,isHorizontal:x,showFences:L,showMeansDiamond:N,showShortestHalf:M,quantiles:y,moments:C,adjacents:R,lineWidth:v}=t,w=a.x,O=a.y,P=JMP.Priority(0,JMP.TooltipModelStatic.TIP_PRIORITY_LINE,t),D=20+v,F=Number.MAX_VALUE,B=[],V=[],k=[],G=[];if(!i)return null;let{rowStates:H}=i;if(!T(t,i,H))return null;let{pixelBoxCenter:Y,pixelHalfBoxWidth:U,quantilePositions:z,momentPositions:W,adjacentPositions:X,isOnlyOneValue:Z}=i;if(!(y&&C&&R&&z&&W&&X))return null;if(h=x?w:O,g=x?O:w,d=Y-U,u=Y+U,M&&X.length>0&&(S=X[2],m=X[3],S<m?(p=S,E=m):(p=m,E=S),g<d&&h>p-D&&h<E+D&&(c=g-(d-8),c*=c,c<D*D&&(F=c),p=h-D,E=h+D,f=S,f>p&&f<E&&(c=(h-f)*(h-f),c<F&&(F=c)),f=m,f>p&&f<E&&(c=(h-f)*(h-f),c<F&&(F=c)))),g<d-D||g>u+D)return null;if(d=h-100,u=h+100,I(t,i,a,!0)){for(A=Z?0:10,o=0,l=0;l<=A;l++)(Z||b(_,L,l))&&(B[o]=n[l],V[o++]=y[l],r=z[l],r>d&&r<u&&(c=(h-r)*(h-r),c<F&&(F=c)));if(_!==JMP.BoxPlotSegmentStatic.TYPE_QUANTILE)for(l=0;l<=1;l++)k[l]=e.ADJACENTS_NAMES[l],G[l]=R[l],r=X[l],r>d&&r<u&&(c=(h-r)*(h-r),c<=F&&(F=c))}if(N&&W.length>0)for(l=0;l<3;l++)r=W[s[l]],r&&r>d&&r<u&&(c=(h-r)*(h-r),c<F&&(F=c));return F===Number.MAX_VALUE?null:(P.distance=F,P)},e}(),JMP.BoxPlotSegment=function(e){"use strict";let i,a=new d(e),n=function(){let e=0!==a.boxWidth,n=a.isHorizontal||e,l=!a.isHorizontal||e;return a.quantiles&&a.moments&&a.adjacents&&(n&&a.scale[t.ROLE_X]||l&&a.scale[t.ROLE_Y])&&(i||(i={}),JMP.BoxPlotSegmentStatic.getCache(a,i,e,n,l)),i};return a.isCacheInitialized=!1,a.fillColor=JMP.COLOR_FILL,a.lineColor=JMP.COLOR_LINE,a.lineWidth=1,a.graphType=JMP.BoxPlotSegmentStatic.TYPE_OUTLIER,a.position=.5,a.boxWidth=1,a.widthProportion=0,a.lineStyle=JMP.LineSegmentStatic.PATTERN_SOLID,a.shortestHalfLineColor=JMP.BoxPlotSegmentStatic.DEFAULT_SHORTEST_HALF_COLOR,a.alpha=1,a.showFences=!0,a.showFill=!1,a.fillPattern=void 0,a.colorLegendItemID=void 0,a.showMeansDiamond=!0,a.showShortestHalf=!0,a.quantiles=[],a.moments=[],a.adjacents=[],a.unique=void 0,a.frequency=void 0,a.uniqueFenceCalc=void 0,a.frequencyFenceCalc=void 0,a.parallelScaling=void 0,a.isCCBBoxPlot=!1,a.ccbSubgroupSize=void 0,a.isScaleChanged=!1,a.draw=function(){JMP.BoxPlotSegmentStatic.draw(a,n())},a.select=function(e,t){JMP.BoxPlotSegmentStatic.select(a,n(),e,t)},a.getTooltip=function(e,t){return JMP.BoxPlotSegmentStatic.getTooltip(a,n(),{x:e,y:t})},a.getPriority=function(e){return JMP.BoxPlotSegmentStatic.getPriority(a,n(),e)},a.setScalable(JMP.SegmentStatic.SCALABLE_CLIENT),a},JMP.BubbleGroupStatic=function(){"use strict";let e={},i=JMP.ScalingStatic.valuesToPixel,l=JMP.ViewStatic.rectangleIntersectsCircle,s=c.stringTorgb,o=c.rgbToString,r=c.interpolateColor,d=JMP.ModelStatic.blend,u=function(e,i){let a=e.getCharLevels()[i],n=e.inputVariables[0];return n.valueLabels&&n.type===t.TYPE_STRING&&(a=n.getValueString(a)),a},h=function(e){return!e||e<0?0:e},g=function(e,t){return t?t[e]:e},S=function(e,t,i,a){let n,l,s,o,c,u=e.segment;return u.colorTerm&&u.rowValues?(n=u.colorTheme,l=u.colorMin,s=u.colorMax-l,o=d(e.gridValue[t],e.gridValue[i],a),null===o||s<=0?c=[0,0,0]:(o=(o-l)/s,c=n.getColor(o))):c=r(e.gridColor[t],e.gridColor[i],a),c},m=function(e,t,i,a){return r(e.RSGridColor[t],e.RSGridColor[i],a)},f=function(e){return 0===e[0]&&0===e[1]&&0===e[2]},T=function(e,t,i){let a=null;return Number.isFinite(e)&&(a=e/t,a=Math.sqrt(a),a*=i,a=Math.max(a,2)),a};return e.COLOR_BLUE="#2867fd",e.TIP_ESTIMATED="(estimated)",e.NOT_SELECTED_ALPHA=.25,e.NONE_SELECTED_ALPHA=.7,e.HIDDEN_ALPHA=.25,e.drawBubble=function(e,t,i,a,n,l,s){let o,r,c,d;if(e.beginPath(),e.arc(t,i,a,0,JMP.TWO_PI),n&&(e.fillStyle=n,s?(d=e.globalAlpha,e.globalAlpha*=.4,e.fill(),e.globalAlpha=d):e.fill()),l)if(e.strokeStyle=l,s)for(r=a<5?.2:a>20?.05:1/(a>>0),c=r/2,o=c;o<1;o+=r)e.beginPath(),e.arc(t,i,a,o*JMP.TWO_PI,(o+c)*JMP.TWO_PI),e.stroke();else e.stroke()},e.shouldDrawLabeled=function(e,t,i){return e===JMP.ViewStatic.WHICH_ALL||(t||i)&&e===JMP.ViewStatic.WHICH_SELECTED},e.drawLabel=function(e,t,i,a,n,l,s,o,r,c,d){e.fillStyle=o,a||n?(e.strokeStyle=r,JMP.TextBoxStatic.drawOffsetText(e,t,i,a,n,s,c,l+1,!0,d)):(e.font=c+"px "+d,e.textBaseline="middle",e.textAlign="center",e.fillText(s,t,i))},e.setupGrid=function(e,t,i,a,n,l){let s,o,r,c,d,u,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R=e.segment,{NTime:v,gridTimeRow:w,rowIndices:O}=R,P=l||0,D=[];if(e.IDTerm&&(f=e.IDTerm.getScores()),a){for(E=e.IDTerm.getNLevels(),e.levels=[],e.levels.length=E,e.levels.fill(-1),b=e.levels,T=0;T<v;T++)if(u=t[P+T],0!==u)for(p=i[P+T],s=0;s<u;s++)o=w[p+s],m=f[o],b[m]=1;for(e.NID=0,m=0;m<E;m++)b[m]>=0&&(b[m]=e.NID++);for(e.IDScore.length=e.NID,e.NID=0,m=0;m<E;m++)b[m]>=0&&(e.IDScore[e.NID++]=m)}else e.NID=e.IDTerm?Math.max(e.IDTerm.getNLevels(),1):1;for(S=e.NID*v,D.length=v,D.fill(0),e.gridCounts.length=S,e.gridCounts.fill(0),e.gridCountNonmiss.length=S,e.gridCountNonmiss.fill(0),T=0;T<v;T++)if(u=t[P+T],0!==u)for(p=i[P+T],s=0;s<u;s++)o=w[p+s],r=f?f[o]:0,A=!a&&R.ID2Term?R.ID2Term.getScore(o):0,r<0||A<0?D[T]++:(b&&(r=b[r]),d=r*v+T,e.gridCounts[d]++);for(x=0,e.gridPos.length=S,T=0;T<v;T++)for(x=0,r=0;r<e.NID;r++)d=r*v+T,e.gridPos[d]=i[P+T]+x,x+=e.gridCounts[d],e.gridCounts[d]=0;for(I=R.columns.rowStates,I&&(M=I.excluded,y=I.hidden,C=I.labeled),e.IDNRow.length=e.NID,e.IDNRow.fill(0),e.IDNExcluded.length=e.NID,e.IDNExcluded.fill(0),e.IDNLabeled.length=S,e.IDNLabeled.fill(0),e.IDNHidden.length=S,e.IDNHidden.fill(0),e.IDNHiddenCounts.length=S,e.IDNHiddenCounts.fill(0),R.gridRowTemp.length<R.NRow&&(R.gridRowTemp.length=R.NRow),L=R.gridRowTemp,T=0;T<v;T++)if(u=t[P+T],0!==u){for(p=i[P+T],s=0;s<u;s++)L[s]=w[p+s];for(s=0;s<u;s++)o=L[s],c=g(o,O),r=f?f[o]:0,A=!a&&R.ID2Term?R.ID2Term.getScore(o):0,r<0||A<0?(w[i[P+T]+u-D[T]]=o,D[T]--):(b&&(r=b[r]),d=r*v+T,N=e.gridCounts[d],x=e.gridPos[d],w[x+N]=o,e.gridCounts[d]++,e.IDNRow[r]++,I&&(y[c]&&(e.IDNHidden[d]++,n?(_=h(n[o]),e.IDNHiddenCounts[d]+=_):e.IDNHiddenCounts[d]++),C[c]&&e.IDNLabeled[d]++,M[c]&&e.IDNExcluded[r]++))}e.gridSize.length=S,e.gridX.length=S,e.gridY.length=S,R.colorTerm&&R.rowValues?e.gridValue.length=S:e.gridValue.length=0,e.gridColor.length=S,e.RSGridColor.length=S,e.gridAge.length=S,e.subBubble.length=e.NID,e.selected.length=e.NID,e.selected.fill(0)},e.fillGrid=function(e,t,i,a,n){let l,o,r,c,u,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F,B,V,k,G=e.segment,{rowIndices:H,isXMean:Y,isYMean:U,isSizeMean:z,isColorMean:W,isXCategorical:X,isYCategorical:Z,gridTimeRow:q}=G,j=G.columns.rowStates,K=0,Q=0,J=1,$=1,ee=0,te=1,ie=G.NTime,ae=null,ne=null;for(e.gridX.length=e.NID*ie,e.gridX.fill(null),e.gridY.length=e.NID*ie,e.gridY.fill(null),j&&(l=j.excluded,o=j.color),G.colorTerm&&G.rowValues&&(ne=G.rowValues,B=G.colorTheme,ee=G.colorMin,te=G.colorMax-ee),G.colorTerm&&G.rowColors&&(ae=G.rowColors),r=0;r<e.NID;r++)for(c=0;c<ie;c++)if(u=r*ie+c,e.gridColor[u]=[0,0,0],e.RSGridColor[u]=[0,0,0],e.gridAge[u]=-1,A=e.gridCounts[u],0!==A){for(E=e.gridPos[u],M=y=C=w=L=N=I=F=0,D=null,b=0;b<A;b++)if(K=q[E+b],Q=g(K,H),!(j&&l[Q]||(R=t[K],null===R||X&&R<0||(v=i[K],null===v||Z&&v<0)))){if(J=1,$=1,a){if(J=a[K],null===J)continue;J-=G.sizeMin}n&&($=h(n[K]),0===$)||(M+=R*$,y+=v*$,C+=J*$,w+=$,ne?(P=ne[K],null!==P&&(null===D?D=P*$:D+=P*$,F+=$)):ae?(_=ae[K],x=s(_.substr(1,7)),1===$?(L+=x[0],N+=x[1],I+=x[2]):(L+=x[0]*$,N+=x[1]*$,I+=x[2]*$)):j&&(x=o[Q],1===$?(L+=x[0],N+=x[1],I+=x[2]):(L+=x[0]*$,N+=x[1]*$,I+=x[2]*$)))}e.gridCountNonmiss[u]=w,w>0?(ne?(e.gridValue[u]=0===F?null:W?D/F:D,V=e.gridValue[u],null===V||te<=0?(_=JMP.COLOR_BLACK,L=0,N=0,I=0):(V=(V-ee)/te,x=B.getColor(V),L=x[0],N=x[1],I=x[2])):(L=L/w>>0,N=N/w>>0,I=I/w>>0),e.gridColor[u]=[L,N,I],e.RSGridColor[u]=o?o[Q]:[0,0,0],Y&&(M/=w),U&&(y/=w),z&&(C/=w),e.gridX[u]=M,e.gridY[u]=y,e.gridSize[u]=C,G.xMin=Math.min(G.xMin,M),G.xMax=Math.max(G.xMax,M),G.yMin=Math.min(G.yMin,y),G.yMax=Math.max(G.yMax,y),G.sizeMax=Math.max(G.sizeMax,C)):(e.gridX[u]=null,e.gridY[u]=null,e.gridSize[u]=null),e.gridAge[u]=0}for(r=0;r<e.NID;r++){for(k=-1,T=r*ie,c=0;c<ie;c++)if(u=T+c,!(e.gridAge[u]<0))if(c!==k+1){if(k<0)for(f=0;f<c;f++)p=T+f,e.gridX[p]=e.gridY[p]=e.gridSize[p]=null;else for(f=k+1;f<c;f++)O=(f-k)/(c-k),p=T+f,e.gridAge[p]=f-k,e.gridX[p]=d(e.gridX[T+k],e.gridX[u],O),e.gridY[p]=d(e.gridY[T+k],e.gridY[u],O),e.gridSize[p]=d(e.gridSize[T+k],e.gridSize[u],O),e.gridValue[p]=d(e.gridValue[T+k],e.gridValue[u],O),e.gridColor[p]=S(e,T+k,u,O),e.RSGridColor[p]=o?m(e,T+k,u,O):[0,0,0],e.IDNHidden[T+k]>=e.gridCounts[T+k]&&e.IDNHidden[u]>=e.gridCounts[u]?e.IDNHidden[p]=1:e.IDNHidden[p]=-1,e.IDNLabeled[T+k]>0||e.IDNLabeled[u]>0?e.IDNLabeled[p]=1:e.IDNLabeled[p]=0;k=c}else k=c;if(k<ie-1)for(f=k+1;f<ie;f++)p=T+f,e.gridX[p]=e.gridY[p]=e.gridSize[p]=null,e.gridAge[p]=-1}},e.calculateGridExtents=function(t){let i,a,n,l,s,o,r=t.segment,c=r.NTime;for(i=0;i<t.NID;i++)if(t.subBubble[i])e.calculateGridExtents(t.subBubble[i]);else for(a=0;a<c;a++)n=i*c+a,l=t.gridCounts[n],0!==l&&(s=t.gridX[n],o=t.gridY[n],r.xMin=Math.min(r.xMin,s),r.xMax=Math.max(r.xMax,s),r.yMin=Math.min(r.yMin,o),r.yMax=Math.max(r.yMax,o))},e.drawBubbleGroup=function(t,a,n,l,s,r,c,h,g,p,E,b,A,_){let x,L,N,I,M,y,C,R,v,w,O,P,D,F,B,V,k,G,H,Y,U,z,W,X,Z,q,j,K,Q,J,$=!1,ee={},te=[],ie=t.segment,ae=ie.isFilled,ne=ie.isOutlined,le=ie.whichLabeled,se=1,oe=ie.NTime;for(c>1?0===r?(se=e.NOT_SELECTED_ALPHA*s,ae&&ne&&(ne=!1)):(se=s,ne=!0,ae=!0):se=e.NONE_SELECTED_ALPHA*s,a.globalAlpha=se,C=0;C<t.NID;C++){if(O=0,t.subBubble[C]){Z=ie.IDModulus*(C+1),e.drawBubbleGroup(t.subBubble[C],a,n,l,s,r,c,Z,g,p,E,b,A,_);continue}if(t.IDNExcluded[C]>=t.IDNRow[C])continue;if(R=C*oe+n,t.IDNHidden[R]>=t.gridCounts[R])continue;if(2===c&&t.selected[C]!==r)continue;if(q=0!==t.selected[C],j=t.IDNLabeled[R]>0,$=(1===r&&q&&(ie.trailBubbles===JMP.ViewStatic.WHICH_SELECTED||ie.trailLines===JMP.ViewStatic.WHICH_SELECTED)||ie.trailBubbles===JMP.ViewStatic.WHICH_ALL||ie.trailLines===JMP.ViewStatic.WHICH_ALL)&&void 0!==ie.timeTerm,$){for(W=.1,X=2*se/7,w=0;w<=n;w++)if(R=C*oe+w,0===t.gridAge[R]){if(P=t.gridX[R],D=t.gridY[R],x=t.gridColor[R],N=null,ae&&(N=o(x)),I=null,ne&&(I=ae?f(x)?e.COLOR_BLUE:JMP.COLOR_BLACK:o(x)),ie.trailBubbles===JMP.ViewStatic.WHICH_ALL||ie.trailBubbles===JMP.ViewStatic.WHICH_SELECTED&&q){if(G=T(t.gridSize[R],A,_),ee=i(E,b,P,D,!0),V=ee.x,k=ee.y,null===V||null===k||null===G)continue;a.globalAlpha=d(W,X,w/n),e.drawBubble(a,V,k,G,N,I)}ie.xTrail[O]=P,ie.yTrail[O]=D,te[O]=ae?N:I,O++}a.globalAlpha=se}if(R=C*oe+n,v=l<JMP.EPSILON?R:R+1,(n>=oe-1||l>0&&l<.5&&null===t.gridX[v]&&n>1&&null===t.gridX[R-1])&&(v=R),t.gridAge[R]<0)continue;if(null===t.gridX[v])continue;if(P=d(t.gridX[R],t.gridX[v],l),D=d(t.gridY[R],t.gridY[v],l),t.parent&&ie.splitPart<1&&(Q=t.parentID*oe+n,t.parent.bubbleAnim&&t.parent.bubbleAnim[t.parentID]&&(P=d(t.parent.gridX[Q],P,ie.splitPart),D=d(t.parent.gridY[Q],D,ie.splitPart))),G=d(t.gridSize[R],t.gridSize[v],l),G=T(G,A,_),q&&!t.parent&&(G*=ie.inflate),ee=i(E,b,P,D,!0),F=ee.x,B=ee.y,null===F||null===B)continue;x=S(t,R,v,l),L=m(t,R,v,l),N=null,ae&&(N=o(x)),I=null,ne&&(I=ae?f(x)?e.COLOR_BLUE:JMP.COLOR_BLACK:o(x));let re=!!t.gridAge[R];if(e.drawBubble(a,F,B,G,N,I,re),$&&ie.trailLines!==JMP.ViewStatic.WHICH_NONE){for(ie.xTrail[O]=P,ie.yTrail[O]=D,O++,W=.1,X=5*se/7,a.lineWidth=2*ie.lineWidthScale,w=1;w<O;w++){H=null,Y=null;let e=w-1;P=ie.xTrail[e],D=ie.yTrail[e],null!==P&&null!==D&&(ee=i(E,b,P,D,!0),H=ee.x,Y=ee.y),null!==H&&null!==Y&&(P=ie.xTrail[w],D=ie.yTrail[w],null!==P&&null!==D&&(ee=i(E,b,P,D,!0),U=ee.x,z=ee.y,null!==U&&null!==z&&(a.beginPath(),a.moveTo(H,Y),a.lineTo(U,z),a.strokeStyle=te[e],a.globalAlpha=d(W,X,w/n),a.stroke())))}a.globalAlpha=se,a.lineWidth=1}e.shouldDrawLabeled(le,j,q)&&(J=C,t.levels&&(J=t.IDScore[C]),t.IDTerm&&((ae||$)&&f(x)?(M=e.COLOR_BLUE,y=e.COLOR_BLUE):ae||$&&q?(M=JMP.COLOR_BLACK,y=x):(M=o(L),y=M),a.globalAlpha=se,K=u(t.IDTerm,J),e.drawLabel(a,F,B,g?g[h+C]:0,p?p[h+C]:0,G,null===K?JMP.ModelStatic.TIP_MISSING:K,M,y,ie.labelFontSize,ie.labelFontFamily)))}},e.checkSelected=function(t,i,a){let n,l,s,o,r,c,d,u,S,m,f,T=t.segment,{NTime:p,gridTimeRow:E,rowIndices:b}=T,A=t.NID,_=!1,x=1;if(0===A)return!1;if(S=T.columns.rowStates,!S)return!1;if(m=S.selected,f=S.nSelectedIndices,A>1&&T.isSelectableAcrossGaps)for(n=0;n<A;n++)s=t.IDScore.length>0?t.IDScore[n]:n,t.parent?t.parent.selected[t.parentID]&&t.IDTerm===T.ID2Term?t.selected[n]=T.ID2SelectedCount&&T.ID2SelectedCount[s]>0?1:0:t.selected[n]=0:t.IDTerm===T.IDTerm&&(t.selected[n]=T.IDSelectedCount&&T.IDSelectedCount[s]>0?1:0),t.selected[n]&&(_=!0),t.subBubble[n]&&e.checkSelected(t.subBubble[n],i,a);else for(n=0;n<A;n++)if(t.selected[n]=0,t.subBubble[n])e.checkSelected(t.subBubble[n],i,a)&&(t.selected[n]=1,_=!0);else{if(o=n*p+i,r=t.gridCounts[o],r<=0)continue;for(c=t.gridPos[o],T.IDSelectedCount[o]=0,u=0;u<r;u++)d=E[c+u],l=g(d,b),f&&m[l]&&(a&&(x=h(a[d])),t.selected[n]=1,_=!0,T.IDSelectedCount[o]+=x)}return _},e.split=function(t,i,a,n,l,s,o){let r,c=t.segment,d=c.timePos-1>>0,u=!1,h=0,g=t.NID-1;for(d<1&&(d=0),i||void 0===a?(e.checkSelected(t,d,o),c.resetGridExtents()):h=g=a,t.bubbleAnim.length=t.NID,t.bubbleAnim.fill(0),r=h;r<=g;r++)t.subBubble[r]||(i||void 0!==a||0!==t.selected[r])&&(u=!0,t.subBubble[r]=new JMP.BubbleGroup(c,c.ID2Term,t,r),e.setupGrid(t.subBubble[r],t.gridCounts,t.gridPos,!0,o,r*c.NTime),e.fillGrid(t.subBubble[r],n,l,s,o),t.bubbleAnim[r]=!0);return u},e.isCombinable=function(e){let t,i=e?e.NID:0;for(t=0;t<i;t++)if(e.selected[t]&&e.subBubble[t])return!0;return!1},e.isSplitable=function(e){let t,i=e?e.NID:0;for(t=0;t<i;t++)if(e.selected[t]&&!e.subBubble[t])return!0;return!1},e.canCombine=function(e,t,i){let a,n=!1;if(e.bubbleAnim.length=e.NID,e.bubbleAnim.fill(0),!t&&void 0!==i)return e.bubbleAnim[i]=!0,null!==e.subBubble[i];for(a=0;a<e.NID;a++)(e.selected[a]||t)&&null!==e.subBubble[a]&&(e.bubbleAnim[a]=n=!0);return n},e.combine=function(e,t,i){let a,n=!1;if(e.bubbleAnim.length=e.NID,e.bubbleAnim.fill(0),!t&&void 0!==i)return e.subBubble[i]=null,!0;for(a=0;a<e.NID;a++)(e.selected[a]||t)&&null!==e.subBubble[a]&&(e.subBubble[a]=null,n=!0);return n},e.findClosestBubble=function(t,a,n,l,s,o,r,c,u,h,S,m,f,p,E){let b,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D=t.segment,F=t.NID,B=D.sizeMax,V={dataIndex:-1,distance:0,area:0},k=-1,G=-1,H=t,Y={},U=D.timePos-(p+1);for(U=Math.min(1,Math.max(0,U)),b=0;b<F;b++)t.subBubble[b]?(N=e.findClosestBubble(t.subBubble[b],a,n,l,s,o,r,c,u,h,S,m,f,p,E),N&&(I=N.dataIndex,k=I+D.IDModulus*(b+1),G=N.rowIndex,E=N.distance,M=N.area,H=t.subBubble[b],y=N.x,C=N.y)):t.IDNExcluded[b]!==t.IDNRow[b]&&(x=b*D.NTime+p,t.IDNHidden[x]>=t.gridCounts[x]||t.gridAge[x]<0||(L=0===U?x:x+1,(p>=D.NTime-1||U>0&&U<.5&&null===t.gridX[L]&&p>1&&null===t.gridX[x-1])&&(L=x),x===L?(A=t.gridX[x],_=t.gridY[x]):(A=d(t.gridX[x],t.gridX[L],U),_=d(t.gridY[x],t.gridY[L],U)),Number.isFinite(A)&&Number.isFinite(_)&&(Y=i(o,r,A,_),R=Y.x-a,v=Y.y-n,w=R*R+v*v,O=d(t.gridSize[x],t.gridSize[L],U),O=Math.max(5,T(O,B,f)),P=Math.max(O,JMP.ViewStatic.FUZZ_PIXELS),P*=P,w<E&&w<P&&(E=w,k=b,G=g(b,c),M=Math.PI*O*O,H=t,y=Y.x-O,C=Y.y-O))));return k<0?null:(V.bubbleGroup=H,V.distance=E,V.dataIndex=k,V.rowIndex=G,V.area=M,V.x=y,V.y=C,V.iTime=p,V)},e.createTooltip=function(t,i,n,l,s,o,r,c,h,g){let S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v=t.bubbleGroup,w=v.segment,O=t.dataIndex,P=t.iTime,D=JMP.TooltipModel();D.seg=w,w.IDModulus&&(O%=w.IDModulus),L=v.parent,L&&L.IDTerm&&(S=L.IDScore.length>0?L.IDScore[v.parentID]:v.parentID,p=u(L.IDTerm,S),D.addLine(L.IDTerm.inputVariables[0].name,p)),S=v.IDScore.length>0?v.IDScore[O]:O,v.IDTerm&&(p=u(v.IDTerm,S),D.addLine(v.IDTerm.inputVariables[0].name,p)),T=w.timePos-(P+1),m=O*w.NTime+P,f=0===T?m:m+1,(P>=w.NTime-1||T>0&&T<.5&&null===v.gridX[f]&&P>1&&null===v.gridX[m-1])&&(f=m),x=v.gridCounts[m];const F=1!==x;if(n.isContinuous()){let e;p=f===m?v.gridY[m]:d(v.gridY[m],v.gridY[f],T),F&&(e=w.isYMean?JMP.MomentsStatic.STAT_MEAN:JMP.MomentsStatic.STAT_SUM),E=JMP.TooltipStatic.getLabel(n,e),D.addLine(E,p,h)}if(i.isContinuous()){let e;p=f===m?v.gridX[m]:d(v.gridX[m],v.gridX[f],T),F&&(e=w.isXMean?JMP.MomentsStatic.STAT_MEAN:JMP.MomentsStatic.STAT_SUM),E=JMP.TooltipStatic.getLabel(i,e),D.addLine(E,p,c)}if(l){let e;_=w.isSizeMean?1:v.gridCountNonmiss[m],b=v.gridSize[m]+w.sizeMin*_,_=w.isSizeMean?1:v.gridCountNonmiss[f],A=v.gridSize[f]+w.sizeMin*_,p=d(b,A,T),F&&(e=w.isSizeMean?JMP.MomentsStatic.STAT_MEAN:JMP.MomentsStatic.STAT_SUM),E=JMP.TooltipStatic.getLabel(l,e),D.addLine(E,p,l.format)}if(s){if(s.isContinuous())p=d(v.gridValue[m],v.gridValue[f],T);else{let e=w.colorTerm.getScores(),t=[];M=w.gridTimeRow;let i=x;for(y=v.gridPos[m],v.gridAge[m]&&(y=v.gridPos[m-1],i=v.gridCounts[m-1]+v.gridCounts[m+1]),N=0;N<i;N++){let i=M[y+N];t.push(i),e[i]<0&&(e[i]=null)}p=JMP.MomentsStatic.getValue([new a(e)],r,w.columns.rowStates,[t],void 0,JMP.MomentsStatic.STAT_MEAN)[0][0];let n=w.colorTerm.getCharLevels();p=JMP.ModelStatic.getCategoricalString(p,n,s)}let e;F&&(e=w.isColorMean?JMP.MomentsStatic.STAT_MEAN:JMP.MomentsStatic.STAT_SUM),E=JMP.TooltipStatic.getLabel(s,e),D.addLine(E,p,s.isCategorical()?void 0:g)}if(x=v.gridCounts[m],x>0&&JMP.TooltipStatic.addLineForRows(D,x,w.IDSelectedCount[m],v.IDNHiddenCounts[m],!!r),v.gridAge[m]&&D.addLine(void 0,e.TIP_ESTIMATED),o){for(C=w.columns.rowStates.excluded,M=w.gridTimeRow,I=-1,y=v.gridPos[m],N=0;N<x&&I<0;N++)I=M[y+N],C&&C[I]&&(I=-1);R=o.data[I],D.imageSrc=R,D.addLine(o.name,R?"":JMP.ModelStatic.TIP_MISSING)}return D.distance=t.distance,D.priority=t.area,D.x=t.x,D.y=t.y,D},e.select=function(t,i,a,l,s,o){let r,c,d,u,S,m,f,T,p,E,b,A,_,x,L,N,I=t.bubbleGroup,M=I.segment,y=M.rowIndices,C=t.dataIndex,R=t.iTime,v=1;if(C>=M.IDModulus&&(r=C/M.IDModulus>>0,C-=r*M.IDModulus,r--,I.subBubble[r]))return t.dataIndex=C,t.bubbleGroup=I.subBubble[r],void e.select(t,i,a,l,s,o);for(d=a.selectedIndices,u=s||i!==JMP.ViewStatic.SELECT_ONLY?a.nSelectedIndices:0,A=M.gridTimeRow,M.IDSelectedCount&&M.IDTerm&&(_=M.IDSelectedCount,x=M.IDTerm.getScores()),M.ID2SelectedCount&&M.ID2Term&&(L=M.ID2SelectedCount,N=M.ID2Term.getScores()),R=0;R<l;R++)if(c=C*l+R,p=I.gridCounts[c],p)for(E=I.gridPos[c],T=0;T<p;T++)m=A[E+T],f=g(m,y),o&&(v=h(o[m])),S=u?d.lastIndexOf(f,u-1):-1,i===JMP.ViewStatic.SELECT_TOGGLE&&-1!==S?(d.splice(S,1),u--,x&&(b=x[m],b>=0&&(_[b]-=v)),N&&(b=N[m],b>=0&&(L[b]-=v))):-1===S&&(d[u]=f,u++,x&&_.length>0&&(b=x[m],b>=0&&(_[b]+=v)),N&&L.length>0&&(b=N[m],b>=0&&(L[b]+=v)));a.nSelectedIndices=u,s||(0===u&&(a.selectedIndices=[]),a.sendEvent(n.EVENT_SELECTED))},e.brush=function(t,a,s,o,r,c,u,h,g,S,m,f,p,E){let b,A,_,x,L,N,I=t.segment,M=t.NID,y={},C=I.timePos-(f+1),R=a.x,v=a.y,w=a.x+a.width,O=a.y+a.height,P=I.sizeMax;for(C=Math.min(1,Math.max(0,C)),b=0;b<=M;b++)t.subBubble[b]?e.brush(t.subBubble[b],a,s,o,r,c,u,h,g,S,m,f,p,E):t.IDNExcluded[b]!==t.IDNRow[b]&&(x=b*I.NTime+f,t.IDNHidden[x]>=t.gridCounts[x]||t.gridAge[x]<0||(L=0===C?x:x+1,f>=I.NTime-1&&(L=x),A=d(t.gridX[x],t.gridX[L],C),_=d(t.gridY[x],t.gridY[L],C),y=i(c,u,A,_),N=d(t.gridSize[x],t.gridSize[L],C),N=T(N,P,m),l(R,w,v,O,y.x,y.y,N)&&e.select({bubbleGroup:t,dataIndex:b,iTime:f},s,h,p,!0,E)));h.sendEvent(n.EVENT_SELECTED)},e}(),JMP.BubbleGroup=function(e,t,i,a){"use strict";let n={};return n.segment=e,n.IDTerm=t,n.parent=i,n.parentID=a,n.NID=0,n.levels=null,n.IDScore=[],n.IDNRow=[],n.IDNExcluded=[],n.IDNLabeled=[],n.IDNHidden=[],n.IDNHiddenCounts=[],n.gridCounts=[],n.gridCountNonmiss=[],n.gridPos=[],n.gridSize=[],n.gridX=[],n.gridY=[],n.gridColor=[],n.RSGridColor=[],n.gridValue=[],n.gridAge=[],n.selected=[],n.subBubble=[],n.bubbleAnim=[],n.labelFontSize=JMP.LARGE_FONT_SIZE,n.setupGrid=function(e,t,i,a){return JMP.BubbleGroupStatic.setupGrid(n,e,t,i,a)},n.fillGrid=function(e,t,i,a){JMP.BubbleGroupStatic.fillGrid(n,e,t,i,a)},n},JMP.BubblePlotSegmentStatic=function(){"use strict";let e,i,a,l={},s=.1,o=JMP.ScalingStatic.valuesToPixel,d=JMP.ViewStatic.rectangleIntersectsCircle,u=c.rgbToString,h=JMP.BubbleGroupStatic.drawBubble,g=JMP.BubbleGroupStatic.drawBubbleGroup,S=JMP.BubbleGroupStatic.drawLabel,m=JMP.BubbleGroupStatic.shouldDrawLabeled,f=JMP.BubbleGroupStatic.COLOR_BLUE,T=JMP.BubbleGroupStatic.NOT_SELECTED_ALPHA,p=JMP.BubbleGroupStatic.NONE_SELECTED_ALPHA,E=!1,b=function(e,t,i){let a,n,l,s=e.getColumn(t),o=[];if(s){if(i){for(n=i.length,l=s.data,a=0;a<n;a++)o[a]=l[i[a]];s=s.copy(),s.data=o}return s}},A=function(e,t,i,a,n){let l,s=null;if(e){if(l=e[t],null===l)return null;s=(l-i)/a,s=Math.sqrt(s),s*=n}else s=n/2;return s=Math.max(s,2),s},_=function(e,t,i,a){let n,l=i.valueOrigin,o=i.getValueRange(),c=(t-e)*s;o>0?(n=Math.min(e-c,l),i.scale.type===r.SCALE_LOG&&n<0?a.origin=0:a.origin=n,a.range=Math.max(t+c,l+o)-a.origin):(a.origin=Math.max(t+c,l),n=e-c,i.scale.type===r.SCALE_LOG&&n<0&&(n=0),a.range=Math.min(n,l+o)-a.origin)},x=function(e,t){let i=.1,a=1;return t<40?a=40/t:(i=.0025*t,i>.51&&(i=1)),e.delay=a,i},L=function(e,t){return t?t[e]:e},N=function(e){return"pointerdown"===e||"input"===e||"change"===e},I=function(e,t,i,a,n,l,s,r,c,d,u,h,g,S){let m,f,T,p,E,b,_,x,N,I,M,y,C,R,v,w,O,P={dataIndex:-1,rowIndex:-1,distance:0,area:0},D=Number.MAX_VALUE,F=-1,B=-1;if(r&&(m=r.hidden,f=r.excluded),C=i.length,S)return O=g-1>>0,O<0&&(O=0),JMP.BubbleGroupStatic.findClosestBubble(S,e,t,i,a,n,l,s,r,c,d,u,h,O,D);for(M=0;M<C;M++)y=L(M,s),r&&(m[y]||f[y])||null===i[M]||null===a[M]||(x=o(n,l,i[M],a[M],!0),T=x.x,p=x.y,null!==T&&Number.isFinite(T)&&null!==p&&Number.isFinite(p)&&(N=A(c,M,d,u,h),null!==N&&(I=Math.max(N,JMP.ViewStatic.FUZZ_PIXELS),I*=I,E=T-e,b=p-t,_=E*E+b*b,_<D&&_<I&&(D=_,F=M,B=y,R=Math.PI*N*N,v=T-N,w=p-N))));return D===Number.MAX_VALUE?null:(P.distance=D,P.dataIndex=F,P.rowIndex=B,P.area=R,P.iTime=O,P.x=v,P.y=w,P)};return l.ID_BACK_BUTTON=1,l.ID_STEP_BUTTON=2,l.ID_PLAY_BUTTON=3,l.ID_RECORD_BUTTON=4,l.ID_SAVE_BUTTON=5,l.ID_SPLIT_BUTTON=6,l.ID_COMBINE_BUTTON=7,l.MENU_DRAW="Draw",l.MENU_LABEL="Label",l.MENU_TRAIL_BUBBLES="Trail Bubbles",l.MENU_TRAIL_LINES="Trail Lines",l.MENU_FILLED="Filled",l.MENU_OUTLINED="Outlined",l.MENU_FILLED_AND_OUTLINED="Filled and Outlined",l.MENU_ALL="All",l.MENU_SELECTED="Selected",l.MENU_NONE="None",l.MENU_AGGREGATE="Aggregate",l.MENU_X_SUM="X as Sum",l.MENU_Y_SUM="Y as Sum",l.MENU_SIZE_SUM="Size as Sum",l.MENU_COLOR_SUM="Color as Sum",l.MENU_SELECTABLE_ACROSS_GAPS="Selectable Across Gaps",l.MENU_SHOW_TIME_LABEL="Show Time Label",l.TIP_ROLES="Variable roles",l.TIP_START_ANIMATION="Start animation",l.TIP_PAUSE_ANIMATION="Pause animation",l.TIP_FORWARD_ANIMATION="Step forward",l.TIP_BACKWARD_ANIMATION="Step backward",l.TIP_TIME_SLIDER="Time position",l.TIP_SPEED_SLIDER="Animation speed",l.TIP_SPLIT="Split selected bubbles",l.TIP_COMBINE="Combine selected bubbles",l.TIP_SIZE_SLIDER="Bubble size",l.ROLE_SUM_SUFFIX="Sum",l.ROLE_MEAN_SUFFIX="Mean",l.ROLE_X_NAME="X",l.ROLE_Y_NAME="Y",l.ROLE_SIZE_NAME="Sizes",l.ROLE_COLOR_NAME="Coloring",l.ROLE_X_NAME_INDEX=0,l.ROLE_Y_NAME_INDEX=1,l.ROLE_COLOR_NAME_INDEX=5,l.ROLE_SIZE_NAME_INDEX=6,l.ID_MENU_DRAW="bubblePlotSegmentDraw",l.ID_MENU_LABEL="bubblePlotSegmentLabel",l.ID_MENU_TRAIL_BUBBLES="bubblePlotSegmentTrailBubbles",l.ID_MENU_TRAIL_LINES="bubblePlotSegmentTrailLines",l.ID_MENU_FILLED="bubblePlotSegmentFilled",l.ID_MENU_OUTLINED="bubblePlotSegmentOutlined",l.ID_MENU_FILLED_AND_OUTLINED="bubblePlotSegmentFilledAndOutlined",l.ID_MENU_LABEL_ALL="bubblePlotSegmentLabelAll",l.ID_MENU_LABEL_SELECTED="bubblePlotSegmentLabelSelected",l.ID_MENU_LABEL_NONE="bubblePlotSegmentLabelNone",l.ID_MENU_TRAIL_BUBBLES_ALL="bubblePlotSegmentTrailBubblesAll",l.ID_MENU_TRAIL_BUBBLES_SELECTED="bubblePlotSegmentTrailBubblesSelected",l.ID_MENU_TRAIL_BUBBLES_NONE="bubblePlotSegmentTrailBubblesNone",l.ID_MENU_TRAIL_LINES_ALL="bubblePlotSegmentTrailLinesAll",l.ID_MENU_TRAIL_LINES_SELECTED="bubblePlotSegmentTrailLinesSelected",l.ID_MENU_TRAIL_LINES_NONE="bubblePlotSegmentTrailLinesNone",l.ID_MENU_AGGREGATE="bubblePlotSegmentAggregate",l.ID_MENU_X_SUM="bubblePlotSegmentXSum",l.ID_MENU_Y_SUM="bubblePlotSegmentYSum",l.ID_MENU_SIZE_SUM="bubblePlotSegmentSizeSum",l.ID_MENU_COLOR_SUM="bubblePlotSegmentColorSum",l.ID_MENU_SELECTABLE_ACROSS_GAPS="bubblePlotSegmentSelectableAcrossGaps",l.ID_MENU_SELECT_ALL="bubblePlotSegmentSelectAll",l.ID_MENU_SHOW_TIME_LABEL="bubblePlotSegmentShowTimeLabel",l.getCache=function(i,a){let s,o,r,c,d,u,h,g,S,m,f,T,p,E,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F,B,V,k,G=i.columns,H=i.rowIndices,Y=[],U=[],z={};if(G&&(i.groupCalculation&&(i.rowIndices=i.groupCalculation.getResult()[0][0],H=i.rowIndices),P=function(e,t){let i,a,l;if(t)for(i=new n,l=t.length,a=0;a<l;a++)i.hidden[a]=e.hidden[t[a]],i.excluded[a]=e.excluded[t[a]];else i=e;return i}(G.rowStates,H),d=b(G,t.ROLE_X,H),d&&(d.dataLevel===t.LEVEL_CONTINUOUS?(i.isXCategorical=!1,u=d.data):(i.isXCategorical=!0,r=JMP.Term([d],P),u=r.getScores())),m=b(G,t.ROLE_Y,H),m&&(m.dataLevel===t.LEVEL_CONTINUOUS?(i.isYCategorical=!1,f=m.data):(i.isYCategorical=!0,r=JMP.Term([m],P),f=r.getScores()))),u&&f){if(h=i.scale[t.ROLE_X],T=i.scale[t.ROLE_Y],g=JMP.Scaling(h,i.x+.5>>0,i.width-1),p=JMP.Scaling(T,i.y+i.height-.5>>0,1-i.height),I=b(G,t.ROLE_TIME,H),I&&(i.timeTerm=JMP.Term([I],P),M=I.data),y=b(G,t.ROLE_ID,H),y&&(i.IDTerm=JMP.Term([y],P),C=y.data),R=b(G,t.ROLE_ID2,H),R&&(i.ID2Term=JMP.Term([R],P),v=R.data),A=b(G,t.ROLE_COLOR,H),A&&(i.colorTerm=JMP.Term([A],P),F=A.type===t.TYPE_NUMBER,D=A.dataLevel===t.LEVEL_CONTINUOUS,F||(c=JMP.UniqueStatic.getValues([A],P,!1,!1,void 0,!1,!1,!0)[0][0]),B=D?i.colorCharValues:F?i.colorTerm.getNumLevels():c,_=A.data,i.colorLevels&&B))for(o=i.colorLevels.length,s=0;s<o;s++)Y[B[s]]=i.colorLevels[s];L=b(G,t.ROLE_SIZE,H),L&&(N=L.data),w=b(G,t.ROLE_FREQ,H),w&&(O=w.data),l.initializeTerms(i,u,f,N,O),V=G.getLabeledColumns(),o=V&&V[0]?V[0].data.length:P?P.hidden.length:0,U=JMP.ViewStatic.createLabels(o,V),k=G.getTipImageColumn(),z.xScale=h,z.yScale=T,z.xColumns=[d],z.yColumns=[m],A&&A.isContinuous()&&(z.colorColumn=A,x=JMP.ViewStatic.getProperFormat(A,z)),d&&d.isContinuous()&&(S=JMP.ViewStatic.getProperFormat(d,z)),m&&m.isContinuous()&&(E=JMP.ViewStatic.getProperFormat(m,z)),a.isInitialized=!0,a.rowStates=G.rowStates,a.labeledColumns=V.length>0?V:void 0,Object.assign(a,{xColumn:d,xData:u,xScaling:g,xFormat:S,yColumn:m,yData:f,yScaling:p,yFormat:E,colorColumn:A,colorData:_,colorFormat:x,sizeColumn:L,sizeData:N,timeColumn:I,timeData:M,idColumn:y,idData:C,id2Column:R,id2Data:v,freqColumn:w,freqData:O,rowIndices:H,colorMap:Y,labelValues:U,tipImageColumn:k}),i.splitPart=1,i.splitBubbles&&i.split(i.splitBubbles),l.initializeControls(i),e||(e={},function(t){["isFilled","isOutlined","whichLabeled","trailBubbles","trailLines","isTimeLabelVisible","isXMean","isYMean","isColorMean","isSizeMean","timePos","speed","sizeScale","isPlaying"].forEach((i=>{e[i]=t[i]}))}(i)),i.timeLabelOffset=JMP.ScalingStatic.valuesToPixel(g,p,i.timeLabelXOffset,i.timeLabelYOffset),void 0===i.isTimeLabelVisible&&(i.isTimeLabelVisible=JMP.ViewStatic.pointInRect(i.timeLabelOffset,{x:i.x,y:i.y,width:i.width,height:i.height}))}},l.draw=function(e,t){let n,s,c,d,b,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F,B,V,k,G,H,Y,U,z,{g:W,timePos:X,timeLabelOffset:Z,timeLabels:q,timeValues:j,xOffset:K,yOffset:Q,sizeMin:J,sizeMax:$,sizeScale:ee,isFilled:te,isOutlined:ie,whichLabeled:ae,IDBubble:ne,timeLabelBounds:le,isDragging:se,isXCategorical:oe,isYCategorical:re,isTimeLabelVisible:ce,labelFontSize:de,labelFontFamily:ue}=e,he={},ge=W.globalAlpha,Se=JMP.COLOR_BLACK,me=null,fe=null,Te=1,pe=te,Ee=ie,be=0,Ae=2*de;if(!t||!t.isInitialized||E)return;E=!0;let{xData:_e,yData:xe,timeData:Le,colorData:Ne,sizeData:Ie,freqData:Me,xScaling:ye,yScaling:Ce,rowStates:Re,rowIndices:ve,colorMap:we,labelValues:Oe}=t;if(void 0!==i&&(i=void 0,e.aggregateChanged(l.ROLE_X_NAME_INDEX),z=ye.scale,z.type===r.SCALE_LINEAR&&(z.widthMajor=z.getNiceTickIncrement()),z.nMinor=0),void 0!==a&&(a=void 0,e.aggregateChanged(l.ROLE_Y_NAME_INDEX),z=Ce.scale,z.type===r.SCALE_LINEAR&&(z.widthMajor=z.getNiceTickIncrement()),z.nMinor=0),JMP.ViewStatic.reset(W),W.lineWidth=1,Re&&(n=Re.excluded,s=Re.hidden,d=Re.selected,c=Re.color,b=Re.selectedIndices,_=Re.labeled),j?be=j.length:q&&(be=q.length),X>be&&(Te=Math.max(0,Math.min(1,1-.5*(X-be-.5)))),ne)v=X-1>>0,v<0?v=0:v>=be&&(v=be-1),w=X-(v+1),w=Math.min(1,Math.max(0,w)),C=JMP.BubbleGroupStatic.checkSelected(ne,v,Me)?2:1,g(ne,W,v,w,Te,0,C,0,K,Q,ye,Ce,$,ee),C>1&&g(ne,W,v,w,Te,1,C,0,K,Q,ye,Ce,$,ee),Le&&Le.length>v&&(W.globalAlpha=.8*Te,W.fillStyle=JMP.COLOR_BLACK,W.font=Ae+"px "+ue,W.textBaseline="alphabetic",W.textAlign="center",se&&(W.save(),W.shadowBlur=4,W.shadowColor=JMP.COLOR_BLACK,W.shadowOffsetX=2,W.shadowOffsetY=2,W.globalAlpha=.9),ce&&(k=W.measureText(q[v]).width+8,G=ye.pixelOrigin,Y=G+ye.pixelRange,U=Ce.pixelOrigin,H=U+Ce.pixelRange,G>Z.x-k/2?Z.x=G+k/2:Z.x+k/2>Y&&(Z.x=Y-k/2),H>Z.y-Ae?Z.y=H+Ae:Z.y>U-8&&(Z.y=U-8),le.x=Z.x-k/2,le.y=Z.y-Ae+8,le.width=k,le.height=Ae+8,W.fillText(q[v],Z.x,Z.y),se&&W.restore()));else{if(V=$-J,P=_e.length,C=1,Re)for(O=0;O<P;O++)if(D=ve?ve[O]:O,d[D]&&!n[D]&&!s[D]){C=2;break}for(R=0;R<C;R++)for(w=1,C>1?0===R?(w=T,te&&ie&&(Ee=!1)):(w=1,pe=!0,Ee=!0):w=p,W.globalAlpha=w*Te,O=0;O<P;O++){if(D=ve?ve[O]:O,Re){if(n[D]||s[D])continue;if(F=Re.nSelectedIndices&&-1!==b.lastIndexOf(D,Re.nSelectedIndices-1),2===C)if(0===R){if(F)continue}else if(!F)continue}N=_e[O],null===N||oe&&N<0||(I=xe[O],null===I||re&&I<0||(he=o(ye,Ce,N,I,!0),x=he.x,null!==x&&Number.isFinite(x)&&(L=he.y,null!==L&&Number.isFinite(L)&&(B=A(Ie,O,J,V,ee),null!==B&&Number.isFinite(B)&&(Ne&&we?Se=null===Ne[O]?JMP.COLOR_BLACK:we[Ne[O]]:Re&&(Se=u(c[D])),me=null,pe&&(me=Se),fe=null,Ee&&(fe=pe?Se===JMP.COLOR_BLACK?f:JMP.COLOR_BLACK:Se),h(W,x,L,B,me,fe),Re&&m(ae,_[D],F)&&(!pe&&Re?(M=u(c[D]),y=JMP.COLOR_BLACK):F&&pe&&Se===JMP.COLOR_BLACK?(M=f,y=f):(M=JMP.COLOR_BLACK,y=Se),S(W,x,L,K?K[O]:0,Q?Q[O]:0,B,Oe[D][0].join(", "),M,y,de,ue)))))))}}W.globalAlpha=ge,E=!1},l.select=function(e,t,i,a){let l,s,r,c,u,h,g,S,m,f,T,p,E,b,_,x,L,{sizeMin:N,sizeScale:M,NTime:y,timePos:C,IDBubble:R}=e,v=e.sizeMax-N,w=i.x,O=i.y,P=i.width,D=i.height,F={};if(!t||!t.isInitialized||!t.rowStates)return;let{xData:B,yData:V,xScaling:k,yScaling:G,rowStates:H,rowIndices:Y,sizeData:U,freqData:z}=t;if(r=w-1,u=r+P+1,c=O-1,h=c+D+1,s=H.hidden,l=H.selectedIndices,f=a===JMP.ViewStatic.SELECT_ONLY?0:H.nSelectedIndices,m=a===JMP.ViewStatic.SELECT_EXTEND?function(){-1===l.lastIndexOf(T,f-1)&&(l[f]=T,f++)}:a===JMP.ViewStatic.SELECT_REDUCE?function(){_=l.lastIndexOf(T,f-1),-1!==_&&(l.splice(_,1),f--)}:function(){l[f]=T,f++},p=B.length,P||D){if(R)return L=C-1>>0,L<0&&(L=0),void JMP.BubbleGroupStatic.brush(R,i,a,B,V,k,G,H,N,v,M,L,y,z);for(E=0;E<p;E++)T=Y?Y[E]:E,s[T]||null===B[E]||null===V[E]||(x=A(U,E,N,v,M),null!==x&&(F=o(k,G,B[E],V[E],!0),g=F.x,S=F.y,null!==g&&Number.isFinite(g)&&null!==S&&Number.isFinite(S)&&d(r,u,c,h,g,S,x)&&m()))}else if(b=I(w,O,B,V,k,G,Y,H,U,N,v,M,C,R),b){if(R)return void JMP.BubbleGroupStatic.select(b,a,H,y,!1,z);E=b.dataIndex,T=b.rowIndex,_=f?l.lastIndexOf(T,f-1):-1,a===JMP.ViewStatic.SELECT_TOGGLE&&-1!==_?(l.splice(_,1),f--):-1===_&&(l[f]=T,f++)}else f=0;H.nSelectedIndices=f,0===f&&(H.selectedIndices=[]),H.sendEvent(n.EVENT_SELECTED)},l.updateUI=function(e){e.splitButton&&(e.splitButton.disabled=!JMP.BubbleGroupStatic.isSplitable(e.IDBubble)),e.combineButton&&(e.combineButton.disabled=!JMP.BubbleGroupStatic.isCombinable(e.IDBubble))},l.getTooltip=function(e,i,a){let n,l,s,o,r,c,d,{sizeMin:u,sizeScale:h,timePos:g,IDBubble:S}=e,m=e.sizeMax-u,f=a.x,T=a.y,p=JMP.TooltipModel(),E=[],b=[];if(!i||!i.isInitialized)return;let{xColumn:A,yColumn:_,xScaling:x,yScaling:L,xData:N,yData:M,rowStates:y,rowIndices:C,timeColumn:R,colorColumn:v,sizeColumn:w,sizeData:O,labeledColumns:P,tipImageColumn:D,xFormat:F,yFormat:B,colorFormat:V}=i;if(E=[_,A,w,v],b=[B,F,void 0,V],o=E.length,R&&JMP.ViewStatic.pointInRect({x:f,y:T},e.timeLabelBounds))return p.addLine(R.name,e.timeLabels[e.timePos-1>>0]),p.x=e.timeLabelBounds.x+4,p.y=e.timeLabelBounds.y-4,p;if(n=I(f,T,N,M,x,L,C,y,O,u,m,h,g,S),n){if(S)return JMP.BubbleGroupStatic.createTooltip(n,A,_,w,v,D,e.columns.getColumn(t.ROLE_FREQ),F,B,V);for(l=n.dataIndex,r=n.rowIndex,P?p.addLabeledColumns(e,P,[r]):p.addLineFromValues(JMP.TooltipModelStatic.TIP_ROW,[r+1]),s=0;s<o;s++)c=E[s],c&&p.addLine(c.name,c.getValueString(c.data[l],b[s]));return D&&(d=D.data[r],p.imageSrc=d,p.addLine(D.name,d?"":JMP.ModelStatic.TIP_MISSING)),p.x=n.x,p.y=n.y,p}return null},l.getPriority=function(e,t,i){let a=null,{sizeMin:n,sizeScale:l,timePos:s,IDBubble:o}=e;if(!t||!t.isInitialized)return;let{xScaling:r,yScaling:c,xData:d,yData:u,rowStates:h,rowIndices:g,timeColumn:S,sizeData:m}=t;const{x:f,y:T}=i;if(S&&JMP.ViewStatic.pointInRect({x:f,y:T},e.timeLabelBounds))return JMP.Priority(0,JMP.PriorityStatic.TIP_PRIORITY_POINT,e);let p=e.sizeMax-n,E=I(f,T,d,u,r,c,g,h,m,n,p,l,s,o);return E&&(a=JMP.Priority(E.distance,E.area,e)),a},l.getPreferredRange=function(e,i,a){let n,l,s,o,c,d,u,h,g,S,m=e.scale[a];if(i){if(!m.labels)if(e.IDBubble)c=a===t.ROLE_X?e.xMin:e.yMin,d=a===t.ROLE_X?e.xMax:e.yMax;else if(l=a===t.ROLE_X?i.xColumn:i.yColumn,s=i.rowStates,o=e.rowIndices||e.groupRowIndices,g=!0,S=!1,l&&(c=JMP.MomentsStatic.getValue([l],void 0,s,[o],void 0,JMP.MomentsStatic.STAT_MIN,void 0,true,false)[0][0],d=JMP.MomentsStatic.getValue([l],void 0,s,[o],void 0,JMP.MomentsStatic.STAT_MAX,void 0,true,false)[0][0],m.type===r.SCALE_LOG&&(c<=0&&(c=null),d<=0&&(d=null))),null!==c&&null!==d){u=r.convertToValue(m.type,m.origin,m.base,m.power),h=r.convertToValue(m.type,m.origin+m.range,m.base,m.power),n=[u,h];let e=!1;c<u&&(e=!0,n[0]=c),d>h&&(e=!0,n[1]=d),e&&m.getNiceRange(n)}return n}},l.menuProvider=function(e){let i,a,n,s,o,c,d,u,h=[],g=0,S=1,m=[{id:l.ID_MENU_DRAW,label:l.MENU_DRAW,type:JMP.MenuStatic.MENU_ITEM,menuItems:[{id:l.ID_MENU_FILLED,label:l.MENU_FILLED,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.isFilled&&!e.isOutlined},{id:l.ID_MENU_OUTLINED,label:l.MENU_OUTLINED,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.isOutlined&&!e.isFilled},{id:l.ID_MENU_FILLED_AND_OUTLINED,label:l.MENU_FILLED_AND_OUTLINED,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.isOutlined&&e.isFilled}]}];if((!e.timeTerm||e.IDTerm||e.ID2Term)&&(m[S]={id:l.ID_MENU_LABEL,label:l.MENU_LABEL,type:JMP.MenuStatic.MENU_ITEM,menuItems:[{id:l.ID_MENU_LABEL_NONE,label:l.MENU_NONE,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.whichLabeled===JMP.ViewStatic.WHICH_NONE},{id:l.ID_MENU_LABEL_SELECTED,label:l.MENU_SELECTED,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.whichLabeled===JMP.ViewStatic.WHICH_SELECTED},{id:l.ID_MENU_LABEL_ALL,label:l.MENU_ALL,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.whichLabeled===JMP.ViewStatic.WHICH_ALL}]},S++),e.timeTerm&&(m[S]={id:l.ID_MENU_TRAIL_BUBBLES,label:l.MENU_TRAIL_BUBBLES,type:JMP.MenuStatic.MENU_ITEM,menuItems:[{id:l.ID_MENU_TRAIL_BUBBLES_NONE,label:l.MENU_NONE,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.trailBubbles===JMP.ViewStatic.WHICH_NONE},{id:l.ID_MENU_TRAIL_BUBBLES_SELECTED,label:l.MENU_SELECTED,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.trailBubbles===JMP.ViewStatic.WHICH_SELECTED},{id:l.ID_MENU_TRAIL_BUBBLES_ALL,label:l.MENU_ALL,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.trailBubbles===JMP.ViewStatic.WHICH_ALL}]},S++,m[S]={id:l.ID_MENU_TRAIL_LINES,label:l.MENU_TRAIL_LINES,type:JMP.MenuStatic.MENU_ITEM,menuItems:[{id:l.ID_MENU_TRAIL_LINES_NONE,label:l.MENU_NONE,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.trailLines===JMP.ViewStatic.WHICH_NONE},{id:l.ID_MENU_TRAIL_LINES_SELECTED,label:l.MENU_SELECTED,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.trailLines===JMP.ViewStatic.WHICH_SELECTED},{id:l.ID_MENU_TRAIL_LINES_ALL,label:l.MENU_ALL,type:JMP.MenuStatic.MENU_RADIO,isChecked:e.trailLines===JMP.ViewStatic.WHICH_ALL}]},S++,m[S]={id:l.ID_MENU_SHOW_TIME_LABEL,label:l.MENU_SHOW_TIME_LABEL,type:JMP.MenuStatic.MENU_CHECK,isChecked:!1!==e.isTimeLabelVisible},S++),e.IDTerm&&!function(){let t,i=e.IDBubble.gridCountNonmiss,a=i.length,n=!0;for(t=0;t<a&&n;t++)n=1===i[t];return n}()&&(i=e.scale[t.ROLE_X],a=e.scale[t.ROLE_Y],r.isGeodesic(i)||r.isGeodesic(a)||(e.columns.getColumn(t.ROLE_X).dataLevel===t.LEVEL_CONTINUOUS&&(h[g]={id:l.ID_MENU_X_SUM,label:l.MENU_X_SUM,type:JMP.MenuStatic.MENU_CHECK,isChecked:!e.isXMean},g++),e.columns.getColumn(t.ROLE_Y).dataLevel===t.LEVEL_CONTINUOUS&&(h[g]={id:l.ID_MENU_Y_SUM,label:l.MENU_Y_SUM,type:JMP.MenuStatic.MENU_CHECK,isChecked:!e.isYMean},g++)),e.colorTerm&&e.colorTerm.inputVariables[0].dataLevel===t.LEVEL_CONTINUOUS&&(h[g]={id:l.ID_MENU_COLOR_SUM,label:l.MENU_COLOR_SUM,type:JMP.MenuStatic.MENU_CHECK,isChecked:!e.isColorMean},g++),h[g]={id:l.ID_MENU_SIZE_SUM,label:l.MENU_SIZE_SUM,type:JMP.MenuStatic.MENU_CHECK,isChecked:!e.isSizeMean},m[S]={id:l.ID_MENU_AGGREGATE,label:l.MENU_AGGREGATE,type:JMP.MenuStatic.MENU_ITEM,menuItems:h},S++),o=e.columns.rowStates,o){for(d=o.hidden,c=o.selected,s=e.columns.getColumn(t.ROLE_X).data.length,u=0!==o.nSelectedIndices,n=0;n<s&&u;n++)d[n]||c[n]||(u=!1);m[S]={id:l.ID_MENU_SELECT_ALL,label:JMP.SegmentStatic.MENU_SELECT_ALL,isDisabled:u}}return m},l.menuHandler=function(e,t){let i=!1;switch(t){case l.ID_MENU_FILLED:e.isFilled&&!e.isOutlined||(e.isFilled=!0,e.isOutlined=!1,i=!0);break;case l.ID_MENU_OUTLINED:!e.isFilled&&e.isOutlined||(e.isFilled=!1,e.isOutlined=!0,i=!0);break;case l.ID_MENU_FILLED_AND_OUTLINED:e.isFilled&&e.isOutlined||(e.isFilled=!0,e.isOutlined=!0,i=!0);break;case l.ID_MENU_LABEL_ALL:e.whichLabeled!==JMP.ViewStatic.WHICH_ALL&&(e.whichLabeled=JMP.ViewStatic.WHICH_ALL,i=!0);break;case l.ID_MENU_LABEL_SELECTED:e.whichLabeled!==JMP.ViewStatic.WHICH_SELECTED&&(e.whichLabeled=JMP.ViewStatic.WHICH_SELECTED,i=!0);break;case l.ID_MENU_LABEL_NONE:e.whichLabeled!==JMP.ViewStatic.WHICH_NONE&&(e.whichLabeled=JMP.ViewStatic.WHICH_NONE,i=!0);break;case l.ID_MENU_TRAIL_BUBBLES_ALL:e.trailBubbles!==JMP.ViewStatic.WHICH_ALL&&(e.trailBubbles=JMP.ViewStatic.WHICH_ALL,i=!0);break;case l.ID_MENU_TRAIL_BUBBLES_SELECTED:e.trailBubbles!==JMP.ViewStatic.WHICH_SELECTED&&(e.trailBubbles=JMP.ViewStatic.WHICH_SELECTED,i=!0);break;case l.ID_MENU_TRAIL_BUBBLES_NONE:e.trailBubbles!==JMP.ViewStatic.WHICH_NONE&&(e.trailBubbles=JMP.ViewStatic.WHICH_NONE,i=!0);break;case l.ID_MENU_TRAIL_LINES_ALL:e.trailLines!==JMP.ViewStatic.WHICH_ALL&&(e.trailLines=JMP.ViewStatic.WHICH_ALL,i=!0);break;case l.ID_MENU_TRAIL_LINES_SELECTED:e.trailLines!==JMP.ViewStatic.WHICH_SELECTED&&(e.trailLines=JMP.ViewStatic.WHICH_SELECTED,i=!0);break;case l.ID_MENU_TRAIL_LINES_NONE:e.trailLines!==JMP.ViewStatic.WHICH_NONE&&(e.trailLines=JMP.ViewStatic.WHICH_NONE,i=!0);break;case l.ID_MENU_SHOW_TIME_LABEL:e.isTimeLabelVisible=!e.isTimeLabelVisible,i=!0;break;case l.ID_MENU_SELECT_ALL:e.selectAll(),i=!0;break;case l.ID_MENU_X_SUM:e.isXMean=!e.isXMean,e.aggregateChanged(l.ROLE_X_NAME_INDEX);break;case l.ID_MENU_Y_SUM:e.isYMean=!e.isYMean,e.aggregateChanged(l.ROLE_Y_NAME_INDEX);break;case l.ID_MENU_COLOR_SUM:e.isColorMean=!e.isColorMean,e.aggregateChanged(l.ROLE_COLOR_NAME_INDEX);break;case l.ID_MENU_SIZE_SUM:e.isSizeMean=!e.isSizeMean,e.aggregateChanged(l.ROLE_SIZE_NAME_INDEX);break;default:i=!1}i&&e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED)},l.getStoredState=function(t){let i,a={};for(i in e)e.hasOwnProperty(i)&&e[i]!==t[i]&&(a[i]=t[i]);return a},l.applyStoredState=function(e,t){let n,l,s,o,r;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);void 0!==t.sizeScale&&(l='input[type="range"][ownerID="'+e.id+'"][id="1"]',s=document.querySelector(l),s.value=t.sizeScale),void 0!==t.timePos&&(l='input[type="range"][ownerID="'+e.id+'"][id="2"]',o=document.querySelector(l),o.value=t.timePos),void 0!==t.speed&&(l='input[type="range"][ownerID="'+e.id+'"][id="3"]',r=document.querySelector(l),r.value=t.speed),void 0!==t.isXMean&&(i=t.isXMean),void 0!==t.isYMean&&(a=t.isYMean)},l.initializeTerms=function(e,t,i,a,n){let l,s,o,r,c,d,u,h=1;if(e.IDTerm&&(e.NID=Math.max(e.IDTerm.getNLevels(),1),e.IDModulus=e.NID,e.IDSelectedCount.length=e.NID,e.IDSelectedCount.fill(0)),e.ID2Term&&(c=e.ID2Term.getNLevels(),c>e.IDModulus&&(e.IDModulus=c),e.ID2SelectedCount.length=c,e.ID2SelectedCount.fill(0)),e.timeMin=1,e.timeTerm?(e.NTime=e.timeTerm.getNLevels(),e.timeMax=e.NTime,e.xTrail.length=e.NTime+3,e.yTrail.length=e.NTime+3):(e.NTime=1,e.timeMax=1),e.NRow=t.length,r=e.NRow,e.IDTerm&&e.columns.rowStates)for(u=e.columns.rowStates.selectedIndices,r=e.columns.rowStates.nSelectedIndices,l=0;l<r;l++)o=u[l],n&&(h=n[o],(!h||h<0)&&(h=0)),s=e.IDTerm.getScore(o),s>=0&&(e.IDSelectedCount[s]+=h),e.ID2Term&&(s=e.ID2Term.getScore(o),s>=0&&(e.ID2SelectedCount[s]+=h));if(e.timeTerm){for(r=e.NTime,e.gridTimeCount.length=r,e.gridTimeCount.fill(0),e.gridTimePos.length=r,r=e.NRow,e.gridTimeRow.length=r,l=0;l<r;l++)s=e.timeTerm.getScore(l),s>=0&&e.gridTimeCount[s]++;for(d=0,r=e.NTime,l=0;l<r;l++)e.gridTimePos[l]=d,d+=e.gridTimeCount[l],e.gridTimeCount[l]=0;for(r=e.NRow,l=0;l<r;l++)s=e.timeTerm.getScore(l),s>=0&&(d=e.gridTimePos[s]+e.gridTimeCount[s],e.gridTimeRow[d]=l,e.gridTimeCount[s]++)}else if(e.IDTerm)for(r=e.NRow,e.gridTimeCount.length=1,e.gridTimePos.length=1,e.gridTimeCount[0]=r,e.gridTimePos[0]=0,l=0;l<r;l++)e.gridTimeRow[l]=l;(e.IDTerm||e.timeTerm)&&(e.IDBubble=new JMP.BubbleGroup(e,e.IDTerm,null,0),e.IDBubble.setupGrid(e.gridTimeCount,e.gridTimePos,!1,n),e.resetGridExtents(),e.IDBubble.fillGrid(t,i,a,n))},l.play=function(e){let t=e.timePos;t+=e.timeStep,t>e.NTime+2+.5&&(t=1),e.timePos=t,e.timeSlider.value=t,e.timeSlider.style.setProperty("--value",Math.round(100*(e.timeSlider.value-e.timeSlider.min)/(e.timeSlider.max-e.timeSlider.min))+"%"),e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),e.timePos<e.NTime&&JMP.TooltipStatic.updateSliderTooltip(e.timeSlider,e.timeLabels[e.timePos-1>>0])},l.initializeControls=function(e){let i,a,n,s,o,r,c,d,u,h,g,S,m,f=null,T=null,p=null,E=null,b=null,A=null,_=null,L=JMP.TooltipStatic.addTooltipListener,I=function(t){let i;"pointerup"!==t.type&&"click"!==t.type||(JMP.TooltipStatic.hidePinnedTips(e.canvas),e.isPlaying&&(e.isPlaying=!1,g.src=JMP.ViewStatic.getPlayIcon(),JMP.TooltipStatic.notifyTooltip(_,t,[JMP.BubblePlotSegmentStatic.TIP_START_ANIMATION])),e.timePos++,e.timePos>e.NTime?e.timePos=1:e.timePos=e.timePos>>0,e.timeSlider.value=e.timePos,e.timeSlider.style.setProperty("--value",Math.round(100*(e.timeSlider.value-e.timeSlider.min)/(e.timeSlider.max-e.timeSlider.min))+"%"),i=document.createEvent("Event"),i.initEvent("change",!0,!1),JMP.TooltipStatic.updateSliderTooltip(e.timeSlider,e.timeLabels[e.timePos-1>>0],i),e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED))},M=function(t){let i;"pointerup"!==t.type&&"click"!==t.type||(JMP.TooltipStatic.hidePinnedTips(e.canvas),e.isPlaying&&(e.isPlaying=!1,g.src=JMP.ViewStatic.getPlayIcon(),JMP.TooltipStatic.notifyTooltip(_,t,[JMP.BubblePlotSegmentStatic.TIP_START_ANIMATION])),e.timePos--,e.timePos<1?e.timePos=e.NTime:e.timePos=e.timePos>>0,e.timeSlider.value=e.timePos,e.timeSlider.style.setProperty("--value",Math.round(100*(e.timeSlider.value-e.timeSlider.min)/(e.timeSlider.max-e.timeSlider.min))+"%"),i=document.createEvent("Event"),i.initEvent("change",!0,!1),JMP.TooltipStatic.updateSliderTooltip(e.timeSlider,e.timeLabels[e.timePos-1>>0],i),e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED))},y=function(t){"pointerup"!==t.type&&"click"!==t.type||(e.isPlaying?(e.isPlaying=!1,g.src=JMP.ViewStatic.getPlayIcon(),JMP.TooltipStatic.notifyTooltip(_,t,[JMP.BubblePlotSegmentStatic.TIP_START_ANIMATION])):(JMP.TooltipStatic.hidePinnedTips(e.canvas),e.isPlaying=!0,g.src=JMP.ViewStatic.getPauseIcon(),JMP.TooltipStatic.notifyTooltip(_,t,[JMP.BubblePlotSegmentStatic.TIP_PAUSE_ANIMATION]),e.play()))},C=function(e,t){JMP.EventFacadeStatic.addEventListener(e,t,void 0,!0)};for(s=document.getElementsByTagName("input"),a=s.length,i=0;i<a;i++)if(o=s[i],o.hasAttribute("type")&&"range"===o.getAttribute("type")&&o.hasAttribute("ownerID")&&+o.getAttribute("ownerID")===e.id&&o.hasAttribute("id"))switch(r=+o.getAttribute("id"),r){case 1:f=o;break;case 2:e.timeSlider=o;break;case 3:T=o}for(f&&(p=function(t){let i;N(t.type)&&("pointerdown"===t.type&&(i=f.getBoundingClientRect(),f.value=f.max*(t.clientX-i.left)/(i.right-i.left)),e.sizeScale=+f.value,f.style.setProperty("--value",Math.round(100*(f.value-f.min)/(f.max-f.min))+"%"),e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),JMP.TooltipStatic.updateSliderTooltip(f,(100*f.value/f.max>>0)+"%",t))},JMP.EventFacadeStatic.addEventListener(f,p),L(f,[(100*f.value/f.max>>0)+"%"],void 0,JMP.TooltipStatic.getSliderTooltipPosition),f.style.width="100%",f.parentNode.parentNode.parentNode.parentNode.style.width="100%",o=f.parentNode.parentNode,o.style.width="100%",o=o.previousSibling.firstChild,o.hasAttribute("fixedWidth")&&(o.style.width=o.getAttribute("fixedWidth")),L(o,[l.TIP_SIZE_SLIDER]),o=o.firstChild,c=o.textContent.slice(0,-1)+JMP.ViewStatic.COLON,o.textContent=c),e.timeSlider&&e.timeSlider.addEventListener&&(b=function(t){let i;if(N(t.type)){let a=e.timeSlider;"pointerdown"===t.type&&(JMP.TooltipStatic.hidePinnedTips(e.canvas),i=a.getBoundingClientRect(),a.value=a.max*(t.clientX-i.left)/(i.right-i.left)),e.timePos=+a.value,a.style.setProperty("--value",Math.round(100*(a.value-a.min)/(a.max-a.min))+"%"),e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),JMP.TooltipStatic.updateSliderTooltip(a,e.timeLabels[e.timePos-1>>0],t)}},JMP.EventFacadeStatic.addEventListener(e.timeSlider,b),e.timeLabels&&L(e.timeSlider,[e.timeLabels[e.timePos-1>>0]],!0,JMP.TooltipStatic.getSliderTooltipPosition),e.timeSlider.style.width="100%",o=e.timeSlider.parentNode.parentNode,o.style.width="100%",o=o.previousSibling.firstChild,o.hasAttribute("fixedWidth")&&(o.style.width=o.getAttribute("fixedWidth")),L(o,[JMP.BubblePlotSegmentStatic.TIP_TIME_SLIDER]),o=o.firstChild,c=o.textContent.slice(0,-1)+JMP.ViewStatic.COLON,o.textContent=c),T&&(E=function(t){let i;N(t.type)&&("pointerdown"===t.type&&(i=T.getBoundingClientRect(),T.value=T.max*(t.clientX-i.left)/(i.right-i.left)),e.speed=+T.value,T.style.setProperty("--value",Math.round(100*(T.value-T.min)/(T.max-T.min))+"%"),e.timeStep=x(e,e.speed),JMP.TooltipStatic.updateSliderTooltip(T,(100*e.speed/T.max>>0)+"%",t))},JMP.EventFacadeStatic.addEventListener(T,E),void 0===e.speed&&(e.speed=+T.value),e.timeStep=x(e,e.speed),L(T,[(100*e.speed/T.max>>0)+"%"],void 0,JMP.TooltipStatic.getSliderTooltipPosition),T.style.width="100%",T.parentNode.parentNode.style.width="100%",o=T.parentNode.parentNode,o.style.width="100%",o=o.previousSibling.firstChild,o.hasAttribute("fixedWidth")&&(o.style.width=o.getAttribute("fixedWidth")),L(o,[JMP.BubblePlotSegmentStatic.TIP_SPEED_SLIDER]),o=o.firstChild,c=o.textContent.slice(0,-1)+JMP.ViewStatic.COLON,o.textContent=c),d=document.getElementsByTagName("button"),a=d.length,i=0;i<a;i++)if(o=d[i],o.hasAttribute("ownerID")&&+o.getAttribute("ownerID")===e.id&&o.hasAttribute("id"))switch(u=+o.getAttribute("id"),u){case l.ID_BACK_BUTTON:o.className+=" spaceLeft",A=o,A.classList.add("minPadding"),o=o.parentNode,o.className=o.className.replace("layoutCell","layoutCellMiddle");const t=document.createElement("IMG");t.classList.add("svgImageIncrement","buttonImage"),t.src=JMP.ViewStatic.getPreviousIcon(),JMP.DocumentStatic.themeChangeEventDispatcher.addEventListener((()=>{t.src=JMP.ViewStatic.getPreviousIcon()})),A.appendChild(t),L(A,[JMP.BubblePlotSegmentStatic.TIP_BACKWARD_ANIMATION]),JMP.EventFacadeStatic.addEventListener(A,JMP.ControlStatic.buttonListener);break;case l.ID_PLAY_BUTTON:let i;o.className+=" spaceLeft",_=o,o=o.parentNode,o.className=o.className.replace("layoutCell","layoutCellMiddle"),g=document.createElement("IMG"),e.isPlaying?(g.src=JMP.ViewStatic.getPauseIcon(),i=JMP.BubblePlotSegmentStatic.TIP_PAUSE_ANIMATION,JMP.TooltipStatic.hidePinnedTips(e.canvas),e.play()):(g.src=JMP.ViewStatic.getPlayIcon(),i=JMP.BubblePlotSegmentStatic.TIP_START_ANIMATION),JMP.DocumentStatic.themeChangeEventDispatcher.addEventListener((()=>{e.isPlaying?g.src=JMP.ViewStatic.getPauseIcon():g.src=JMP.ViewStatic.getPlayIcon()})),g.classList.add("svgImagePlayPause","buttonImage"),_.appendChild(g),L(_,[i]),JMP.EventFacadeStatic.addEventListener(_,JMP.ControlStatic.buttonListener);break;case l.ID_STEP_BUTTON:o.className+=" spaceLeft",h=o,h.classList.add("minPadding"),o=o.parentNode.parentNode,o.className=o.className.replace("layoutCell","layoutCellMiddle");const a=document.createElement("IMG");a.classList.add("svgImageIncrement","buttonImage"),a.src=JMP.ViewStatic.getNextIcon(),JMP.DocumentStatic.themeChangeEventDispatcher.addEventListener((()=>{a.src=JMP.ViewStatic.getNextIcon()})),h.appendChild(a),L(h,[JMP.BubblePlotSegmentStatic.TIP_FORWARD_ANIMATION]),JMP.EventFacadeStatic.addEventListener(h,JMP.ControlStatic.buttonListener);break;case l.ID_RECORD_BUTTON:case l.ID_SAVE_BUTTON:o.className="concealed";break;case l.ID_SPLIT_BUTTON:o.className=o.className.replace("square","buttonText spaceLeft"),e.splitButton=o,o=o.parentNode,o.className=o.className.replace("layoutCell","layoutCellMiddle"),L(e.splitButton,[l.TIP_SPLIT]),JMP.EventFacadeStatic.addEventListener(e.splitButton,JMP.ControlStatic.buttonListener);break;case l.ID_COMBINE_BUTTON:o.className=o.className.replace("square","buttonText spaceLeft"),e.combineButton=o,o=o.parentNode,o.className=o.className.replace("layoutCell","layoutCellMiddle"),L(e.combineButton,[l.TIP_COMBINE]),JMP.EventFacadeStatic.addEventListener(e.combineButton,JMP.ControlStatic.buttonListener)}A&&C(A,M),_&&C(_,y),h&&C(h,I),e.splitButton&&e.splitButton.addEventListener("click",(function(){JMP.TooltipStatic.hidePinnedTips(e.canvas),e.animateSplit()}),!1),e.combineButton&&e.combineButton.addEventListener("click",(function(){JMP.BubbleGroupStatic.canCombine(e.IDBubble,!1)&&(JMP.TooltipStatic.hidePinnedTips(e.canvas),e.animateCombine())}),!1),e.IDBubble&&(n=e.timePos-1>>0,n<0?n=0:n>=e.NTime&&(n=e.NTime-1),m=e.columns.getColumn(t.ROLE_FREQ),m&&(S=m.data),JMP.BubbleGroupStatic.checkSelected(e.IDBubble,n,S)),l.updateUI(e)},l.onPointerEvent=function(e,t){let i={},a=!1,n=function(){let i=e.getOffset();return{x:t.clientX+window.pageXOffset-i.x,y:t.clientY+window.pageYOffset-i.y}},l=function(t){e.timeLabelOffset.x=t.x+e.dragOffset.x,e.timeLabelOffset.y=t.y+e.dragOffset.y};switch(t.type){case"pointerdown":i=n(),JMP.ViewStatic.pointInRect(i,e.timeLabelBounds)&&(e.dragOffset.x=e.timeLabelOffset.x-i.x,e.dragOffset.y=e.timeLabelOffset.y-i.y,e.isDragging=!0,document.body.className="cursorHandClosed",JMP.EventFacadeStatic.setPreventDefault(e.canvas,e.onPointerEvent,!0),a=!0,e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED));break;case"pointermove":case"pointerover":i=n(),e.isDragging?(l(i),document.body.className="cursorHandClosed",e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED)):JMP.ViewStatic.pointInRect(i,e.timeLabelBounds)&&(document.body.className="cursorHandOpen");break;case"pointerout":case"pointerup":e.isDragging&&(i=n(),l(i),e.isDragging=!1,document.body.className="pointerout"===t.type?"cursorArrow":"cursorHandOpen",e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),JMP.EventFacadeStatic.setPreventDefault(e.canvas,e.onPointerEvent,!1))}return a},l.aggregateChanged=function(e,t,i){let a,n,o,c,d=[],u=e.IDBubble;if(!t||!t.isInitialized)return;let{xData:h,yData:g,sizeData:S,freqData:m,xScaling:f,yScaling:T}=t;for(c=0;c<u.NID;c++)u.subBubble[c]&&d.push(c);switch(l.initializeTerms(e,h,g,S,m),d.length>0&&(e.resetGridExtents(),e.split(d),JMP.BubbleGroupStatic.calculateGridExtents(e.IDBubble)),i){case l.ROLE_X_NAME_INDEX:e.roleNames.length>0&&(e.roleNames[i].innerHTML=l.ROLE_X_NAME+(e.isXMean?"":" "+l.ROLE_SUM_SUFFIX)),n=e.xMax-e.xMin,0===n?(a=1,o=e.xMin):(a=n*s,o=e.xMin-a),f.scale.type===r.SCALE_LOG&&o<JMP.SMALL_LOG_VALUE&&(o=Math.max(JMP.SMALL_LOG_VALUE,e.xMin)),n=e.xMax+a-o,f.scale.updateRange(o,n);break;case l.ROLE_Y_NAME_INDEX:e.roleNames.length>0&&(e.roleNames[i].innerHTML=l.ROLE_Y_NAME+(e.isYMean?"":" "+l.ROLE_SUM_SUFFIX)),n=e.yMax-e.yMin,0===n?(a=1,o=e.yMin):(a=n*s,o=e.yMin-a),T.scale.type===r.SCALE_LOG&&o<JMP.SMALL_LOG_VALUE&&(o=Math.max(JMP.SMALL_LOG_VALUE,e.yMin)),n=e.yMax+a-o,T.scale.updateRange(o,n);break;case l.ROLE_COLOR_NAME_INDEX:e.roleNames.length>0&&(e.roleNames[i].innerHTML=l.ROLE_COLOR_NAME+(e.isColorMean?"":" "+l.ROLE_SUM_SUFFIX)),e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED);break;case l.ROLE_SIZE_NAME_INDEX:e.roleNames.length>0&&(e.roleNames[i].innerHTML=l.ROLE_SIZE_NAME+(e.isSizeMean?" "+l.ROLE_MEAN_SUFFIX:"")),e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED)}},l.animateSplit=function(e){let t=function(){if(e.inflate<.7)return e.animateSplitApart(),void(e.inflate=1);e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),e.inflate-=.005+.2*(1-e.inflate),window.requestAnimationFrame(t)};e.inflate=.98,t()},l.animateSplitApart=function(e,t){let i,a,n,l,s,o,c,d,u,h,g,S,m,f,T,p,E,b={},A=JMP.ModelStatic.blend,x=function(){if(e.splitPart>1)return e.splitPart=1,e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),e.combineButton.disabled=!1,e.splitButton.disabled=!0,void(e.splitButton.className=e.splitButton.className.replace("buttonDown","buttonUp"));T=e.splitPart,c&&(o=A(i,n,T),s=A(a,l,T),p.scale.updateRange(s,o)),f&&(m=A(d,h,T),S=A(u,g,T),E.scale.updateRange(S,m)),e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),e.splitPart+=.01+.05*(1-e.splitPart),window.requestAnimationFrame(x)};t&&(p=t.xScaling,E=t.yScaling,e.split(),r.isGeodesic(p.scale)||r.isGeodesic(E.scale)?(c=!1,f=!1):(e.isXCategorical?c=!1:(a=p.valueOrigin,i=p.getValueRange(),_(e.xMin,e.xMax,p,b),l=b.origin,n=b.range,c=i>0?l<a||n>i:l>a||n<i),e.isYCategorical?f=!1:(u=E.valueOrigin,d=E.getValueRange(),_(e.yMin,e.yMax,E,b),g=b.origin,h=b.range,f=d>0?g<u||h>d:g>u||h<d)),e.splitPart=0,x())},l.animateCombine=function(e){let t=function(){if(e.splitPart<0)return e.splitPart=1,e.combine(),void e.pulseCombined();e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),e.splitPart-=.01+.06*(1-e.splitPart),window.requestAnimationFrame(t)};e.splitPart=.95,t()},l.shrinkRange=function(e,t){let i,a,n,l,o,c,d,u,h,g,S,m,f,T,p,E,b,A,_=JMP.ModelStatic.blend,x=function(){if(p>=1)return p=1,e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),e.combineButton.disabled=!0,e.combineButton.className=e.combineButton.className.replace("buttonDown","buttonUp"),void(e.splitButton.disabled=!1);p+=.01+.08*(1-p),p>1&&(p=1),d&&(c=_(i,n,p),o=_(a,l,p),b.scale.updateRange(o,c)),T&&(f=_(u,g,p),m=_(h,S,p),A.scale.updateRange(m,f)),e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),window.requestAnimationFrame(x)};if(t){if(b=t.xScaling,A=t.yScaling,r.isGeodesic(b.scale)||r.isGeodesic(A.scale))d=!1,T=!1;else{if(e.isXCategorical)d=!1;else{a=b.valueOrigin,i=b.getValueRange();let t=e.xMax-e.xMin;0!==t&&(E=t*s,l=Math.max(e.xMin-E,a),b.scale.type===r.SCALE_LOG&&l<0&&(l=0),n=Math.min(e.xMax+E,a+i)-l,d=l>a||n<i)}if(e.isYCategorical)T=!1;else{h=A.valueOrigin,u=A.getValueRange();let t=e.yMax-e.yMin;0!==t&&(E=t*s,S=Math.max(e.yMin-E,h),A.scale.type===r.SCALE_LOG&&S<0&&(S=0),g=Math.min(e.yMax+E,h+u)-S,T=S>h||g<u)}}p=d||T?0:1,x()}},l.pulseCombined=function(e){let t=.03,i=function(){if(e.inflate<1)return e.inflate=1,e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),void e.shrinkRange();e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED),e.inflate+=t,e.inflate>1.14&&(t=-t),window.requestAnimationFrame(i)};e.inflate=1.03,i()},l.onRowStatesEvent=function(e,t,i){if(i.type===n.EVENT_HIDDEN)(e.IDTerm||e.timeTerm)&&function(e,t){let i,a=[],n=e.IDBubble,{xData:s,yData:o,sizeData:r,freqData:c}=t;for(i=0;i<n.NID;i++)n.subBubble[i]&&a.push(i);l.initializeTerms(e,s,o,r,c),a.length>0&&e.split(a)}(e,t)},l}(),JMP.BubblePlotSegment=function(e){"use strict";let i,a=new d(e),n=function(){return!i&&a.scale[t.ROLE_X]&&a.scale[t.ROLE_Y]&&(i={isInitialized:!1},JMP.BubblePlotSegmentStatic.getCache(a,i)),i};return a.id=-1,a.colorTerm=void 0,a.IDTerm=void 0,a.ID2Term=void 0,a.timeTerm=void 0,a.NTime=1,a.timePos=0,a.timeMin=1,a.timeMax=1,a.NID=0,a.NIDModulus=1,a.gridTimeCount=[],a.gridTimePos=[],a.gridTimeRow=[],a.gridRow=[],a.gridRowTemp=[],a.IDSelectedCount=[],a.ID2SelectedCount=[],a.IDBubble=void 0,a.sizeMin=0,a.sizeMax=0,a.sizeScale=1,a.timeLabels=void 0,a.timeLabelXOffset=void 0,a.timeLabelYOffset=void 0,a.isTimeLabelVisible=void 0,a.timeLabelOffset={x:0,y:0},a.timeLabelBounds={x:0,y:0,width:-1,height:-1},a.isDragging=!1,a.dragOffset={x:0,y:0},a.xOffset=void 0,a.yOffset=void 0,a.isFilled=!0,a.isOutlined=!1,a.isXMean=!0,a.isYMean=!0,a.isSizeMean=!0,a.isColorMean=!0,a.isSelectableAcrossGaps=!1,a.whichLabeled=JMP.ViewStatic.WHICH_SELECTED,a.trailBubbles=JMP.ViewStatic.WHICH_NONE,a.trailLines=JMP.ViewStatic.WHICH_NONE,a.xTrail=[],a.yTrail=[],a.lineWidthScale=1,a.timeSlider=void 0,a.isPlaying=!1,a.timeStep=.1,a.speed=void 0,a.delay=1,a.splitBubbles=void 0,a.splitButton=void 0,a.combineButton=void 0,a.roleNames=[],a.isRoleDirty=!1,a.xMin=0,a.xMax=0,a.yMin=0,a.yMax=0,a.splitPart=1,a.inflate=1,a.isXCategorical=!1,a.isYCategorical=!1,a.rowColors=void 0,a.rowValues=void 0,a.colorLevels=void 0,a.colorCharValues=void 0,a.colorMin=0,a.colorMax=0,a.labelFontSize=JMP.LARGE_FONT_SIZE,a.labelFontFamily=JMP.FONT,a.draw=function(){JMP.BubblePlotSegmentStatic.draw(a,n())},a.aggregateChanged=function(e){JMP.BubblePlotSegmentStatic.aggregateChanged(a,n(),e)},a.play=function(){setTimeout((function(){window.requestAnimationFrame(a.play),a.isPlaying&&JMP.BubblePlotSegmentStatic.play(a)}),20*a.delay)},a.select=function(e,t){JMP.BubblePlotSegmentStatic.select(a,n(),e,t),JMP.BubblePlotSegmentStatic.updateUI(a)},a.selectAll=function(){i=n(),i&&i.rowStates&&i.rowStates.selectAll(),JMP.BubblePlotSegmentStatic.updateUI(a)},a.getTooltip=function(e,t){return a.isPlaying?null:JMP.BubblePlotSegmentStatic.getTooltip(a,n(),{x:e,y:t})},a.getPriority=function(e){return a.isPlaying?null:JMP.BubblePlotSegmentStatic.getPriority(a,n(),e)},a.getPreferredRange=function(e){return JMP.BubblePlotSegmentStatic.getPreferredRange(a,n(),e)},a.animateSplit=function(){JMP.BubblePlotSegmentStatic.animateSplit(a)},a.animateSplitApart=function(){JMP.BubblePlotSegmentStatic.animateSplitApart(a,n())},a.animateCombine=function(){JMP.BubblePlotSegmentStatic.animateCombine(a)},a.shrinkRange=function(){JMP.BubblePlotSegmentStatic.shrinkRange(a,n())},a.pulseCombined=function(){JMP.BubblePlotSegmentStatic.pulseCombined(a)},a.resetGridExtents=function(){a.xMin=Number.MAX_VALUE,a.yMin=Number.MAX_VALUE,a.xMax=-Number.MAX_VALUE,a.yMax=-Number.MAX_VALUE},a.split=function(e){let t,n;if(!i||!i.isInitialized)return;let{xData:l,yData:s,sizeData:o,freqData:r}=i;if(e)if(n=e.length,n===a.NID)JMP.BubbleGroupStatic.split(a.IDBubble,!0,void 0,l,s,o,r);else for(t=0;t<n;t++)JMP.BubbleGroupStatic.split(a.IDBubble,!1,e[t],l,s,o,r);else JMP.BubbleGroupStatic.split(a.IDBubble,!1,void 0,l,s,o,r)},a.combine=function(e){let t,i;if(e)if(i=e.length,i===a.NID)JMP.BubbleGroupStatic.combine(a.IDBubble,!0);else for(t=0;t<i;t++)JMP.BubbleGroupStatic.combine(a.IDBubble,!1,e[t]);else JMP.BubbleGroupStatic.combine(a.IDBubble,!1);a.resetGridExtents(),JMP.BubbleGroupStatic.calculateGridExtents(a.IDBubble)},a.menuProvider=function(){return JMP.BubblePlotSegmentStatic.menuProvider(a)},a.menuHandler=function(e){i=n(),i&&i.isInitialized&&JMP.BubblePlotSegmentStatic.menuHandler(a,e)},a.getStoredState=function(){return JMP.BubblePlotSegmentStatic.getStoredState(a)},a.applyStoredState=function(e){return JMP.BubblePlotSegmentStatic.applyStoredState(a,e)},a.onRowStatesEvent=function(e){JMP.SegmentStatic.onRowStatesEvent(a,e),JMP.BubblePlotSegmentStatic.onRowStatesEvent(a,n(),e)},a.onPointerEvent=function(e){return JMP.BubblePlotSegmentStatic.onPointerEvent(a,e)},JMP.EventFacadeStatic.addEventListener(e,a.onPointerEvent),a};class g extends d{rowStates=void 0;nr=0;nc=0;yAxisOrigin;yAxisWidth;hasFrames=!1;colorTheme;posToRow;values;scaledValues;numCats;catColors;catNames;colTitles=void 0;rowTitles=void 0;#x;constructor(e){super(e),this.setScalable(JMP.SegmentStatic.SCALABLE_NONE),this.onPointerEvent=this.onPointerEvent.bind(this),JMP.EventFacadeStatic.addEventListener(e,this.onPointerEvent)}draw(){let{g:e,nr:t,rowStates:i}=this;const a=this.#N();let{cellHeight:n,iFirst:l,iLast:s}=a;JMP.ViewStatic.reset(e),e.save(),e.rect(this.x,this.y,this.width+1,this.height+1),e.clip();let o={x:this.x,y:this.y,width:this.width,height:n},r=0;const c=this.isHiddenUsed&&i?i.hidden:void 0;if(a.yScaling){let e=s-l+1;for(let t=l;r<e;t++)this.#C(t,o),r++,o.y>=o.bottom||(o.height=o.bottom-o.y,this.#R(t,o))}else for(let e=0;e<t;e++)c&&c[e]||(o.y=this.y+r*n,this.#R(e,o),r++);this.hasFrames&&this.#v(r*n),e.restore()}select(e,t){const i=this.rowStates,a=this.#w(e.y),n=this.posToRow[a],l=t.ctrlKey,s=t.metaKey;t.shiftKey?i.select([n],!0):l||s?i.selected[n]&&i.select([n],!1):i.selectOnly([n],!0),this.g.clearRect(this.x,this.y,this.width,this.height),this.draw()}getCellValue(e,t){const i=this.values[e*this.nc+t],a=this.numCats,n=this.#x.catOffsets;let l;return l=null===i?JMP.ModelStatic.TIP_MISSING:0===a[t]?i:this.catNames[n[t]+i-1],l}getTooltipLine(e){const t=this.#x,i=this.#w(e.y),a=this.posToRow[i],n=(e.x-this.x)/t.cellWidth>>0;let l;if(t.labeledColumns.length>0){const e=t.labeledColumns;let i="";for(let t=0;t<e.length;t++){const n=e[t].data[a];i+=e[t].getValueString(n),t<e.length-1&&(i+=", ")}l=i}else l=this.rowTitles?this.rowTitles[a]:`${a+1}`;return`${l} ${this.colTitles[n]??""} ${this.getCellValue(i,n)}`}onPointerEvent(e){const t={x:this.x,y:this.y,width:this.width-1,height:this.#x.adjustedHeight-1};let i=e.pointerTarget;i||(i=e.target);const a=i.getBoundingClientRect(),n={x:e.clientX-a.left,y:e.clientY-a.top};return JMP.ViewStatic.pointInRect(n,t)&&("pointerdown"===e.type?this.select(n,e):"pointermove"===e.type&&JMP.TooltipStatic.notifyTooltip(i,e,[this.getTooltipLine(n)])),!1}onRowStatesEvent(e){e.type===n.EVENT_SELECTED?(this.g.clearRect(this.x,this.y,this.width+1,this.height),this.draw()):e.type===n.EVENT_HIDDEN&&this.isHiddenUsed&&(this.#O(),this.g.clearRect(this.x,this.y,this.width+1,this.height),this.draw())}#O(){const e=this.rowStates?this.rowStates.hidden.reduce(((e,t)=>e+(!0===t)),0):0;this.#x.numHidden=e,this.#x.adjustedHeight=(this.nr-e)*this.#x.cellHeight}#N(){if(!this.#x){this.#x={};let{width:e,height:t,nc:i,nr:a,numCats:n,yAxisOrigin:l,yAxisWidth:s,rowTitles:o}=this;const c=this.#x;if(c.labeledColumns=this.columns.getLabeledColumns(),void 0!==l){c.yScaling=JMP.Scaling(new r(l,s),this.y+t-.5>>0,1-t);let e=a-JMP.ScalingStatic.pixelToValue(c.yScaling,this.y)-2>>0,i=a-JMP.ScalingStatic.pixelToValue(c.yScaling,this.y+t)+4>>0;e<0&&(e=0),i>=a&&(i=a-1),c.iFirst=e,c.iLast=i,c.cellHeight=-c.yScaling.pixelPerValueScale}else c.cellHeight=t/a;this.isHiddenUsed=!o,this.isHiddenUsed?this.#O():(c.numHidden=0,c.adjustedHeight=t),c.cellWidth=e/i,c.catOffsets=[0];let d=0;for(let e=1;e<i;e++)d+=n[e-1],c.catOffsets[e]=d;this.rowStates?.addEventListener(this.onRowStatesEvent,this)}return this.#x}#C(e,t){let i=JMP.ScalingStatic.valueToPixel(this.#x.yScaling,this.nr-e-.5),a=JMP.ScalingStatic.valueToPixel(this.#x.yScaling,this.nr-e+.5);a<this.y&&(a=this.y);const n=this.y+this.height;i>n&&(i=n),t.y=a,t.bottom=i}#P(e){let{nr:t,rowStates:i}=this;const a=this.#x;let n=0;if(this.isHiddenUsed&&i&&i.isAnyHidden()){let l=Math.min(t-1,(e-this.y)/a.cellHeight>>0);const s=i.hidden;let o=0;for(let e=0;e<t&&(s[e]&&o++,e-o!==l);e++);n=l+o}else n=(e-this.y)/a.cellHeight>>0;return n}#w(e){const t=this.#x;return t.yScaling?this.nr-(JMP.ScalingStatic.pixelToValue(t.yScaling,e)-.5)>>0:this.#P(e)}#D(e,t,i,a,n){const l=this.g;l.fillStyle=e,l.fillRect(t,i,a,n)}#F(e,t,i,a){const n=this.g;n.beginPath(),n.moveTo(e,t),n.lineTo(i,a),n.moveTo(i,t),n.lineTo(e,a),n.stroke()}#B(e,t,i){const a=this.g;a.beginPath(),a.moveTo(e,t),a.lineTo(e,i),a.stroke()}#R(e,t){let{nc:i,scaledValues:a,numCats:n,colorTheme:l,posToRow:s,rowStates:o}=this;const r=this.#x;let{cellWidth:d,cellHeight:u,catOffsets:h}=r;const g=d>8;let S,m=t.x,f=t.width,T=t.y,p=T+t.height;for(let r=0;r<i;r++){m=t.x+r*d,f=m+d;const E=a[e*i+r];null===E?this.#F(m,T,f,p):(S=0===n[r]?c.rgbToHexString(l.getColor(E)):this.catColors[h[r]+E],this.#D(S,m,T,d,u));const b=s[e];let A=o?.selected[b];A&&((d>1||0===r)&&this.#B(m,T,p),g&&this.#B(f,T,p))}}#v(e){let{g:t,nc:i,x:a,y:n,width:l}=this;const s=this.#x.cellWidth;a=.5+(a>>0),n=.5+(n>>0);const o=n+e-1;t.beginPath();for(let e=0;e<=i;e++){let i=.5+(a+s*e>>0);t.moveTo(i,n),t.lineTo(i,o)}t.moveTo(a,n),t.lineTo(a+l,n),t.moveTo(a,o),t.lineTo(a+l,o),t.stroke()}}class S extends d{areLabelsShown=!1;isFilled=!1;lineWidth=1;fillColors=[];lineColors=[];alpha=[];pathLengths=void 0;pathXValues=void 0;pathYValues=void 0;pathPointTypes=void 0;labelDrawInfo=[];#V=JMP.COLOR_BLACK;#x;constructor(e){super(e),this.setScalable(JMP.SegmentStatic.SCALABLE_NONE)}draw(){let{g:e,pathXValues:t,pathYValues:i,pathPointTypes:a,fillColors:n,lineColors:l,alpha:s,isFilled:o,lineWidth:r}=this,c=this.#N(),{xScaling:d,yScaling:u,nPaths:h,offsets:g,labelInfoMap:S}=c;JMP.ViewStatic.reset(e);let m=e.globalAlpha;e.globalAlpha=.2;let f=0;const T=JMP.GPathStatic.drawPath;e.lineWidth=r;for(let r=0;r<h;r++){o?e.fillStyle=n[r]:e.strokeStyle=l?l[r]:n[r],s&&(e.globalAlpha=s[r]);let c=g[r];T(e,f,c,t,i,a,d,u,o,!o),f=c}this.#k(S),e.globalAlpha=m}#k(e){let{g:t}=this;t.font=JMP.TEXT_FONT_SIZE+"px"+JMP.FONT,t.fillStyle=this.#V;for(let[i,a]of e)t.fillText(a,i.x,i.y)}#N(){this.#x||(this.#x={});let e=this.scale[t.ROLE_X],i=this.scale[t.ROLE_Y];this.#x.xScaling=JMP.Scaling(e,this.x+.5>>0,this.width-1,!0),this.#x.yScaling=JMP.Scaling(i,this.y+this.height-.5>>0,1-this.height,!0);let a=[];const n=this.pathLengths,l=n.length;let s=0;for(let e=0;e<l;e++)s+=n[e],a[e]=s;return this.#x.nPaths=l,this.#x.offsets=a,this.#x.labelInfoMap=this.#G(),this.#x}#G(){let{isFilled:e,fillColors:t,labelDrawInfo:i}=this,a=new Map;e&&t.includes(JMP.COLOR_BLACK)&&(this.#V=JMP.COLOR_WHITE);for(let e=0;e<i.length;e++){let t=i[e].split(" : "),n=t[1],l={x:0,y:0},s=t[0].split(",");l.xi=+s[0],l.yi=+s[1];let o={x:l.xi,y:l.yi};a.set(o,n)}return a}}JMP.DataFilterStatic=function(){"use strict";let e={},i=function(e,t,i,a,n,l,s){let o,r,c,d;if(o=e.data[s],n?!e.isContinuous():e.isContinuous()){i.length<4&&(i.push(0),i.push(0));let e=i[0],t=i[1],n=1===i[2],s=1===i[3];if(null!==o)if(o=+o,e===t)r=l?e!==o:e===o;else{let i=Math.min(e,t),a=Math.max(e,t);if(l){let i=Math.min(e,t),a=Math.max(e,t);r=a<o||o<i,!r&&n&&(r=i===o),!r&&s&&(r=a===o)}else r=i<o&&o<a,r||n||(r=i===o),r||s||(r=a===o)}else r=l?!a:a}else for(c=i.length,r=!1,d=0;d<c&&!r;d++)r=o===t[i[d]];return r},a=function(e,t){t?(e.groupedValues=JMP.ModelStatic.copyNestedArray(e.backupGroupedValues),e.conditionalHierarchy=JMP.ModelStatic.copyNestedArray(e.backupConditionalHierarchy)):(e.backupGroupedValues=JMP.ModelStatic.copyNestedArray(e.groupedValues),e.backupConditionalHierarchy=JMP.ModelStatic.copyNestedArray(e.conditionalHierarchy))},l=function(e,t,i,a){let n,l,s=!0,o=a.length;for(n=0;n<o&&s;n++)l=a[n],l.className.includes("revealed")&&(s=l.firstChild.firstChild.firstChild.checked);e.allNodes[t]&&e.allNodes[t][i]&&(e.allNodes[t][i].checked=s)},s=function(e,t,i,a,n){if(t.isContinuous()){let t=i[a][n][0],l=i[a][n][1];e.groupedValues[a][n]=[t,l,0,0],JMP.MultiRangeStatic.setValues(e.sliderNodes[a][n],t,l,!e.isFilterInverted[a][n]),JMP.DataFilterStatic.formatRangeLabel(e.sliderLabels[a][n],e.sliderNodes[a][n].format,e.isFilterInverted[a][n],e.groupedValues[a][n],t,l)}else{e.groupedValues[a][n]=[];let t=e.tableNodes[a][n].childNodes,i=t.length;for(let l=0;l<i;l++){let i=t[l];i.firstChild.firstChild.firstChild.checked=!0,i.className=i.className.replace("lightBackground","selected"),e.groupedValues[a][n].push(l)}l(e,a,n,t)}},o=function(e,t,i){let a=e.topItem[t][i];if(a>0){a--;const n=CSS.escape(`${t},${i},${a}`);let l=e.topNode?.querySelector(`#${n}`);if(l){l.parentNode.parentNode.scrollTop=l.offsetTop}}};return e.dataFilters=void 0,e.description="",e.descriptionDisabled="",e.MENU_CLEAR="Clear filter",e.AUTO_UPDATE="Auto update",e.TIP_AUTO_UPDATE="Auto update tip",e.UPDATE="Update",e.TIP_UPDATE_BUTTON="Update tip",e.INVERSE="Inverse",e.MENU_SELECT="Select filtered rows in graphs",e.MENU_SHOW="Show filtered rows in graphs",e.MENU_INCLUDE="Include filtered rows in calculations",e.MENU_CONDITIONAL="Conditional Filtering",e.TIP_CONDITIONAL="This number shows the order in which filter conditions are applied",e.LABEL_AND="AND",e.LABEL_OR="OR",e.NUMBER_MATCHING_ROWS="^NUMBEROFROWS matching rows",e.updateMatchingRows=function(t,i){t.matchingRowsText&&(t.nMatchingRows=i,t.matchingRowsText.textContent=e.NUMBER_MATCHING_ROWS.replace("^NUMBEROFROWS",i))},e.formatRangeLabel=function(t,i,a,n,l,s){let o,r,c,d,u="",h=t.nodeValue,g=n[0],S=n[1],m=1===n[2],f=1===n[3],T=function(t,i,a){let n=/[A-DF-Za-df-z]/,l=a,s=a,o=!0;for(;s>=0&&o;)s=t.indexOf(i,l+1),s>=0&&(l=s,o=t.slice(l+1).replace(e.LABEL_OR,"").search(n)>=0);return l},p=function(t,a,n,l,s,o){let r,c=n<t,d=a<l,u=JMP.FormatStatic.formatRange(i,n,t,!1,s),h=JMP.FormatStatic.formatRange(i,a,l,o,!1);return r=c&&d?u+" "+e.LABEL_OR+" "+h:c?u:d?h:"()",r};if(g===S)u=a?p(g,g,l,s,!0,!0):JMP.FormatStatic.formatRange(i,g,g,!1,!1);else{let e=Math.min(g,S),t=Math.max(g,S);u=a?p(e,t,l,s,!m,!f):JMP.FormatStatic.formatRange(i,e,t,m,f)}o=h.lastIndexOf(JMP.ViewStatic.COLON+" "),r=T(h,"[",o),c=T(h,"(",o),o=r>o&&c>o?Math.min(r,c):Math.max(r,c),t.nodeValue=o>=0?h.slice(0,o)+u:h+" "+u,d=JMP.TextBoxStatic.getApproximateWidth(t.nodeValue)+"px",t.parentNode.style.minWidth<d&&(t.parentNode.style.minWidth=d)},e.getValues=function(e,t,i,a){let n,l,s,o=e.columns?e.columns.rowStates:void 0,r=e.isExcludedUsed,c=i||e.rowIndices;if(o&&r&&(n=o.excluded,o.excluded=e.tableRowStates.excluded.concat()),l=JMP.UniqueStatic.getValues([t],o,!0,!0,[c],!1,!1,r)[0][0].concat(),s=l.concat(),a){let e=JMP.FrequencyStatic.getRows([t],[l],o,c,!1,!1,r),i=JMP.FrequencyStatic.getOrderByCount(e);s=[];let a=l.length;for(let e=0;e<a;e++)s[e]=l[i[e]]}return o&&r&&(o.excluded=n),s},e.getCache=function(i,a){let n,l,s,o,r,c,d,u,h,g,S,m=i.groupedValues,f=i.rowIndices;if(n=[[[]]],m&&i.columns)for(c=m.length,u=i.columns.getColumns(t.ROLE_X),l=i.columns.rowStates,r=0,s=0;s<c;s++)for(n[s]=[],d=m[s].length,o=0;o<d;o++){h=u[r],(i.isModelingTypeModified[s][o]?h.isCategorical():!h.isCategorical())?(g=JMP.MomentsStatic.getValue([h],void 0,l,[f],void 0,JMP.MomentsStatic.STAT_MIN,!1,!1,i.isExcludedUsed),S=JMP.MomentsStatic.getValue([h],void 0,l,[f],void 0,JMP.MomentsStatic.STAT_MAX,!1,!1,i.isExcludedUsed),n[s][o]=[g[0][0],S[0][0]]):n[s][o]=e.getValues(i,h,void 0,i.isOrderedByCount[s][o]),r++}a.allValues=n},e.isFiltered=function(e,i){let a,n,l,s,o,r,c,d,u,h=!1,g=e.groupedValues;if(g&&e.columns)for(s=g.length,r=e.columns.getColumns(t.ROLE_X),l=0,a=0;a<s&&!h;a++)for(o=g[a].length,n=0;n<o;n++){if(!h)if(d=g[a][n],u=i.allValues[a][n],c=r[l],c.isContinuous()){let e=d[0],t=d[1],i=1===d[2],a=1===d[3];e<t?(h=u[0]<e||t<u[1],!h&&i&&(h=e===u[0]),!h&&a&&(h=t===u[1])):e>t?(h=u[0]<t||e<u[1],h||i||(h=e===u[0]),h||a||(h=t===u[1])):h=!(!i||!a)||u[0]<u[1]}else h=!e.isNotUsed[a][n];l++}return h},e.getRowIndices=function(e,t,a,n,l,s,o){let r,c,d,u=[],h=e.length,g=o?o.length:e[0].data.length;for(r=0;r<g;r++){c=o?o[r]:r;let g=!0;for(d=0;d<h&&g;d++)g=i(e[d],t[d],a[d],n[d],l[d],s[d],c);g&&u.push(c)}return u},e.getConditionalFilterIndices=function(e,t,i){let a,n=[],l=e.conditionalHierarchy[t],s=-1;if(void 0!==i&&l[i]>0)s=l[i]-1;else for(a=0;a<l.length;a++)s<l[a]&&(s=l[a]);for(;s>=0;){for(a=0;a<l.length;a++)s===l[a]&&n.unshift(a);s--}if(void 0===i)for(a=0;a<l.length;a++)l[a]<0&&n.push(a);return n},e.getConditionalRowIndices=function(t,i,a,n,l){let s,o=t.rowIndices,r=[];if(0!==t.conditionalHierarchy[n][l]&&(r=e.getConditionalFilterIndices(t,n,l),r.length>0)){let l=[],c=[],d=[],u=[],h=[],g=[];for(s=0;s<r.length;s++){let o=r[s];l.push(i[n][o]),c.push(e.getValues(t,i[n][o],void 0,t.isOrderedByCount[n][o])),d.push(a[n][o]),u.push(t.isMissingIncluded[n][o]||t.isNotUsed[n][o]),h.push(t.isModelingTypeModified[n][o]),g.push(t.isFilterInverted[n][o])}o=e.getRowIndices(l,c,d,u,h,g,t.rowIndices)}return o},e.getAllSettings=function(){let t=[];for(let i=0;i<e.dataFilters.length;i++)t.push(e.getSettings(e.dataFilters[i]));return t},e.getSettings=function(i){let a,n,l=0,s=i.groupedValues,o=s.length,r={isExcludeModified:i.isExcludeModified,isHideModified:i.isHideModified};if(i.isInverted&&(r.isInverted=!0),i.columns){let c=[[{}]];n=i.columns.getColumns(t.ROLE_X);for(let t=0;t<o;t++){c[t]=[];let d=s[t].length;for(let u=0;u<d;u++){a=n[l],l++;let h=a.isCategorical();if(c[t][u]={},h)if(i.allNodes[t]&&i.allNodes[t][u]&&i.allNodes[t][u].checked)c[t][u].notFiltered=!0;else{c[t][u].selectedCategories=[];let n=e.getValues(i,a,void 0,i.isOrderedByCount[t][u]),l=s[t][u].length,h=a.isString();if(1===o&&1===d&&0===l)c[t][u].selectedCategories=n.map((function(e){return null===e&&(e=h?"":"."),e})),r.isInverted=!0;else for(let e=0;e<l;e++){let i=n[s[t][u][e]];null===i&&(i=h?"":"."),c[t][u].selectedCategories[e]=i}}else{let e=i.isNotUsed[t][u];c[t][u].isNotUsed=e,e||(c[t][u].selectedRange=s[t][u].concat(),s[t][u][0]>s[t][u][1]&&(c[t][u].selectedRange[0]=s[t][u][1],c[t][u].selectedRange[1]=s[t][u][0]),c[t][u].isMissingIncluded=i.isMissingIncluded[t][u],c[t][u].isFilterInverted=i.isFilterInverted[t][u]),s[t][u][0]===s[t][u][1]&&1===s[t][u][2]&&1===s[t][u][3]&&(r.isInverted=!0)}}}r.groupSettings=c,r.groupedValues=s}return r},e.getFilterColumns=function(e){let i,a=[[]],n=0,l=e.groupedValues,s=l.length;if(e.columns){i=e.columns.getColumns(t.ROLE_X);for(let e=0;e<s;e++){a[e]=[];let t=l[e].length;for(let l=0;l<t;l++)a[e][l]=i[n],n++}}return a},e.showDistribution=function(t,i,a){let n,s,o=[],r=e.getFilterColumns(t),c=r[i][a],d=t.columns?t.columns.rowStates:void 0,u=t.groupedValues,h=t.isExcludedUsed,g=u.length;if(c){if(t.isModelingTypeModified[i][a]?!c.isContinuous():c.isContinuous()){let e=t.rowIndices;t.conditionalHierarchy&&(e=JMP.DataFilterStatic.getConditionalRowIndices(t,r,u,i,a));let l=JMP.MomentsStatic.getValue([c],void 0,void 0,[e],void 0,JMP.MomentsStatic.STAT_MIN,!1,!1,!JMP.ViewStatic.isServerAvailable)[0][0],S=JMP.MomentsStatic.getValue([c],void 0,void 0,[e],void 0,JMP.MomentsStatic.STAT_MAX,!1,!1,!JMP.ViewStatic.isServerAvailable)[0][0],m=u[i][a];t.conditionalHierarchy||(null===l&&(l=Math.min(m[0],m[1])),null===S&&(S=Math.max(m[0],m[1])),l=Math.min(l,Math.min(m[0],m[1])),S=Math.max(S,Math.max(m[0],m[1])));let f=l>=S,T=1;if(!JMP.FormatStatic.isDateTime(c.format)&&!f){T=10**(Math.round(Math.log10(S-l))-2);let e=Math.abs(S-l)/T*1e3*JMP.MAC_EPS;l=Math.floor(l/T+e),S=Math.ceil(S/T-e),T>=1?(l*=T,S*=T):(l/=1/T,S/=1/T)}let p=Math.max(l,m[0]),E=Math.min(S,m[1]);const b=12;let A=c.data,_=Math.round((2*(e?e.length:A.length))**(1/3));_<b&&(_=c.isIntegral()&&_<1+Math.abs(S-l)?Math.min(b,1+Math.ceil(Math.abs(S-l))):b),f&&(l=p-T,S=E+T,_=1),t.sliderNodes[i][a]&&(JMP.MultiRangeStatic.setValues(t.sliderNodes[i][a],p,E,!t.isFilterInverted[i][a],m[2],m[3],l,S,T),JMP.DataFilterStatic.formatRangeLabel(t.sliderLabels[i][a],t.sliderNodes[i][a].format,t.isFilterInverted[i][a],[p,E,m[2],m[3]],l,S)),JMP.ViewStatic.isServerAvailable||(n=d.excluded),o.length=_,o.fill(0);let x=(S-l)/_,L=1e3*x*JMP.MAC_EPS,N=e?e.length:A.length;for(let t=0;t<N;t++){let i=e?e[t]:t,a=A[i];if(null!==a&&l<=a&&a<=S&&(!h||!n||!n[i])){let e=Math.floor((a-l+L)/x);e>_-1&&(e=_-1),o[e]++}}let I=o.concat();N=0;for(let e=0;e<g;e++){s=u[e].length;for(let i=0;i<s;i++)c===r[e][i]&&(t.frequencies[N]=I),r[e][i].isContinuous()&&N++}}else{let n,s,g=e.getValues(t,c,void 0,t.isOrderedByCount[i][a]),S=g.concat(),m=t.rowIndices;t.conditionalHierarchy&&(m=e.getConditionalRowIndices(t,r,u,i,a),S=e.getValues(t,c,m,t.isOrderedByCount[i][a])),d&&h&&(s=d.excluded,d.excluded=t.tableRowStates.excluded.concat()),n=JMP.FrequencyStatic.getRows([c],[S],d,m,!1,!1,h),d&&h&&(d.excluded=s);let f=0;for(let e=0;e<n.length;e++)o[e]=n[e].length,f<o[e]&&(f=o[e]);let T=t.tableNodes[i][a];if(T){let e=g.length;for(let l=0;l<e;l++){let e=T.childNodes[l];if(e){let s=S.indexOf(g[l]);if(s<0||!JMP.ViewStatic.isServerAvailable&&t.isExcludeModified&&t.originalGroupedValues[i][a].indexOf(l)<0)e.className=e.className.replace("revealed","concealed");else if(e.className=e.className.replace("concealed","revealed"),e.childNodes){let i=e.childNodes[2];t.isDisabled||i.setAttribute("nRows",n[s].length),i.firstChild.style.width=(f>0?Math.max(0,40*n[s].length/f-(t.isDisabled?0:1)):0)+"px"}}}l(t,i,a,T.childNodes)}}}},e.applyFilter=function(a,l,s=!1,o=!1){let r,c,d,u,h,g,S,m,f,T,p,{rowIndices:E,groupedValues:b,isGroupAND:A,isSelectModified:_,isHideModified:x,isExcludeModified:L,isServerNeededForHide:N,isServerNeededForAllModes:I,isInverted:M,inverseNode:y,inverseLabelNode:C}=a,R=a.columns?a.columns.rowStates:void 0,v=0;if(R&&b&&a.columns&&!a.isDisabled){S=b.length,p=a.columns.getColumns(t.ROLE_X),g=E?E.length:R.selected.length;let w=a.tableRowStates;for(h=0;h<g;h++){if(r=E?E[h]:h,a.isNotUsed.every((e=>e.every((e=>e)))))f=!0;else for(f=A,u=0,c=0;c<S&&f===A;c++){if(m=b[c].length,a.isNotUsed[c].every((e=>e)))T=A,u+=m;else for(T=!A,d=0;d<m;d++)T!==A&&(T=a.isNotUsed[c][d]?!A:i(p[u],l.allValues[c][d],b[c][d],a.isMissingIncluded&&a.isMissingIncluded[c]&&a.isMissingIncluded[c][d],a.isModelingTypeModified[c][d],a.isFilterInverted[c][d],r)),u++;f=T}M&&(f=!f),f&&v++,f&&y&&(JMP.ControlStatic.enableCustomCheckbox(y),C.classList.remove("disabledText")),_&&(R.selected[r]=f,w.selected[r]=f),x&&(R.hidden[r]=!f),L&&(R.excluded[r]=!f)}if(e.updateMatchingRows(a,v),a.isAutoUpdating||o){let e=w.selected,t=w.hidden,i=w.excluded;for(h=0;h<g;h++)r=E?E[h]:h,e[r]&&(R.selected[r]=!0),t[r]&&(R.hidden[r]=!0),i[r]&&(R.excluded[r]=!0);L?(_&&(R.syncIndices=!0,R.syncSelectedIndices(),w.syncIndices=!0,w.syncSelectedIndices()),s||R.sendEvent(n.EVENT_EXCLUDED,a)):(x&&(R.sendEvent(n.EVENT_HIDDEN,a),N&&!s&&R.sendEvent(n.EVENT_EXCLUDED,this)),_&&(R.syncIndices=!0,R.sendEvent(n.EVENT_SELECTED,a),w.syncIndices=!0,R.sendEvent(n.EVENT_SELECTED,a)),I&&!s&&R.sendEvent(n.EVENT_EXCLUDED,a))}}return v},e.eventHandler=function(i,n,o){let r,c,d,u,h,g,S,m,f,T,p,E,b,A,_=i.pointerTarget,x=i.ctrlKey||i.metaKey,L=!!i.shiftKey,N=function(i,a,n){if(i.conditionalHierarchy){let l=n,r=document.getElementsByClassName("filterTableColumn"),c=i.conditionalHierarchy[a];if(c[l]<0){let e=0;for(let t=0;t<c.length;t++)c[t]>=0&&e++;if(c[l]=e,r[n]){let t=r[n].firstChild.firstChild.firstChild;t.className=t.className.replace("concealed","revealed"),t.firstChild.nodeValue=""+(1+e)}}else for(let e=0;e<c.length;e++)if(c[e]>c[l]&&(c[e]=-1,r[e])){let t=r[e].firstChild.firstChild.firstChild;t.className=t.className.replace("revealed","concealed"),t.firstChild.nodeValue=""}if(i.columns){let a,n=i.groupedValues,r=n.length,d=o?o.allValues:void 0,u=i.columns.getColumns(t.ROLE_X),h=0;for(let t=0;t<r;t++){let o=n[t].length;for(let n=0;n<o;n++)(c[h]<0||c[h]>c[l])&&(a=u[h],s(i,a,d,t,n),e.showDistribution(i,t,h)),h++}}i.draw()}};_||(_=i.target),T=!!_.parentNode.firstChild&&"INPUT"===_.parentNode.firstChild.nodeName,p="TD"===_.nodeName&&!_.previousSibling;let I=_.id?.startsWith("filterAutoUpdateCheck"),M=_.id?.startsWith("filterUpdateButton"),y=_.id?.startsWith("filterInverseCheck");if(I&&"change"===i.type)n.isAutoUpdating=!n.isAutoUpdating,n.updateButton.disabled=n.isAutoUpdating;else if(!M||"pointerup"!==i.type&&"click"!==i.type)if(y&&"change"===i.type)a(n,!1),n.isInverted=!n.isInverted,n.applyFilter();else{for(;"TR"!==_.nodeName&&(!_.id||3===_.id.split(",").length);)_=_.parentNode;if(S=_.id.split(","),r=+S[0],c=+S[1],d=S.length>2?+S[2]:-1,"INPUT"===_.nodeName&&"range"===_.type){if("change"===i.type||"input"===i.type&&!n.isExcludeModified){void 0===_.valueLow&&(_=_.previousSibling),a(n,!1);let e=Math.min(_.valueLow,_.valueHigh),t=Math.max(_.valueLow,_.valueHigh);n.groupedValues[r][c].length<4?n.groupedValues[r][c]=[e,t,0,0]:n.groupedValues[r][c]=[e,t,n.groupedValues[r][c][2],n.groupedValues[r][c][3]],n.isNotUsed[r][c]=!1,N(n,r,c),n.applyFilter()}}else switch(i.type){case"pointerdown":n.prev.x=i.clientX,n.prev.y=i.clientY;break;case"change":case"pointerup":if((!JMP.EventFacadeStatic.isTouch||!p)&&(T&&"change"===i.type||!T&&"pointerup"===i.type&&Math.abs(i.clientX-n.prev.x)<4&&Math.abs(i.clientY-n.prev.y)<4)){if(a(n,!1),d<0){for(f=n.tableNodes[r][c].childNodes,h=f.length,n.groupedValues[r][c].splice(0),g=0;g<h;g++)m=f[g],m.className.includes("revealed")&&(m.firstChild.firstChild.firstChild.checked=!1,m.className=m.className.replace("selected","lightBackground"));if(n.allNodes[r][c].checked)for(g=0;g<h;g++)m=f[g],m.className.includes("revealed")&&(A=+m.id.split(",")[2],n.groupedValues[r][c].push(A),m.firstChild.firstChild.firstChild.checked=!0,m.className=m.className.replace("lightBackground","selected"))}else{if(f=_.parentNode.childNodes,h=f.length,T)for(g=0;g<h;g++)m=f[g],A=+m.id.split(",")[2],A!==d&&(m.firstChild.firstChild.firstChild.checked||(u=n.groupedValues[r]?n.groupedValues[r][c].indexOf(A):-1,u>=0&&(m.className=m.className.replace("selected","lightBackground"),n.groupedValues[r][c].splice(u,1))));else for(g=0;g<h;g++){m=f[g],A=+m.id.split(",")[2];let e=m.firstChild.firstChild.firstChild;A===d?e.checked=!x||!e.checked:(x||(e.checked=!1),u=n.groupedValues[r]?n.groupedValues[r][c].indexOf(A):-1,u>=0&&!x&&(m.className=m.className.replace("selected","lightBackground"),n.groupedValues[r][c].splice(u,1)))}if(u=n.groupedValues[r]?n.groupedValues[r][c].indexOf(d):-1,u<0?(_.className=_.className.replace("lightBackground","selected"),n.groupedValues[r][c].push(d)):(T&&!_.firstChild.firstChild.firstChild.checked||x)&&(_.className=_.className.replace("selected","lightBackground"),n.groupedValues[r][c].splice(u,1)),L)for(n.anchorRow<0&&(n.anchorRow=d),E=Math.min(n.anchorRow,d),b=Math.max(n.anchorRow,d),n.groupedValues[r][c].splice(0),g=0;g<h;g++)m=f[g],A=+m.id.split(",")[2],A<E||b<A?(m.firstChild.firstChild.firstChild.checked=!1,m.className=m.className.replace("selected","lightBackground")):(m.firstChild.firstChild.firstChild.checked=!0,m.className=m.className.replace("lightBackground","selected"),n.groupedValues[r][c].push(A));else n.anchorRow=n.groupedValues[r][c].length>0?d:-1;l(n,r,c,f)}n.isNotUsed[r][c]=!1,N(n,r,c),n.applyFilter()}}}else n.updateButton.disabled||(a(n,!1),n.applyFilter(!1,!0))},e.adjustScrolling=function(e){if(e.columns){const t=e.groupedValues,i=t.length;for(let a=0;a<i;a++){const i=t[a].length;for(let t=0;t<i;t++)o(e,a,t)}}},e.undo=function(e){a(e,!0),e.applyFilter(!1,!0)},e.menuProvider=function(t){let i,a=t.isDisabled,n=t.isInvertable,l=!t.isGroupAND&&1===t.groupedValues.length&&t.groupedValues[0].length>1;return JMP.ViewStatic.isServerAvailable||(t.isSelectModified=!t.isHideModified),i=[],l&&i.push({id:"dataFilterConditional",label:e.MENU_CONDITIONAL,isDisabled:a,type:JMP.MenuStatic.MENU_CHECK,isChecked:!!t.conditionalHierarchy}),(n||l)&&i.push({id:void 0,label:void 0,type:JMP.MenuStatic.MENU_SEPARATOR}),i.push({id:"dataFilterSelect",label:e.MENU_SELECT,isDisabled:a,type:JMP.ViewStatic.isServerAvailable?JMP.MenuStatic.MENU_CHECK:JMP.MenuStatic.MENU_RADIO,isChecked:t.isSelectModified}),i.push({id:"dataFilterShow",label:e.MENU_SHOW,isDisabled:a,type:JMP.ViewStatic.isServerAvailable?JMP.MenuStatic.MENU_CHECK:JMP.MenuStatic.MENU_RADIO,isChecked:t.isHideModified}),JMP.ViewStatic.isServerAvailable&&i.push({id:"dataFilterInclude",label:e.MENU_INCLUDE,isDisabled:a,type:JMP.MenuStatic.MENU_CHECK,isChecked:t.isExcludeModified}),i},e.menuHandler=function(i,l,o){let r,c,d,u,h,g=i.columns?i.columns.rowStates:void 0,S=!0,m=i.groupedValues,f=l?l.allValues:void 0;switch(o){case"dataFilterConditional":if(d=m.length,i.conditionalHierarchy)i.conditionalHierarchy=void 0;else for(i.conditionalHierarchy=[],r=0;r<d;r++)for(i.conditionalHierarchy[r]=[],u=m[r].length,c=0;c<u;c++)i.conditionalHierarchy[r][c]=-1;let l=document.getElementsByClassName("filterTableColumn");for(r=0;r<l.length;r++){let e=l[r].firstChild.firstChild.firstChild;e.className=e.className.replace("revealed","concealed")}for(function(e){let i=m.length,a=e.columns.getColumns(t.ROLE_X),n=0;for(let t=0;t<i;t++){let i=m[t].length;for(let l=0;l<i;l++)h=a[n],s(e,h,f,t,l),n++}}(i),r=0;r<d;r++)for(u=m[r].length,c=0;c<u;c++)e.showDistribution(i,r,c);i.draw();break;case"dataFilterSelect":i.isSelectModified=!i.isSelectModified,!i.isSelectModified&&g&&g.selectAll(!1),JMP.ViewStatic.isServerAvailable||(i.isHideModified=!i.isSelectModified,!i.isHideModified&&g&&g.hideAll(!1));break;case"dataFilterShow":i.isHideModified=!i.isHideModified,!i.isHideModified&&g&&g.hideAll(!1),JMP.ViewStatic.isServerAvailable||(i.isSelectModified=!i.isHideModified,!i.isSelectModified&&g&&g.selectAll(!1));break;case"dataFilterInclude":a(i,!1),i.isExcludeModified=!i.isExcludeModified,g&&(i.isExcludeModified||g.excludeAll(!1),g.sendEvent(n.EVENT_EXCLUDED,i)),S=!1}S&&i.applyFilter((!1).true)},e}(),JMP.DataFilter=function(e){"use strict";let t,i=new d(e),a=function(){return!t&&i.columns&&(t={},JMP.DataFilterStatic.getCache(i,t)),t};return i.prev={x:-1,y:-1},i.anchorRow=-1,i.isDisabled=!1,i.isAutoUpdating=!1,i.updateButton=void 0,i.isInvertable=!1,i.isInverted=!1,i.isSelectModified=!1,i.isHideModified=!1,i.isExcludeModified=!1,i.isServerNeededForHide=!1,i.isServerNeededForAllModes=!1,i.isGroupAND=!1,i.isMissingIncluded=[[]],i.isOrderedByCount=[[]],i.isNotUsed=[[]],i.isModelingTypeModified=[[]],i.isFilterInverted=[[]],i.topItem=[[]],i.groupedValues=[[[]]],i.backupGroupedValues=[[[]]],i.conditionalHierarchy=void 0,i.backupConditionalHierarchy=void 0,i.topNode=void 0,i.nMatchingRows=0,i.matchingRowsText=void 0,i.inverseNode=void 0,i.inverseLabelNode=void 0,i.sliderNodes=[[]],i.sliderLabels=[[]],i.tableNodes=[[]],i.allNodes=[[]],i.textNodes=[],i.scrollNodes=[],i.scrollTops=[],i.canvases=[],i.frequencies=[],i.originalGroupedValues=[[[]]],i.tableRowStates=void 0,i.onRowStatesEvent=function(e,t){let a=i;switch(e.type){case n.EVENT_SELECTED:let i=JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_DATA,0).rowStates,l=a.columns.rowStates;t!==a&&t!==i&&(i.selected=l.selected.concat(),i.selectedIndices=l.selectedIndices.concat(),i.nSelectedIndices=l.nSelectedIndices,i.sendEvent(e.type,l));break;case n.EVENT_EXCLUDED:for(let e=0;e<a.scrollNodes.length;e++)a.scrollNodes[e]&&(a.scrollTops[e]=a.scrollNodes[e].scrollTop);let s={settings:JMP.DataFilterStatic.getAllSettings()};JMP.ServerStatic.modifyLocalDataFilterAndUpdate(s)}},i.addRowStates=function(e){i.columns||(i.columns=new JMP.Columns),i.columns.rowStates||(e.isLocal=!0,i.columns.rowStates=e,e.addEventListener(i.onRowStatesEvent.bind(i)))},i.isFiltered=function(){return JMP.DataFilterStatic.isFiltered(i,a())},i.applyFilter=function(e=!1,t=!1){return JMP.DataFilterStatic.applyFilter(i,a(),e,t)},i.adjustScrolling=function(){JMP.DataFilterStatic.adjustScrolling(i)},i.undo=function(){JMP.DataFilterStatic.undo(i)},i.draw=function(){let e,t,a,n,l,s,o,r,c,d,u,h,g,S,m,f,T;for(a=i.canvases.length,e=0;e<a;e++){for(S=i.frequencies[e],f=S.length,m=0,t=0;t<f;t++)m<S[t]&&(m=S[t]);for(d=i.canvases[e],T=window.getComputedStyle(d),d.width=Number(T.width.replace("px","")),d.height=Number(T.height.replace("px","")),u=d.getContext("2d"),JMP.ViewStatic.reset(u),u.strokeStyle=i.isDisabled?"#bbc4cb":"#939ba1",u.fillStyle="#bbc4cb",h=(d.width-1)/f,g=d.height,t=0;t<f;t++)n=t*h>>0,l=(t+1)*h>>0,s=g*(1-S[t]/m)>>0,o=g>>0,r=Math.round(l-n),c=Math.round(o-s),u.fillRect(n,s,r+1,c+1),u.strokeRect(n+.5,s+.5,r,c)}},i.eventHandler=function(e){JMP.DataFilterStatic.eventHandler(e,i,a())},i.menuProvider=function(){return JMP.DataFilterStatic.menuProvider(i)},i.menuHandler=function(e){JMP.DataFilterStatic.menuHandler(i,a(),e)},i};class m extends d{static MARKERWIDTH=10;rowStates=void 0;nr;isVertical;fontColor=JMP.COLOR_BLACK;fontFamily=JMP.FONT;fontSize=JMP.TEXT_FONT_SIZE;fontWeight;labels;rowToPos;rowToDRow;posToRow;backgroundColor;#H;#x;constructor(e){super(e),this.setScalable(JMP.SegmentStatic.SCALABLE_NONE)}areAllVisibleSelected(){return!!this.rowStates&&this.rowStates.nSelectedIndices===this.nr}select(e,t){if(!this.isVertical)return;let i=!1,a=[],{yScaling:n}=this.#N(),l=this.nr-JMP.ScalingStatic.pixelToValue(n,e.y)+.5>>0;l=Math.max(0,Math.min(this.nr-1,l));if(e.width||e.height){let t=this.nr-JMP.ScalingStatic.pixelToValue(n,e.y+e.height)+.5>>0;t=Math.min(this.nr-1,t);for(let e=l;e<=t;e++){let t=this.posToRow?this.posToRow[e]:e;t=this.rowToDRow?this.rowToDRow[t]:t,a.push(t)}}else{let e=this.posToRow?this.posToRow[l]:l;e=this.rowToDRow?this.rowToDRow[e]:e,a.push(e)}if(t===JMP.ViewStatic.SELECT_TOGGLE)for(let e=0;e<a.length&&!i;e++)this.rowStates.selected[a[e]]&&(i=!0);JMP.ViewStatic.selectRows(this.rowStates,t,a,i)}getPriority(e){return this.isVertical&&JMP.ViewStatic.pointInRect(e,{x:this.x,y:this.y,width:this.width,height:this.height})?JMP.Priority(0,this.width*this.height,this):null}draw(){JMP.ViewStatic.reset(this.g),this.g.save(),this.g.font=`${this.fontSize}px ${this.fontWeight?this.fontWeight:""} ${this.fontFamily}`,this.#N(),this.g.textBaseline="middle";let e=8,t=0,i=this.nr;this.isVertical?(t=this.#x.yScaling.valueOrigin,i=this.#x.yScaling.getValueRange()+t):(t=this.#x.xScaling.valueOrigin,i=this.#x.xScaling.getValueRange()+t),e=(this.isVertical?this.height:this.width)/(i-t)>>0;let a,n=e;n<2&&(n=2),n>this.fontSize&&(n=this.fontSize),this.g.font=`${n}px ${this.fontWeight?this.fontWeight:""} ${this.fontFamily}`,this.#Y();let l=Math.max(t-1,0)>>0,s=Math.min(i+1,this.nr)>>0;this.isVertical&&(a=l,l=this.nr-s,s=this.nr-a);for(let t=0;t<this.nr;t++){if(a=this.rowToPos?this.rowToPos[t]:t,a<l||a>s)continue;const i=this.rowToDRow?this.rowToDRow[t]:t;if(e>1)this.#U(a,i);else if(this.rowStates&&this.rowStates.selected[i]){let e=.5+(JMP.ScalingStatic.valueToPixel(this.#x.yScaling,this.nr-a-.5)>>0);this.g.strokeStyle=this.rowStates?c.rgbToHexString(this.rowStates.color[i]):JMP.COLOR_BLACK,this.g.beginPath(),this.g.moveTo(this.x,e),this.g.lineTo(this.x+this.width,e),this.g.stroke()}}this.g.restore()}#U(e,t){if(e<0)return;let i=this.labels[e];const a=!!this.rowStates&&this.rowStates.hidden[t],n=!!this.rowStates&&this.rowStates.selected[t];let{g:l,nr:s}=this,{xScaling:o,yScaling:r}=this.#N(),d=this.rowStates?c.rgbToHexString(this.rowStates.color[t]):JMP.COLOR_BLACK,u=this.isVertical?JMP.ScalingStatic.valueToPixel(r,s-e):JMP.ScalingStatic.valueToPixel(o,e+.5);n&&(l.fillStyle=d,this.isVertical?l.fillRect(this.x,u-.5*r.pixelPerValueScale,this.width,r.pixelPerValueScale):l.fillRect(u-.5*o.pixelPerValueScale,this.y,o.pixelPerValueScale,this.height));let h=c.getLuminance(this.backgroundColor),g=0===this.#H?72:this.#H,S=JMP.ScalingStatic.valueToPixel(this.isVertical?o:r,Math.min(.2,m.MARKERWIDTH/g));if(!a){if(n){const e=c.getLuminance(d)>=.3?JMP.COLOR_BLACK:JMP.COLOR_WHITE;l.fillStyle=e,(h>.99||h<.15)&&e===JMP.COLOR_WHITE&&(l.fillStyle="Yellow")}else d===JMP.COLOR_BLACK?l.fillStyle=this.fontColor:l.fillStyle=d,this.backgroundColor===d&&(l.fillStyle=h<.01?JMP.COLOR_WHITE:JMP.COLOR_BLACK);i&&(this.isVertical?l.fillText(i,S,u+1):(l.translate(u,S),l.rotate(-JMP.HALF_PI),l.fillText(i,0,1),l.rotate(JMP.HALF_PI),l.translate(-u,-S)))}}#Y(){this.#H=0;for(let e=0;e<this.labels.length;e++){const t=this.g.measureText(this.labels[e]).width;this.#H=Math.max(this.#H,t)}}#N(){if(this.#x)return this.#x;this.#x={};let e=this.scale[t.ROLE_X],i=this.scale[t.ROLE_Y];return this.#x.xScaling=JMP.Scaling(e,this.x+.5>>0,this.width-1,!0),this.#x.yScaling=JMP.Scaling(i,this.y+this.height-.5>>0,1-this.height,!0),this.#x}}class f extends d{rowStates=void 0;nr=0;nj=0;isVertical=!1;isReversed=!1;lineWidth=1;lineStyle=JMP.LineSegmentStatic.PATTERN_SOLID;lineColor=JMP.COLOR_BLACK;alpha=1;leaders=void 0;joiners=void 0;branchDistances=void 0;maxBranchDist=0;rowToPos=void 0;rowToDRow;posToRow;#x;constructor(e){super(e),this.setScalable(JMP.SegmentStatic.SCALABLE_NONE)}draw(){let{g:e,nr:t,nj:i,leaders:a,joiners:n,branchDistances:l,maxBranchDist:s,rowToPos:o,lineWidth:r,alpha:d,isVertical:u,isReversed:h}=this,g=this.#N();const{xScaling:S,yScaling:m}=g;JMP.ViewStatic.reset(e);let f=e.globalAlpha;e.globalAlpha=d;let T,p,E=new Array(t),b=new Array(t),A=new Array(t),_=new Array(t);this.rowStates&&u&&(T=this.rowStates.hidden,p=this.rowStates.color);let x,L=0;u?(L=m.valueOrigin,x=m.valueOrigin+m.getValueRange()):(L=S.valueOrigin,x=S.valueOrigin+S.getValueRange());let N,I=-1;for(let e=0;e<t;e++){N=o[e],E[e]=h?i+2:0,b[e]=u?i+1-N:N+.5;let t=this.rowToDRow?this.rowToDRow[e]:e;A[e]=!!T&&T[t],_[e]=p?c.rgbToString(p[t]):JMP.COLOR_BLACK}e.lineWidth=r;for(let t=0;t<i;t++){let i=a[t];N=o[i];let r=n[t],c=b[i],d=b[r],g=E[i],S=E[r],m=l[t];if(h&&(m=s-m),(c>=L||d>=L)&&(c<=x||d<x)){const t=_[i],a=_[r];e.strokeStyle=t,A[i]||(u?this.#z(g,m,c):this.#B(c,g,m)),e.strokeStyle=a,A[r]||(u?this.#z(m,S,d):this.#B(d,m,S)),t!==a&&(_[i]=JMP.COLOR_BLACK,e.strokeStyle=this.lineColor),A[i]&&A[r]||(u?this.#B(m,c,d):this.#z(c,d,m))}I=i,A[I]=!1,E[I]=m,b[I]=(c+d)/2}if(I>=0&&!A[I]){let e=l[i];h&&(e=s-e),u?this.#z(E[I],e,b[I]):this.#B(b[I],E[I],e)}e.globalAlpha=f}select(e,t){if(!this.isVertical)return;let{g:i,nr:a,nj:n,leaders:l,joiners:s,branchDistances:o,isReversed:r,rowStates:c,posToRow:d}=this,{xScaling:u,yScaling:h}=this.#x,g=!1,S=[],m=JMP.ScalingStatic.pixelToValues(u,h,e.x,e.y),f=m.x,T=n+1-(m.y+.5>>0);T<0&&(T=0),T>=n+1&&(T=n);let p=d[T];r&&(f=n-f);let E=this.#W(f);E<0&&(E=0),E>=n+1&&(E=n);let b=f>o[0]?E+1:E,A=new Array(a);this.#X(b,a,l,s,A);let _,x,L=A[p];for(_=T-1;_>=0&&A[d[_]]===L;_--);for(x=T+1;x<a&&A[d[x]]===L;x++);_++,x--;let N=d[_];for(;E<a-1&&(l[E]!==N&&s[E]!==N);E++);let I=0,M=o[E];r&&(I=a+1-M,M=a+1);let y=a-_-.35+1,C=a-x-.35;const R=JMP.ScalingStatic.valueToPixel,v=.5+(R(u,I)>>0),w=.5+(R(u,M)>>0),O=.5+(R(h,y)>>0),P=.5+(R(h,C)>>0);for(i.save(),i.strokeStyle="#FF9999",i.strokeRect(v,O,w-v,P-O),i.restore(),b=_;b<=x;b++){let e=d[b];this.rowToDRow&&(e=this.rowToDRow[e]),S.push(e)}if(t===JMP.ViewStatic.SELECT_TOGGLE)for(let e=0;e<S.length&&!g;e++)this.rowStates.selected[S[e]]&&(g=!0);JMP.ViewStatic.selectRows(c,t,S,g)}getPriority(e){return this.isVertical&&JMP.ViewStatic.pointInRect(e,{x:this.x,y:this.y,width:this.width,height:this.height})?JMP.Priority(0,this.width*this.height,this):null}#W(e){let t=this.#Z(e,this.branchDistances,this.nr-1);return t<0&&(t=-(t+1),t>0&&t--),t<0&&(t=0),t>=this.nr&&(t=this.nr-1),t}#Z(e,t,i){let a,n=0,l=i-1,s=0,o=0;for(;n<=l;)if(s=(n+l)/2>>0,a=t[s],e<a)o=0,l=s-1;else{if(!(e>a))return s;o=1,n=s+1}return-(s+1+o)}#X(e,t,i,a,n){let l,s;for(s=0;s<t;s++)n[s]=s;for(let t=0;t<e;t++)n[a[t]]=i[t];for(s=0;s<t;s++){for(l=s;n[l]!==l;l=n[l]);let e=l,t=0;for(l=s;n[l]!==l;l=t)t=n[l],n[l]=e}}#z(e,t,i){const a=this.g;let n=this.#N();const{xScaling:l,yScaling:s}=n,o=JMP.ScalingStatic.valueToPixel,r=.5+(o(l,e)>>0),c=.5+(o(l,t)>>0),d=.5+(o(s,i)>>0);a.beginPath(),a.moveTo(r,d),a.lineTo(c,d),a.stroke()}#B(e,t,i){const a=this.g;let n=this.#N();const{xScaling:l,yScaling:s}=n,o=JMP.ScalingStatic.valueToPixel,r=.5+(o(l,e)>>0),c=.5+(o(s,t)>>0),d=.5+(o(s,i)>>0);a.beginPath(),a.moveTo(r,c),a.lineTo(r,d),a.stroke()}#N(){if(!this.#x){this.#x={};const e=this.scale[t.ROLE_X],i=this.scale[t.ROLE_Y];this.#x.xScaling=JMP.Scaling(e,this.x+.5>>0,this.width-1,!0),this.#x.yScaling=JMP.Scaling(i,this.y+this.height-.5>>0,1-this.height,!0)}return this.#x}}JMP.EventFacadeStatic=function(){"use strict";let e,t,i={},a=[],n=[],l=[],s=[];return i.isTouch=window.matchMedia("(pointer:coarse)").matches,i.isIOS=function(){return null!==navigator.userAgent.match(/iPad/i)||null!==navigator.userAgent.match(/iPhone/i)},i.getEventParameter=function(e,t){let i=a.indexOf(e),n=void 0!==t?t:0;return i>=0?l[i][n]:void 0},i.addEventListener=function(e,t,o,r){let c,d,u,h=a.indexOf(e);h>=0?(c=n[h],d=l[h],u=s[h],c.includes(t)||(c.push(t),d.push(o),u.push(r))):(a.push(e),n.push([t]),l.push([o]),s.push([r]),e.addEventListener("touchstart",i.dispatchEvent),e.addEventListener("pointerdown",i.dispatchEvent),e.addEventListener("pointerup",i.dispatchEvent),e.addEventListener("pointermove",i.dispatchEvent),e.addEventListener("pointerover",i.dispatchEvent),e.addEventListener("pointerout",i.dispatchEvent),e.addEventListener("pointercancel",i.dispatchEvent),e.addEventListener("focus",i.dispatchEvent),e.addEventListener("blur",i.dispatchEvent),e.addEventListener("input",i.dispatchEvent),e.addEventListener("change",i.dispatchEvent),e.addEventListener("keydown",i.dispatchEvent),e.addEventListener("click",i.dispatchEvent))},i.removeEventListener=function(e,t){let o,r,c,d=a.indexOf(e);d>=0&&(o=n[d],r=l[d],c=s[d],d=o.indexOf(t),d>=0&&(o.splice(d,1),r.splice(d,1),c.splice(d,1),o.length<=0&&(a.splice(d,1),n.splice(d,1),e.removeEventListener("touchstart",i.dispatchEvent),e.removeEventListener("pointerdown",i.dispatchEvent),e.removeEventListener("pointerup",i.dispatchEvent),e.removeEventListener("pointermove",i.dispatchEvent),e.removeEventListener("pointerover",i.dispatchEvent),e.removeEventListener("pointerout",i.dispatchEvent),e.removeEventListener("pointercancel",i.dispatchEvent),e.removeEventListener("focus",i.dispatchEvent),e.removeEventListener("blur",i.dispatchEvent),e.removeEventListener("input",i.dispatchEvent),e.removeEventListener("change",i.dispatchEvent),e.removeEventListener("keydown",i.dispatchEvent),e.removeEventListener("click",i.dispatchEvent))))},i.dispatchEvent=function(o){let r,c,d,u,h,g,S,m=o.type,f=!1;switch(o.pointerType){case"mouse":i.isTouch=!1;break;case"pen":case"touch":i.isTouch=!0}if(g=a.indexOf(o.currentTarget),g>=0&&(!o.button||-1===o.button)){if(S="CANVAS"===o.currentTarget.nodeName,d=n[g],u=l[g],h=s[g],c=d.length,S&&void 0===JMP.SegmentStatic.pointerDownSegment)switch(m){case"pointerdown":case"pointerup":case"pointermove":case"pointerover":case"pointerout":document.body.className="cursorArrow"}for(r=0;r<c&&!f;r++)if(d[r])switch(e=document.createEvent("Event"),e.ctrlKey=o.ctrlKey,e.metaKey=o.metaKey,e.shiftKey=o.shiftKey,e.altKey=o.altKey,e.preventDefault=o.preventDefault,e.pointerTarget=o.target,m){case"pointerdown":case"pointerup":case"pointermove":case"pointerover":case"pointerout":e.initEvent(m,!0,!0),e.clientX=o.clientX,e.clientY=o.clientY,e.pointerId=o.pointerId,f=d[r](e,u[r]);break;case"touchstart":(h[r]||S&&JMP.ViewStatic.isFocus(JMP.ViewStatic.FOCUS_DATA))&&o.preventDefault();break;case"focus":case"blur":case"input":case"change":case"keydown":f=d[r](o,u[r]);break;case"click":"pointerup"===t||i.isTouch||(f=d[r](o,u[r]))}t=m}},i.setPreventDefault=function(e,t,i){let l,o,r=a.indexOf(e);r>=0&&(l=n[r],o=s[r],r=l.indexOf(t),r>=0&&(o[r]=i))},i}(),JMP.FrameBoxStatic=function(){"use strict";let e={},i={},a=function(e,t){let i=!0;for(let a=0;a<t.length&&i;a++){i=!1;for(let n=0;n<e.axisBoxes.length&&!i;n++){let l=e.axisBoxes[n].scale,s=l.length;for(let e=0;e<s&&!i;e++)t[a]===l[e]&&(i=!0)}}return i},l=function(e){let t=!0;for(let i=0;i<e.contents.length&&t;i++){e.contents[i].getPannableWithoutAxis()||(t=!1)}return t},s=function(e){e.isXScalable&&(e.xPrevScales=[],e.xScales.forEach((function(t){e.xPrevScales.push(Object.assign({},t))}))),e.isYScalable&&(e.yPrevScales=[],e.yScales.forEach((function(t){e.yPrevScales.push(Object.assign({},t))})))},o=function(e,t){return Object.keys(t).forEach((i=>{"function"!=typeof t[i]&&(e[i]=t[i])})),e},c=function(e,t){e.g.setLineDash([t,t]),e.g.lineWidth=2,e.g.lineDashOffset=e.animationOffset,e.g.strokeStyle="black";const i=2*e.x,a=2*e.y,n=2*e.width,l=2*e.height;e.g.strokeRect(i-.5,a-.5,n+1,l+1),e.g.strokeStyle="white",e.g.lineDashOffset=t+e.animationOffset,e.g.strokeRect(i-.5,a-.5,n+1,l+1),e.g.setLineDash([])};return e.isMac=navigator.platform.toUpperCase().indexOf("MAC")>=0,e.isBrushExtending=!0,e.HANDLE_SIZE=4,e.MENU_ADJUST_SCALES="Adjust Scales",e.MENU_SPECIFY_SCALES="Specify Scales...",e.MENU_ADJUST_BINS="Adjust Bins",e.SRC_ZOOM_GLASS='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/></svg>',e.getCache=function(e,i){let n=[],l=[],s=[],o=[];e.contents.forEach((function(e){let i=e.scale[t.ROLE_X];i&&i.minInit!==i.maxInit&&!n.includes(i)&&n.push(i),i=e.scale[t.ROLE_Y],i&&i.minInit!==i.maxInit&&!l.includes(i)&&l.push(i)}));let r=n;r.forEach((function(t){s.push(JMP.Scaling(t,e.x+.5,e.width-1))})),r=l,r.forEach((function(t){o.push(JMP.Scaling(t,e.y+e.height-.5,1-e.height))}));const c=a(e,n),d=a(e,l),u=[];n.forEach((function(e){u.push(Object.assign({},e))}));const h=[];l.forEach((function(e){h.push(Object.assign({},e))})),Object.assign(i,{xScalings:s,yScalings:o,xScales:n,yScales:l,xPrevScales:[],yPrevScales:[],xInitScales:u,yInitScales:h,isXScalable:c,isYScalable:d})},e.saveToMemento=function(e,t){const i={xPrevScales:e.xPrevScales,yPrevScales:e.yPrevScales,xInitScales:e.xInitScales,yInitScales:e.yInitScales};t.push(i)},e.restoreFromMemento=function(e,t){const i=t.shift();if(e.xInitScales.length===i.xInitScales.length&&e.yInitScales.length===i.yInitScales.length){for(let t=0;t<e.xInitScales.length;t++)if(e.xInitScales[t].id!==i.xInitScales[t].id)return;for(let t=0;t<e.yInitScales.length;t++)if(e.yInitScales[t].id!==i.yInitScales[t].id)return;e.xPrevScales=i.xPrevScales,e.yPrevScales=i.yPrevScales,e.xInitScales=i.xInitScales,e.yInitScales=i.yInitScales}},e.hasBinning=function(e,t){let i=!0;return e.contents.forEach((function(e){e.hasBinning(t)||(i=!1)})),i},e.setBinning=function(e,t,i){e.contents.forEach((function(e){e.setBinning(t,i)}))},e.isInEWRegion=function(e,t){return e.width+e.padRight-10<=t.x&&t.x<=e.width+e.padRight},e.isInNSRegion=function(e,t){return e.height+e.padBottom-10<=t.y&&t.y<=e.height+e.padBottom},e.initiateResizing=function(t,i){let a=!1;const n=e.isInEWRegion(t,i),l=e.isInNSRegion(t,i);if(n||l){a=!0,n&&(t.isCanvasSizingEW=!0),l&&(t.isCanvasSizingNS=!0);const e=2*t.x,i=2*t.y,s=2*t.width,o=2*t.height;t.frameImageCanvas.width=s,t.frameImageCanvas.height=o,t.frameImageCanvas.getContext("2d").drawImage(t.canvas,e,i,s,o,0,0,s,o),t.frameImage.src=t.frameImageCanvas.toDataURL("image/png"),t.canvasImage.src=t.canvas.toDataURL("image/png"),t.originalFrameRect={x:e,y:i,width:s,height:o},t.originalCanvasRect={x:0,y:0,width:t.canvas.width,height:t.canvas.height}}return a},e.resizeFrame=function(e,t,i){let a=!1;if((e.isCanvasSizingNS||e.isCanvasSizingEW)&&(e.isCanvasSizingNS&&e.isCanvasSizingEW?document.body.className="cursorNWSE":e.isCanvasSizingEW?document.body.className="cursorEW":e.isCanvasSizingNS&&(document.body.className="cursorNS"),t.x>0&&t.y>0)){if(a=!0,e.isCanvasSizingEW){const a=Math.floor(t.x)-Math.floor(i.x);e.width+=a,2*e.width>e.originalFrameRect.width?e.canvas.width+=2*a:e.canvas.width=e.originalCanvasRect.width,e.canvas.style.width=e.canvas.width/2+"px"}if(e.isCanvasSizingNS){const a=Math.floor(t.y)-Math.floor(i.y);e.height+=a,2*e.height>e.originalFrameRect.height?e.canvas.height+=2*a:e.canvas.height=e.originalCanvasRect.height,e.canvas.style.height=e.canvas.height/2+"px"}i.x=t.x,i.y=t.y,e.canvasImage.complete,e.frameImage.complete&&function(e){e.g.drawImage(e.canvasImage,0,0,e.originalCanvasRect.width,e.originalCanvasRect.height),e.g.drawImage(e.frameImage,2*e.x,2*e.y,2*e.width,2*e.height),c(e,8),void 0===e.animationTimer&&function t(){e.animationOffset++,e.animationOffset>=16&&(e.animationOffset=0),c(e,8),e.animationTimer=setTimeout(t,50)}()}(e)}return a},e.signifyResizeOp=function(t,i){let a=!1;const n=e.isInEWRegion(t,i),l=e.isInNSRegion(t,i);return n&&l?(document.body.className="cursorNWSE",a=!0):n?(document.body.className="cursorEW",a=!0):l&&(document.body.className="cursorNS",a=!0),a},e.completeResizing=function(e){let t=!1;return(e.isCanvasSizingEW||e.isCanvasSizingNS)&&(t=!0,e.isCanvasSizingEW=!1,e.isCanvasSizingNS=!1,clearTimeout(e.animationTimer),e.animationTimer=void 0,JMP.SegmentStatic.pointerDownSegment=void 0,JMP.ServerStatic.updateFrameDimensions(e)),t},e.associateAxes=function(e){e.axisBoxNodes.forEach((t=>{let i=JMP.ParserStatic.getLinked(t,JMP.ParserStatic.STORAGE_SEGMENTS);i&&e.axisBoxes.push(i)}))},e.contentScalability=function(e,t){let i=JMP.SegmentStatic.SCALABLE_CLIENT;return e.contents.forEach((function(e){let a=e.getScalable(t);i===JMP.SegmentStatic.SCALABLE_CLIENT?(a&JMP.SegmentStatic.SCALABLE_SERVER||a===JMP.SegmentStatic.SCALABLE_NONE)&&(i=a):i&JMP.SegmentStatic.SCALABLE_SERVER&&a===JMP.SegmentStatic.SCALABLE_NONE&&(i=a)})),i},e.getScalable=function(e){let t=JMP.SegmentStatic.SCALABLE_CLIENT;e.axisBoxes.forEach((i=>{let a=i.getScalable();t=JMP.SegmentStatic.determineScalability(e,t,a)}));let i=e.contentScalability();return i=JMP.SegmentStatic.determineScalability(e,i,t),i},e.onScaleEvent=function(e){e.isDirty=!0},e.commitScaleChanges=function(e){e.getScalable()!==JMP.SegmentStatic.SCALABLE_CLIENT&&JMP.ViewStatic.isServerAvailable&&JMP.ReportStatic.updateScales(e.getClientAdjustableScales())},e.zoomToPoint=function(e,t,i,a){a=a||JMP.ViewStatic.getZoomingType();let n=!1;a===JMP.ViewStatic.ZOOM_IN?s(t):n=function(e){let t=!1;return e.isXScalable&&e.xPrevScales.length>0&&(e.xScales.forEach((function(t,i){Object.assign(t,e.xPrevScales[i]),t.sendEvent(r.EVENT_CHANGED)})),e.xPrevScales=[],t=!0),e.isYScalable&&e.yPrevScales.length>0&&(e.yScales.forEach((function(t,i){Object.assign(t,e.yPrevScales[i]),t.sendEvent(r.EVENT_CHANGED)})),e.yPrevScales=[],t=!0),t}(t),t.isXScalable&&t.xScalings.forEach((function(t){n||JMP.FrameBoxStatic.zoom(t,e.x+i.x,a)})),t.isYScalable&&t.yScalings.forEach((function(t){n||JMP.FrameBoxStatic.zoom(t,e.y+i.y,a)})),JMP.ReportStatic.drawDirtyFrames()},e.zoomToRect=function(e,t,i){let{x:a,y:n,width:l,height:o}=i;s(t),t.isXScalable&&t.xScalings.forEach((function(t){let i=JMP.ScalingStatic.pixelToValue(t,e.x+a),n=JMP.ScalingStatic.pixelToValue(t,e.x+a+l)-i;t.scale.updateRange(i,n)})),t.isYScalable&&t.yScalings.forEach((function(t){let i=JMP.ScalingStatic.pixelToValue(t,e.y+n+o),a=JMP.ScalingStatic.pixelToValue(t,e.y+n)-i;t.scale.updateRange(i,a)})),JMP.ReportStatic.drawDirtyFrames()},e.revertScales=function(e,t){t.isXScalable&&t.xScales.forEach(((e,i)=>{o(e,t.xInitScales[i]),e.sendEvent(r.EVENT_CHANGED,!0)})),t.isYScalable&&t.yScales.forEach(((e,i)=>{o(e,t.yInitScales[i]),e.sendEvent(r.EVENT_CHANGED,!0)})),JMP.ReportStatic.drawDirtyFrames()},e.getClientAdjustableScales=function(e,t){let i=[],a=l(e);return(t.isXScalable||a)&&(i=i.concat(t.xScales)),(t.isYScalable||a)&&(i=i.concat(t.yScales)),i},e.pinchZoom=function(t,i,a){t.isXScalable&&t.xScalings.forEach((function(n,l){e.panZoom(n,t.xInitScales[l],!0,i,a)})),t.isYScalable&&t.yScalings.forEach((function(n,l){e.panZoom(n,t.yInitScales[l],!1,i,a)})),JMP.ReportStatic.drawDirtyFrames()},e.panZoom=function(e,t,i,a,n){let l=e.scale;const s=t.range,o=e.scale.type,c=[],d=[],u=void 0!==l.base?l.base:10,h=void 0!==l.power?l.power:2;for(let t=0;t<2;t++)c[t]=JMP.ScalingStatic.pixelToValue(e,a[t].x),d[t]=JMP.ScalingStatic.pixelToValue(e,a[t].y),c[t]=r.convertFromValue(o,c[t],u,h),d[t]=r.convertFromValue(o,d[t],u,h);let g,S;i?(g=[n[0].x,n[1].x],S=c):(g=[n[0].y,n[1].y],S=d);let m=0,f=1;(i&&n[1].x<n[0].x||!i&&n[1].y>n[0].y)&&(m=1,f=0);const T=g[f]-g[m],p=(S[f]-S[m])/T,E=e.pixelRange*p;let{origin:b,range:A}=e.scale;(E/s>.05||E/s<5e3)&&(A=E,b=S[m]-(g[m]-e.pixelOrigin)*p,l.updateRange(b,A,r.EVENT_CHANGED,!0))},e.onPan=function(e,t,i,a){const n=l(e);(t.isXScalable||n)&&t.xScalings.forEach((function(e){JMP.AxisBoxStatic.updateRange(e,!0,0,i,a)})),(t.isYScalable||n)&&t.yScalings.forEach((function(e){JMP.AxisBoxStatic.updateRange(e,!1,0,i,a)})),JMP.ReportStatic.drawDirtyFrames(),i.x=a.x,i.y=a.y},e.zoom=function(e,t,i){let{type:a,range:n}=e.scale,l=e.scale,s=void 0!==l.base?l.base:10,o=void 0!==l.power?l.power:2;t=JMP.ScalingStatic.pixelToValue(e,t),t=r.convertFromValue(a,t,s,o);let c=(i===JMP.ViewStatic.ZOOM_IN?.25:1)*n,d=t-c;n=t+c-d,l.updateRange(d,n,r.EVENT_CHANGED,!0)},e.getStoredState=function(){return{bins:[]}},e.menuProvider=function(i){let a=[];if((e.hasBinning(i,t.ROLE_X)||e.hasBinning(i,t.ROLE_Y))&&a.push({id:"frameBoxAdjustBins",label:e.MENU_ADJUST_BINS,type:JMP.MenuStatic.MENU_CHECK,isChecked:i.isBinning}),a.length>0){let e=!1;i.contents.forEach((function(t){t.menuProvider()&&(e=!0)})),e&&a.push({id:void 0,label:void 0,type:JMP.MenuStatic.MENU_SEPARATOR})}else a=void 0;return a},e.menuHandler=function(i,a,n){switch(n){case"frameBoxAdjustBins":i.isBinning=!i.isBinning,e.hasBinning(i,t.ROLE_X)&&i.binControl[t.ROLE_X]&&(i.binControl[t.ROLE_X].style.display=i.isBinning?"inline":"none"),e.hasBinning(i,t.ROLE_Y)&&i.binControl[t.ROLE_Y]&&(i.binControl[t.ROLE_Y].style.display=i.isBinning?"inline":"none");break;case"frameBoxSpecifyBins":i.contents.forEach((function(e){e.menuHandler("frameBoxSpecifyBins")}))}},e.onRowStatesEvent=function(t,i){t.isEventReceived||i.type!==n.EVENT_SELECTED&&i.type!==n.EVENT_HIDDEN||(t.isEventReceived=!0),t.columns.rowStates&&0!==t.columns.rowStates.nSelectedIndices||JMP.SegmentStatic.pointerDownSegment===t||t.isSizing||e.removeBrush(t),i.type!==n.EVENT_EXCLUDED&&e.draw(t)},e.nHandles=function(){let e=0;return void 0!==i.NE&&e++,void 0!==i.SE&&e++,void 0!==i.NW&&e++,void 0!==i.SW&&e++,e},e.getHandleById=function(e){let t;return void 0!==e&&(i.NE===e?t="NE":i.SE===e?t="SE":i.NW===e?t="NW":i.SW===e&&(t="SW")),t},e.setHandleId=function(e,t){e&&(i[e]=t)},e.setOppositeHandleIds=function(e,t,a){e.x<t.x?e.y<t.y?i.NW=a:(i.SW=a,i.NE=i.SE,i.SE=void 0):e.y<t.y?(i.NE=a,i.SW=i.SE,i.SE=void 0):(i.NW=i.SE,i.SE=a)},e.whichHandle=function(e,t,i){let a,n,l,s,o=JMP.FrameBoxStatic.HANDLE_SIZE/2,r=1/0,c=t.x,d=t.y,u=t.width,h=t.height;return i&&(n=JMP.ViewStatic.FUZZ_PIXELS,JMP.ViewStatic.pointInRect(e,t)&&(n=Math.min(n,Math.min(u,h)/2-o)),r=n*n),e.x-c<c+u-e.x?(l=c+o-e.x,e.y-d<d+h-e.y?(s=d+o-e.y,a="NW"):(s=d+h-o-e.y,a="SW")):(l=c+u-o-e.x,e.y-d<d+h-e.y?(s=d+o-e.y,a="NE"):(s=d+h-o-e.y,a="SE")),l*l+s*s<r?a:void 0},e.getCursor=function(e){let t="cursorArrow";switch(e){case"NW":case"SE":t="cursorNWSE";break;case"NE":case"SW":t="cursorNESW"}return t},e.isValidRectangle=function(e){return e&&e.width*e.width>=64&&e.height*e.height>=64},e.removeBrush=function(e){e.brush.x=-1,e.brush.y=-1,e.brush.width=0,e.brush.height=0,e.isSizing=!1,e.isMoving=!1},e.draw=function(t){let i,a,n,l,s,o,r,c,d,{g:u,padTop:h,padBottom:g,padLeft:S,padRight:m,contents:f,isBorderTop:T,isBorderBottom:p,isBorderLeft:E,isBorderRight:b,isTransparent:A}=t,_=t.fillColor,x=t.lineColor,L=.5+(t.x>>0),N=.5+(t.y>>0),I=t.width-1,M=t.height-1,y={x:.5+(t.x+t.brush.x>>0),y:.5+(t.y+t.brush.y>>0),width:t.brush.width,height:t.brush.height},C={x:.5+(t.x+t.zoom.x>>0),y:.5+(t.y+t.zoom.y>>0),width:t.zoom.width,height:t.zoom.height},R=N-h,v=N+M+g,w=L-S,O=L+I+m;if(!f||0===f.length)return;if(u.lineWidth=1,A){for(n=!0,a=f.length,i=0;i<a&&n;i++)n=f[i].isEmpty();n||u.clearRect(w+.5,R+.5,O-w-1,v-R-1)}else u.fillStyle=void 0!==_?_:JMP.COLOR_WHITE,u.fillRect(w,R,O-w,v-R);if(T=void 0===T||T,p=void 0===p||p,E=void 0===E||E,b=void 0===b||b,!A&&(T||p||E||b)&&(u.strokeStyle=void 0!==x?x:JMP.COLOR_LINE,T&&p&&E&&b?u.strokeRect(w,R,O-w,v-R):(u.beginPath(),T&&(u.moveTo(w,R),u.lineTo(O,R)),p&&(u.moveTo(w,v),u.lineTo(O,v)),E&&(u.moveTo(w,v),u.lineTo(w,R)),b&&(u.moveTo(O,v),u.lineTo(O,R)),u.stroke())),u.save(),u.beginPath(),u.rect(w+.5,R+.5,O-w-1,v-R-1),u.clip(),t.columns&&t.columns.rowStates&&t.columns.rowStates.isAnySelected&&t.columns.rowStates.isAnySelected()){let e=[];f.forEach((function(t){t.hasOwnProperty("segType")&&t.segType===JMP.LineSegmentStatic.LINE_SEG_TYPE&&t.getSelectedState()?e.push(t):t.hasOwnProperty("segType")&&t.segType===JMP.MarkerSegmentStatic.MARKER_SEG_TYPE?(e.push(t),t.drawUnSelected()):t.draw()})),e.forEach((function(e){e.hasOwnProperty("segType")&&e.segType===JMP.MarkerSegmentStatic.MARKER_SEG_TYPE?e.drawSelected():e.draw()}))}else for(a=f.length,i=0;i<a;i++)f[i].draw();let P=JMP.ViewStatic.isZooming(),D=JMP.ViewStatic.getZoomingType();P&&D===JMP.ViewStatic.ZOOM_IN&&e.isValidRectangle(C)&&(d=u.globalAlpha,u.globalAlpha=.5,u.lineWidth=1,u.strokeStyle="#000000",u.setLineDash([1,1]),l=C.x,s=C.y,o=C.width,r=C.height,u.strokeRect(l,s,o,r),u.setLineDash([]),u.globalAlpha=d),t.isBrushingEnabled&&e.isValidRectangle(y)&&(d=u.globalAlpha,u.globalAlpha=.5,u.lineWidth=1,u.strokeStyle="#2070a0",l=y.x,s=y.y,o=y.width-1,r=y.height-1,u.strokeRect(l,s,o,r),u.fillStyle=u.strokeStyle,c=e.HANDLE_SIZE-1,u.fillRect(l+.5,s+.5,c,c),u.fillRect(l+o-.5-c,s+.5,c,c),u.fillRect(l+.5,s+r-.5-c,c,c),u.fillRect(l+o-.5-c,s+r-.5-c,c,c),u.globalAlpha=d),u.restore(),t.sendEvent(JMP.SegmentStatic.EVENT_DRAWING_COMPLETE)},e.onPointerDown=function(e,t,i){let a=!1,n=JMP.ViewStatic.FUZZ_PIXELS,l={},s={};return l.x=t.x,l.y=t.y-n/2,l.width=t.width,l.height=t.height+n,s.x=t.x-n/2,s.y=t.y,s.width=t.width+n,s.height=t.height,i&&0!==t.width&&0!==t.height&&(JMP.ViewStatic.pointInRect(e,l)||JMP.ViewStatic.pointInRect(e,s))?(i.x=e.x-t.x,i.y=e.y-t.y):(t.x=e.x,t.y=e.y,t.width=0,t.height=0,a=!0),a},e.onPointerMove=function(e,t,i,a,n,l){let s=!1;if(n){switch(e){case"NW":i.width+=i.x-t.x,i.x=t.x,i.height+=i.y-t.y,i.y=t.y;break;case"SW":i.width+=i.x-t.x,i.x=t.x,i.height=t.y-i.y;break;case"NE":i.width=t.x-i.x,i.height+=i.y-t.y,i.y=t.y;break;case"SE":i.width=t.x-i.x,i.height=t.y-i.y}i.width*i.width>=64&&i.height*i.height>=64&&(s=!0)}else l&&(i.x=t.x-a.x,i.y=t.y-a.y,s=!0);return s},e.getTooltip=function(e,t){let i=null,a={x:e.x,y:e.y,width:0,height:0};const n=JMP.FrameBoxStatic.getWinners(a,t);if(n.length>0){const t=n[0].seg;i=t.getTooltip(e.x+t.x,e.y+t.y)}return i},e.getWinners=function(e,t){let i,a,n,l,s=[];for(a=t?t.length:0,i=a-1;i>=0;i--){l=t[i];let a={x:e.x+l.x,y:e.y+l.y,width:e.width,height:e.height};n=l.getPriority(a),n&&e.width>0&&e.height>0?s.push(n):n&&(0===s.length||n.isHigherPriorityThan(s[0]))&&(0!==s.length&&"JMP.MarkerSegment"===s[0].seg.segType&&"JMP.MarkerSegment"===n.seg.segType&&s[0].distance&&n.distance&&s[0].distance-n.distance<10?s[0]=JMP.FrameBoxStatic.getImplication(s[0].seg.isSelectedMarker,n.seg.isSelectedMarker)?n:s[0]:s[0]=n)}return s},e.getImplication=function(e,t){return!e||t},e}(),JMP.FrameBox=function(e){"use strict";const i=new d(e);let a,l,s,o,r={x:-1,y:-1},c=[],u=!1;const h=function(){return a||(a={},JMP.FrameBoxStatic.getCache(i,a)),a},g=function(){let e=!1;return i.isDblTap?e=!0:(i.isDblTap=!0,setTimeout((()=>{i.isDblTap=!1}),300)),e};return i.animationTimer=void 0,i.animationOffset=0,i.frameImageCanvas=document.createElement("canvas"),i.frameImage=new Image,i.canvasImage=new Image,i.originalFrameRect={x:-1,y:-1,width:0,height:0},i.originalCanvasRect={x:-1,y:-1,width:0,height:0},i.isCanvasSizingEW=!1,i.isCanvasSizingNS=!1,i.isDblTap=!1,i.fillColor=JMP.COLOR_WHITE,i.lineColor=JMP.COLOR_LINE,i.isTransparent=!1,i.isBorderTop=!1,i.isBorderBottom=!1,i.isBorderLeft=!1,i.isBorderRight=!1,i.isFrameInteractive=!0,i.isSizing=!1,i.isMoving=!1,i.isScaling=!1,i.isBinning=!1,i.xAddend=0,i.yAddend=0,i.zoom={x:-1,y:-1,width:0,height:0},i.brush={x:-1,y:-1,width:0,height:0},i.brushOffset={x:0,y:0},i.isBrushingEnabled=!0,i.isEventReceived=!1,i.axisBoxNodes=[],i.axisBoxes=[],i.isDirty=!1,i.saveToMemento=function(e){JMP.FrameBoxStatic.saveToMemento(h(),e)},i.restoreFromMemento=function(e){JMP.FrameBoxStatic.restoreFromMemento(h(),e)},i.associateAxes=function(){JMP.FrameBoxStatic.associateAxes(i)},i.hasBinning=function(e){return JMP.FrameBoxStatic.hasBinning(i,e)},i.setBinning=function(e,t){JMP.FrameBoxStatic.setBinning(i,e,t)},i.getScalable=function(){return JMP.FrameBoxStatic.getScalable(i)},i.contentScalability=function(e){return JMP.FrameBoxStatic.contentScalability(i,e)},i.zoomToPoint=function(e,t){JMP.FrameBoxStatic.zoomToPoint(i,h(),e,t)},i.zoomToRect=function(e){JMP.FrameBoxStatic.zoomToRect(i,h(),e)},i.revertScales=function(){JMP.FrameBoxStatic.revertScales(i,h())},i.getClientAdjustableScales=function(){return JMP.FrameBoxStatic.getClientAdjustableScales(i,h())},i.pinchZoom=function(e,t){e[0].x<e[1].x&&t[0].x>t[1].x||e[0].x>e[1].x&&t[0].x<t[1].x||e[0].y<e[1].y&&t[0].y>t[1].y||e[0].y>e[1].y&&t[0].y<t[1].y||Math.abs(t[0].x-t[1].x)<10||Math.abs(t[0].y-t[1].y)<10||Math.abs(e[0].x-e[1].x)<10||Math.abs(e[0].y-e[1].y)<10||JMP.FrameBoxStatic.pinchZoom(h(),e,t)},i.commitScaleChanges=function(){JMP.FrameBoxStatic.commitScaleChanges(i)},i.onPan=function(e,t){JMP.FrameBoxStatic.onPan(i,h(),e,t)},i.onScaleEvent=function(){JMP.FrameBoxStatic.onScaleEvent(i)},i.onRowStatesEvent=function(e){JMP.SegmentStatic.onRowStatesEvent(i,e),JMP.FrameBoxStatic.onRowStatesEvent(i,e)},i.draw=function(){JMP.FrameBoxStatic.draw(i,h())},i.keyUpEvent=function(e){JMP.SegmentStatic.pointerDownSegment===i&&"Alt"===e.key&&u&&(i.commitScaleChanges(),u=!1,JMP.SegmentStatic.pointerDownSegment=void 0)},i.mousePanEvent=function(e){const t=e.altKey&&!JMP.EventFacadeStatic.isTouch,a={x:e.clientX,y:e.clientY};JMP.SegmentStatic.convertToSegmentCoordinates(i,a);const n=JMP.SegmentStatic.isInBounds(i,a);let l=!1;if((i.getScalable()&JMP.SegmentStatic.SCALABLE_CLIENT||i.getScalable()===JMP.SegmentStatic.SCALABLE_SERVER&&JMP.ViewStatic.isServerAvailable)&&(l=!0),t&&l)switch(e.type){case"pointerdown":n&&(i.canvas.setPointerCapture(e.pointerId),JMP.TooltipStatic.updateTooltip(),JMP.FrameBoxStatic.removeBrush(i),JMP.SegmentStatic.pointerDownSegment=i,r.x=a.x,r.y=a.y);break;case"pointermove":JMP.SegmentStatic.pointerDownSegment===i&&(document.body.className="cursorArrow",i.onPan(r,a),u=!0);break;case"pointerup":if(JMP.SegmentStatic.pointerDownSegment===i){i.canvas.releasePointerCapture(e.pointerId);let t=!1;n&&(t=g(),t&&(i.revertScales(),i.commitScaleChanges(),JMP.SegmentStatic.pointerDownSegment=void 0,e.stopPropagation())),t||(i.onPan(r,a),i.commitScaleChanges(),u=!1,JMP.SegmentStatic.pointerDownSegment=void 0)}}},i.throttleEvents=function(e,t,i,a){void 0===o&&(e(i,a),o=setTimeout((()=>{o=void 0}),t))},i.zoomScrolling=function(e,t){let a;JMP.TooltipStatic.updateTooltip(),JMP.FrameBoxStatic.removeBrush(i),a=t.deltaY>0?JMP.ViewStatic.ZOOM_OUT:JMP.ViewStatic.ZOOM_IN,i.zoomToPoint(e,a),i.commitScaleChanges()},i.onPointerEvent=function(e){if(e.altKey&&!JMP.EventFacadeStatic.isTouch&&"wheel"!==e.type&&"dblclick"!==e.type)return;const a=JMP.EventFacadeStatic.isTouch?5:2;let o;const{zoom:d}=i,{brush:u}=i,{brushOffset:S}=i,{rowStates:m}=i.columns,f=i.isSizing||i.isMoving;let T,p,E=!1,b=!1;const A={x:e.clientX,y:e.clientY};let _,x,L,N,I,M=JMP.ViewStatic.isPanning(),y=JMP.ViewStatic.isZooming();const C=!i.isSizing&&!i.isMoving&&JMP.ViewStatic.isFocus(JMP.ViewStatic.FOCUS_REPORT),R=function(e){void 0===l&&(l=JMP.FrameBoxStatic.hasBinning(i,t.ROLE_X)),void 0===s&&(s=JMP.FrameBoxStatic.hasBinning(i,t.ROLE_Y));const a=l?e.x/i.width:void 0,n=s?(i.height-e.y)/i.height:void 0;JMP.FrameBoxStatic.setBinning(i,a,n)};let v=!1;const w=i.getScalable();if((w&JMP.SegmentStatic.SCALABLE_CLIENT||w===JMP.SegmentStatic.SCALABLE_SERVER&&JMP.ViewStatic.isServerAvailable)&&(v=!0),M=M&&v,y=y&&v,JMP.SegmentStatic.convertToSegmentCoordinates(i,A),o=JMP.SegmentStatic.isInBounds(i,A),o&&!i.isFrameInteractive)return;T=JMP.FrameBoxStatic.getHandleById(e.pointerId),p=JMP.FrameBoxStatic.whichHandle(A,u,!0);const O=JMP.ViewStatic.getZoomingType();switch(h(),e.type){case"wheel":o&&v&&(e.altKey||y)&&(e.preventDefault(),i.throttleEvents(i.zoomScrolling,350,A,e));break;case"pointerdown":if(i.canvas.setPointerCapture(e.pointerId),(y||M)&&JMP.TooltipStatic.updateTooltip(),o){if(void 0!==A.x&&void 0!==A.y&&(r.x=A.x,r.y=A.y),JMP.SegmentStatic.pointerDownSegment=i,JMP.ViewStatic.isServerAvailable&&JMP.FrameBoxStatic.initiateResizing(i,A)){JMP.TooltipStatic.updateTooltip();break}y&&(document.body.className=y?O===JMP.ViewStatic.ZOOM_IN?"cursorZoomIn":"cursorZoomOut":"cursorHandClosed"),i.isBinning||M?document.body.className="cursorHandClosed":y&&O===JMP.ViewStatic.ZOOM_IN?JMP.EventFacadeStatic.isTouch?(c.length>=2&&(c=[]),e.pt={x:A.x+i.x,y:A.y+i.y},c.push(e)):(i.select(),JMP.FrameBoxStatic.onPointerDown(A,d)):JMP.ViewStatic.isFocus(JMP.ViewStatic.FOCUS_DATA)&&(!M&&!y||y&&O===JMP.ViewStatic.ZOOM_IN)&&(T=p,T?(i.isSizing=!0,JMP.FrameBoxStatic.setHandleId(T,e.pointerId),i.isBrushingEnabled&&m&&(document.body.className=JMP.FrameBoxStatic.getCursor(T))):i.isSizing&&(u.width=A.x-u.x,u.height=A.y-u.y,JMP.FrameBoxStatic.setOppositeHandleIds(A,u,e.pointerId)),i.isSizing||(E=JMP.FrameBoxStatic.onPointerDown(A,u,S),E?(i.isSizing=!0,JMP.FrameBoxStatic.setHandleId("SE",e.pointerId)):(i.isMoving=!0,document.body.className="cursorHandClosed")))}b=!(y||M),o||JMP.FrameBoxStatic.removeBrush(i);break;case"pointermove":if(JMP.FrameBoxStatic.resizeFrame(i,A,r))break;if(JMP.ViewStatic.isServerAvailable&&o&&void 0===JMP.SegmentStatic.pointerDownSegmentpointerDown&&JMP.FrameBoxStatic.signifyResizeOp(i,A))break;if(!C||y||M||(b=!0),i.isBinning)b=!0,o&&(document.body.className=JMP.SegmentStatic.pointerDownSegment?"cursorHandClosed":"cursorHandOpen"),JMP.SegmentStatic.pointerDownSegment===i&&R(A);else if(M||y)if(JMP.SegmentStatic.pointerDownSegment===i)if(document.body.className=y?O===JMP.ViewStatic.ZOOM_IN?"cursorZoomIn":"cursorZoomOut":"cursorHandClosed",y&&2===c.length){e.pt={x:A.x+i.x,y:A.y+i.y};const t=[];let a=!1;for(let i=0;i<c.length;i++)t[i]=c[i],e.pointerId===c[i].pointerId&&(c[i]=e,a=!0);if(a){const e=[c[0].pt,c[1].pt],a=[t[0].pt,t[1].pt];i.pinchZoom(a,e)}else c=[]}else!JMP.EventFacadeStatic.isTouch&&y&&O===JMP.ViewStatic.ZOOM_IN?(T=JMP.FrameBoxStatic.whichHandle(A,d),JMP.FrameBoxStatic.onPointerMove(T,A,d,void 0,!0),i.draw()):(M||y)&&(y&&1===c.length&&e.pointerId===c[0].pointerId&&(c[0]=e),i.onPan(r,A));else!JMP.SegmentStatic.pointerDownSegment&&o?document.body.className=y?O===JMP.ViewStatic.ZOOM_IN?"cursorZoomIn":"cursorZoomOut":"cursorHandOpen":void 0!==JMP.SegmentStatic.pointerDownSegment&&JMP.SegmentStatic.pointerDownSegment!==i&&JMP.SegmentStatic.pointerDownSegment.onPointerEvent(e);else!JMP.ViewStatic.isFocus(JMP.ViewStatic.FOCUS_DATA)||void 0!==JMP.SegmentStatic.pointerDownSegment&&JMP.SegmentStatic.pointerDownSegment!==i||(b=!0,i.isSizing&&1===JMP.FrameBoxStatic.nHandles()&&p?(JMP.FrameBoxStatic.setHandleId(T,void 0),T=p,JMP.FrameBoxStatic.setHandleId(T,e.pointerId)):!f&&JMP.FrameBoxStatic.isValidRectangle(u)&&(T=p),o&&i.isBrushingEnabled&&m&&(!T&&JMP.ViewStatic.pointInRect(A,u)?document.body.className=i.isMoving?"cursorHandClosed":"cursorHandOpen":document.body.className=JMP.FrameBoxStatic.getCursor(T)),f&&(E=JMP.FrameBoxStatic.onPointerMove(T,A,u,S,i.isSizing,i.isMoving)));break;case"pointerup":if(JMP.FrameBoxStatic.completeResizing(i)){i.canvas.releasePointerCapture(e.pointerId);break}let t=!0,n=!1;if(JMP.SegmentStatic.pointerDownSegment===i&&(i.canvas.releasePointerCapture(e.pointerId),function(e){for(let t=0;t<c.length;t++)if(c[t].pointerId===e.pointerId){c.splice(t,1);break}}(e),0===c.length&&o&&(e.altKey||M||y)&&(n=g(),n&&(i.revertScales(),i.commitScaleChanges(),JMP.SegmentStatic.pointerDownSegment=void 0,e.stopPropagation()))),!n){if(JMP.SegmentStatic.pointerDownSegment===i){if(JMP.EventFacadeStatic.isTouch&&(M||y)||(JMP.SegmentStatic.pointerDownSegment=void 0),JMP.FrameBoxStatic.setHandleId(T,void 0),(i.isBinning||M)&&o&&(document.body.className="cursorHandOpen"),y)if(JMP.EventFacadeStatic.isTouch)0===c.length?(i.commitScaleChanges(),JMP.SegmentStatic.pointerDownSegment=void 0):1===c.length&&(r=c[0].pt,r.x-=i.x,r.y-=i.y,t=!1);else{const{x:e,y:t,width:a,height:n}=d,l={x:e,y:t,width:a,height:n};d.x=-1,d.y=-1,d.width=0,d.height=0,JMP.FrameBoxStatic.isValidRectangle(l)&&O===JMP.ViewStatic.ZOOM_IN?(i.zoomToRect(l),i.commitScaleChanges()):(i.zoomToPoint(A),i.commitScaleChanges())}else M?0===c.length&&(i.onPan(r,A),i.commitScaleChanges(),JMP.SegmentStatic.pointerDownSegment=void 0):f&&(E=JMP.FrameBoxStatic.onPointerMove(T,A,u,S,i.isSizing,i.isMoving),JMP.FrameBoxStatic.isValidRectangle(u)?(E=!0,i.isSizing=!1,i.isMoving=!1):i.select(),o&&(!T&&JMP.ViewStatic.pointInRect(A,u)?document.body.className="cursorHandOpen":document.body.className="cursorArrow"));if(JMP.EventFacadeStatic.isTouch)if(i.isBinning)R(A);else if(!y&&!M){const e=JMP.ViewStatic.pointInRect(A,{x:r.x,y:r.y,width:0,height:0},-a);o?!JMP.EventFacadeStatic.isTouch&&JMP.ViewStatic.isFocus(JMP.ViewStatic.FOCUS_REPORT)&&e&&(E=JMP.FrameBoxStatic.onPointerDown(A,u,S)):JMP.FrameBoxStatic.removeBrush(i)}}else JMP.EventFacadeStatic.isTouch?JMP.FrameBoxStatic.removeBrush(i):void 0!==JMP.SegmentStatic.pointerDownSegment&&M&&!JMP.EventFacadeStatic.isTouch&&(JMP.SegmentStatic.pointerDownSegment.onPointerEvent(e),t=!1);t&&(r.x=-1,r.y=-1)}break;case"pointercancel":JMP.SegmentStatic.pointerDownSegment=void 0,JMP.FrameBoxStatic.setHandleId(T,void 0)}if(m&&E){JMP.ViewStatic.isSelect(JMP.ViewStatic.SELECT_TOGGLE)||JMP.FrameBoxStatic.isValidRectangle(u)&&JMP.ViewStatic.pointInRect(A,u)||(m.nSelectedIndices=0,m.sendEvent(n.EVENT_SELECTED),u.x=A.x,u.y=A.y),JMP.ViewStatic.normalizeRect(u);let e=JMP.ViewStatic.SELECT_ONLY;if(JMP.ViewStatic.isSelect(JMP.ViewStatic.SELECT_TOGGLE)&&(e=JMP.FrameBoxStatic.isValidRectangle(u)?JMP.FrameBoxStatic.isBrushExtending?JMP.ViewStatic.SELECT_EXTEND:JMP.ViewStatic.SELECT_REDUCE:JMP.ViewStatic.SELECT_TOGGLE),i.select(u,e),JMP.isTableWithSelectionEnabled){const e=m.selectedIndices.slice(0,m.nSelectedIndices);let t=0;i.contents&&i.contents.forEach((e=>{t=e.dataSetIndex})),JMP.DocumentTableStatic.updateRowSelection(e,t)}}if(m&&"pointerup"===e.type&&JMP.FrameBoxStatic.isValidRectangle(u))if(JMP.FrameBoxStatic.isBrushExtending){for(I=!0,L=i.contents,x=L.length,_=0;_<x&&I;_++)N=L[_],I=N.areAllVisibleSelected();I&&(JMP.FrameBoxStatic.isBrushExtending=!1)}else 0===m.nSelectedIndices&&(JMP.FrameBoxStatic.isBrushExtending=!0);if(b)if(f||JMP.FrameBoxStatic.isValidRectangle(u)&&JMP.ViewStatic.pointInRect(A,u)||"pointerout"===e.type||"pointerdown"===e.type&&!JMP.EventFacadeStatic.isTouch||"pointerdown"===e.type&&!JMP.ViewStatic.isFocus(JMP.ViewStatic.FOCUS_REPORT))JMP.TooltipStatic.updateTooltip();else if(!f&&o){A.x-=i.xAddend/2,A.y-=i.yAddend/2;const t=i.getTooltip(A.x,A.y);t&&(t.frameBoxCoord={x:i.x,y:i.y}),JMP.TooltipStatic.updateTooltip(e,t)}},i.onSegmentEvent=function(e){if(e.type===JMP.SegmentStatic.EVENT_SEGMENT_CHANGED)i.draw()},i.select=function(e,t){let a,n,l,s;const{contents:o}=i;let r;const c={x:0,y:0,width:0,height:0},d=void 0!==t?t:JMP.ViewStatic.SELECT_ONLY;let u,h,g;const S=[];let m;const f=i.columns?i.columns.rowStates:void 0;let T,p,E,b;const A=d===JMP.ViewStatic.SELECT_ONLY,_=d===JMP.ViewStatic.SELECT_EXTEND;if(!e)return JMP.FrameBoxStatic.removeBrush(i),void(i.isBrushingEnabled&&f&&i.draw());i.brush.x=e.x,i.brush.y=e.y,i.brush.width=e.width,i.brush.height=e.height,r=i.isSizing,i.isSizing=!0,T=[],f&&(A?f.nSelectedIndices=0:T=f.selectedIndices.slice(0,f.nSelectedIndices));const x=JMP.FrameBoxStatic.getWinners(e,i.contents);if(h=i.brush.x-i.xAddend/2,g=i.brush.y-i.yAddend/2,c.width=e.width,c.height=e.height,s=o.length,E=!0,p=JMP.FrameBoxStatic.isValidRectangle(e),b=0,p){const e=o.filter((e=>e.segType===JMP.MarkerSegmentStatic.MARKER_SEG_TYPE)),t=o.filter((e=>e.segType!==JMP.MarkerSegmentStatic.MARKER_SEG_TYPE)),i=o.length-e.length-1,r=t.concat(e);for(a=s-1;a>=0&&!(a===i&&b>0&&r[a].segType===JMP.LineSegmentStatic.LINE_SEG_TYPE);a--)if(u=r[a],u.columns&&(E=!1),c.x=h+u.x,c.y=g+u.y,u.select(c,d),f){for(m=[],n=0;n<f.nSelectedIndices;n++)l=f.selectedIndices[n],T.includes(l)||m.push(l);S.push(m),m.length>0&&b++}}else for(let e=0;e<x.length;e++)if(u=x[e].seg,u.columns&&(E=!1),c.x=h+u.x,c.y=g+u.y,u.select(c,d),f){for(m=[],n=0;n<f.nSelectedIndices;n++)l=f.selectedIndices[n],T.includes(l)||m.push(l);S.push(m),m.length>0&&b++}if(f&&(p||E)&&(A||_)){for(m=_?T.concat():[],s=S.length,a=0;a<s;a++)for(T=S[a],n=0;n<T.length;n++)l=T[n],m.includes(l)||m.push(l);A?f.selectOnly(m,!0):f.select(m,!0)}(i.isSizing||i.isMoving)&&0===b&&i.draw(),i.isSizing=r},i.getTooltip=function(e,t){return JMP.FrameBoxStatic.getTooltip({x:e,y:t},i.contents)},i.getStoredState=function(){return JMP.FrameBoxStatic.getStoredState(i)},i.menuProvider=function(){return JMP.FrameBoxStatic.menuProvider(i)},i.menuHandler=function(e){JMP.FrameBoxStatic.menuHandler(i,h(),e)},i},JMP.GPathStatic=function(){"use strict";let e={},t=JMP.ModelStatic.blend,i=JMP.ScalingStatic.valuesToPixel;return e.POINT_TYPE_MOVE_TO=0,e.POINT_TYPE_MOVE_TO_CLOSE=1,e.POINT_TYPE_LINE_TO=2,e.POINT_TYPE_LINE_TO_CLOSE=3,e.POINT_TYPE_CONTROL=4,e.POINT_TYPE_CONTROL_CLOSE=5,e.POINT_TYPE_BEZIER_TO=6,e.POINT_TYPE_BEZIER_TO_CLOSE=7,e.CMDS=["moveTo","moveTo","lineTo","lineTo","controlPt","controlPt","bezierCurveTo","bezierCurveTo"],e.isMoveType=function(e){return e===JMP.GPathStatic.POINT_TYPE_MOVE_TO||e===JMP.GPathStatic.POINT_TYPE_MOVE_TO_CLOSE},e.isCloseType=function(t){return t===e.POINT_TYPE_LINE_TO_CLOSE||t===e.POINT_TYPE_MOVE_TO_CLOSE||t===e.POINT_TYPE_CONTROL_CLOSE||t===e.POINT_TYPE_BEZIER_TO_CLOSE},e.calculateBoundingRectangle=function(e,t,a,n,l,s,o,r){let c,d,u,h,g,S={},m={},f=1/0,T=1/0,p=-1/0,E=-1/0;for(c=e;c<t;)d=a[c],u=n[c],null!==d&&null!==u&&(l&&s?(S=i(l,s,d,u),h=S.x,g=S.y):(h=d,g=u),Number.isFinite(h)&&Number.isFinite(g)&&(f=Math.min(f,h),p=Math.max(p,h),T=Math.min(T,g),E=Math.max(E,g))),c++;m.x=f,m.width=p-f,m.y=T,m.height=E-T,o[r]=m},e.calculateNumSegments=function(e,t,a,n,l,s){let o,r,c,d,u=0,h=!1,g={},S={},m={},f={};if(!(Number.isFinite(a)&&Number.isFinite(n)&&Number.isFinite(l)&&Number.isFinite(s)))return 0;for(g=i(e,t,a,n);!h;)S=i(e,t,l,s),m.x=(g.x+S.x)/2,m.y=(g.y+S.y)/2,o=(a+l)/2,r=(n+s)/2,f=i(e,t,o,r),c=m.x-f.x,d=m.y-f.y,c*c+d*d<1?h=!0:(u++,l=o,s=r);return 2**u},e.calculatePathCentroid=function(t,i,a,n,l,s,o){let r,c,d,u,h,g,S=0,m=[],f={};for(c=t;c<i;)e.isMoveType(l[c])&&(h=c),(e.isCloseType(l[c])||e.isMoveType(l[c+1]))&&(g=c+1,u=e.calculatePolygonSignedArea(h,g,a,n),e.calculateBoundingRectangle(h,g,a,n,void 0,void 0,m,0),0===d?(r=m[0],f.x=r.x+r.width/2,f.y=r.y+r.height/2,S=1e-20):(d=Math.abs(u),d>S&&(r=m[0],e.calculatePolygonCentroid(h,g,a,n,u,f),S=d)),h=g),c++;0===S&&(r=s,f.x=r.x+r.width/2,f.y=r.y+r.height/2),o.x=f.x,o.y=f.y},e.calculatePolygonCentroid=function(e,t,i,a,n,l){let s,o,r,c,d=e,u=i[d],h=a[d],g=1/(6*n),S=0,m=0;for(;d<t;)d++,s=d===t?e:d,o=i[s],r=a[s],c=(u*r-h*o)*g,S+=(u+o)*c,m+=(h+r)*c,u=o,h=r;l.x=S,l.y=m},e.calculatePolygonSignedArea=function(e,t,i,a){let n,l,s,o=0,r=e,c=i[r],d=a[r];for(;r<t;)r++,n=r===t?e:r,l=i[n],s=a[n],o+=c*s-d*l,c=l,d=s;return o/2},e.drawPath=function(a,n,l,s,o,r,c,d,u,h){let g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C={x:0,y:0},R=n,v=!0,w=new Path2D;for(a.beginPath();R<l;){if(g=r[R],S=e.CMDS[g],"lineTo"===S)for(E=m,A=f,b=s[R],_=o[R],L=e.calculateNumSegments(c,d,E,A,b,_),x=0;x<L;x++)m=t(E,b,(x+1)/L),f=t(A,_,(x+1)/L),C=i(c,d,m,f),T=C.x,p=C.y,w.lineTo(T,p);else"moveTo"===S?(m=s[R],f=o[R],null!==m&&null!==f&&(C=i(c,d,m,f),T=C.x,p=C.y,w.moveTo(T,p))):"controlPt"===S?(m=s[R],f=o[R],null!==m&&null!==f&&(C=i(c,d,m,f),v?(N=C.x,I=C.y,v=!1):(M=C.x,y=C.y,v=!0))):"bezierCurveTo"===S&&(m=s[R],f=o[R],null!==m&&null!==f&&(C=i(c,d,m,f),T=C.x,p=C.y,w.bezierCurveTo(N,I,M,y,T,p)));e.isCloseType(g)&&w.closePath(),R++}return u&&(w.closePath(),a.fill(w)),h&&a.stroke(w),w},e.rectangleIntersectsPath=function(e,t,a,n,l,s,o,r){let c,d,u,h,g,S={};if(!JMP.ViewStatic.rectanglesIntersect(e,r))return!1;for(c=t;c<a;){if(d=n[c],u=l[c],null!==d&&null!==u&&(S=i(s,o,d,u),h=S.x,g=S.y,Number.isFinite(h)&&Number.isFinite(g)&&JMP.ViewStatic.pointInRect(S,e)))return!0;c++}return S.x=e.x+e.width/2,S.y=e.y+e.height/2,!!JMP.ViewStatic.pointInRect(S,r)},e}(),JMP.GridReferenceSegmentStatic=function(){"use strict";let e={},i=.25,a=80,n=JMP.ModelStatic.isBetween,l=JMP.ScalingStatic.geodesicValuesToPixel,s=JMP.ScalingStatic.geodesicPixelToValues,o=function(e){return n(e.origin,-80,a)&&n(e.origin+e.range,-80,a)},c=function(e,t,i,a,n,l){let s,o;if(void 0===a)for(o=t.length,e.moveTo(t[0],i[0]),s=1;s<o;s++)e.lineTo(t[s],i[s]);else JMP.LineSegmentStatic.drawLine(e,t,i,a,n,l)},d=function(e,t,s,d,u,h,g,S){let m,f,T,p,E,b,A,_,x,L,N,I,M,y=[],C=[],R={},v={},w=!1,O=d.scale.type===r.SCALE_GEODESIC_US&&u&&u.scale.type===r.SCALE_GEODESIC_US,P=!1,D=!1,F=!1;if(t)for(m=s,E=Math.abs(u.pixelRange*i)>>0,L=u.scale.range,Math.abs(L)<10&&o(u.scale)?(_=2*L/E,f=u.scale.origin-L/2,F=!0):(f=-90,_=180/E),E++,p=0,T=0;T<E;T++)I=l(d,u,m,f),O&&(P=0!==JMP.ScalingStatic.getCompactUSInset({x:m,y:f},R,v,!0),D=0!==JMP.ScalingStatic.getCompactUSInset({x:m,y:f},R,v,!1),P||D?w||(D&&(I=l(d,u,m,v.y),y[p]=I.x,C[p]=I.y),c(e,y,C,h,g,S),w=!0):w&&(p=0,y.length=0,C.length=0,w=!1)),y[p]=I.x,C[p]=I.y,p++,f+=_;else{for(f=s,E=Math.abs(u.pixelRange*i)>>0,N=u.scale.range,Math.abs(N)<10&&n(f,-80,a)?(x=2*N/E,m=u.scale.origin-N/2,F=!0):(M=u.scale.origin+N/2,m=M-180+1e-4,x=359.9998/E),E++,p=0,T=0;T<E;T++)I=l(u,d,m,f),O&&(P=0!==JMP.ScalingStatic.getCompactUSInset({x:m,y:f},R,v,!0),D=0!==JMP.ScalingStatic.getCompactUSInset({x:m,y:f},R,v,!1),P||D?w||(D&&(I=l(u,d,v.x,f),y[p]=I.x,C[p]=I.y),c(e,y,C,h,g,S),w=!0):(w&&(p=0,y.length=0,C.length=0,w=!1),0===T&&(b=I.x,A=I.y))),y[p]=I.x,C[p]=I.y,p++,m+=x;F||(y[p]=b,C[p]=A)}c(e,y,C,h,g,S),O&&function(e,t,a,n,s,o,r,d){let u,h,g,S,m,f,T,p,E,b=[],A=[],_={},x={},L=!1;if(t)for(u=a,m=n.pixelRange*i>>0,h=-90,f=180/m,S=0,g=0;g<m;g++)0!==JMP.ScalingStatic.getCompactUSInset({x:u,y:h},_,x,!0)?(L?p=l(n,s,u,h):(E=_.y+_.height,p=l(n,s,u,_.y),L=!0),b[S]=p.x,A[S]=p.y,S++):L&&S>0&&(p=l(n,s,u,E),b[S]=p.x,A[S]=p.y,L=!1,c(e,b,A,o,r,d),S=0,b.length=0,A.length=0),h+=f;else for(h=a,m=s.pixelRange*i>>0,u=-180,T=360/m,S=0,g=0;g<m;g++)0!==JMP.ScalingStatic.getCompactUSInset({x:u,y:h},_,x,!0)?(p=l(s,n,L?u:_.x,h),L=!0,b[S]=p.x,A[S]=p.y,S++):L&&S>0&&(p=l(s,n,_.x+_.width,h),L=!1,b[S]=p.x,A[S]=p.y,c(e,b,A,o,r,d),S=0,b.length=0,A.length=0),u+=T}(e,t,s,d,u,h,g,S)},u=function(e,t,i,a,n,l,s,c,u,h,g,S,m,f=0,T){if(!s&&!c)return;let p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O=t+.5>>0,P=i+.5>>0,D=a-1>>0,F=n-1>>0,B=1e3*JMP.MAC_EPS*(a+n),V=e.globalAlpha,k=void 0===u,G=void 0===h,H=k?JMP.COLOR_LINE:u,Y=G?JMP.COLOR_LINE:h,U=S&&r.isGeodesic(g.scale,S.scale);if(e.lineWidth=1,U){if(I=g.scale.widthMajor,Math.abs(g.scale.range)<10&&Math.abs(S.scale.range)<10&&(!l||o(S.scale))?(b=g.scale.origin,A=b+g.scale.range):(_=g.scale.origin+g.scale.range/2,l?(b=_-180,A=_+180):(b=Math.max(_-90,-90),A=Math.min(_+90,90))),v=Math.ceil(b/I)*I,w=Math.floor(A/I)*I,c){for(G&&(e.globalAlpha=.16),e.beginPath(),e.strokeStyle=Y,y=g.scale.nMinor+1,C=I/y,M=v;M<=w;M+=I)for(p=1;p<y;p++)d(e,l,M+C*p,g,S);e.stroke(),e.closePath(),G&&(e.globalAlpha=V)}if(s){for(k&&(e.globalAlpha=.32),e.beginPath(),e.strokeStyle=H,M=v;M<=w;M+=I)d(e,l,M,g,S);e.stroke(),e.closePath(),k&&(e.globalAlpha=V)}}else{if(g.scale.tickOrigins&&(R=g.scale.tickOrigins[m]),N=JMP.AxisBoxStatic.getTickValuesAndPositions({x:O,y:P,width:0,height:0},g,void 0,l,void 0,m,R,void 0,f),E=N.length,c){for(G&&(e.globalAlpha=.16),e.beginPath(),e.strokeStyle=Y,p=0;p<E;p++)N[p].isMajor||(x=l&&T?.5+(N[p].x+N[p].width/2>>0):.5+(N[p].x>>0),L=!l&&T?.5+(N[p].y+N[p].width/2>>0):.5+(N[p].y>>0),JMP.ViewStatic.pointInRect({x:x,y:L},{x:t,y:i,width:a,height:n},-B)&&(e.moveTo(x,L),e.lineTo(l?x:x+D,l?L+F:L)));e.stroke(),e.closePath(),G&&(e.globalAlpha=V)}if(s){for(k&&(e.globalAlpha=.32),e.beginPath(),e.strokeStyle=H,p=0;p<E;p++)N[p].isMajor&&(x=l&&T?.5+(N[p].x+N[p].width/2>>0):.5+(N[p].x>>0),L=!l&&T?.5+(N[p].y+N[p].width/2>>0):.5+(N[p].y>>0),JMP.ViewStatic.pointInRect({x:x,y:L},{x:t,y:i,width:a,height:n},-B)&&(e.moveTo(x,L),e.lineTo(l?x:x+D,l?L+F:L)));e.stroke(),e.closePath(),k&&(e.globalAlpha=V)}}},h=function(e,t,i,a,n,l,s,o){let c,u,h,g,S,m,f,T,p=t+.5>>0,E=i+.5>>0,b=a-1>>0,A=n-1>>0,_=s.scale.refValues,x=s.scale.refMaxValues,L=s.scale.refStyles,N=s.scale.refWidths,I=s.scale.refAlphas,M=s.scale.refIsEditable,y=_?_.length:0,C=e.globalAlpha,R=1;if(o&&r.isGeodesic(s.scale,o.scale))for(g=0;g<y;g++)d(e,l,+_[g],s,o,N?N[g]:1,s.scale.getReferenceColor(g),L?L[g]:JMP.LineSegmentStatic.PATTERN_SOLID);else for(g=0;g<y;g++)Number.isNaN(_[g])||null===_[g]||I&&0===I[g]||(R=1,I&&I[g]&&(R=I[g]),R<1&&(e.globalAlpha=R),c=l?JMP.ScalingStatic.valueToPixel(s,_[g]):p+b,u=l?E:JMP.ScalingStatic.valueToPixel(s,_[g]),h=N&&N[g]?N[g]:1,M&&void 0!==M[g]&&L[g]===JMP.LineSegmentStatic.PATTERN_DOT?(e.lineWidth=h,e.setLineDash([1,1]),e.strokeStyle=s.scale.getReferenceColor(g),e.beginPath(),l?(e.moveTo(.5+(c>>0),u),e.lineTo(.5+(c>>0),u+A)):(e.moveTo(c-b,.5+(u>>0)),e.lineTo(c,.5+(u>>0))),e.stroke(),e.setLineDash([])):x&&void 0!==x[g]?(l?(c>>=0,S=JMP.ScalingStatic.valueToPixel(s,x[g])>>0,T=S-c+1,f=A):(c-=b,u>>=0,m=JMP.ScalingStatic.valueToPixel(s,x[g])>>0,T=b,f=u-m+1,u=m),e.fillStyle=s.scale.getReferenceColor(g),e.fillRect(c,u,T,f)):(l?c=h%2==1?.5+(c>>0):c+.5>>0:u=h%2==1?.5+(u>>0):u+.5>>0,JMP.LineSegmentStatic.drawLine(e,[c,l?c:c-b],[u,l?u+A:u],h,s.scale.getReferenceColor(g),L?L[g]:JMP.LineSegmentStatic.PATTERN_SOLID,R,JMP.LineSegmentStatic.TYPE_LINE,JMP.LineSegmentStatic.CONNECT_NONE,void 0,!l,l)),R<1&&(e.globalAlpha=C))};return e.getCache=function(e,i){let a,n=[];if(e.scale){a=e.scale[t.ROLE_X],a&&(n[t.ROLE_X]=e.isHorizontal?JMP.Scaling(a,.5+(e.y+e.height-1>>0),1-e.height):JMP.Scaling(a,.5+(e.x>>0),e.width-1)),a=e.scale[t.ROLE_Y],a&&(n[t.ROLE_Y]=e.isHorizontal?JMP.Scaling(a,.5+(e.x>>0),e.width-1):JMP.Scaling(a,.5+(e.y+e.height-1>>0),1-e.height));let i=!1,l=!1;const s=JMP.ReportStatic.getAxes();for(let a=0;a<s.length&&(!i||!l);a++){const n=s[a];e.scale[t.ROLE_X]===n.scale[t.ROLE_X]&&n.isDisplayed&&(i=!0,e.tickOffsetX=n.tickOffset,e.isBracketX=n.isBracket?n.isBracket:[]),e.scale[t.ROLE_Y]===n.scale[t.ROLE_Y]&&n.isDisplayed&&(l=!0,e.tickOffsetY=n.tickOffset,e.isBracketY=n.isBracket?n.isBracket:[])}i||(e.showMajorGridsX=[],e.showMinorGridsX=[]),l||(e.showMajorGridsY=[],e.showMinorGridsY=[])}i.scaling=n},e.draw=function(e,i){let a,n,{g:l,x:s,y:o,width:r,height:c,isHorizontal:d,showReference:g,showMajorGridsX:S,showMinorGridsX:m,majorGridColorsX:f,minorGridColorsX:T,showMajorGridsY:p,showMinorGridsY:E,majorGridColorsY:b,minorGridColorsY:A,xAddend:_,yAddend:x,tickOffsetX:L,tickOffsetY:N,isBracketX:I,isBracketY:M}=e,y=i.scaling[t.ROLE_X],C=i.scaling[t.ROLE_Y];if(y&&y.scale&&!e.isScaledByRightYAxis){for(JMP.ScalingStatic.updateScale(y,y.scale),JMP.ScalingStatic.updateOrigin(y,y.scale),n=S?S.length:0,a=0;a<n;a++)u(l,s,o-x/2,r,c+x,!d,S[a],m[a],f[a],T[a],y,C,a,L,I[a]);g&&h(l,s,o-x/2,r,c+x,!d,y,C)}if(C&&C.scale){for(JMP.ScalingStatic.updateScale(C,C.scale),JMP.ScalingStatic.updateOrigin(C,C.scale),n=p?p.length:0,a=0;a<n;a++)u(l,s-_/2,o,r+_,c,d,p[a],E[a],b[a],A[a],C,y,a,N,M[a]);g&&h(l,s-_/2,o,r+_,c,d,C,y)}},e.getTooltip=function(e,i,a,o){let c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P=JMP.TooltipModel(),D=JMP.TooltipModel(),F=e.isHorizontal,B=i.scaling,V=!1,k=[];for(p=function(){let e=JMP.ScalingStatic.valueToPixel(m,g[c])-a;return e*e},E=function(){let e=JMP.ScalingStatic.valueToPixel(m,g[c])-o;return e*e},b=function(){let e=s(m,x,a,o),t=l(m,x,+g[c],e.y);return(t.x-a)*(t.x-a)+(t.y-o)*(t.y-o)},A=function(){let e=s(x,m,a,o),t=l(x,m,e.x,+g[c]);return(t.x-a)*(t.x-a)+(t.y-o)*(t.y-o)},d=0;d<2;d++)if(u=0===d?t.ROLE_Y:t.ROLE_X,D.lines.length=0,m=B[u],k[u]=Number.MAX_VALUE,m&&(f=m.scale,g=f.refValues,S=f.refMaxValues,M=f.axisLabel||null,g&&M)){for(x=B[u===t.ROLE_Y?t.ROLE_X:t.ROLE_Y],_=x&&r.isGeodesic(f,x.scale)?u===t.ROLE_Y?A:b:u===t.ROLE_Y?F?p:E:F?E:p,h=g.length,c=0;c<h;c++)S&&void 0!==S[c]?(v=JMP.ScalingStatic.valueToPixel(m,g[c]),w=JMP.ScalingStatic.valueToPixel(m,S[c]),n(u===t.ROLE_Y?o:a,v,w)&&(R=(v+w)/2,O=R-(u===t.ROLE_Y?o:a),T=O*O,!V&&T<k[u]&&(D.lines.length=0,f.type===r.SCALE_LINEAR&&f.labels?(y=M,f.axisLabel&&f.labels.length>1&&(C=f.axisLabel.split(JMP.ViewStatic.NESTED_AXIS_DELIMITER),y=C[C.length-1]),N=f.getAxisValue(g[c],0),I=f.getAxisValue(S[c],0),D.addLine(y,N+" - "+I)):D.addLine(M,JMP.FormatStatic.formatRange(f.refFormat,g[c],S[c])),k[u]=T))):(T=_(),T<6&&(D.lines.length=0,f.type===r.SCALE_LINEAR&&f.labels?(L=JMP.ScalingStatic.valueToPixel(m,g[c]),JMP.TooltipStatic.addAxisValuesToTooltip(D,L,m)):D.addLine(M,g[c],f.refFormat),k[u]=T,V=!0));for(h=D.lines.length,c=0;c<h;c++)P.addLine(void 0,D.lines[c])}return P.lines.length>0?P:null},e.getPriority=function(e,i,a){let o,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,{x:y,y:C}=a,R=null,v=e.isHorizontal,w=i.scaling,O=!1,P=!1,D=[];if(T=function(){let e=JMP.ScalingStatic.valueToPixel(S,h[o])-y;return e*e},p=function(){let e=JMP.ScalingStatic.valueToPixel(S,h[o])-C;return e*e},E=function(){let e=s(S,_,y,C),t=l(S,_,+h[o],e.y);return(t.x-y)*(t.x-y)+(t.y-C)*(t.y-C)},b=function(){let e=s(_,S,y,C),t=l(_,S,e.x,+h[o]);return(t.x-y)*(t.x-y)+(t.y-C)*(t.y-C)},a.width||a.height)return null;for(c=0;c<2;c++)if(d=0===c?t.ROLE_Y:t.ROLE_X,S=w[d],D[d]=Number.MAX_VALUE,S&&(m=S.scale,h=m.refValues,g=m.refMaxValues,x=m.axisLabel||null,h&&x))for(_=w[d===t.ROLE_Y?t.ROLE_X:t.ROLE_Y],A=_&&r.isGeodesic(m,_.scale)?d===t.ROLE_Y?b:E:d===t.ROLE_Y?v?T:p:v?p:T,u=h.length,o=0;o<u;o++)g&&void 0!==g[o]?(N=JMP.ScalingStatic.valueToPixel(S,h[o]),I=JMP.ScalingStatic.valueToPixel(S,g[o]),n(d===t.ROLE_Y?C:y,N,I)&&(P=!0,L=(N+I)/2,M=L-(d===t.ROLE_Y?C:y),f=M*M,!O&&f<D[d]&&(D[d]=f))):(f=A(),f<6&&(D[d]=f,O=!0));if(O||P){const i=Math.min(D[t.ROLE_Y],D[t.ROLE_X]);R=JMP.Priority(i,O?JMP.TooltipModelStatic.TIP_PRIORITY_REFERENCE_LINE:e.width*e.height,e)}return R},e.isEmpty=function(e){let i=!0;return(e.showMajorGridsX||e.showMajorGridsY||e.showMinorGridsX||e.showMinorGridsY||!0===e.showReference&&(e.scale[t.ROLE_X]&&e.scale[t.ROLE_X].refValues||e.scale[t.ROLE_Y]&&e.scale[t.ROLE_Y].refValues))&&(i=!1),i},e}(),JMP.GridReferenceSegment=function(e){"use strict";let t,i=new d(e),a=function(){return t||(t={},JMP.GridReferenceSegmentStatic.getCache(i,t)),t};return i.showReference=!1,i.showMajorGridsX=void 0,i.showMinorGridsX=void 0,i.majorGridColorsX=void 0,i.minorGridColorsX=void 0,i.showMajorGridsY=void 0,i.showMinorGridsY=void 0,i.majorGridColorsY=void 0,i.minorGridColorsY=void 0,i.xAddend=0,i.yAddend=0,i.tickOffsetX=0,i.tickOffsetY=0,i.isBracketX=[],i.isBracketY=[],i.isScaledByRightYAxis=!1,i.draw=function(){JMP.GridReferenceSegmentStatic.draw(i,a())},i.getTooltip=function(e,t){return i.showReference?JMP.GridReferenceSegmentStatic.getTooltip(i,a(),e,t):null},i.getPriority=function(e){return i.showReference?JMP.GridReferenceSegmentStatic.getPriority(i,a(),e):null},i.isEmpty=function(){return JMP.GridReferenceSegmentStatic.isEmpty(i)},i},JMP.GroupBoxStatic=function(){"use strict";let e={LAYOUT_NONE:0,LAYOUT_PAGE:1,LAYOUT_WRAP:2,draw:function(t){const i=JMP.LARGE_FONT_SIZE/(JMP.LARGE_FONT_SIZE+JMP.SMALL_FONT_SIZE),a=t.layout===e.LAYOUT_NONE&&t.spacing>=1?t.spacing-1:0;let n,l,s,o,r,c,d,u,h=t.g,g=t.isHorizontal,S=t.isFlipped,m=t.levels?t.levels.length:0,f=t.x,T=t.y,p=t.width-1,E=t.height-1,b=.5+(f>>0),A=.5+(f+p>>0),_=.5+(T>>0),x=.5+(T+E>>0),L=0;for(t.title&&t.levels&&t.layout!==e.LAYOUT_PAGE?g?l=S?.5+(T+E*(1-i)>>0):.5+(T+E*i>>0):n=S?.5+(f+p*i>>0):.5+(f+p*(1-i)>>0):t.title?g?l=S?_:x:n=S?A:b:g?l=S?x:_:n=S?b:A,JMP.ViewStatic.reset(h),h.beginPath(),h.strokeStyle=JMP.COLOR_LINE,a||h.rect(b,_,p>>0,E>>0),g?(h.moveTo(b,l),h.lineTo(A,l),a&&(h.moveTo(b,S?x:_),h.lineTo(A,S?x:_),h.moveTo(b,_),h.lineTo(b,x),h.moveTo(A,_),h.lineTo(A,x)),L=m?(p-(m-1)*a)/m:0):(h.moveTo(n,_),h.lineTo(n,x),a&&(h.moveTo(S?b:A,_),h.lineTo(S?b:A,x),h.moveTo(b,_),h.lineTo(A,_),h.moveTo(b,x),h.lineTo(A,x)),L=m?(E-(m-1)*a)/m:0),r=b,c=_,d=1;d<=m;d++)g?(s=.5+(b+d*(L+a)>>0),d<m&&(h.moveTo(s,l),h.lineTo(s,S?_:x)),a&&(s-=a,h.moveTo(r,S?_:x),h.lineTo(s,S?_:x),d<m&&(h.moveTo(s,l),h.lineTo(s,S?_:x))),r=s+a):(o=.5+(_+d*(L+a)>>0),d<m&&(h.moveTo(n,o),h.lineTo(S?A:b,o)),a&&(o-=a,h.moveTo(S?A:b,c),h.lineTo(S?A:b,o),d<m&&(h.moveTo(n,o),h.lineTo(S?A:b,o))),c=o+a);if(h.stroke(),t.title){u=g?S?{x:b,y:l,width:p,height:x-l}:{x:b,y:_,width:p,height:l-_}:S?{x:b,y:_,width:n-b,height:E}:{x:n,y:_,width:A-n,height:E};let i=t.title;t.layout===e.LAYOUT_PAGE&&(i+=" = "+t.formattedLevels),JMP.TextBoxStatic.drawWrappedText(h,u,i,JMP.TEXT_FONT_SIZE,t.titleOrientation,JMP.ViewStatic.getTextColor(),JMP.TextBoxStatic.ALIGNMENT_CENTER,JMP.TextBoxStatic.ALIGNMENT_MIDDLE,!1,void 0,void 0,void 0,"bold")}if(t.levels&&(!t.title||t.layout!==e.LAYOUT_PAGE)){u=g?S?{x:b,y:_,width:L,height:l-_}:{x:b,y:l,width:L,height:x-l}:S?{x:n,y:_,width:A-n,height:L}:{x:b,y:_,width:n-b,height:L};let i=t.layout!==e.LAYOUT_PAGE||t.title?JMP.TEXT_FONT_SIZE:JMP.LARGE_FONT_SIZE;for(d=0;d<m;d++)g?u.x=.5+(b+d*(L+a)>>0):u.y=.5+(_+d*(L+a)>>0),JMP.TextBoxStatic.drawWrappedText(h,u,t.formattedLevels?t.formattedLevels[d]:t.levels[d],i,t.levelOrientation,JMP.ViewStatic.getTextColor(),JMP.TextBoxStatic.ALIGNMENT_CENTER,JMP.TextBoxStatic.ALIGNMENT_MIDDLE,!1)}}};return e}(),JMP.GroupBox=function(e){"use strict";let t=new d(e);return t.isFlipped=!1,t.title=void 0,t.levels=void 0,t.formattedLevels=void 0,t.titleOrientation=JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,t.levelOrientation=JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,t.layout=JMP.GroupBoxStatic.LAYOUT_NONE,t.spacing=1,t.draw=function(){JMP.GroupBoxStatic.draw(t)},t};class T extends d{static FUZZ_PIXELS=3;static MIN_BIN_HEIGHT=30;static STD_ERROR_BAR_DECIMALS=3;cache;fillColor=JMP.COLOR_WHITE;lineColor=JMP.COLOR_LINE;lineWidth=1;lineStyle=JMP.LineSegmentStatic.PATTERN_SOLID;lineDash=[];scores=void 0;binWidth=0;binOrigin=0;binSpanDif=0;binSpan=1;microBinStarts;nBins=0;maxHeight=1;selectedFillColor=JMP.COLOR_FILL;fillPattern=void 0;freq=[];alpha=1;showErrorBar=!1;showPercents=!1;showCounts=!1;adjustPadding=!1;isFlipped=!1;position=void 0;size=void 0;parallelScaling=void 0;isScaleChanged=!1;primaryAxisScale="none";overlapFactor=1;percentFormat;fontSize=JMP.SMALL_FONT_SIZE;#q;#j;#K;isDataTreatedAsCategorical;isDataTreatedAsContinuous;isScoreRowIndicesIndependent;isGraphBuilderSegment=!1;isCDFPlot=!1;isQuantilePlot=!1;isMosaicPlot=!1;menuOptions=[];static histNodeDisplaysWithMenu=new Map;static distribMenuItem=[];static isStacked=!1;constructor(e){super(e),this.onRowStatesEvent=this.onRowStatesEvent.bind(this),this.onScaleEvent=this.onScaleEvent.bind(this),this.setScalable(JMP.SegmentStatic.SCALABLE_CLIENT_SERVER),this.setPannableWithoutAxis(!1)}onScaleEvent(e){e.type!==r.EVENT_INPUT&&e.type!==r.EVENT_CHANGED||(this.isScaleChanged=!0)}getCache(){return(this.columns&&this.columns.getColumn(t.ROLE_Y)||this.scores)&&(this.cache?this.#Q():(this.cache={},this.#j||this.initStaticCache(),this.#j=!0,this.cache.xScaling.scale.addEventListener(this.onScaleEvent),this.cache.yScaling.scale.addEventListener(this.onScaleEvent))),this.cache}initStaticCache(){let e,i,a,n,l;for(this.cache.origX=this.x,this.cache.origWidth=this.width,this.cache.origY=this.y,this.cache.origHeight=this.height,this.cache.labeledColumns=this.columns.getLabeledColumns(),this.cache.tipImageColumn=this.columns.getTipImageColumn(),this.columns&&(this.cache.frequencyData=this.columns.getColumn(t.ROLE_FREQ),this.cache.weightData=this.columns.getColumn(t.ROLE_WEIGHT),n=this.columns.getColumn(t.ROLE_Y),this.cache.freqColumn=this.#J(this.cache.frequencyData,this.rowIndices,n?n.length:void 0),n&&n.isContinuous()&&JMP.ViewStatic.isServerAvailable&&this.setScalable(JMP.SegmentStatic.SCALABLE_SERVER)),this.cache.histogramHeightPadding=8,this.adjustPadding&&(this.cache.histogramHeightPadding=((this.isHorizontal?this.cache.origHeight-1:this.cache.origWidth-1)/10>>0)-1),this.scale[t.ROLE_X]&&(this.cache.defaultXScaling=JMP.Scaling(this.scale[t.ROLE_X],.5+(this.cache.origX>>0),this.cache.origWidth-1)),this.scale[t.ROLE_Y]&&(this.cache.defaultYScaling=JMP.Scaling(this.scale[t.ROLE_Y],.5+(this.cache.origY>>0),1-this.cache.origHeight)),this.isHorizontal?(this.cache.scaling=this.cache.defaultXScaling,this.cache.groupScaling=this.cache.defaultYScaling):(this.cache.scaling=this.cache.defaultYScaling,this.cache.groupScaling=this.cache.defaultXScaling),(null===n||this.isScoreRowIndicesIndependent)&&this.subsetRowIndices?l=[this.subsetRowIndices]:this.isScoreRowIndicesIndependent||(l=[this.rowIndices]),this.cache.term=JMP.Term([this.columns.getColumn(t.ROLE_Y)],this.columns.rowStates,l,JMP.TermStatic.scoreMissing(this.columns.getColumn(t.ROLE_Y),this.hasMissingLevels)),this.cache.scores=this.#$(),this.fillColor||(this.fillColor=JMP.COLOR_WHITE),this.selectedFillColor||(this.selectedFillColor=JMP.COLOR_FILL),this.lineColor||(this.lineColor=JMP.COLOR_LINE),this.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED&&(this.selectedFillColor=JMP.ViewStatic.getSelectionPatternFillStyle(this.selectedFillColor)),this.lineStyle!==JMP.LineSegmentStatic.PATTERN_SOLID&&this.lineWidth>0&&(this.lineDash=JMP.LineSegmentStatic.getLineDash(this.lineStyle,this.lineWidth)),this.columns&&(this.cache.rowStates=this.columns.rowStates),this.cache.rowStateIndices=[],e=0;e<this.nBins;e++)this.cache.rowStateIndices[e]=[];for(this.#ee(),this.cache.freqMax=this.freq[0],e=1;e<this.nBins;e++)this.cache.freqMax<this.freq[e]&&(this.cache.freqMax=this.freq[e]);i=this.cache.defaultXScaling,i||(this.isHorizontal?(i=JMP.Scaling(new r(1,this.cache.origWidth-1),.5+(this.cache.origX>>0),(this.cache.origWidth-1)*this.cache.totalFreq),this.#K=!0,this.cache.scaling=i):(i=JMP.Scaling(new r(1,this.cache.freqMax),.5+(this.cache.origX>>0),(this.cache.origWidth-1-this.cache.histogramHeightPadding)*(this.binWidth*this.cache.totalFreq)),this.cache.groupScaling=i)),a=this.cache.defaultYScaling,a||(this.isHorizontal?(a=JMP.Scaling(new r(1,this.cache.freqMax),.5+(this.cache.origY>>0),(this.cache.histogramHeightPadding+(1-this.cache.origHeight))*(this.binWidth*this.cache.totalFreq)),this.cache.groupScaling=i):(a=JMP.Scaling(new r(1,this.cache.origHeight-1),.5+(this.cache.origY>>0),(1-this.cache.origHeight)*this.cache.totalFreq),this.#K=!0,this.cache.scaling=a));const s=this.cache.groupScaling.scale.range+2*this.cache.groupScaling.scale.origin;"none"===this.primaryAxisScale&&this.maxHeight!==s?this.cache.hasScaling=!1:this.cache.hasScaling=!0,this.cache.yScaling=a,this.cache.xScaling=i,this.#te(),this.#ie([],[],this.#K),this.#ae(),"count"===this.primaryAxisScale?this.cache.heightToCount=1:"probability"===this.primaryAxisScale?this.cache.heightToCount=1/this.cache.totalFreq:this.cache.heightToCount=1/(this.binWidth*this.cache.totalFreq),this.cache.origin=this.cache.scaling.pixelOrigin-(this.isHorizontal?this.x:this.y)-.5,this.cache.hasScaling&&(this.cache.origin=this.cache.groupScaling.scale.origin),this.isHorizontal?this.cache.scaling.pixelPerValueScale<0&&(this.isFlipped=!0):this.cache.scaling.pixelPerValueScale>0&&(this.isFlipped=!0)}draw(){this.getCache();let e,t,i,a,n,l,s,o,r,d,u,h,g,S,m,{g:f,x:T,y:p,maxHeight:E,fillColor:b,selectedFillColor:A,lineColor:_,alpha:x,fillPattern:L,isHorizontal:N,isFlipped:I,showCounts:M,showPercents:y,showErrorBar:C}=this,R=this.freq,v=c.getSelectedColor(_),w=void 0!==this.size,O=this.isHorizontal?w?this.height:this.height-1:this.width,P=[],D=R.length,F=[],B=1,V=0,k=f.globalAlpha,G=M||y||C,H="",Y={},U=[],z=[],W={x0:0,x1:0};if(!this.cache)return;let{staticFreq:X,selectedFreq:Z,origin:q,heightToCount:j,bins:K,errorBars:Q}=this.cache;this.cache.hasScaling&&(E=this.cache.groupScaling.scale.range),f.save(),w&&(f.beginPath(),f.rect(T+.5,this.cache.origY+.5,this.cache.origWidth-1,this.height+p-this.cache.origY-(N?0:1)),f.clip()),f.translate(T,p),f.strokeStyle=_,f.fillStyle=b,f.lineWidth=this.lineWidth,f.setLineDash(this.lineDash),x<1&&(f.globalAlpha=x),B=N&&I?-1:1,V=N||I?0:1;let J=this.#ne(0,O,q,E,!0),$=this.cache.hasScaling?J:-2,ee=this.cache.hasScaling?J:0;for(e=ee,f.fillStyle=L?JMP.ViewStatic.getFillPatternCanvas(b,L):b,f.strokeStyle=b,n=0;n<D;n++){F[n]=Math.abs(K[n+1]-K[n]);let l=X[n]*j;P[n]=this.#ne(l,O,q,E)*this.overlapFactor,X[n]>0&&R[n]>0&&(N?(e=W.x0=K[n]+.5,t=W.x1=F[n]*B,this.#le(W,this.width)&&(e=W.x0,t=W.x1)):(i=W.x0=K[n+V]+.5,a=W.x1=F[n],this.#le(W,this.height)&&(i=W.x0,a=W.x1)),N?(i=O-P[n],a=P[n]-$):t=P[n]-ee+1,f.fillRect(e,i,t,a))}for(f.fillStyle=L?JMP.COLOR_FILL_PATTERN_SELECT:A,n=0;n<D;n++)if(S=void 0,R[n]>0){if(Z[n]>0){if(l=this.#ne(Z[n]*j,O,q,E)*this.overlapFactor,N?(e=W.x0=K[n]+.5,t=W.x1=F[n]*B,this.#le(W,this.width)&&(e=W.x0,t=W.x1)):(i=W.x0=K[n+V]+.5,a=W.x1=F[n],this.#le(W,this.height)&&(i=W.x0,a=W.x1)),N)i=l===P[n]?O-l:O-l-1,a=l-$;else{t=l-ee+(l===P[n]?0:1)}f.fillRect(e,i,t,a)}if(X[n]>0){if(N)e=W.x0=K[n],t=W.x1=F[n]*B,this.#le(W,this.width)&&(e=W.x0,t=W.x1,S={x:e,y:O-P[n]-.5,width:t,height:P[n]-$});else if(i=W.x0=K[n+V],a=W.x1=F[n],this.#le(W,this.height)){i=W.x0,a=W.x1;let t=P[n]-ee;0===P[n]&&(t=1-ee),S={x:e+.5,y:i,width:t,height:a}}S&&(Z[n]>0?U.push(S):z.push(S))}}if(this.lineWidth>0){for(m=z.length,n=0;n<m;n++)f.strokeStyle=_,S=z[n],f.strokeRect(S.x,S.y,S.width,S.height);for(m=U.length,n=0;n<m;n++)f.strokeStyle=v,S=U[n],f.strokeRect(S.x,S.y,S.width,S.height)}if(w&&(f.restore(),f.save(),f.translate(T,p)),G){f.textAlign="left",f.textBaseline="top",f.lineWidth=1;let e=!1;for(n=0;n<D;n++)if(R[n]>0&&(Z[n]>0?f.strokeStyle=v:f.strokeStyle=_,s=Q[n],d=N?O:0,s&&(f.beginPath(),r=this.#ne(s[0]*j,O,q,E)+.5,d=this.#ne(s[1]*j,O,q,E)+.5,o=s[2],u=s[3],h=o-u>>0,g=o+u+1-JMP.EPSILON>>0,N?(r=O-r+1,d=O-d+1,f.moveTo(h,r),f.lineTo(g,r),f.moveTo(o,r),f.lineTo(o,d),f.moveTo(h,d),f.lineTo(g,d)):(f.moveTo(r,h),f.lineTo(r,g),f.moveTo(r,o),f.lineTo(d,o),f.moveTo(d,h),f.lineTo(d,g)),f.stroke(),f.closePath())),H="",M&&(H+=JMP.FormatStatic.formatNumber(X[n],this.#se(X[n])),y&&(H+=", ")),y&&(H+=JMP.FormatStatic.formatNumber(X[n]/this.cache.totalStaticFreq,this.percentFormat)),0!==X[n]&&(e=!0),""!==H&&e){f.font=this.fontSize+"px "+JMP.SMALL_FONT_FAMILY,Y.width=f.measureText(H).width,Y.height=this.fontSize,E<0&&N&&(Y.height*=-1);let e=P[n]?P[n]:0;N?(Y.x=K[n]+F[n]*B*.5-.5*Y.width,e=O-e-.5,e=0===X[n]?e:Math.min(d,e),Y.y=e-Y.height-2,Y.y-Y.height<0&&(Y.y=5,f.fillStyle=JMP.COLOR_WHITE,f.fillRect(Y.x-1,Y.y-1,Y.width+2,Y.height+2))):(e+=1.5,Y.x=0===X[n]?e:Math.max(d,e),E<0?Y.x-=Y.width+2+3:Y.x+=2,Y.y=K[n+V]+.5*F[n]-.5*Y.height,Y.x+Y.width>this.width&&(Y.x=this.width-Y.width-5,f.fillStyle=JMP.COLOR_WHITE,f.fillRect(Y.x-1,Y.y-1,Y.width+2,Y.height+2))),f.fillStyle=JMP.COLOR_BLACK,f.fillText(H,Y.x,Y.y)}}f.restore(),w&&(f.strokeStyle=JMP.COLOR_LINE,f.lineWidth=1,f.beginPath(),N?(f.moveTo(this.x,this.y+this.height+.5),f.lineTo(this.x+this.width,this.y+this.height+.5)):(f.moveTo(this.x+.5,0),f.lineTo(this.x+.5,this.y+this.height)),f.stroke()),x<1&&(f.globalAlpha=k)}select(e,t){this.getCache(),this.#q=!0;let i,a,n,l,s,o,r=0!==e.width||0!==e.height,c=[],d=!1;if(this.cache&&this.cache.rowStates){for(this.cache.isOffset&&(e.y-=this.y-this.cache.containerRect.y,e.x-=this.x-this.cache.containerRect.x),i=this.cache.rowStateIndices,a=this.cache.rowStates,this.#oe(e),n=this.cache.selectedBins,o=n.length,l=0;l<o;l++)if(c=c.concat(i[n[l]]),!r&&t===JMP.ViewStatic.SELECT_TOGGLE)for(d=!1,s=0;s<c.length&&!d;s++)a.selected[c[s]]&&(d=!0);JMP.ViewStatic.selectRows(a,t,c,d)}}getTooltip(e,i){this.getCache();let a,n,l,s,o,r,c,d,u,h,g,S,m,f,p,E,b,A=null,_=0,x=void 0!==this.size,L=this.isHorizontal?x?this.height:this.height-1:this.width-1;if(!this.cache)return null;this.cache.isOffset&&(i-=this.y-this.cache.containerRect.y,e-=this.x-this.cache.containerRect.x);let{origin:N,heightToCount:I,bins:M,binLabels:y,staticFreq:C,totalStaticFreq:R,errorBars:v,scaling:w,labeledColumns:O,tipImageColumn:P}=this.cache;if(r=this.cache.rowStateIndices,u=this.columns.getColumn(t.ROLE_Y),this.#oe({x:e,y:i,width:0,height:0}),o=this.cache.selectedBins,o.length>0&&(n=o[0],A=JMP.TooltipModel()),this.showErrorBar){if(e-=this.x,i-=this.y,A)a=n,s=v[a];else for(a=0;a<this.nBins&&!s;a++)C[a]>0&&(this.isHorizontal?e<M[a+1]&&e>M[a]&&(s=v[a]):i<M[a]&&i>M[a+1]&&(s=v[a])),s&&(n=a);s&&(this.isHorizontal?(_=L-this.#ne(s[1]*I,L,N,this.maxHeight),i>=_-T.FUZZ_PIXELS&&(A=JMP.TooltipModel())):(_=this.#ne(s[1]*I,L,N,this.maxHeight),e<=_+T.FUZZ_PIXELS&&(A=JMP.TooltipModel())))}let D=this.freq[n];if(A&&D>0){if(h=this.columns.getColumns(t.ROLE_X),O.length>0)for(g=this.columns.getColumns(t.ROLE_Y),S=this.scale[t.ROLE_X],m=this.scale[t.ROLE_Y],c=JMP.ViewStatic.getSortedValuesFromLabeledColumns(O,r[n],h,g,S,m),d=0;d<O.length;d++)A.addLineFromValues(O[d].name,c[d]);else A.addLineFromValues(JMP.TooltipModelStatic.TIP_ROW,r[n].map((function(e){return e+1})));if(y.length===M.length&&JMP.TooltipModelStatic.addBinLines(A,w.scale,u?[u]:[],r[n][0],y[n],y[n+1],this.isDataTreatedAsCategorical),!this.parallelScaling&&this.cache.isOffset&&this.cache.groupScaling)for(a=h.length-1;a>=0;a--)h[a].isCategorical()&&(E=h[a].name,b=h[a].data[r[n][0]],h[a].valueLabels&&(b=h[a].getValueString(b)),A.addLine(E,b));this.#re(A,this.cache.rowStateIndices[n],this.cache.freqColumn,this.cache.rowStates),f=C[n]/R,p=JMP.FormatStatic.getShareFormat(f),A.addLine(this.groupCalculation?JMP.TooltipModelStatic.TIP_PERCENT_GROUP:JMP.TooltipModelStatic.TIP_PERCENT,f,p),A.distance=0,A.priority=this.height*this.width,s&&(A.addLine(JMP.TooltipModelStatic.TIP_UPPER_BOUND,s[1],JMP.Format(JMP.FormatStatic.FORMAT_FIXED,!1,T.STD_ERROR_BAR_DECIMALS)),A.addLine(JMP.TooltipModelStatic.TIP_LOWER_BOUND,s[0],JMP.Format(JMP.FormatStatic.FORMAT_FIXED,!1,T.STD_ERROR_BAR_DECIMALS)));let e=this.maxHeight;this.cache.hasScaling&&(e=this.cache.groupScaling.scale.range),l=this.#ce(n,L,N,I,e,this.overlapFactor,C,M,this.isHorizontal,this.isFlipped),l&&(this.isHorizontal?(A.x=l.x<0?this.x:this.x+l.x,A.y=this.y+(0===_?l.y:_),A.y-=2*T.FUZZ_PIXELS):(A.x=this.x,A.y=l.y<0?this.y:this.y+l.y)),P&&P.data[r[n][0]]&&(A.addLine(P.name,""),A.imageSrc=P.data[r[n][0]])}return A&&(A.seg=this),A}getPriority(e){this.getCache();let t=null;return this.cache?(this.cache.isOffset&&(e.y-=this.y-this.cache.containerRect.y,e.x-=this.x-this.cache.containerRect.x),this.#oe({x:e.x,y:e.y,width:e.width,height:e.height}),this.cache.selectedBins.length>0&&(t=JMP.Priority(),t.distance=0,t.priority=this.height*this.width,t.seg=this),t):null}onRowStatesEvent(){this.#q=!0}getScalable(e){let t=super.getScalable();return(!0===e&&!this.isHorizontal||!1===e&&this.isHorizontal)&&!this.isGraphBuilderSegment&&(t=JMP.SegmentStatic.SCALABLE_NONE),t}static setDistribMenuItem(e){let t=e.split(";");t.pop();for(let e=0;e<t.length;e++){const i=t[e].split(":");"Stack"===i[1]&&(T.isStacked="true"===i[2]);const a={id:i[0]+":"+i[1],label:JMP.DocumentMenuStatic.getMenuTextLocale(i[1]),type:JMP.MenuStatic.MENU_CHECK,isChecked:T.isStacked};T.distribMenuItem=[],T.distribMenuItem.push(a),0===JMP.DocumentMenuStatic.menuOptions.length&&(JMP.DocumentMenuStatic.menuOptions.push("Distribution"),JMP.DocumentMenuStatic.menuOptions.push("Stack"),JMP.DocumentMenuStatic.menuOptions.push(T.isStacked.toString()),JMP.DocumentMenuStatic.distributionIndex.add(0))}}#ne(e,t,i,a,n){let l,s;return l=(e-i)/a,s=l*t,s>0&&!n?s+=.5:(s<0||n)&&(s-=.5),Math.floor(s)}#Q(){if(this.#q&&(this.#de(),this.#q=!1),this.isScaleChanged){JMP.ScalingStatic.updateScale(this.cache.scaling,this.cache.scaling.scale),JMP.ScalingStatic.updateOrigin(this.cache.scaling,this.cache.scaling.scale);let e=this.cache.scaling.pixelOrigin-(this.isHorizontal?this.x:this.y)-.5;this.cache.hasScaling&&(JMP.ScalingStatic.updateScale(this.cache.groupScaling,this.cache.groupScaling.scale),JMP.ScalingStatic.updateOrigin(this.cache.groupScaling,this.cache.groupScaling.scale),e=this.cache.groupScaling.scale.origin),this.cache.origin=e,this.#te(),this.#ie(this.cache.bins,this.cache.binLabels,this.#K),this.#ae(),this.isScaleChanged=!1}}#le(e,t){let i=!1,a=e.x0,n=e.x1,l=a-Math.floor(a);return a>=0&&a<=t||a+n>=0&&a+n<=t?(a<0&&(n+=a+l,a=-l),a+n>t&&(n=t-a+l),e.x0=a,e.x1=n,i=!0):a<0&&a+n>t&&(a=-l,n=t-a+l,i=!0),i}#ue(e,t){return e?e[t]&&e[t]>0?e[t]:0:1}#he(e,t){return t?t[e]:e}#ge(e){let{nBins:t,binOrigin:i,binWidth:a,binSpan:n,binSpanDif:l,microBinStarts:s}=this,o=a/n,r=t*n-l;return s?e<0?s[0]+e*o:e>r?s[r]+(e-r)*o:s[e]:i+e*o}#Se(e){let{binSpan:t,binSpanDif:i}=this,a=e*t-i;return this.#ge(a)}#ie(e,t,i){let a,n,{x:l,y:s,nBins:o,isHorizontal:c}=this,d=this.cache.scaling,u=this.isHorizontal?this.width-1:this.height-1,h=d.scale.type===r.SCALE_LOG,g=d.scale.type===r.SCALE_POWER,S=d.scale.base;if(i)for(a=0;a<=o;a++)e[a]=c?.5+(a*u/o>>0):.5+(u-a*u/o>>0);else for(a=0;a<=o;a++)e[a]=h?S**this.#Se(a):g?r.convertFromValue(r.SCALE_POWER,this.#Se(a),void 0,1/d.scale.power):this.#Se(a),t[a]=d.scale.getAxisValue(e[a],0),this.parallelScaling&&(e[a]=this.parallelScaling.scaleValue(e[a]),t=[]),n=c?JMP.ScalingStatic.valueToPixel(d,e[a])-l:JMP.ScalingStatic.valueToPixel(d,e[a])+u-s,e[a]=Math.floor(n+n*JMP.EPSILON)+.5;this.cache.bins=e,this.cache.binLabels=t}#me(e,t,i,a){let n,l,s,o,r,c,d=t,u=e;return u>0?(n=Math.abs(u),l=Math.sqrt(u*(d-u)/d),s=(i+a)/2,s=.5+(s+s*JMP.EPSILON>>0),o=n-l,r=n+l,c=Math.max(Math.abs(a-i)/6,2),[o,r,s,c]):null}#ce(e,t,i,a,n,l,s,o,r,c){let d,u,h,g,S,m=null,f=r||c?0:1;if(s[e]>0){S=this.#ne(s[e]*a,t,i,n)*l;let T,p,E=this.#ne(0,t,i,n,!0);r?(d=c?o[e+1]:o[e],u=c?o[e]:o[e+1],T=t-E,p=t-S,g=Math.min(T,p),h=Math.max(T,p)):(T=E,p=S,d=Math.min(T,p),u=Math.max(T,p),h=c?o[e+1]:o[e],g=o[e+f]),m={x:d,y:g,width:Math.abs(d-u),height:Math.abs(g-h)}}return m}#fe(){.5===this.binOrigin-Math.floor(this.binOrigin)&&(this.binOrigin+=.5)}#Te(e,t,i,a){let n;return(e=(e-t)/i)>a?n=a:e<0?n=-1:(n=e*(1+JMP.SINGULAR)>>0,n===a&&e*(1-JMP.SINGULAR)>>0==a-1&&(n=a-1)),n}#pe(e){let t=-1,i=this.binWidth/this.binSpan,a=this.nBins*this.binSpan;return Number.isNaN(e)||(t=this.microBinStarts?JMP.ModelStatic.binarySearch(e,this.microBinStarts):this.#Te(e,this.binOrigin,i,a)),(t<0||t>=a)&&(t=-1),t}#Ee(e,i){let a,n,l,s=e.length,o=[],c=this.cache.scaling,d=this.binOrigin;for(this.columns.getColumn(t.ROLE_Y).isCategorical()&&this.#fe(),o=Array(s).fill(-1),n=0;n<s;n++)l=!0,a=e[n],null===a||i&&-1===a||(c&&(a=a<=0&&c.scale.type===r.SCALE_LOG?NaN:r.convertFromValue(c.scale.type,a,c.scale.base,c.scale.power)),o[n]=this.#pe(a,this));return this.binOrigin=d,o}#be(e,t,i){let a,n,l,s;if(s=[],l=e.getScores(),i)for(n=0,a=0;a<t;a++)s[a]=-1,a===i[n]&&(s[a]=l[n++]);else s=l;return s}#$(){let e,i,a,n,l=this.columns.getColumn(t.ROLE_Y),s=l?l.data:void 0,o=this.cache.term,r=!1,c=l?l.valueOrdering:void 0;if(l&&(this.isDataTreatedAsCategorical||l.dataLevel===t.LEVEL_NOMINAL||l.dataLevel===t.LEVEL_ORDINAL&&!this.isDataTreatedAsContinuous))!this.isDataTreatedAsCategorical&&l.dataLevel===t.LEVEL_ORDINAL&&o.getNLevels()>15&&l.type===t.TYPE_NUMBER||(s=this.isScoreRowIndicesIndependent?this.#be(o,s.length,this.subsetRowIndices):this.#be(o,s.length,this.rowIndices),n=o.getCharLevels(),n&&this.cache.scaling&&T.permuteScores(s,n,this.cache.scaling.scale),r=!0);else if(l&&c&&c.length>0){for(e=[],i=0;i<s.length;i++)for(a=0;a<c.length;a++)if(s[i]===c[a]){e[i]=a;break}s=e}return e=s?this.#Ee(s,r):this.scores,e}#ee(){let e,i,a,n,l,s,o,r,{rowStates:c,frequencyData:d,weightData:u,rowStateIndices:h,scores:g}=this.cache,{nBins:S,binSpan:m,binSpanDif:f}=this,T=null===this.columns.getColumn(t.ROLE_Y)&&this.subsetRowIndices?this.subsetRowIndices:this.rowIndices,p=0,E=0,b=1,A=this.isExcludedUsed&&c?c.excluded:void 0,_=this.isSelectedUsed&&c?c.selected:void 0,x=!1;for(o=d||u,o&&(r=d?d.length:u.length),l=T?T.length:g.length,this.cache.staticFreq=[],this.cache.selectedFreq=[],e=0;e<S;e++)this.freq[e]=0,this.cache.selectedFreq[e]=0,this.cache.staticFreq[e]=0,h[e]=[];for(x=T&&T.length!==g.length,e=0;e<l;e++)i=x?T[e]:e,A&&A[i]||(s=g[i],null!==s&&s>=0&&(s+=f,a=s/m>>0,a>=0&&a<S&&(o&&(n=x&&r!==l?x&&r!==g.length?this.subsetRowIndices.indexOf(i):i:e,b=this.#ue(d,n)*this.#ue(u,n)),this.cache.staticFreq[a]+=b,E+=b,p+=b,b&&(h[a].push(this.#he(e,T)),this.freq[a]+=b,_&&_[this.#he(e,T)]&&(this.cache.selectedFreq[a]+=b)))));this.cache.totalStaticFreq=E,this.cache.totalFreq=p}#oe(e){let t,i,a,n,l,s,o,r,c,d,u=void 0!==this.size,h=this.isHorizontal?u?this.height:this.height-1:this.width-1,{maxHeight:g,nBins:S,isHorizontal:m}=this,{origin:f,heightToCount:p,bins:E}=this.cache,b=this.cache.staticFreq,A=[],_=!1;for(i=e.x-this.x,n=i+e.width,a=e.y-this.y,l=a+e.height,s={x:i,y:a},o={x:n,y:l},r=0!==e.width||0!==e.height,r&&(c={x:i,y:a,width:e.width,height:e.height}),this.cache.hasScaling&&(g=this.cache.groupScaling.scale.range),t=0;t<S;t++)if(d=this.#ce(t,h,f,p,g,this.overlapFactor,b,E,m,this.isFlipped),d)if(r||(m?d.height<T.MIN_BIN_HEIGHT&&(d.y-=T.MIN_BIN_HEIGHT-d.height,d.height=T.MIN_BIN_HEIGHT):d.width<T.MIN_BIN_HEIGHT&&(d.width=T.MIN_BIN_HEIGHT)),r){if(!_&&JMP.ViewStatic.pointInRect(s,d)&&JMP.ViewStatic.pointInRect(o,d)){A[0]=t;break}JMP.ViewStatic.rectanglesIntersect(c,d)&&(A.push(t),_=!0)}else if(JMP.ViewStatic.pointInRect(s,d)){A[0]=t;break}this.cache.selectedBins=A}#se(e){return Number.isInteger(e)?JMP.Format(JMP.FormatStatic.FORMAT_BEST):JMP.Format(JMP.FormatStatic.FORMAT_FIXED,!1,3)}#J(e,t,i){let n,l,s=[];if(e){if(t){for(n=0;n<i;n++)s[n]=0;for(n=0;n<e.length;n++)s[t[n]]=e[n]}else for(n=0;n<e.length;n++)s[n]=e[n];l=new a(s)}return l}#te(){let e=this.cache.xScaling,t=this.cache.yScaling;this.cache.isOffset=void 0!==this.size,this.cache.isOffset&&(this.cache.containerRect={x:this.cache.origX,y:this.cache.origY,width:this.cache.origWidth,height:this.cache.origHeight},this.isHorizontal?(this.height=JMP.ScalingStatic.valueToPixel(t,this.position)-JMP.ScalingStatic.valueToPixel(t,this.position+this.size)>>0,this.height<0?(this.height=Math.abs(this.height),this.y=JMP.ScalingStatic.valueToPixel(t,this.position)+this.cache.containerRect.height>>0):this.y=JMP.ScalingStatic.valueToPixel(t,this.position)+this.cache.containerRect.height-this.height-1>>0):(this.x=JMP.ScalingStatic.valueToPixel(e,this.position)>>0,this.width=Math.round(JMP.ScalingStatic.valueToPixel(e,this.position+this.size)-this.x)))}#ae(){let e=this.cache.bins,t=[];if(this.showErrorBar)for(let i=0;i<this.nBins;i++)t[i]=this.#me(this.cache.staticFreq[i],this.cache.totalStaticFreq,e[i],e[i+1]);this.cache.errorBars=t}#de(){this.columns&&(this.cache.rowStates=this.columns.rowStates),this.cache.rowStateIndices=[];for(let e=0;e<this.nBins;e++)this.cache.rowStateIndices[e]=[];this.#ee()}#re(e,t,i,a){let n,l=[t];n=JMP.NStatic.getValues(void 0,i,a,l)[0];let{count:s,countSelected:o,countHidden:r}=n[0];JMP.TooltipStatic.addLineForRows(e,s,o,r,!!i)}static permuteScores(e,t,i){let a,n,l=[],s=t.concat();for(JMP.ViewStatic.permuteUniqueValues(i,[s]),a=0;a<t.length;a++)for(n=0;n<s.length;n++)s[n]===t[a]&&(l[a]=n);for(a=0;a<e.length;a++)e[a]=e[a]<0?e[a]:l[e[a]]}}JMP.ImageStatic=function(){"use strict";let e={getCache:function(e,t){let i,a,n,l;i=e.x,a=e.y,void 0!==e.left&&void 0!==e.top&&(i=e.left,a=e.top),void 0!==e.right&&void 0!==e.bottom&&(n=e.right-i,l=e.bottom-a),t.xPos=i,t.yPos=a,t.width=n,t.height=l},draw:function(e,t){let i,{g:a,image:n,alpha:l,imageWidth:s,imageHeight:o}=e,{xPos:r,yPos:c,width:d,height:u}=t;n&&(l<1&&(i=a.globalAlpha,a.globalAlpha=l),void 0!==d&&void 0!==u||void 0!==s||void 0!==o?void 0===d||void 0===u?a.drawImage(n,r,c,s,o):a.drawImage(n,r,c,d,u):a.drawImage(n,r,c),l<1&&(a.globalAlpha=i))}};return e}(),JMP.Image=function(e){"use strict";let t,i=new d(e);return i.image=void 0,i.alpha=1,i.left=void 0,i.top=void 0,i.right=void 0,i.bottom=void 0,i.imageWidth=void 0,i.imageHeight=void 0,i.draw=function(){JMP.ImageStatic.draw(i,(t||(t={},JMP.ImageStatic.getCache(i,t)),t))},i.setScalable(JMP.SegmentStatic.SCALABLE_NONE),i},JMP.InputStatic=function(){"use strict";let e={TYPE_CHECKBOX:0,TYPE_RADIO:1,draw:function(t){let{g:i,x:a,y:n,type:l,text:s,checked:o}=t,r=JMP.LARGE_FONT_SIZE-1,c=n-r+1,d=.5*r;if(l===e.TYPE_CHECKBOX||l===e.TYPE_RADIO){if(i.strokeStyle=JMP.COLOR_LINE,i.lineWidth=1,i.lineJoin="bevel",i.lineCap="butt",i.beginPath(),l===e.TYPE_RADIO)i.arc(a+d,c+d,d,0,JMP.TWO_PI);else i.rect(a+.5,c+.5,r,r),i.fillStyle="rgba(255, 255, 255, 1)",i.fillRect(a,c,r,r);if(i.stroke(),o)if(l===e.TYPE_RADIO)i.fillStyle=JMP.COLOR_LINE,i.beginPath(),i.arc(a+d,c+d,.5*d,0,JMP.TWO_PI),i.fill();else i.lineWidth=3,i.beginPath(),i.moveTo(a+3,c+5),i.lineTo(a+6,c+10),i.lineTo(a+10,c-2),i.stroke();i.textBaseline="alphabetic",i.textAlign="start",i.fillStyle=JMP.ViewStatic.getTextColor(),i.font=JMP.LARGE_FONT_SIZE+"px "+JMP.FONT,i.fillText(s,a+JMP.LARGE_FONT_SIZE+2,n)}}};return e}(),JMP.Input=function(e){"use strict";let t=new d(e);return t.text="",t.type=JMP.InputStatic.TYPE_CHECKBOX,t.checked=!1,t.draw=function(){JMP.InputStatic.draw(t)},t},JMP.LabelSegmentStatic=function(){"use strict";let e={};return e.getCache=function(e,i){let a,n,l,s,o,c,d,u=e.columns,h=.5+(e.x>>0);u&&(o=u.getColumn(t.ROLE_X),c=u.getColumn(t.ROLE_Y),d=u.getColumn(t.ROLE_LABEL)),a=e.scale[t.ROLE_X],n=e.scale[t.ROLE_Y],(o||c)&&d&&(a||n)&&(a||(a=new r(0,e.width-1)),n||(n=new r(0,1-e.height)),l=e.isHorizontal?JMP.Scaling(a,.5+(e.y+e.height-1>>0),1-e.height):JMP.Scaling(a,h,e.width-1),s=e.isHorizontal?JMP.Scaling(n,h,e.width-1):JMP.Scaling(n,.5+(e.y+e.height-1>>0),1-e.height),Object.assign(i,{xScaling:l,yScaling:s,xValues:o,yValues:c,labels:d}))},e.draw=function(e,t){let i,a,n,l,s,o,r,c=e.g,d=.5+(e.x>>0),u=.5+(e.y>>0),h=e.width-1,g=e.height-1,S=e.showTicks,{xScaling:m,yScaling:f,xValues:T,yValues:p,labels:E}=t,b=1/0,A=-1/0,_=T&&T.length>0,x=p&&p.length>0,L=e.fontSize?e.fontSize:JMP.LARGE_FONT_SIZE,N=e.columns?e.columns.rowStates:void 0;if(m||f){if(_)s=T.length;else{if(!x)return;s=p.length}for(c.strokeStyle=JMP.COLOR_BLACK,c.lineWidth=1,c.fillStyle=e.fontColor,c.textBaseline="alphabetic",c.textAlign="start",c.font=L+"px "+e.fontFamily,i=0;i<s;i++)if((!e.rowIndices||N&&!N.hidden[e.rowIndices[i]])&&(_?(o=T[i],a=null===o?null:JMP.ScalingStatic.valueToPixel(m,o,!1)):(o=m.pixelOrigin+m.pixelRange,a=o),null!==a&&(a=.5+(a>>0)),x?(r=p[i],n=null===r?null:JMP.ScalingStatic.valueToPixel(f,r,!1)):(r=f.pixelOrigin+f.pixelRange,n=r),null!==n&&(n=.5+(n>>0)),_||(a=d+h),x||(n=u),null!==a&&null!==n&&!(a<d||a>d+h||n>u+g||n<u))){let t,s=0;if(E&&E[i]&&(t=E[i].split(JMP.LINE_SEPARATOR_ENTITY),s=t.length),x){if(_){if(t){let i=c.measureText("M").width,o=e.x+e.width-1;for(l=0;l<s;l++)c.fillText(t[l],Math.min(a+2,o-c.measureText(t[l]).width),n+i+1+l*L)}}else if(n<b&&(b=n),n>A&&(A=n),S&&(c.beginPath(),c.moveTo(a,n),c.lineTo(a-4,n),c.stroke()),t)for(l=0;l<s;l++)c.fillText(t[l],a-c.measureText(t[l]).width-5,n+l*L+4-1)}else if(a<b&&(b=a),a>A&&(A=a),S&&(c.beginPath(),c.moveTo(a,n),c.lineTo(a,n+2),c.stroke()),t)for(l=0;l<s;l++)c.fillText(t[l],a-c.measureText(t[l]).width/2,n+l*L+2+L)}x||(c.beginPath(),c.moveTo(b,0),c.lineTo(A,0),c.stroke()),_||(c.beginPath(),c.moveTo(d+h,b),c.lineTo(d+h,A),c.stroke())}},e}(),JMP.LabelSegment=function(e){"use strict";let t,i=new d(e);return i.showTicks=!1,i.fontSize=JMP.SMALL_FONT_SIZE,i.fontFamily=JMP.FONT,i.fontColor=JMP.COLOR_BLACK,i.draw=function(){JMP.LabelSegmentStatic.draw(i,(t||(t={},JMP.LabelSegmentStatic.getCache(i,t)),t))},i},JMP.LegendBoxStatic=function(){"use strict";let e={},t=function(t,i){let a,n,l=t.colorTheme,s=t.colorValues,o=t.customColors,r=s.length-1,d=[];for(i===e.TYPE_CONTOUR_GRADIENT_LINE&&r--,a=0;a<r;a++)o&&o[a]?d[a]=o[a]:(n=a/(r-1),d[a]=c.rgbToHexString(l.getColor(n)));t.discreteColors=d},i=function(e,t,i,a,n,l){let s,o=0;void 0!==a&&(o=e.modelOffsetMap[a]);let r=i?i+o:o;if(o=r+t>>0,s=o<e.items.length?e.items[o]:void 0,s&&s.isLinked&&!n)o=e.modelOffsetMap[s.baseModelID]+s.baseItemIndex;else if(l){let t=1,i=!0;for(let a=r+1;a<e.items.length&&i;a++)if(e.items[a-1].types||e.items[a].types)if(e.items[a-1].types&&e.items[a].types){if(e.items[a-1].types.length===e.items[a].types.length){for(let t=0;t<e.items[a].types.length&&i;t++)e.items[a-1].types[t]!==e.items[a].types[t]&&(i=!1);i&&t++}}else i=!1;else t++;o>=r+t&&(o=t-1)}return o},a=function(e){switch(e){case JMP.LineSegmentStatic.PATTERN_DASH:return[6,3];case JMP.LineSegmentStatic.PATTERN_DOT:return[2,4];case JMP.LineSegmentStatic.PATTERN_DASHDOT:return[5,2,2,2];case JMP.LineSegmentStatic.PATTERN_DASHDOTDOT:return[5,3,2,3,2,3];case JMP.LineSegmentStatic.PATTERN_DASHDASHDOT:return[5,3,5,3,2,3];case JMP.LineSegmentStatic.PATTERN_DASHDASHDOTDOT:return[5,3,5,3,2,3,2,3];case JMP.LineSegmentStatic.PATTERN_LONGDASH:return[12,3];case JMP.LineSegmentStatic.PATTERN_LONGDASHDASH:return[12,3,5,3];case JMP.LineSegmentStatic.PATTERN_DENSEDASH:return[5,2];case JMP.LineSegmentStatic.PATTERN_SPARSEDASH:return[5,12];case JMP.LineSegmentStatic.PATTERN_SPARSEDOT:return[2,12];case JMP.LineSegmentStatic.PATTERN_SPARSEDASHDOT:return[5,12,3,12];default:return[]}},n=function(e,t,i,a){let n,l=e.font.match(/([0-9]+)px/i),s=l.length>1?1.2*l[1]:parseInt(1.2*e.measureText("M").width,10),o=t.split("\n"),r=o.length;for(n=0;n<r;n++)e.fillText(o[n],i,a),a+=s},l=function(e){let t=e.height;e.height=e.width/JMP.GOLDEN,e.y+=(t-e.height)/2},s=function(e){let t=e.width;e.width=e.height*JMP.GOLDEN,e.x+=(t-e.width)/2},o=function(e,t,i,a,n,l){e.beginPath(),e.moveTo(t+l,i),e.lineTo(t+a-l,i),e.quadraticCurveTo(t+a,i,t+a,i+l),e.lineTo(t+a,i+n-l),e.quadraticCurveTo(t+a,i+n,t+a-l,i+n),e.lineTo(t+l,i+n),e.quadraticCurveTo(t,i+n,t,i+n-l),e.lineTo(t,i+l),e.quadraticCurveTo(t,i,t+l,i),e.closePath(),e.fill()},r=function(t,i,r,d){let u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P=void 0!==r.fillColor?r.fillColor:t.fontColor,D=void 0!==r.lineColor?r.lineColor:JMP.COLOR_BLACK,F=void 0!==r.lineWidth?r.lineWidth:1,B=void 0!==r.lineStyle?r.lineStyle:JMP.LineSegmentStatic.PATTERN_SOLID,V=void 0!==r.alpha?r.alpha:1,k=r.types.length,G=20,H=i.width/k-2,Y=i.height>>0,U=i.y>>0,z=U+Y/2>>0,W=Y/4>>0,X=H/4>>0,Z=t.fontSize,q=t.fontFamily,j=0,K=[],Q=t.g,J=[0,.2,.4,.6,.8,1],$=J.length;for(Q.font=Z+"px "+q,d&&(Q.font="italic bold "+Q.font),Q.fillStyle=P,Q.strokeStyle=D,1!==V&&(T=Q.globalAlpha,Q.globalAlpha=V),u=0;u<k;u++)switch(S=i.x+u*(H+2)>>0,m=S+H/2>>0,Q.lineWidth=F,d&&(Q.lineWidth+=2),r.types[u]){case e.TYPE_BAR:d&&JMP.ViewStatic.fillSelectionMode!==JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED&&(Q.fillStyle=c.getSelectedColor(P)),f={x:S,y:U,width:H,height:Y},void 0!==r.fillPattern?(d&&(Q.lineWidth-=2,Q.fillStyle=r.defaultMissingColor,Q.fillRect(f.x,f.y>>0,f.width,f.height+.5>>0)),Q.strokeRect(f.x,f.y>>0,f.width,f.height+.5>>0),Q.fillStyle=JMP.ViewStatic.getFillPatternCanvas(P,r.fillPattern),Q.fillRect(f.x,f.y>>0,f.width,f.height+.5>>0)):(Q.fillRect(f.x,f.y>>0,f.width,f.height+.5>>0),d&&JMP.ViewStatic.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED&&(Q.fillStyle=JMP.ViewStatic.getDiagPatternCanvas(P),Q.fillRect(f.x,f.y>>0,f.width,f.height+.5>>0)));break;case e.TYPE_MARKER:O=void 0===r.markerShape||r.markerShape===JMP.Marker.DOT?4.909090909090909:4;let T=r.markerSize;T<0&&(T=t.prefMarkerSize),0===T&&(r.markerShape=0),O-=Math.floor(O)-Math.min(T+1,7),O*=r.markerShape===JMP.Marker.DOT?.6:.8,JMP.MarkerSegmentStatic.drawMarker(Q,m,z,O,r.markerShape,P,void 0,d,JMP.MARKER_FONT_SIZE);break;case e.TYPE_HLINE:1&F&&(z+=.5),B!==JMP.LineSegmentStatic.PATTERN_SOLID&&Q.setLineDash(a(B)),Q.lineCap="butt",Q.beginPath(),Q.moveTo(S,z),Q.lineTo(S+H,z),Q.stroke(),Q.setLineDash([]);break;case e.TYPE_VLINE:1&F&&(m+=.5),B!==JMP.LineSegmentStatic.PATTERN_SOLID&&Q.setLineDash(a(B)),Q.lineCap="butt",Q.beginPath(),Q.moveTo(m,U),Q.lineTo(m,U+Y),Q.stroke(),Q.setLineDash([]);break;case e.TYPE_LINE_SIZE:f={x:S,y:U,width:H,height:Y},l(f),f.height=f.height+.5>>0,f.y>>=0,Q.fillRect(f.x,f.y,1,f.height),f.x+=2,Q.fillRect(f.x,f.y,2,f.height),f.x+=3,Q.fillRect(f.x,f.y,4,f.height),f.x+=5,Q.fillRect(f.x,f.y,6,f.height);break;case e.TYPE_HBOXPLOT:z=U+2*W,1&F&&(z+=.5,X+=.5),Q.beginPath(),Q.moveTo(S,z),Q.lineTo(S+X,z),Q.moveTo(S+3*X,z),Q.lineTo(S+4*X,z),Q.stroke(),void 0!==r.fillColor&&Q.fillRect(S+X,z-W,2*X,2*W),Q.strokeRect(S+X,z-W,2*X,2*W);break;case e.TYPE_VBOXPLOT:m=S+2*X,1&F&&(W+=.5,m+=.5),Q.beginPath(),Q.moveTo(m,U),Q.lineTo(m,U+W),Q.moveTo(m,U+3*W),Q.lineTo(m,U+4*W),Q.stroke(),void 0!==r.fillColor&&Q.fillRect(m-X,U+W,2*X,2*W),Q.strokeRect(m-X,U+W,2*X,2*W);break;case e.TYPE_HINTERVAL:z=U+2*W,1&F&&(z+=.5,S+=.5,W+=.5),Q.beginPath(),Q.moveTo(S,z-W),Q.lineTo(S,z+W),Q.moveTo(S,z),Q.lineTo(S+H-1,z),Q.moveTo(S+H-1,z-W),Q.lineTo(S+H-1,z+W),Q.stroke();break;case e.TYPE_VINTERVAL:m=S+2*X,1&F&&(X+=.5,m+=.5,U+=.5),Q.beginPath(),Q.moveTo(m-X,U),Q.lineTo(m+X,U),Q.moveTo(m,U),Q.lineTo(m,U+Y-2),Q.moveTo(m-X,U+Y-2),Q.lineTo(m+X,U+Y-2),Q.stroke();break;case e.TYPE_FILL_LINE:Q.lineWidth=1,f={x:S+.5,y:U,width:H,height:Y},f.width-=1,f.height-=1,void 0!==r.fillPattern&&(Q.fillStyle=JMP.ViewStatic.getFillPatternCanvas(P,r.fillPattern)),Q.fillRect(f.x,.5+(f.y>>0),f.width,f.height+.5>>0),Q.strokeRect(f.x,.5+(f.y>>0),f.width,f.height+.5>>0);break;case e.TYPE_STEP:1&F&&(U+=.5,m+=.5),F>1&&(F--,U+=F,Y-=2*F),Q.beginPath(),Q.moveTo(S,U+Y-2),Q.lineTo(m,U+Y-2),Q.lineTo(m,U),Q.lineTo(S+H,U),Q.stroke();break;case e.TYPE_MARKER_SIZE:let D=X,k=m;X=5,m=S+10>>0,Q.beginPath(),Q.arc(S+X+2,U+Y-2,X,0,Math.PI,!0),Q.arc(m,U+Y-2,2*X,Math.PI,0,!1),Q.lineWidth=1,Q.strokeStyle=JMP.COLOR_BLACK,Q.stroke(),X=D,m=k;break;case e.TYPE_MARKER_COLOR:f={x:S,y:U,width:H,height:Y},l(f),f.height>Y&&(f={x:S,y:U,width:H,height:Y},s(f)),o(Q,f.x,f.y>>0,f.width,f.height+.5>>0,4);break;case e.TYPE_DENSITY_GRADIENT:for(f={x:S,y:U,width:H,height:Y},l(f),p=Q.createLinearGradient(f.x,f.y>>0,f.x+f.width,f.y>>0),h=0;h<$;h++)R=c.stringTorgb(P.substr(1,7)),v=c.interpolateColor([255,255,255],R,J[h]),w=c.rgbToHexString(v),p.addColorStop(J[h],w),h<$-1&&p.addColorStop(J[h+1],w);Q.globalAlpha=V,Q.fillStyle=p,Q.fillRect(f.x,f.y>>0,f.width,f.height+.5>>0);break;case e.TYPE_GRADIENT:case e.TYPE_CONTOUR_GRADIENT:case e.TYPE_CONTOUR_GRADIENT_LINE:const q=r.types[u]===e.TYPE_CONTOUR_GRADIENT_LINE;if(E=r.gradientSettings,b=E.colorTheme.positions.concat(),A=E.colorTheme.colors.concat(),_=E.colorValues.concat(),K=E.labels.concat(),E.isDiscreteColors&&(x=E.discreteColors.concat()),E.isReverseLabels){for(_.reverse(),K.reverse(),A.reverse(),b.reverse(),h=0;h<b.length;h++)b[h]=1-b[h];E.isDiscreteColors&&x.reverse()}let ee=_.length;if(E.numContours>0&&q)switch(E.fillType){case"aboveBelow":ee-=2;break;case"above":case"below":ee--}let te,ie,ae=0,ne=K.length;if(E.numContours>0)if(q)switch(E.fillType){case"above":ne--;break;case"aboveBelow":ne-=2,ae=1;break;case"below":ne--,ae=1}else"above"!==E.fillType&&"aboveBelow"!==E.fillType||(te=9),"below"!==E.fillType&&"aboveBelow"!==E.fillType||(ie=9);if(E.isHorizontal){if(_&&_.length>0){let a=_.length;for(Q.textBaseline="top",Q.textAlign="center",Q.strokeStyle=t.fontColor,h=0;h<a;h++)L=K[h].slice(K[h].lastIndexOf("\n")+1),j=Math.max(j,Q.measureText(L).width)+.5>>0;for(j+=10,H=j*(a-1),S+=j/2>>0,h=0;h<a;h++)N=S+h*j,I=h<a-2?j:j+1,E.isDiscreteColors&&h<a-1&&(Q.globalAlpha=V,Q.fillStyle=x[h],Q.strokeStyle="#AA11BB",0===h&&ie?(Q.beginPath(),Q.moveTo(N,U),Q.lineTo(N+I,U),Q.lineTo(N+I,U+G),Q.lineTo(N,U+G),Q.lineTo(N-ie,U+10),Q.closePath(),Q.fill()):h===a-2&&te?(Q.beginPath(),Q.moveTo(N,U),Q.lineTo(N+I,U),Q.lineTo(N+I+te,U+10),Q.lineTo(N+I,U+G),Q.lineTo(N,U+G),Q.closePath(),Q.fill()):Q.fillRect(N,U,I,G)),E.showLabels&&(Q.globalAlpha=1,Q.fillStyle=t.fontColor,Q.strokeStyle=t.fontColor,Q.lineWidth=1,N+=.5,Q.beginPath(),Q.moveTo(N,U+G),Q.lineTo(N,U+G+6),Q.stroke(),n(Q,K[h],N,U+G+6+.5));if(E.missingColor&&E.showLabels){let t=i.x+i.width-Q.measureText(e.LEGEND_LABEL_MISSING).width/2;n(Q,e.LEGEND_LABEL_MISSING,t,U+G+6)}}if(H++,!E.isDiscreteColors){for(p=Q.createLinearGradient(S,U,S+H,U),g=A.length,h=0;h<g;h++)p.addColorStop(b[h],A[h]);Q.globalAlpha=V,Q.fillStyle=p,Q.fillRect(S,U,H,G)}if(E.missingColor){let t=E.showLabels?Q.measureText(e.LEGEND_LABEL_MISSING).width:0,a=i.x+i.width;f={x:E.showLabels?a-t/2-Z/2:a-Z,y:U,width:Z,height:G},Q.fillStyle=E.missingColor,Q.fillRect(f.x,f.y>>0,f.width,f.height)}}else if(U+=Z,_&&_.length>0){let i;y=1.5*Z>>0,Y=(ee-1)*y,Q.textBaseline="middle",Q.textAlign="end",Q.strokeStyle=JMP.COLOR_BLACK;let a=0,n=0;if(g=_.length,E.missingColor){for(h=0;h<g;h++)L=K[h].slice(K[h].lastIndexOf("\n")+1),j=Math.max(j,Q.measureText(L).width)+.5>>0;a=Q.measureText(e.LEGEND_LABEL_MISSING).width+.5>>0,a>j&&(n=j-a)}for(h=0;h<g;h++){if(M=U+Y-h*y>>0,!q&&E.isDiscreteColors&&h>0&&(Q.globalAlpha=V,Q.fillStyle=x[h-1],Q.strokeStyle="#AA11BB",C=M+1,1===h&&ie?(Q.beginPath(),Q.moveTo(S,C),Q.lineTo(S+G,C),Q.lineTo(S+G,C+y),Q.lineTo(S+10,C+y+ie),Q.lineTo(S,C+y),Q.closePath(),Q.fill()):h===g-1?(te?(Q.beginPath(),Q.moveTo(S,C+y),Q.lineTo(S,C),Q.lineTo(S+10,C-te),Q.lineTo(S+G,C),Q.lineTo(S+G,C+y),Q.closePath(),Q.fill()):Q.fillRect(S,C,G,y),y++,C=M):Q.fillRect(S,C,G,y)),E.showLabels&&h<ne){Q.globalAlpha=1,Q.fillStyle=t.fontColor,q?(Q.strokeStyle=x[h],Q.lineWidth=r.lineWidth):Q.strokeStyle=t.fontColor,M+=.5,Q.beginPath();const e=q?0:G;Q.moveTo(S+e,M),Q.lineTo(S+G+6,M),Q.stroke(),Q.fillText(K[h+ae],S+H+n,M)}i=C+y+y/2}if(Y++,!E.isDiscreteColors){for(p=Q.createLinearGradient(S,U+Y,S,U),g=A.length,h=0;h<g;h++)p.addColorStop(b[h],A[h]);Q.globalAlpha=V,Q.fillStyle=p,Q.fillRect(S,U,G,Y),i=U+Y+y/2}E.missingColor&&(f={x:S,y:i>>0,width:G,height:0},l(f),Q.fillStyle=E.missingColor,Q.fillRect(f.x,i>>0,f.width,f.height+.5>>0),E.showLabels&&(Q.fillStyle=t.fontColor,Q.fillText(e.LEGEND_LABEL_MISSING,S+H,i+(f.height+.5>>0)/2)))}}1!==V&&(Q.globalAlpha=T)},d=function(e,t){let i,a,n=1e3*JMP.MAC_EPS,l=JMP.ModelStatic.lowerBound(e,t,n),s=t.length;return l===s?a=s-1:l<=0?a=0:JMP.ModelStatic.nearlyEqual(t[l],e,n)?(i=JMP.ModelStatic.upperBound(e,t,n),a=(l+i-1)/2):a=l-1+(e-t[l-1])/(t[l]-t[l-1]),a},u=function(t,i){let a,n,l,s,o,c,d,u,h,g,S,m,f,T,{g:p,x:E,y:b,isHorizontal:A,isFramed:_,title:x,isTitleHorizontal:L,nWrap:N,fontSize:I,fontFamily:M}=t,y=t.width,C=t.height,{positions:R,positionedItems:v}=i,w=R.length,O=A?1:w,P=A?w:1,D=0,F=I+4,B={width:0,height:0},V=0,k=0;if(JMP.ViewStatic.reset(p),p.lineWidth=1,p.textAlign="start",p.textBaseline="middle",p.font=I+"px "+M,!t.isDisplayed)return B;_&&(p.strokeStyle=JMP.COLOR_BLACK,p.strokeRect(.5+(E>>0),.5+(b>>0),y,C),b+=2,C-=2,E+=2),x&&(p.fillStyle=t.fontColor,E+=2,p.fillText(x,E,b+F/2),D=p.measureText(x).width,L?(E+=D+4,y-=D+4):(b+=1.5*I,C-=1.5*I,D+=E+2));let G=Math.min(t.nMaxLevels,w);if(N>0)A?(P=N,O=Math.ceil(G/P)):(O=N,P=Math.ceil(G/O));else if(-1===N){let e=I+4-1;O=Math.floor(C/e),O=O<=0?1:O,P=Math.ceil(w/O)}for(g=b,s=0,n=0;n<P;n++){for(b=g,d=0,l=0;l<O;l++,s++){if(c=A?n+l*P:s,c<w){o=v[R[c]];let i=!1;if(o.rowIndices&&t.rowStates){const e=t.rowStates.selected;for(let t=0;t<o.rowIndices.length&&!i;t++)e[o.rowIndices[t]]&&(i=!0)}m=o.gradientSettings,m&&m.colorValues?(m.isHorizontal?S=m.scaleType&&m.scaleType!==JMP.LegendBoxStatic.GRADIENT_SCALE_LINEAR?3:2:(S=m.colorValues.length,m.missingColor&&(S+=2)),F=1.5*S*I,h=m.isHorizontal?16:4):(F=I+4,h=4),a={x:E+2,y:b,width:o.width,height:F-2},r(t,a,o,i),k=b+F;let n=!1;o.types.forEach((function(t){t===e.TYPE_MARKER_SIZE&&(n=!0)})),T=0,m&&1===w&&t.title&&t.title.length>0||(p.fillStyle=t.fontColor,p.textAlign="start",p.textBaseline="middle",f=b+F/2,void 0!==o.label&&(n?(p.fillText(o.label,E+20+h,f),T=p.measureText(o.label).width):(p.fillText(o.label,E+a.width+h,f),T=p.measureText(o.label).width))),u=n?o?T+20+16:0:o?T+o.width+16:0,u>d&&(d=u),o.rect={x:E,y:b,width:u,height:F}}b+=F,V=k>V?b:V}E+=d}return B.width=Math.max(E,D)+.5>>0,B.height=V+.5>>0,t.height<B.height-g&&(t.height=B.height-g),B};return e.TYPE_MARKER=0,e.TYPE_HLINE=1,e.TYPE_VLINE=2,e.TYPE_LINE_SIZE=3,e.TYPE_STEP=4,e.TYPE_BAR=5,e.TYPE_HBOXPLOT=6,e.TYPE_VBOXPLOT=7,e.TYPE_FILL_LINE=8,e.TYPE_MARKER_SIZE=9,e.TYPE_MARKER_COLOR=10,e.TYPE_GRADIENT=11,e.TYPE_DENSITY_GRADIENT=12,e.TYPE_HINTERVAL=13,e.TYPE_VINTERVAL=14,e.TYPE_CONTOUR_GRADIENT=15,e.TYPE_CONTOUR_GRADIENT_LINE=16,e.GRADIENT_SCALE_LINEAR=15,e.GRADIENT_SCALE_QUANTILE=16,e.GRADIENT_SCALE_STANDARD_DEVIATION=17,e.GRADIENT_SCALE_LOG=18,e.TIP_LEGEND="Legend",e.DEFAULT_WRAP_ROWS=20,e.LEGEND_LABEL_MISSING="Missing",e.getCache=function(e,i){let a,n,l,s,o,r,d=e.items,u=d.length,h=[],g=[],S={};for(a=0;a<u;a++){if(l=d[a],l.isVisible&&(void 0===l.position||l.position>=0)){for(void 0===l.position&&(l.position=a),r=0;g.includes(l.position)&&r<100;)l.position=l.position+.01,r++;g.push(l.position),S[l.position]=l}h[a]=c.stringTorgb(l.fillColor?l.fillColor.substr(1,7):[0,0,0]);const e=l.gradientSettings;if(e){if(s=e.colorTheme.colors,o=e.colorTheme.positions,e.isReverseColors&&!e.isReverseLabels||!e.isReverseColors&&e.isReverseLabels)for(s.reverse(),o.reverse(),n=0;n<o.length;n++)o[n]=1-o[n];e.isDiscreteColors&&t(e,l.types[0])}}i.rgb=h,i.positions=g.sort((function(e,t){return e-t})),i.positionedItems=S},e.measure=function(e,t){let i=document.getElementById("sizingCanvas").getContext("2d"),a=e.g;return t.legendSize||(e.g=i,t.legendSize=u(e,t),e.g=a),t.legendSize},e.draw=function(e,t){u(e,t)},e.getColor=function(e,t,a,n,l,s){let o,r,u,h,g,S=i(e,0,n,l),m=t.rgb;if(o=e.items[S].gradientSettings,o)return function(e,t){let i,a,n,l,s,o,r,u=t.colorValues,h=u.length;if(null===e)return t.missingColor||JMP.COLOR_BLACK;if(h>1){if(i=d(e,u),t.isDiscreteColors)r=Math.min(i>>0,h-2)/(h-2);else{switch(a=i>>0,n=Math.ceil(i),t.scaleType){case JMP.LegendBoxStatic.GRADIENT_SCALE_LINEAR:break;case JMP.LegendBoxStatic.GRADIENT_SCALE_LOG:i=n===a?a:a+Math.log10(e/u[a])/Math.log10(u[n]/u[a]);break;case JMP.LegendBoxStatic.GRADIENT_SCALE_QUANTILE:s=d(u[a],t.percentiles),o=d(u[n],t.percentiles),s===o?i=a:(l=d(e,t.percentiles),i=a+(l-s)/(o-s));case JMP.LegendBoxStatic.GRADIENT_SCALE_STANDARD_DEVIATION:}r=i/(h-1)}return c.rgbToHexString(t.colorTheme.getColor(r))}return c.rgbToHexString(t.colorTheme.getColor(1))}(a,o);if(null===a)return e.items[S].defaultMissingColor||JMP.COLOR_BLACK;if(S=i(e,a,n,l,void 0,!s),r=a>>0,u=a-r,0===u){for(h=e.items[S],g=h?h.fillColor:JMP.COLOR_BLACK;!g&&h.isLinked;)S=e.modelOffsetMap[h.baseModelID]+h.baseItemIndex,h=e.items[S],g=h.fillColor;return g}return c.rgbToHexString(c.interpolateColor(m[S],m[S+1],u))},e.getGradientFormat=function(e,t,a){let n,l,s=i(e,0,t,a);return n=e.items[s].gradientSettings,n&&(l=n.format),l},e.getAlpha=function(e,t,a,n){let l=i(e,0,a,n);return e.items[l].gradientSettings?e.items[l].alpha:(l=i(e,t,a,n),e.items[l]?e.items[l].alpha:1)},e.getLabel=function(e,t,a,n){let l,s,o;for(t||(t=0),l=i(e,t,a,n),o=e.items[l],s=o.label;!s&&o.isLinked;)l=e.modelOffsetMap[o.baseModelID]+o.baseItemIndex,o=e.items[l],s=o.label;return s},e.getMarkerShape=function(e,t,a,n){let l=i(e,t,a,n);return e.items[l].gradientSettings?JMP.Marker.DOT:e.items[l].markerShape},e.getMarkerSize=function(e,t,a,n){let l=i(e,t,a,n),s=e.items[l].markerSize;return void 0!==s?s:-1},e.getLineWidth=function(e,t,a,n){let l=i(e,t,a,n),s=e.items[l].lineWidth;return void 0!==s?s:1},e.getLineColor=function(e,t,a,n){let l,s;return l=i(e,t,a,n,!0),s=e.items[l].lineColor,s||(l=i(e,t,a,n),s=e.items[l].lineColor),void 0!==s?s:JMP.COLOR_BLACK},e.getLineStyle=function(e,t,a,n){let l=i(e,t,a,n),s=e.items[l].lineStyle;return void 0!==s?s:JMP.LineSegmentStatic.PATTERN_SOLID},e.getFillPattern=function(t,a,n,l){let s=e.isGradient(t,n,l)?0:i(t,a,n,l);return t.items[s]?.fillPattern},e.isGradient=function(e,t,a){let n=i(e,0,t,a);return!!e.items[n]?.gradientSettings},e.hasType=function(e,t,a,n,l){let s,o=i(e,t,a,n),r=e.items[o]?.types;if(r)for(s=0;s<r.length;s++)if(r[s]===l)return!0;return!1},e.select=function(e,t,i,a){const n=e.rowStates;if(!n)return;const l=e.items;let s,o;for(let e=0;e<l.length&&!s;e++)l[e].rect&&JMP.ViewStatic.pointInRect(i,l[e].rect)&&l[e].rowIndices&&(s=l[e],o=e);if(s){let t=!1;for(let i=0;i<s.rowIndices.length&&!t;i++)n.selected[s.rowIndices[i]]&&(t=!0,e.selectedItemIndices.add(o));const i=a.ctrlKey,l=a.metaKey;a.shiftKey?function(e,t,i){const a=e.items,n=e.rowStates;let l=Math.min(e.anchor,e.focus),s=Math.max(e.anchor,e.focus);for(let t=l;t<=s;t++)e.selectedItemIndices.delete(t),n.select(a[t].rowIndices,!1);e.focus=i,l=Math.min(e.anchor,e.focus),s=Math.max(e.anchor,e.focus);for(let t=l;t<=s;t++)e.selectedItemIndices.add(t),n.select(a[t].rowIndices,!0)}(e,0,o):i||l?function(e,t,i){const a=e.rowStates;if(e.selectedItemIndices.has(i)){const n=Array.from(e.selectedItemIndices.values());n.sort(((e,t)=>e-t));let l=n.indexOf(i);e.anchor=0,e.focus=0,l===n.length-1&&n.length>1?(e.anchor=n[l-1],e.focus=n[l-1]):l>=0&&n.length>1&&(e.anchor=n[l+1],e.focus=n[l+1]),e.selectedItemIndices.delete(i),a.select(t.rowIndices,!1)}else e.anchor=i,e.focus=i,e.selectedItemIndices.add(i),a.select(t.rowIndices,!0)}(e,s,o):function(e,t,i){const a=e.rowStates;e.selectedItemIndices.has(i)?(e.anchor=0,e.focus=0,e.selectedItemIndices.clear(),a.selectAll(!1)):(e.anchor=i,e.focus=i,e.selectedItemIndices.clear(),e.selectedItemIndices.add(i),a.selectOnly(t.rowIndices,!0))}(e,s,o)}else e.anchor=0,e.focus=0,e.selectedItemIndices.clear(),n.selectAll(!1)},e.onPointerEvent=function(e,t){let i,a,n,l;return a={x:e.x,y:e.y,width:e.width,height:e.height},n=t.pointerTarget.getBoundingClientRect(),l={x:t.clientX-n.left,y:t.clientY-n.top},i=JMP.ViewStatic.pointInRect(l,a),i&&(i&&"pointerdown"===t.type&&e.select(l,t),document.body.className="cursorHandPointer"),!1},e}(),JMP.LegendBox=function(e){"use strict";let t,i=new d(e),a=function(){return t||(t={},JMP.LegendBoxStatic.getCache(i,t)),t};return i.title=void 0,i.anchor=0,i.focus=0,i.selectedItemIndices=new Set,i.rowStates=void 0,i.isFramed=!1,i.isHorizontal=!1,i.isTitleHorizontal=!1,i.fontSize=JMP.LARGE_FONT_SIZE,i.fontFamily=JMP.FONT,i.fontColor=JMP.ViewStatic.getTextColor(),i.nWrap=0,i.modelOffsetMap={},i.items=[],i.measure=function(){return JMP.LegendBoxStatic.measure(i,a())},i.draw=function(){JMP.LegendBoxStatic.draw(i,a())},i.getColor=function(e,t,n,l){return JMP.LegendBoxStatic.getColor(i,a(),e,t,n,l)},i.getGradientFormat=function(e,t){return JMP.LegendBoxStatic.getGradientFormat(i,e,t)},i.getAlpha=function(e,t,a){return JMP.LegendBoxStatic.getAlpha(i,e,t,a)},i.getLabel=function(e,t,a){return JMP.LegendBoxStatic.getLabel(i,e,t,a)},i.getMarkerShape=function(e,t,a){return JMP.LegendBoxStatic.getMarkerShape(i,e,t,a)},i.getMarkerSize=function(e,t,a){return JMP.LegendBoxStatic.getMarkerSize(i,e,t,a)},i.getLineWidth=function(e,t,a){return JMP.LegendBoxStatic.getLineWidth(i,e,t,a)},i.getLineColor=function(e,t,a){return JMP.LegendBoxStatic.getLineColor(i,e,t,a)},i.getLineStyle=function(e,t,a){return JMP.LegendBoxStatic.getLineStyle(i,e,t,a)},i.getFillPattern=function(e,t,a){return JMP.LegendBoxStatic.getFillPattern(i,e,t,a)},i.isGradient=function(e,t){return JMP.LegendBoxStatic.isGradient(i,e,t)},i.hasType=function(e,t,a,n){return JMP.LegendBoxStatic.hasType(i,e,t,a,n)},i.select=function(e,t){JMP.LegendBoxStatic.select(i,a(),e,t)},i.onRowStatesEvent=function(e){e.type===n.EVENT_SELECTED&&i.isDisplayed&&i.width>1&&i.height>1&&(i.g.clearRect(i.x,i.y,i.width,i.height),i.draw())},i.onPointerEvent=function(e){return!!i.isDisplayed&&JMP.LegendBoxStatic.onPointerEvent(i,e)},JMP.EventFacadeStatic.addEventListener(e,i.onPointerEvent),i.onThemeChangeEvent=function(){i.fontColor=JMP.ViewStatic.getTextColor()},JMP.DocumentStatic.themeChangeEventDispatcher.addEventListener(i.onThemeChangeEvent),i},JMP.LineSegmentStatic=function(){"use strict";let e={},i=.65,a=function(e,t,i,a,n,l){let s,o,r,c,d,u,h,g,S,m,f={},T={},p={x:t,y:i},E={x:a,y:n};s=JMP.ViewStatic.distance(p,E),o=.5*Math.min(l,.5*s),f=JMP.ViewStatic.pointAtDistanceAlongLine(o,E,p),T=JMP.ViewStatic.pointAtDistanceAlongLine(-o,E,p),r=T.x-f.x,c=T.y-f.y,d=-.5*c,u=.5*r,h=f.x+d,g=f.y+u,S=f.x-d,m=f.y-u,e.beginPath(),e.moveTo(T.x,T.y),e.lineTo(h,g),e.lineTo(S,m),e.closePath(),e.fill()},n=function(e,t){return t&&t[e]&&0===t[e].length},l=function(e,t,i,a,l,s){return!JMP.ViewStatic.isPointValid({x:e,y:t})||!s&&n(i,a)&&l===JMP.ViewStatic.MISSING_FACTORS_MISSING},s=function(e,t,i){return t&&t[e]||!t&&i&&i[e]},o=function(t,i,a,n,o,r,c,d,u,h){let g=!1;for(let S=t+1;S<i;S++){if(!(l(a[S],n[S],S,o,r,c)&&d!==e.CONNECT_NONE)){if(s(S,u,h)){g=!0;break}g=!1;break}g=!0}return g},d=function(t,i){return(t===e.TYPE_SMOOTHER||t===e.TYPE_LINE_OF_FIT||t===e.TYPE_CATEGORICAL_LINE_OF_FIT)&&i&&i.includes(!0)},u=function(e){return e[0]},h=function(e,t,i,a){let n,l,s=1/0,o=JMP.ViewStatic.FUZZ_PIXELS;return Number.isFinite(i)&&Number.isFinite(a)&&e>i-o&&e<i+o&&t>a-o&&t<a+o&&(n=i-e,l=a-t,s=n*n+l*l),s},g=function(e,t){let i,a=Math.min(e.length,t.length),n=0;for(i=0;i<a;i++)JMP.ViewStatic.isPointValid({x:e[i],y:t[i]})&&n++;return n};return e.PATTERN_SOLID=0,e.PATTERN_DASH=1,e.PATTERN_DOT=2,e.PATTERN_DASHDOT=3,e.PATTERN_DASHDOTDOT=4,e.PATTERN_SMOOTH=5,e.PATTERN_DASHDASHDOT=6,e.PATTERN_DASHDASHDOTDOT=7,e.PATTERN_LONGDASH=8,e.PATTERN_LONGDASHDASH=9,e.PATTERN_DENSEDASH=10,e.PATTERN_SPARSEDASH=11,e.PATTERN_SPARSEDOT=12,e.PATTERN_SPARSEDASHDOT=13,e.TYPE_LINE=0,e.TYPE_STEP=1,e.TYPE_LINES=2,e.TYPE_SMOOTHER=3,e.TYPE_LINE_OF_FIT=4,e.TYPE_CATEGORICAL_LINE_OF_FIT=5,e.TYPE_CONTROL_CHART_CONNECT_LINE=6,e.ARROW_HEAD_NONE=0,e.ARROW_HEAD_START=1,e.ARROW_HEAD_END=2,e.ARROW_HEAD_BOTH=3,e.CONNECT_NONE=0,e.CONNECT_FADED=1,e.CONNECT_DASHED=2,e.CONNECT_THROUGH=3,e.FILL_NONE=0,e.FILL_BELOW=1,e.FILL_BETWEEN=2,e.TIP_STACKED_VALUE="Stacked value",e.LINE_SEG_TYPE="LineSegment",e.interpolateYValueForStacking=function(t,i,a,n,l,s,o){let r,c=null,d=null,u=null,h=null;for(r=n-1;r>=0;r--)if(null!==i[r]&&!e.isRowHidden(r,s,o)){d=i[r],c=a[r];break}for(r=n+1;r<t;r++)if(null!==i[r]&&!e.isRowHidden(r,s,o)){h=i[r],u=a[r];break}return null!==c&&null!==u&&null!==d&&null!==h?l===e.TYPE_STEP?d:(h-d)*(a[n]-c)/(u-c)+d:null},e.isRowHidden=function(e,t,i){if(!t)return!1;let a,n=!0,l=i[e],s=l?l.length:0;if(0===s)return!1;for(a=0;a<s&&n;a++)n=t.hidden[l[a]];return n},e.calculateStackedResponseValues=function(t,i,a,n,l,s,o,r,c,d,u,h){let g,S,m,f,T,p,E=a.length,b=0,A=-1;const _=r===JMP.ViewStatic.MISSING_FACTORS_ZERO,x=function(e,t){for(let i=0;i<t.length;i++){const a=e[i];null!==a&&(t[i]=a)}};for(g=0;g<E;g++){if(S=a[g],m=d[g],t>0&&null===m&&o){m=0;const t=e.interpolateYValueForStacking(E,u,i,g,n,void 0,s);null!==t&&(m+=t)}if(f=0===s[g].length,T=null===S,p=e.isRowHidden(g,l,s),f)if(r===JMP.ViewStatic.MISSING_FACTORS_SKIP||r===JMP.ViewStatic.MISSING_FACTORS_MISSING&&o){let t=e.interpolateYValueForStacking(E,a,i,g,n,l,s);null!==t&&(d[g]=null===m?t:m+t)}else _&&(d[g]=null===m?0:m);else if(T){if(_)d[g]=null===m?0:m;else if(o){let t=e.interpolateYValueForStacking(E,a,i,g,n,l,s);null!==t&&(d[g]=null===m?t:m+t)}}else if(p)if(_)d[g]=null===m?0:m;else{let t=e.interpolateYValueForStacking(E,a,i,g,n,l,s);null!==t&&(d[g]=null===m?t:m+t)}else d[g]=null===m?S:m+S,b+=1,A=g}if(!c&&b<=1)return h.length=i.length,h.fill(null),A>=0&&(h[A]=d[A]),x(h,u),A;for(g=0;g<d.length;g++)h[g]=d[g];return x(h,u),-1},e.onScaleEvent=function(e,t){t.type!==r.EVENT_INPUT&&t.type!==r.EVENT_CHANGED||(e.isScaleChanged=!0)},e.getCache=function(i,a){let l,s,o,r,c,d,h,g,S,m,f,T,p,E,b,A,_,x=i.columns,L=x.rowStates,N=i.type,I=i.x,M=i.y,y=i.width,C=i.height,R=i.scale[t.ROLE_X],v=i.scale[t.ROLE_Y],w=[],O=i.isStatisticForY,P=!1,D=!1,F=[],B=!1,V=[],k=[],G=N===e.TYPE_STEP,H=N===e.TYPE_SMOOTHER,Y=N===e.TYPE_LINE_OF_FIT||N===e.TYPE_CATEGORICAL_LINE_OF_FIT,U=N===e.TYPE_CONTROL_CHART_CONNECT_LINE,z=x.getColumns(t.ROLE_X),W=x.getColumns(t.ROLE_Y),X=i.columns.getColumn(t.ROLE_COLOR),Z=i.YPos&&1===i.YPos.length&&null===i.YPos[0],q=z.length>0,j=W.length>0,K=void 0!==i.iY&&void 0!==i.nY,Q=i.fillType===e.FILL_BETWEEN,J=i.statistic===JMP.MomentsStatic.STAT_N||(O?!j:!q),$=function(e,t,i,a,n,l){i&&!t.valueOrdering?l[e]=void 0!==a[e][0]?t.data[a[e][0]]:n[0][e]:l[e]=t&&JMP.TermStatic.treatColumnAsContinuous(t,n[0].length)?n[0][e]:e};if(!i.XPos||!i.YPos||1===i.XPos.length&&null===i.XPos[0]&&Z||Z&&U||i.isExcludedUsed&&function(e){return e&&e.excluded.every((function(e){return!0===e}))}(L))return ee=a,void Object.keys(ee).forEach((function(e){delete ee[e]}));var ee;if(w=x.getLabeledColumns(),g=x.getTipImageColumn(),i.colorData&&(a.colorData=i.colorData),c=x.getColumn(t.ROLE_FREQ),c&&(a.freqColumn=c),Z&&q?P=!0:L&&(O&&!q&&!U||!O&&!j)&&(b=0,P=!0),d=JMP.Scaling(R,.5+(I>>0),y-1),h=JMP.Scaling(v,.5+(M+C-1>>0),1-C),a.isSingleValue=P,a.isStatisticForY=O,a.rowStates=L,a.xScaling=d,a.yScaling=h,a.xPosColumn=i.XPos,a.yPosColumn=i.YPos,a.xColumns=z,a.yColumns=W,a.colorColumn=X,a.labeledColumns=w.length>0?w:void 0,a.tipImageColumn=g,a.statistic=i.statistic,a.colorTerm=i.colorTerm,a.overlayTerm=i.overlayTerm,a.hasMissingLevels=i.hasMissingLevels,a.isSelectable=i.isSelectable,a.alpha=i.alpha,a.style=i.style,a.isNested=!0,a.formatData={xScale:d.scale,yScale:h.scale,xColumns:z,yColumns:W,colorColumn:X,legendFormat:i.legend&&i.legend.getGradientFormat?i.legend.getGradientFormat():void 0},i.subsetRowIndices&&(S=i.subsetRowIndices),i.groupCalculation&&(S&&i.groupCalculation.setRowIndices([S]),S=i.groupCalculation.getResult()[0][i.groupIndex]),(i.statistic!==JMP.MomentsStatic.STAT_NONE||U)&&(O&&q||!O&&j)){if(x=O?z:W,b=x.length,U)i.overlayTerm&&1===b&&(b++,D=!0);else for(s=0;s<b&&a.isNested;s++)E=x[s],a.isNested=E.isCategorical();a.isNested?b>1?a.isNested=!0:1===b&&(a.isNested=!1):(B=!0,b=1),0===b?F=void 0:(U&&D&&(x=[i.overlayTerm.inputVariables[0]].concat(x)),F=x.slice(0,b),U&&(a.xColumns=F)),i.unique||(i.unique=JMP.Unique()),i.unique.setInputVariables(F),i.unique.setRowStates(L),i.subsetRowIndices&&!i.groupCalculation&&i.unique.setRowIndices([S]),U?i.unique.setMissingUsed(i.hasMissingLevels):i.unique.setMissingUsed((!q||x[0].isCategorical())&&i.hasMissingLevels),i.unique.setSelectedUsed(!1),i.unique.setHiddenUsed(!1),i.unique.setExcludedUsed(i.isExcludedUsed),i.unique.setValueOrdering(!0),k=i.unique.getResult()[0],JMP.ViewStatic.permuteUniqueValues(O?R:v,k,F[0]),A=JMP.FrequencyStatic.getRows(F,k,L,S,!1,!1,i.isExcludedUsed),_=S?JMP.FrequencyStatic.getRows(F,k,L,void 0,!1,!1,i.isExcludedUsed):A}else if(!q&&U){A=[],_=[],o=L.excluded.length;let e=i.ccbSubgroupSize||1,t=0;if(void 0!==i.overlayTerm){if(k=JMP.UniqueStatic.getValues(i.overlayTerm.inputVariables,L,i.hasMissingLevels,!0)[0],A=JMP.FrequencyStatic.getRows(i.overlayTerm.inputVariables,k,L,void 0,!1,!1,i.isExcludedUsed),_=A.concat(),e>1){if(void 0===A)for(o=L.excluded.length,A=[],_=[],A[0]=[],_[0]=[],l=0;l<o;l++)i.isExcludedUsed&&L.excluded&&L.excluded[l]||(A[0].push(l),_[0].push(l));let t=A.concat(),a=[];for(l=0;l<t.length;l++)for(t[l];t[l].length>0;)a.push(t[l].splice(0,e));A=a,_=a}if(void 0===i.ccbSubgroupSize&&void 0!==i.overlayIndex){let e=[];A[i.overlayIndex].forEach((function(t){e.push([t])})),A=e,_=e}}else for(l=0;l<o;){for(s=0,A[t]=[],_[t]=[];s<e&&l<o;)i.isExcludedUsed&&L.excluded[l]||(A[t].push(l),_[t].push(l),s++),l++;t++}}else if(P||H||N===e.TYPE_LINE_OF_FIT){if(A=[],_=[],S)A[0]=S.filter((function(e){return!(H&&j&&null===W[0].data[e]||L.excluded[e])}));else for(A[0]=[],o=L.excluded.length,l=0;l<o;l++)L.excluded[l]||A[0].push(l);_[0]=A[0].concat()}if(A){if(i.overlayTerm&&void 0!==i.overlayIndex&&(!i.groupCalculation||!i.groupCalculation.inputVariables.includes(i.overlayTerm.inputVariables[0]))){for(f=i.overlayTerm.getNLevels(),o=A.length,l=0;l<o;l++)V.push(i.overlayTerm.splitIndices([A[l]])[i.overlayIndex%f]);A=V}if(G){for(m=[],s=0,o=1+2*(A.length-1),l=0;l<o;l++)m[l]=l%2==0?A[s++]:[];A=m}}if(i.statistic===JMP.MomentsStatic.STAT_PERCENT&&!G)for(T=[],l=A.length-1;l>=0;l--)if(i.missingFactors!==JMP.ViewStatic.MISSING_FACTORS_ZERO&&(!B&&0===_[l].length||B&&0===A[l].length))A.splice(l,1);else for(s=A[l].length-1;s>=0;s--)T.push(A[l][s]);if(i.n||(i.n=JMP.N()),i.n.setRowStates(L),i.n.setMissingUsed(i.hasMissingLevels),i.n.setSelectedUsed(!0),i.n.setHiddenUsed(!0),i.n.setExcludedUsed(i.isExcludedUsed),i.n.setFreqColumn(a.freqColumn),a.isPrecalculated=!A||N!==e.TYPE_LINE&&!U,a.isPrecalculated){if(a.yData=a.yPosColumn,a.xData=a.xPosColumn,i.setScalable(JMP.SegmentStatic.SCALABLE_CLIENT_SERVER),A){if(G){if(a.yData.length<A.length)for(o=A.length,l=o-3;l>=0;l-=2)0===A[l].length&&A.splice(l,2)}else A=A.filter((function(e){return e.length>0}));i.n.setRowIndices(A),a.count=i.n.getResult().concat()}}else{if(U?(a.yData=a.yPosColumn,i.setScalable(JMP.SegmentStatic.SCALABLE_CLIENT_SERVER)):(i.cal||(i.cal=JMP.Moments()),i.cal.setInputVariables(O?W:z),i.cal.setRowStates(L),i.cal.setMissingUsed(!1),i.cal.setHiddenUsed(!1),i.cal.setExcludedUsed(i.isExcludedUsed),i.cal.setFreqColumn(c),i.cal.setRowIndices(A),i.cal.setAllIndices(T),i.cal.setStatistic((O?j:q)||i.statistic===JMP.MomentsStatic.STAT_PERCENT?i.statistic:JMP.MomentsStatic.STAT_N),p=i.cal.getResult(),a.yData=p.map(u)),i.n.setRowIndices(A),a.count=i.n.getResult().concat(),E=O?z[0]:W[0],a.isMissingFactor=[],a.isNested&&i.missingFactors===JMP.ViewStatic.MISSING_FACTORS_ZERO)for(l=0;l<_.length;l++)a.isMissingFactor[l]=n(l,_);else for(l=0;l<A.length;l++)a.isMissingFactor[l]=n(l,A);o=A.length;let t=O?R:v;if(!K&&(!Q||i.connectMissing===e.CONNECT_NONE||!B)&&i.missingFactors===JMP.ViewStatic.MISSING_FACTORS_SKIP&&(i.statistic!==JMP.MomentsStatic.STAT_PERCENT||a.isNested&&!i.hasMissingLevels&&i.XPos.length<o)||a.isNested&&t.labels&&t.labels[0].length<o){let e=a.rowStates.isAnyHidden();for(l=o-1;l>=0;l--){let t=a.isMissingFactor[l];i.elementKind&&"line"===i.elementKind.toLowerCase()&&e&&K&&(t=a.isMissingFactor[l]&&a.rowStates.hidden[l]),(0===_[l].length||t)&&(A.splice(l,1),a.isMissingFactor.splice(l,1),a.count.splice(l,1),U||a.yData.splice(l,1)),i.statistic===JMP.MomentsStatic.STAT_SUM&&null===a.yData[l]&&(a.yData[l]=0)}a.xData=O?a.xPosColumn.concat():a.yPosColumn.concat()}else for(a.xData=[],l=0;l<a.yData.length;l++)i.statistic===JMP.MomentsStatic.STAT_PERCENT||i.statistic===JMP.MomentsStatic.STAT_SUM?(null===a.yData[l]&&!P&&(i.missingFactors===JMP.ViewStatic.MISSING_FACTORS_ZERO||A[l].length>=1)&&(a.yData[l]=0),$(l,E,B,A,k,a.xData)):(K||Q||null!==a.yData[l])&&$(l,E,B,A,k,a.xData);if(i.missingFactors===JMP.ViewStatic.MISSING_FACTORS_ZERO)for(o=a.yData.length,l=0;l<o;l++)a.isMissingFactor[l]&&(a.yData[l]=0),$(l,E,B,A,k,a.xData);else if(J)for(o=a.yData.length,l=0;l<o;l++)0===a.yData[l]&&0===A[l].length&&(a.yData[l]=null)}if((!K&&2===a.yData.length&&(null===a.yData[0]||null===a.yData[1])||1===a.yData.length&&null===a.yData[0])&&(a.yData=a.yPosColumn.concat()),a.summary||(a.summary={ySummary:[],yStackedSum:[],currentYStackedSum:[],aggregatedRowIndices:[],isInvalidFill:[],isStacked:K,isConnectMissing:i.connectMissing===e.CONNECT_THROUGH,isConnectThroughBaseline:i.fillType!==e.FILL_BETWEEN,connectAbsentX:i.missingFactors}),K){if(a.summary.unstackedSummary=a.yData.concat(),a.summary.summaryIndex=(i.overlayTerm?i.overlayIndex:0)*i.nY+i.iY,!i.previousStackedLine)a.summary.yStackedSum=[],a.summary.currentYStackedSum=[],a.summary.yStackedSums=[],a.summary.ySummary=[],a.summary.aggregatedRowIndices=[],a.summary.yStackedSum.length=a.xData.length,a.summary.yStackedSum.fill(null),a.summary.currentYStackedSum.length=a.xData.length,a.summary.currentYStackedSum.fill(null);else{let e=i.previousStackedLine.getSummary();a.summary.ySummary=e.ySummary,a.summary.yStackedSum=e.yStackedSum,a.summary.currentYStackedSum=e.currentYStackedSum,a.summary.yStackedSums=e.yStackedSums,a.summary.isInvalidFill=e.isInvalidFill,a.summary.aggregatedRowIndices=e.aggregatedRowIndices}a.summary.ySummary[a.summary.summaryIndex]||(a.summary.ySummary[a.summary.summaryIndex]=[],a.summary.yStackedSums[a.summary.summaryIndex]=[]);let t=e.calculateStackedResponseValues(a.summary.summaryIndex,a.xData,a.yData,i.type,a.rowStates,A,a.summary.isConnectMissing,a.summary.connectAbsentX,B,a.summary.yStackedSum,a.summary.currentYStackedSum,a.summary.ySummary[a.summary.summaryIndex]);a.summary.yStackedSums[a.summary.summaryIndex]=a.summary.yStackedSum.concat(),a.summary.isInvalidFill[a.summary.summaryIndex]=(t>=0||a.summary.ySummary[a.summary.summaryIndex].every((function(e){return null===e})))&&!P,a.yData=O?a.yPosColumn.concat():a.xPosColumn.concat()}else a.summary.unstackedSummary=a.yData.concat(),a.summary.summaryIndex=0,a.summary.ySummary[a.summary.summaryIndex]=a.yData.concat(),a.summary.isInvalidFill[a.summary.summaryIndex]=!1;if(O||G||H||Y||(r=a.xData.concat(),a.xData=a.yData.concat(),a.yData=r.concat()),a.isStacked=K,a.isRange=Q,A)for(a.aggregatedRowIndices=A.concat(),a.allIndices=[],l=0;l<a.aggregatedRowIndices.length;l++){let e=a.aggregatedRowIndices[l].filter((e=>!a.rowStates.excluded[e]));for(let t=0;t<e.length;t++)a.allIndices.push(e[t])}if(a.isDataArrayTrimmed=!1,e.updateCache(i,a),i.legend){a.alpha=i.legend.getAlpha(0,i.legendOffset,i.legendModelID),a.lineWidth=i.legend.getLineWidth(0,i.legendOffset,i.legendModelID);let t=0;i.colorTerm&&a.colorData&&!i.legend.isGradient(i.legendOffset,i.legendModelID)&&0===i.legendOffset&&0===i.legendModelID&&(t=a.colorData[0]);let n=e.PATTERN_SOLID;if(t>=0&&(n=i.legend.getLineStyle(t,i.legendOffset,i.legendModelID)),a.style===e.PATTERN_SOLID&&n!==a.style&&(a.style=n),a.colorData){if(a.aggregatedRowIndices&&a.colorData.length<a.aggregatedRowIndices.length)if(o=a.aggregatedRowIndices.length,a.isDataArrayTrimmed)for(l=o-1;l>=0&&a.colorData.length<a.aggregatedRowIndices.length;l--)0===a.aggregatedRowIndices[l].length&&a.colorData.splice(l,0,null);else{let e=Array(o).fill(null),t=0;for(let i=0;i<o;i++)0!==a.aggregatedRowIndices[i].length&&(e[i]=a.colorData[t],t++);a.colorData=e}a.getColorFunc=function(e){return i.legend.getColor(a.colorData[e],i.legendOffset,i.legendModelID)}}i.overlayTerm&&(a.getLabelFunc=function(e){return i.legend.getLabel(e,i.legendOffset,i.legendModelID)})}else a.lineWidth=(void 0!==i.lineWidth?i.lineWidth:1)*(void 0!==i.lineWidthScale?i.lineWidthScale:1);0===i.lineWidth&&(a.lineWidth=0),a.markerIndices=[],a.lineColor=void 0!==i.lineColor?i.lineColor:JMP.COLOR_LINE,a.smoothness=a.style===e.PATTERN_SMOOTH?i.smoothness:void 0,a.nAggregateColumns=b,a.isContinuous=B},e.updateCache=function(i,a){let n,l,s,o,c,d,u,h,g,S,m,f=i.x,T=i.y,p=i.width,E=i.height,b=[],A=[],_=i.type,x=!1,L=!1,N=!1,I={},M={},y={},C=_===e.TYPE_CATEGORICAL_LINE_OF_FIT,R=i.isControlChartLimit,v=_===e.TYPE_CONTROL_CHART_CONNECT_LINE,w=_===e.TYPE_LINE_OF_FIT;if(JMP.ModelStatic.isObjectValid(a)){if(m=a.aggregatedRowIndices,o=a.xData,c=a.yData,d=a.xScaling,u=a.yScaling,m){l=a.aggregatedRowIndices.length;let e=!1,t=[],o=a.rowStates;for(n=0;n<l&&!e;n++){t=a.aggregatedRowIndices[n];for(let i=0;i<t.length&&!e;i++)e=o.selected[t[i]]}a.isDrawnSelected=!1,o.nSelectedIndices>0?!v&&i.isExcludedUsed&&(a.isDrawnSelected=e):a.isDrawnSelected=!0,C||(s=[],JMP.ViewStatic.setHiddenAggregates(m,a.rowStates,!w&&i.isExcludedUsed,s),a.hiddenAggregates=s),i.n.setRowIndices(m),a.count=i.n.getResult().concat(),l=a.count.length;let r=i.isStatisticForY?d.scale:u.scale;if(!a.isPrecalculated&&!a.isStacked&&!a.isRange&&i.missingFactors===JMP.ViewStatic.MISSING_FACTORS_SKIP&&(i.statistic!==JMP.MomentsStatic.STAT_PERCENT||a.isNested&&!i.hasMissingLevels)||a.isNested&&r.labels&&r.labels[0].length<l)for(n=l-1;n>=0;n--)a.count[n]&&a.count[n][0]&&0===a.count[n][0][0]&&a.isMissingFactor&&a.isMissingFactor[n]&&i.missingFactors===JMP.ViewStatic.MISSING_FACTORS_SKIP&&a.count.splice(n,1);if(v)if(a.missingAggregates=[],l=m.length,a.yColumns.length>0){let e=null;for(n=0;n<l;n++)if(i.ccbStatistic===JMP.ViewStatic.CCB_STAT_NAMES.RANGE||i.ccbStatistic===JMP.ViewStatic.CCB_STAT_NAMES.STD_DEV)if(a.count[n][0].count-a.count[n][0].countExcluded<=1)a.missingAggregates[n]=!0;else{let e=m[n].filter((e=>null!==a.yColumns[0].data[e]));a.missingAggregates[n]=e.length<2}else i.ccbStatistic===JMP.ViewStatic.CCB_STAT_NAMES.MOVING_RANGE||i.ccbStatistic===JMP.ViewStatic.CCB_STAT_NAMES.MOVING_RANGE_ON_MEANS||i.ccbStatistic===JMP.ViewStatic.CCB_STAT_NAMES.MOVING_RANGE_ON_STD_DEV?(a.missingAggregates[n]=m[n].every((e=>null===a.yColumns[0].data[e]))||m[n].every((e=>!i.isExcludedUsed&&!0===a.rowStates.excluded[e])),a.missingAggregates[n]||i.ccbStatistic!==JMP.ViewStatic.CCB_STAT_NAMES.MOVING_RANGE_ON_STD_DEV||a.count[n][0].count-a.count[n][0].countExcluded<2&&(a.missingAggregates[n]=!0),a.missingAggregates[n]||null!==e||(a.missingAggregates[n]=!0,e=n)):a.missingAggregates[n]=m[n].every((e=>null===a.yColumns[0].data[e]))||null===a.yData[n]}else a.missingAggregates.length=l,a.missingAggregates.fill(!1)}if(l=o?o.length:0,c.length>l?(c.length=l,a.isDataArrayTrimmed=!0):c.length<l&&(l=o.length=c.length,a.isDataArrayTrimmed=!0),i.smoothness>0&&r.isGeodesic(d.scale,u.scale))for(n=0;n<l;)I.x=o[n],I.y=c[n],JMP.ViewStatic.isPointValid(I)&&(g=JMP.ScalingStatic.getCompactUSInset(I,M,y,!0),S=JMP.ScalingStatic.getCompactUSInset(I,M,y,!1),(g!==S||Math.abs(o[n])>=JMP.ScalingStatic.CANVAS_MAX_INT||Math.abs(c[n])>=JMP.ScalingStatic.CANVAS_MAX_INT)&&(o.length=0,c.length=0,l=0)),n++;a.isSingleValue?1===a.yData.length&&(null===a.yData[0]?(o[1]=o[0],h=u.scale,c[0]=r.convertToValue(h.type,h.origin,h.base,h.power),c[1]=r.convertToValue(h.type,h.origin+h.range,h.base,h.power)):(c[1]=c[0],h=d.scale,o[0]=r.convertToValue(h.type,h.origin,h.base,h.power),o[1]=r.convertToValue(h.type,h.origin+h.range,h.base,h.power)),l=2):a.rowStates&&!w||2!==l||!JMP.ViewStatic.isPointValid({x:o[0],y:c[0]})||!JMP.ViewStatic.isPointValid({x:o[1],y:c[1]})||d.scale.type===r.SCALE_LINEAR&&u.scale.type===r.SCALE_LINEAR||d.scale.type===r.SCALE_LOG&&u.scale.type===r.SCALE_LOG||d.scale.type===r.SCALE_NORMAL||u.scale.type===r.SCALE_NORMAL||d.scale.labels||(o=o.slice(),c=c.slice(),e.interpolateLine(o,c,300)),i.isScaleChanged&&(d&&d.removeEventListener(),u&&u.removeEventListener(),d=JMP.Scaling(i.scale[t.ROLE_X],.5+(f>>0),p-1),u=JMP.Scaling(i.scale[t.ROLE_Y],.5+(T+E-1>>0),1-E),a.isSingleValue&&(o[0]===o[1]?(h=u.scale,c[0]=r.convertToValue(h.type,h.origin,h.base,h.power),c[1]=r.convertToValue(h.type,h.origin+h.range,h.base,h.power)):(h=d.scale,o[0]=r.convertToValue(h.type,h.origin,h.base,h.power),o[1]=r.convertToValue(h.type,h.origin+h.range,h.base,h.power))),x=_===e.TYPE_STEP||_===e.TYPE_LINE&&(u.scale.type===r.SCALE_LOG&&(a.rowStates||R)||d.scale.type===r.SCALE_LOG)||_===e.TYPE_SMOOTHER&&(d.scale.type===r.SCALE_LOG||u.scale.type===r.SCALE_LOG),e.scaleData(o,b,d,f,p,c,A,u,T,E,x,_===e.TYPE_SMOOTHER),l>1&&(JMP.ModelStatic.areAllTheSame(A)||(_===e.TYPE_LINES||R||C)&&JMP.ViewStatic.isParallel(A)?L=!0:(JMP.ModelStatic.areAllTheSame(b)||(_===e.TYPE_LINES||R||C)&&JMP.ViewStatic.isParallel(b))&&(N=!0)),a.xScaling=d,a.yScaling=u,a.xScaled=b,a.yScaled=A,a.isHorizontal=L,a.isVertical=N,i.isScaleChanged=!1),a.aggregatedRowIndices=m,m&&(a.summary.aggregatedRowIndices[a.summary.summaryIndex]=a.aggregatedRowIndices.concat(),a.summary.count=a.count.concat(),a.summary.xData=i.isStatisticForY?a.xData.concat():a.yData.concat())}},e.getLineDash=function(t,i){let a=6*i,n=2*i+2,l=i+1,s=4*i;switch(t===e.PATTERN_DASHDOT&&(a--,s--),t===e.PATTERN_DASHDOTDOT&&(a--,n-=2),t){case e.PATTERN_DASH:return[a,n];case e.PATTERN_DOT:return[l,s];case e.PATTERN_DASHDOT:return[a,s,l,s];case e.PATTERN_DASHDOTDOT:return[a,n,l,n,l,n];case e.PATTERN_DASHDASHDOT:case e.PATTERN_DASHDASHDOTDOT:case e.PATTERN_LONGDASH:case e.PATTERN_LONGDASHDASH:case e.PATTERN_DENSEDASH:case e.PATTERN_SPARSEDASH:case e.PATTERN_SPARSEDOT:case e.PATTERN_SPARSEDASHDOT:const o=JMP.penStyleNameAndWidths.get(t).map((e=>e*Math.sqrt(i)));return o.length>0?o:[];default:return[]}},e.draw=function(t,n){let l,s,o,r,d,u=t.arrowhead,h=t.g;if(JMP.ModelStatic.isObjectValid(n)&&(l=n.xScaled,s=n.yScaled,o=n.lineWidth,r=n.lineColor,n.isSingleValue?n.hiddenAggregates&&n.hiddenAggregates[0]||0!==o&&(r=n.colorData?n.getColorFunc(0):r,n.isDrawnSelected||(r=c.mixColors(r,t.backgroundColor,i)),h.beginPath(),d=o%2==1,h.lineWidth=o,h.strokeStyle=r,JMP.ViewStatic.drawCommand(h,l[0],s[0],d,"moveTo",!0),JMP.ViewStatic.drawCommand(h,l[1],s[1],d,"lineTo",!0),h.stroke()):t.type===e.TYPE_CONTROL_CHART_CONNECT_LINE?e.drawControlChartConnectLine(h,l,s,n.isDrawnSelected,n.count,n.missingAggregates,o,r,n.alpha,t.backgroundColor,t.connectMissingCCB===e.CONNECT_THROUGH):e.drawLine(h,l,s,o,r,n.style,n.alpha,t.type,t.connectMissing,t.missingFactors,n.isHorizontal,n.isVertical,n.smoothness,n.rowStates,n.hiddenAggregates,n.markerIndices,n.getColorFunc,n.isDrawnSelected,n.aggregatedRowIndices,n.count,n.isStacked,t.backgroundColor),u!==e.ARROW_HEAD_NONE&&l&&l.length>=2&&(h.fillStyle=n.colorData?n.getColorFunc(0):r,function(t,i,n,l,s){let o=Math.min(i.length,n.length),r=4*s+4;l!==e.ARROW_HEAD_START&&l!==e.ARROW_HEAD_BOTH||a(t,i[1],n[1],i[0],n[0],r),l!==e.ARROW_HEAD_END&&l!==e.ARROW_HEAD_BOTH||a(t,i[o-2],n[o-2],i[o-1],n[o-1],r)}(h,l,s,u,o)),t.labelText)){let i,a=[],l=[],s=h.textAlign,o=h.textBaseline;for(e.scaleData(t.labelXOffsets,a,n.xScaling,t.x,t.width,t.labelYOffsets,l,n.yScaling,t.y,t.height),h.fillStyle=r,h.font=t.labelFontSize+"px "+t.labelFontName,i=0;i<t.labelText.length;i++)h.textAlign=t.labelHAlign[i],h.textBaseline=t.labelVAlign[i],h.fillText(t.labelText[i],a[i],l[i]);h.textAlign=s,h.textBaseline=o}},e.getSelectedState=function(e){return e.isDrawnSelected},e.drawControlChartConnectLine=function(e,t,i,a,n,l,s,o,r,d,u){let h,g,S=0,m=t.length,f=e.globalAlpha,T=!1,p=!1,E=function(e,t){return t[e]&&t[e][0].count===t[e][0].countHidden};for(e.strokeStyle=a?o:c.mixColors(o,d,.8),e.lineWidth=s,e.globalAlpha=r,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=3,e.setLineDash([]),e.beginPath();S<m;){h=t[S],g=i[S],(null===h||null===g)&&!u||l[S]?(p=E(S,n),u||(T=!1),!T||p||u||(e.stroke(),e.beginPath(),T=!1)):E(S,n)?(p=!0,T=!1):(p=!1,T?e.lineTo(h,g):(e.moveTo(h,g),T=!0)),S++}e.stroke(),e.globalAlpha=f},e.drawLine=function(t,a,n,r,u,h,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C){let R,v,w,O,P,D,F,B,V,k,G,H,Y=0,U=Math.min(a?a.length:0,n?n.length:0),z="moveTo",W=-1,X=!1,Z=!1,q=-1,j=t.globalAlpha,K=[],Q=[],J=[],$=[],ee=m===e.TYPE_STEP,te=m===e.TYPE_SMOOTHER,ie=function(e,t,a){let n=L?L(e):t;return!a&&L&&(n=c.mixColors(n,C,i)),n},ae=r>0,ne=function(e){x&&ae&&x.push(e)};if(A&&(k=A.hidden),void 0!==x&&(x.length=0),u||(u=JMP.COLOR_BLACK),void 0===N&&(N=!0),u=!L&&N?u:c.mixColors(u,C,i),t.strokeStyle=u,(r<0||null===r)&&(r=1),t.lineWidth=r,P=r%2==1,void 0===S&&(S=1),t.globalAlpha=S,void 0===h&&(h=e.PATTERN_SOLID),void 0===m&&(m=e.TYPE_LINE),void 0===f&&(f=e.CONNECT_NONE),void 0===T&&(T=JMP.ViewStatic.MISSING_FACTORS_SKIP),D=ee||m===e.TYPE_LINE||m===e.TYPE_SMOOTHER||m===e.TYPE_LINE_OF_FIT,F=ee||p||E,t.beginPath(),t.lineCap=L?"round":"butt",t.lineJoin="miter",t.miterLimit=3,t.setLineDash(e.getLineDash(h,r)),h===e.PATTERN_SMOOTH){if(!d(m,_)){if(te)K=a,Q=n;else for(Y=0;Y<U;Y++)_&&_[Y]||(K.push(a[Y]),Q.push(n[Y]));for(function(e,t,i,a,n){let l,s,o,r=e.length,c=[],d=[],u=[],h=[],g=[],S=[];if(r<2)return a.length=0,void(n.length=0);for(s=2,o=1,i*=.6,l=1;l<r-1;l++)c[l]=(e[l+1]-e[l-1])/2,d[l]=(t[l+1]-t[l-1])/2;for(2===r?(c[0]=(e[1]-e[0])/2,d[0]=(t[1]-t[0])/2,c[1]=c[0],d[1]=d[0]):(c[0]=(e[1]-c[1]/3-e[0])/1,d[0]=(t[1]-d[1]/3-t[0])/1,c[r-1]=(e[r-1]-(e[r-2]+c[r-2]/3))/1,d[r-1]=(t[r-1]-(t[r-2]+d[r-2]/3))/1),l=1;l<r;l++)u[l]=e[l-1]+c[l-1]*i,h[l]=t[l-1]+d[l-1]*i,g[l]=e[l]-c[l]*i,S[l]=t[l]-d[l]*i;for(a.push(e[0]),n.push(t[0]),l=1;l<r;l++)a.push(u[l]),n.push(h[l]),a.push(g[l]),n.push(S[l]),a.push(e[l]),n.push(t[l])}(K,Q,b,J,$),U=J.length,t.moveTo(J[0],$[0]),Y=0;Y<U;Y+=3)t.bezierCurveTo(J[Y-2],$[Y-2],J[Y-1],$[Y-1],J[Y],$[Y]),L&&(t.strokeStyle=ie(Y/3,u,N),t.stroke(),Y<U-1&&(t.beginPath(),t.moveTo(J[Y],$[Y])))}}else if(!d(m,_))for(;Y<U;)if(R=a[Y],v=n[Y],w=a[Y+1],O=n[Y+1],l(R,v,Y,I,T,y)||s(Y,_,k))f===e.CONNECT_NONE||s(Y,_,k)?(X&&(0!==r&&(t.stroke(),t.beginPath()),X=!1),z="moveTo",ee||m===e.TYPE_LINES?Y+=2:Y++,W=Y):f===e.CONNECT_THROUGH?(Y++,X&&L&&Y<U&&(t.strokeStyle=ie(Y,u,N),H=!0)):(X=!1,void 0!==B&&(z="lineTo",0!==r&&(t.stroke(),t.beginPath(),f===e.CONNECT_DASHED?t.setLineDash(e.getLineDash(h===e.PATTERN_SOLID?e.PATTERN_DASH:e.PATTERN_DOT,r)):t.globalAlpha=.4*S,t.lineWidth=r,t.strokeStyle=ie(Y,u,N),JMP.ViewStatic.drawCommand(t,B,V,P,z,F))),Y++,W=q,Z=!0);else if(B=R,V=v,q=Y,l(w,O,Y+1,I,T,y)||s(Y+1,_,k)){if(1===g(a,n)&&ne(Y),!X&&(s(Y+1,_,k)||o(Y,U,a,n,I,T,y,f,_,k)||l(w,O,Y+1,I,T,y)&&(f===e.CONNECT_NONE||1===g(a,n))))ne(Y);else if(X||Z||f!==e.CONNECT_THROUGH&&!s(Y+1,_,k))2===U&&1===q?ne(1):(z="lineTo",0!==r&&(JMP.ViewStatic.drawCommand(t,R,v,P,"lineTo",F),L&&(t.strokeStyle=ie(Y,u,N),t.stroke(),t.beginPath(),JMP.ViewStatic.drawCommand(t,R,v,P,"moveTo",F))));else{X=!0,W=Y;let i=!0,o=!1;for(let e=Y+1;e<U&&!o;e++)l(a[e],n[e],e,I,T,y)?i=!1:s(e,_,k)||(o=!0);Y<U-1&&(i||f!==e.CONNECT_NONE)?JMP.ViewStatic.drawCommand(t,R,v,P,"lineTo",F):ne(Y)}m===e.TYPE_LINES?Y+=2:Y++}else D&&Y>W&&(z="lineTo"),"moveTo"===z||f===e.CONNECT_NONE||f===e.CONNECT_THROUGH?(X=!0,JMP.ViewStatic.drawCommand(t,R,v,P,z,F),L&&H&&(0!==r&&(t.strokeStyle=ie(Y,u,N),t.stroke(),t.beginPath(),JMP.ViewStatic.drawCommand(t,R,v,P,"moveTo",F)),H=!1),JMP.ViewStatic.drawCommand(t,w,O,P,"lineTo",F),L?(Y++,H||(t.strokeStyle=ie(Y,u,N)),H=!1,0!==r&&t.stroke(),Y<U-1?t.beginPath():2===U&&Y++):(B=w,V=O,q=Y+1,Y+=2,Y===U&&(W=-1))):"lineTo"!==z||f!==e.CONNECT_DASHED&&f!==e.CONNECT_FADED||(0!==r&&(JMP.ViewStatic.drawCommand(t,R,v,P,"lineTo",F),L&&Z&&(t.strokeStyle=ie(Y,u,N)),t.stroke()),Z=!1,t.beginPath(),f===e.CONNECT_DASHED?t.setLineDash(e.getLineDash(h,r)):t.globalAlpha=S,JMP.ViewStatic.drawCommand(t,R,v,P,"moveTo",F),JMP.ViewStatic.drawCommand(t,w,O,P,"lineTo",F),L?(B=R,V=v,q=Y,Y++,0!==r&&(t.strokeStyle=ie(Y,u,N),t.stroke(),Y<U-1&&t.beginPath())):(B=w,V=O,q=Y+1,Y+=2,Y===U&&(W=-1)));for(0!==r&&t.stroke(),t.lineCap="butt",t.setLineDash([]),t.globalAlpha=S,x&&0===x.length&&W>=0&&W<U&&"moveTo"===z&&ne(W),U=x?x.length:0,0===r&&(r=1),Y=0;Y<U;Y++)if(G=L?ie(x[Y],u,N):u,!s(x[Y],_,k)){let e=r<=2?1.8:r<=8?1.6:1.4;JMP.MarkerSegmentStatic.drawMarker(t,a[x[Y]],n[x[Y]],r*e,JMP.Marker.DOT,G)}t.globalAlpha=j},e.scaleData=function(e,t,i,a,n,l,s,o,c,d,u,h){let g,S,m=Math.min(e.length,l.length),f=JMP.ScalingStatic.valuesToPixel,T=JMP.ScalingStatic.ensureValid;for(g=0;g<m;g++)null===e[g]||null===l[g]?(t[g]=null,s[g]=null):(S=f(i,o,e[g],l[g],u),i.scale.type===r.SCALE_NORMAL&&(e[g]<=0||e[g]>=1)&&(S.x=null),o.scale.type===r.SCALE_NORMAL&&(l[g]<=0||l[g]>=1)&&(S.y=null,i.scale.type===r.SCALE_LOG&&e[g]<JMP.SMALL_LOG_VALUE&&(S.x=null)),h&&o.scale.type===r.SCALE_LOG&&null===S.y&&(S.y=o.pixelOrigin),t[g]=T(S.x,a,n),s[g]=T(S.y,c,d))},e.interpolateLine=function(e,t,i){let a,n,l,s,o,r,c;if(e&&t&&2===e.length&&2===t.length&&!(i<3)&&(n=e[1]-e[0],l=t[1]-t[0],r=Math.sqrt(n*n+l*l),Number.isFinite(r)))for(e[i]=e[1],t[i]=t[1],c=r/i,s=c*n/r,o=c*l/r,a=1;a<i;a++)e[a]=e[a-1]+s,t[a]=t[a-1]+o},e.select=function(t,i,a,n){let l,s,o,r,c,d,u,g,S,m,f=-1,T=-1,p=a.width||a.height,E=!1,b=[],A=JMP.ViewStatic.FUZZ_PIXELS_SQUARED,_={},x={},L=(t.type===e.TYPE_STEP||t.type===e.TYPE_LINE)&&t.connectMissing===e.CONNECT_THROUGH,N=t.type===e.TYPE_CONTROL_CHART_CONNECT_LINE;if(JMP.ModelStatic.isObjectValid(i)&&i.rowStates&&i.isSelectable&&t.type!==e.TYPE_SMOOTHER&&t.type!==e.TYPE_LINE_OF_FIT&&t.type!==e.TYPE_CATEGORICAL_LINE_OF_FIT&&!i.isRange){if(d=i.rowStates,r=i.xScaled,c=i.yScaled,u=i.markerIndices,m=u?u.length:0,p){for(l=0;l<m;l++)JMP.ViewStatic.pointInRect({x:r[u[l]],y:c[u[l]]},a)&&(b=i.allIndices);for(o=r.length,l=0;l<o-1;){if(_={x:r[l],y:c[l]},s=1,JMP.ViewStatic.isPointValid(_)&&!u.includes(l)&&(!N||!i.hiddenAggregates[l])){for(f=l,T=-1;T<f&&f+s<o;)x={x:r[f+s],y:c[f+s]},!JMP.ViewStatic.isPointValid(x)||u.includes(f+s)||N&&i.hiddenAggregates[f+s]?s++:T=f+s;T>=0&&JMP.ViewStatic.lineSegmentIntersectsRectangle(_,x,a)&&(b=i.allIndices)}l+=s}}else{for(l=0;l<m;l++)g=h(a.x,a.y,r[u[l]],c[u[l]]),Number.isFinite(g)&&(b=i.allIndices);0===b.length&&(S=JMP.ViewStatic.findShortestDistanceToLine(a.x,a.y,r,c,L,N?i.hiddenAggregates:void 0),S.shortestSquaredLength<A&&(b=i.allIndices,n===JMP.ViewStatic.SELECT_TOGGLE&&(E=b.some((function(e){return d.selected[e]})))))}JMP.ViewStatic.selectRows(d,n,b,E)}},e.getTooltip=function(t,i,a,n){let o,c,u,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F,B,V,k,G,H,Y,U,z,W,X,Z,q,j,K,Q,J,$,ee,te,ie,ae,ne=null,le=null,se=t.type,oe=t.description,re=t.useDescriptionTooltip,ce=(se===e.TYPE_STEP||se===e.TYPE_LINE||se===e.TYPE_CONTROL_CHART_CONNECT_LINE)&&t.connectMissing===e.CONNECT_THROUGH,de=se===e.TYPE_STEP,ue={shortestSquaredLength:1/0,nearestPoint:{x:null,y:null}},he=JMP.ViewStatic.FUZZ_PIXELS,ge=t.isControlChartLimit?JMP.ViewStatic.FUZZ_PIXELS/3:JMP.ViewStatic.FUZZ_PIXELS_SQUARED,Se=!1,me=se===e.TYPE_LINE_OF_FIT||se===e.TYPE_CATEGORICAL_LINE_OF_FIT,fe=t.legend&&t.legend.isGradient(t.legendOffset,t.legendModelID),Te=se===e.TYPE_CONTROL_CHART_CONNECT_LINE,pe=function(e,t,i,a,n){let l,s,o;for(l=0;l<i;l++)o=t[l],s=JMP.ViewStatic.getProperFormat(o,n),e.addLineFromColumn(o,a,s)},Ee=[],be=[];if(!JMP.ModelStatic.isObjectValid(i))return null;if(L=i.rowStates,L&&(i.isSelectable||Te)&&(N=i.rowStates.hidden),x=i.aggregatedRowIndices?i.aggregatedRowIndices.concat():void 0,I=i.hiddenAggregates,v=i.colorData,w=i.colorTerm,O=i.overlayTerm,k=i.xPosColumn,G=i.yPosColumn,C=i.xColumns,R=i.yColumns,B=i.statistic,V=i.isStatisticForY,U=i.nAggregateColumns,Z=i.isSingleValue,q=i.freqColumn,P=i.labeledColumns,D=i.tipImageColumn,j=i.xScaled,K=i.yScaled,Q=i.xScaling,J=i.yScaling,$=i.isHorizontal,ee=i.isVertical,z=J.scale.axisLabel||null,W=Q.scale.axisLabel||null,ie=B===JMP.MomentsStatic.STAT_PERCENT,ae=i.isStacked,N&&!me){if(Z)$?(E=K[0],n>E-he&&n<E+he&&(A=E-n,ue.shortestSquaredLength=A*A,ue.nearestIndex=0,M=0,ue.nearestPoint.x=a,ue.nearestPoint.y=E)):(p=j[0],a>p-he&&a<p+he&&(b=p-a,ue.shortestSquaredLength=b*b,ue.nearestIndex=0,M=0,ue.nearestPoint.x=p,ue.nearestPoint.y=n));else{u=j.length;let l=u;if(ae&&!I[0]&&null!==K[0]&&"area"===t.elementKind.toLowerCase()){const e=J.pixelOrigin;let t=[];K.forEach((t=>t!==e?Ee.push(t):null)),K.forEach(((i,a)=>i!==e?t.push(a):null));for(let e=0;e<t.length;e++)be.push(j[t[e]]);l=be.length}for(o=0;o<l;o++)if(be.length>0?(p=be[o],E=Ee[o]):(p=j[o],E=K[o]),_=h(a,n,p,E),_<ue.shortestSquaredLength){if(ue.shortestSquaredLength=_,ue.nearestIndex=o,M=o,x&&i.isPrecalculated)if(q&&!i.smoothness)M=o;else for(M=-1,c=0;c<x.length;c++)if((x[c].length>0||se===e.TYPE_STEP)&&M++,M===o){M=c;break}ue.nearestPoint.x=p,ue.nearestPoint.y=E}}if(o=M,void 0!==o&&!l(a,n,o,x,t.missingFactors,i.isStacked)&&!s(o,I,N)&&x&&x[M]&&x[M].length>0){if(d(se,I))return null;if(ne=JMP.TooltipModel(),ne.x=ue.nearestPoint.x,ne.y=ue.nearestPoint.y-4,se===e.TYPE_SMOOTHER)oe&&ne.addLine(void 0,oe);else{if(P?ne.addLabeledColumns(t,P,x[M]):ne.addLineFromValues(JMP.TooltipModelStatic.TIP_ROW,x[M].map((function(e){return e+1}))),V){let a=!0;if(JMP.NStatic.getValues(Z||ie?void 0:R,q,L,[x[M]],!0,t.isExcludedUsed)[0][0].count<=1&&P&&R&&R[0]){let e=P.find((e=>e.name===R[0].name));a=!(e&&(B===JMP.MomentsStatic.STAT_MEAN||B===JMP.MomentsStatic.STAT_SUM||B===JMP.MomentsStatic.STAT_MIN||B===JMP.MomentsStatic.STAT_MAX||B===JMP.MomentsStatic.STAT_MEDIAN||B===JMP.MomentsStatic.STAT_GEOMETRIC_MEAN))}if(a){if(le=J.scale,y=R[0],y||(y=G),S=Te?`${t.ccbStatistic}(${y.name})`:JMP.TooltipStatic.getLabel(y,B),X=JMP.ViewStatic.getProperFormat(y,i.formatData),R[0]){if(X=JMP.ViewStatic.getPreciseFormat(le.origin,le.range,X,!1,y.isIntegral(),Te?JMP.MomentsStatic.STAT_MEAN:B),B===JMP.MomentsStatic.STAT_SUM&&y.isIntegral()&&(X=i.formatData.yScale.format),ne.addLine(S,i.isSingleValue&&U>0?R[0].data[x[M][0]]:ae?i.summary.unstackedSummary[o]:i.yData[o],X),ae&&t.previousStackedLine){const t=i.yData.filter((function(e){return 0!==e}));ne.addLine(e.TIP_STACKED_VALUE,be.length>0?t[o]:i.yData[o],X)}}else!R[0]&&ie&&(S=JMP.MomentsStatic.NAMES[JMP.MomentsStatic.STAT_PERCENT],ne.addLine(S,i.yData[o],le.format));pe(ne,C,U,x[M][0],i.formatData)}}else le=Q.scale,y=C[0],y||(y=k),S=JMP.TooltipStatic.getLabel(y,B),X=JMP.ViewStatic.getProperFormat(y,i.formatData),C[0]&&(X=JMP.ViewStatic.getPreciseFormat(le.origin,le.range,X,!1,y.isIntegral(),B),ne.addLine(S,C[0].getValueString(i.isSingleValue&&U>0?C[0].data[x[M][0]]:ae?i.summary.unstackedSummary[o]:i.xData[o],X)),ae&&t.previousStackedLine&&ne.addLine(e.TIP_STACKED_VALUE,C[0].getValueString(i.xData[o],X))),pe(ne,R,U,x[M][0],i.formatData);if(w&&v){const e=w.inputVariables[0];let a=!0;const n=ne.lines;if(e.isCategorical()&&n.length>0){const i=e.name;let l=!1;for(let e=0;e<n.length;e++){if(i===n[e].substr(0,n[e].indexOf(":"))){l=!0;break}}const s=t.colorStatistic===JMP.MomentsStatic.STAT_MEAN||t.colorStatistic===JMP.MomentsStatic.STAT_SUM||t.colorStatistic===JMP.MomentsStatic.STAT_MIN||t.colorStatistic===JMP.MomentsStatic.STAT_MAX||t.colorStatistic===JMP.MomentsStatic.STAT_MEDIAN||t.colorStatistic===JMP.MomentsStatic.STAT_GEOMETRIC_MEAN;a=!(l&&s)}if(a&&e!==y&&(!i.isMissingFactor||!i.isMissingFactor[o])){S=JMP.TooltipStatic.getLabel(e,t.colorStatistic),X=JMP.ViewStatic.getPreciseFormat(0,0,e.format,!1,e.isIntegral(),t.colorStatistic);let i=v[o];if(!e.isCategorical()||null!==i){if(e.isCategorical()&&!fe){let t=w.getCharLevels();i=JMP.ModelStatic.getCategoricalString(i,t,e),X=void 0}ne.addLine(S,i,X)}}}let a;O&&(O.inputVariables[0].isContinuous()?!w&&i.getLabelFunc&&ne.addLine(O.inputVariables[0].name,i.getLabelFunc()):ne.addLineFromColumn(O.inputVariables[0],x[M][0])),te=JMP.NStatic.getValues(Z||ie?void 0:R,q,L,[x[M]],!0,t.isExcludedUsed)[0],q&&(a=Te?`${JMP.TooltipModelStatic.TIP_NUMBER_OF_TRIALS}(${q.name})`:JMP.TooltipModelStatic.TIP_FREQUENCY);let n=Te?te[0].countExcluded:void 0,{count:l,countSelected:s,countHidden:r}=te[0];JMP.TooltipStatic.addLineForRows(ne,l,s,r,!!q,a,n),D&&(F=D.data[x[M][0]],ne.imageSrc=F,ne.addLine(D.name,F?"":JMP.ModelStatic.TIP_MISSING))}}else if(!Z&&I&&I.includes(!1)&&(t.legend||Te)&&(g=JMP.ViewStatic.findShortestDistanceToLine(a,n,j,K,ce,Te?I:void 0),g.shortestSquaredLength<ge))if(ne=JMP.TooltipModel(),ne.x=g.nearestPoint.x,ne.y=g.nearestPoint.y-4,w||fe)C&&C[0].isCategorical()?i.isMissingFactor&&!i.isMissingFactor[g.nearestIndex]?pe(ne,C,U,x[g.nearestIndex][0],i.formatData):!fe&&i.getLabelFunc?ne.addLine(C[0].name,i.getLabelFunc(g.nearestIndex)):ne.addLine(void 0,oe):ne=null;else{let e,i;t.legend&&(e=t.legend.title,i=t.legend.getLabel(void 0,t.legendOffset,t.legendModelID),void 0===i&&0===t.lineWidth&&(e=void 0,ne=null)),e||i?ne.addLine(e,i):Te&&ne.addLine(void 0,oe)}}else{if(d(se,I))return null;if(g=JMP.ViewStatic.findShortestDistanceToLine(a,n,j,K,ce),g.shortestSquaredLength<ge)if(o=g.nearestIndex,ne=JMP.TooltipModel(),$||ee){if(se===e.TYPE_CATEGORICAL_LINE_OF_FIT){let e=[];($?R:C).forEach((t=>e.push(t.name))),function(e,t,i,a,n,l){let s=JMP.ScalingStatic.getScaledValues(i,t),o=i.scale;for(let t=0;t<l.length;t++){const i=l[t],r=s[t];i?(a&&e.addLine(void 0,n),e.addLine(i,r,o.getFormat())):e.addLine(n,r,o?o.refFormat:void 0)}}(ne,$?K[o]:j[o],$?J:Q,oe&&re,oe,e.reverse())}else!function(e,t,i,a,n){let l,s=i.scale;s.axisLabel?(a&&e.addLine(void 0,n),JMP.TooltipStatic.addAxisValuesToTooltip(e,t,i)):(l=JMP.ScalingStatic.pixelToValue(i,t),e.addLine(n,l,s?s.refFormat:void 0))}(ne,$?K[o]:j[o],$?J:Q,oe&&re,oe);$?(ne.x=a,ne.y=K[o]-4):(ne.x=j[o]+4,ne.y=n)}else H=Q.scale.type===r.SCALE_LINEAR&&Q.scale.labels,Y=J.scale.type===r.SCALE_LINEAR&&J.scale.labels,oe&&(re||!z&&!W)&&ne.addLine(void 0,oe),H?(m=JMP.ScalingStatic.pixelToValue(Q,a),T=Q.scale.getCategoryIndex(m,0),de&&!Y?(f=JMP.ScalingStatic.pixelToValue(J,g.nearestPoint.y),ne.addLine(z,f,J.scale.getFormat()),JMP.TooltipStatic.addAxisValuesToTooltip(ne,a,Q)):(g=JMP.ViewStatic.findShortestDistanceToLine(JMP.ScalingStatic.valueToPixel(Q,T),n,j,K,ce),JMP.TooltipStatic.addAxisValuesToTooltip(ne,g.nearestPoint.y,J),JMP.TooltipStatic.addAxisValuesToTooltip(ne,g.nearestPoint.x,Q),Se=!0,g.nearestPoint.y=K[g.nearestIndex],g.nearestPoint.x=j[g.nearestIndex])):Y?(f=JMP.ScalingStatic.pixelToValue(J,n),T=J.scale.getCategoryIndex(f,0),JMP.TooltipStatic.addAxisValuesToTooltip(ne,n,J),m=JMP.ScalingStatic.pixelToValue(Q,j[o]),ne.addLine(W,m,Q.scale.getFormat())):(Se=!0,f=JMP.ScalingStatic.pixelToValue(J,g.nearestPoint.y),ne.addLine(z,f,J.scale.getFormat()),m=JMP.ScalingStatic.pixelToValue(Q,g.nearestPoint.x),ne.addLine(W,m,Q.scale.getFormat())),de||Se?(ne.x=g.nearestPoint.x,ne.y=g.nearestPoint.y-4):(ne.x=j[T],ne.y=K[T]-4)}if(ne&&ne.lines){let e=ne.lines;ne.lines=[...new Set(e)]}return ne},e.getPriority=function(t,i,a){let n,l,s,o,r,c,d,u,g=null,S=a.width||a.height,m=JMP.ViewStatic.FUZZ_PIXELS_SQUARED,f=t.type===e.TYPE_CONTROL_CHART_CONNECT_LINE;if(!JMP.ModelStatic.isObjectValid(i))return null;if(s=i.xScaled,o=i.yScaled,r=i.markerIndices,u=r?r.length:0,S){for(n=0;n<u;n++)JMP.ViewStatic.pointInRect({x:s[r[n]],y:o[r[n]]},a)&&(g=JMP.Priority(0,JMP.PriorityStatic.TIP_PRIORITY_POINT,t));for(l=s.length,n=0;n<l-1;){let e,c={x:s[n],y:o[n]},d=1;if(JMP.ViewStatic.isPointValid(c)&&!r.includes(n)&&(!f||!i.hiddenAggregates[n])){let u=n,h=-1;for(;h<u&&u+d<l;)e={x:s[u+d],y:o[u+d]},!JMP.ViewStatic.isPointValid(e)||r.includes(u+d)||f&&i.hiddenAggregates[u+d]?d++:h=u+d;h>=0&&JMP.ViewStatic.lineSegmentIntersectsRectangle(c,e,a)&&(g=JMP.Priority(0,JMP.PriorityStatic.TIP_PRIORITY_LINE,t))}n+=d}}else{for(let e=0;e<u;e++)c=h(a.x,a.y,s[r[e]],o[r[e]]),Number.isFinite(c)&&(g=JMP.Priority(c,JMP.PriorityStatic.TIP_PRIORITY_POINT,t));if(null===g){let n=(t.type===e.TYPE_STEP||t.type===e.TYPE_LINE)&&t.connectMissing===e.CONNECT_THROUGH;d=JMP.ViewStatic.findShortestDistanceToLine(a.x,a.y,s,o,n,f?i.hiddenAggregates:void 0),d.shortestSquaredLength<m&&(g=JMP.Priority(d.shortestSquaredLength,t.isControlChartLimit?JMP.PriorityStatic.TIP_PRIORITY_REFERENCE_LINE:JMP.PriorityStatic.TIP_PRIORITY_LINE,t))}}return g},e}(),JMP.LineSegment=function(e){"use strict";let i,a=new d(e),n=function(e){JMP.LineSegmentStatic.onScaleEvent(a,e)},l=function(e){return!i&&a.columns&&a.scale[t.ROLE_X]&&a.scale[t.ROLE_Y]?(i={},JMP.LineSegmentStatic.getCache(a,i),i.xScaling&&i.xScaling.scale.addEventListener(n),i.yScaling&&i.yScaling.scale.addEventListener(n)):i&&e&&JMP.LineSegmentStatic.updateCache(a,i),i};return a.lineColor=JMP.COLOR_LINE,a.lineWidth=1,a.lineWidthScale=1,a.style=JMP.LineSegmentStatic.PATTERN_SOLID,a.type=JMP.LineSegmentStatic.TYPE_LINE,a.smoothness=0,a.arrowhead=JMP.LineSegmentStatic.ARROW_HEAD_NONE,a.useDescriptionTooltip=void 0,a.connectMissing=JMP.LineSegmentStatic.CONNECT_NONE,a.connectMissingCCB=JMP.LineSegmentStatic.CONNECT_NONE,a.XPos=void 0,a.YPos=void 0,a.colorData=void 0,a.isStatisticForY=!0,a.isSelectable=!1,a.missingFactors=JMP.ViewStatic.MISSING_FACTORS_SKIP,a.iY=void 0,a.nY=void 0,a.fillType=JMP.LineSegmentStatic.FILL_NONE,a.ccbStatistic=void 0,a.ccbSubgroupSize=void 0,a.isControlChartLimit=!1,a.backgroundColor=void 0,a.segType=JMP.LineSegmentStatic.LINE_SEG_TYPE,a.elementKind=void 0,a.unique=void 0,a.isScaleChanged=!0,a.draw=function(){JMP.LineSegmentStatic.draw(a,l(!0))},a.getSelectedState=function(){return JMP.LineSegmentStatic.getSelectedState(l(!0))},a.select=function(e,t){JMP.LineSegmentStatic.select(a,l(),e,t)},a.getTooltip=function(e,t){return JMP.LineSegmentStatic.getTooltip(a,l(),e,t)},a.getPriority=function(e){return JMP.LineSegmentStatic.getPriority(a,l(),e)},a.getSummary=function(){return l(!0).summary},a},JMP.MarkerSegmentStatic=function(){"use strict";let e={},i=[1,3,5,7,10,12,13],l=[1,2,2,3,4,5,5],s=[1,1,1,1,2,2,2],o=[1,2,2,2,2,3,3],d=JMP.ScalingStatic.valuesToPixel,u=JMP.ScalingStatic.pixelToValue,h=c.stringTorgb,g=c.rgbToHexString,S=c.getHiddenColor,m=h(JMP.COLOR_DESELECT.substr(1,7)),f=function(e){!this.isLastInFrame||e.type!==r.EVENT_INPUT&&e.type!==r.EVENT_CHANGED||(this.isBackgroundDirty=!0,this.allSelectedImage=void 0)},T=function(e,t,i,a,n){let{aggregatedRowIndices:l,hiddenAggregates:s,selectedAggregates:o,getColorFunc:r}=t,c=r(e,t,i,a);return l&&s&&s.length>0&&s[i]&&(!n||o.length>0&&!o[i])&&(c=S(c)),c===JMP.COLOR_BLACK&&e.backgroundColor===JMP.COLOR_BLACK&&(c=JMP.COLOR_WHITE),c},p=function(t,i,a){(i>0&&t.size<e.MAX_MARKER_SIZE||i<0&&t.size>e.MIN_MARKER_SIZE)&&(t.totalSizeChange+=i,t.size+=i,t.isBackgroundDirty=!0,a&&t.isLastInFrame&&t.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED))},E=function(e,t,i,a,n,l=!1){let s=i?i[e]:e,o=t&&t.length>0,r=o?t[e]:e;return a?a[i||!o||n?s:r]:l?s:o?s<t.length?t[s]:-1:s},b=function(e,t,i,a,n,l,s,o){let r,c,d,u,h,g,S,m,f,T,p,{width:E,xOffset:b,yOffset:A,showLabels:_,labelValues:x,isLabelDataIndexed:L,isLabelIndexMapped:N,rowIndices:I}=e,M=(o?0:e.x)+e.padLeft,y=M+E+e.padRight,C=!1,{rowStates:R,aggregatedRowIndices:v,isCCBMarker:w,isCCBTestMarker:O,isCCBIndividualPoint:P}=t,D=w||O||P;if(!(!_||!_[l]||a<M||a>y)){if(r=R.labeled,v&&v[l])for(d=v[l].length,u=0;u<d&&!C;u++)f=v[l][u],C=(!D||!R.excluded[f])&&r[f];else C=r[s];if(C){for(S=L?I&&!N?I[l]:l:s,g=x?x[S]:null,h=g?g.length:0,p=Math.min(h,3),T="",f=0;f<p;f++)T+=g[f].join(", "),T=T.replace(/,\s*$/,""),f<p-1&&(T+="; ");if(h>3&&(T+="; ..."),""!==T){let t=b[l];if(t+a<M){t+=M-(t+a)}c=t<=0?t:t+e.size;const o=JMP.GRAPH_LABEL_FONT_SIZE,r=JMP.GRAPH_LABEL_FONT_WEIGHT?JMP.GRAPH_LABEL_FONT_WEIGHT+" ":"";i.font=r+o+"px "+JMP.GRAPH_LABEL_FONT_FAMILY,S=L?l:s,m=i.measureText(T).width+4,m<E&&a+c+m>y&&(c=y-m-a),JMP.TextBoxStatic.drawOffsetText(i,a,n,c,A[l],T,o,1,!1,JMP.GRAPH_LABEL_FONT_FAMILY,JMP.GRAPH_LABEL_FONT_WEIGHT)}}}},A=function(e,t,i,a){return i&&(a?e>=0&&a[e]:i[t])},_=function(e,t,i,a,n,l,s){let o,r,c,u,h,g,S,m,f,T,p,{xData:b,yData:_,xScaling:x,yScaling:L,rowStates:N,hiddenAggregates:I}=e,M=e.isCCBMarker,y=e.isCCBTestMarker||M||e.isCCBIndividualPoint,C={distance:0,isAboveAndRight:!1},R=!1,v={},w=Number.MAX_VALUE;const O=JMP.ViewStatic.FUZZ_PIXELS;if(!b||!_)return null;N&&(o=N.hidden),p=b.length;let P=0,D=[],F=[];for(f=0;f<p;f++)T=E(f,a,n,l,s,y),R=y&&I&&I[f],R||A(f,T,o,I)||null===b[f]||null===_[f]||(v=d(x,L,b[f],_[f]),r=v.x,c=v.y,Number.isFinite(r)&&Number.isFinite(c)&&t>r-O&&t<r+O&&i>c-O&&i<c+O&&(u=r-t,h=c-i,m=u*u+h*h,m<w?(P=1,w=m,D[0]=f,F[0]=T,g=u,S=h):m===w&&(D[P]=f,F[P]=T,P++)));return w===Number.MAX_VALUE?null:(C.distance=w,C.dataIndices=D,C.rowIndices=F,C.numClosest=P,C.isAboveAndRight=g<0&&S>0,C)},x=function(e,t,a,n,r,c,d,u){let h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y=0,C="lines",R=0,v=[0,0,0,0,0,0,0,0],w=[0,0,0,0,0,0,0,0],O=!1,P=!1,D=1,F=!!c&&c.isCCBMarker,B=!!c&&c.isCCBTestMarker;if(null==r&&(r=JMP.Marker.DOT),0===n){if(!F)return void e.fillRect(t-.5>>0,a-.5>>0,1,1);n=1.5*Math.max(n,.5)}if("string"==typeof r||r>31){S=e.font,m=e.textBaseline,f=e.textAlign;const i="string"==typeof r?r:String.fromCharCode(r);if(u&&u>0){g=u;g+=(n-3)*((g+2)/5)}else g=1+2.75*n;const l=JMP.MARKER_FONT_WEIGHT?JMP.MARKER_FONT_WEIGHT+" ":"";return e.font=l+g+"px "+JMP.MARKER_FONT_FAMILY,e.textBaseline="middle",e.textAlign="center",e.fillText(i,t,a),e.font=S,e.textBaseline=m,void(e.textAlign=f)}if("object"!=typeof r){for(P=r===JMP.Marker.DOT||r>JMP.Marker.STAR&&r<JMP.Marker.TRIANGLE_DOWN||r>JMP.Marker.TRIANGLE_RIGHT&&r<JMP.Marker.ARROW_UP,P&&d&&(n+=2),T=e.lineWidth,e.lineWidth=n>10?2:1,d&&e.lineWidth++,b=n,B&&(e.lineWidth=1),A=(b+1)/2,_=(b*Math.SQRT2+1)/2,x=(b*JMP.SQRT3+1)/2,R=B||P||2===e.lineWidth?0:.5,y=v.length,h=0;h<y;h++)v[h]=(t+.5>>0)+R,w[h]=(a+.5>>0)+R;switch(r){case JMP.Marker.PLUS:b=1.3*((b>>0)+R),e.lineWidth=1.25*e.lineWidth,v[0]-=b,v[1]+=b,w[2]-=b,w[3]+=b,y=4;break;case JMP.Marker.X:v[0]-=_,w[0]-=_,v[1]+=_,w[1]+=_,v[2]-=_,w[2]+=_,v[3]+=_,w[3]-=_,y=4;break;case JMP.Marker.SQUARE:case JMP.Marker.SQUARE_FILLED:N=2*_,v[0]-=_,w[0]-=_,I=N,C="rect";break;case JMP.Marker.Y:w[0]+=b,v[2]-=_,w[2]-=_,v[4]+=_,w[4]-=_,y=5;break;case JMP.Marker.DIAMOND:case JMP.Marker.DIAMOND_FILLED:D=b<6?1.3:1,w[0]-=b*D,v[1]+=b*D,w[2]+=b*D,v[3]-=b*D,y=4,O=!0,C="polyline";break;case JMP.Marker.TRIANGLE_UP:case JMP.Marker.TRIANGLE_UP_FILLED:x+=R,w[0]-=b,v[1]+=x,w[1]+=x,v[2]-=x,w[2]+=x,y=3,O=!0,C="polyline";break;case JMP.Marker.TRIANGLE_DOWN:case JMP.Marker.TRIANGLE_DOWN_FILLED:x+=R,w[0]+=b,v[1]+=x,w[1]-=x,v[2]-=x,w[2]-=x,y=3,O=!0,C="polyline";break;case JMP.Marker.TRIANGLE_LEFT:case JMP.Marker.TRIANGLE_LEFT_FILLED:x+=R,v[0]-=b,v[1]+=x,w[1]-=x,v[2]+=x,w[2]+=x,y=3,O=!0,C="polyline";break;case JMP.Marker.TRIANGLE_RIGHT:case JMP.Marker.TRIANGLE_RIGHT_FILLED:x+=R,v[0]+=b,v[1]-=x,w[1]-=x,v[2]-=x,w[2]+=x,y=3,O=!0,C="polyline";break;case JMP.Marker.ARROW_UP:w[1]-=b,v[0]+=b,w[0]+=b,v[2]-=b,w[2]+=b,y=3,C="polyline";break;case JMP.Marker.ARROW_DOWN:w[1]+=b,v[2]+=b,w[2]-=b,v[0]-=b,w[0]-=b,y=3,C="polyline";break;case JMP.Marker.ARROW_LEFT:v[1]-=b,v[0]+=b,w[0]-=b,v[2]+=b,w[2]+=b,y=3,C="polyline";break;case JMP.Marker.ARROW_RIGHT:v[1]+=b,v[0]-=b,w[0]-=b,v[2]-=b,w[2]+=b,y=3,C="polyline";break;case JMP.Marker.Z:v[0]-=_,w[0]-=_,v[1]+=_,w[1]-=_,v[2]-=_,w[2]+=_,v[3]+=_,w[3]+=_,y=4,C="polyline";break;case JMP.Marker.CIRCLE_FILLED:case JMP.Marker.CIRCLE:D=b<=6?1:b<=10?.9:.8,L=b*D,C="circle";break;case JMP.Marker.WIDE:M=Math.round(n),v[0]-=n+1,w[0]-=M<7?s[M]:.6*n,N=M<7?i[M]:1.5*n,I=M<7?l[M]:.8*n,C="rect";break;case JMP.Marker.WIDE_FILLED:v[0]=v[0]-n>>0,w[0]=w[0]-.5*n>>0,N=2*n,I=n,C="rect";break;case JMP.Marker.TALL:M=Math.round(n),v[0]-=M<7?o[M]:.6*n,w[0]-=n+1,N=M<7?l[M]:.8*n,I=M<7?i[M]:1.5*n,C="rect";break;case JMP.Marker.TALL_FILLED:v[0]=v[0]-.5*n>>0,w[0]=w[0]-n>>0,N=n,I=2*n,C="rect";break;case JMP.Marker.STAR:w[0]-=b,w[1]+=b,v[2]-=x,w[2]-=A,v[3]+=x,w[3]+=A,v[4]-=x,w[4]+=A,v[5]+=x,w[5]-=A,y=6;break;case JMP.Marker.PIPE:1&e.lineWidth&&(b+=.5),w[0]-=b,w[1]+=b,y=2;break;case JMP.Marker.MINUS:1&e.lineWidth&&(b+=.5),v[0]-=b,v[1]+=b,y=2;break;case JMP.Marker.SLASH:v[0]-=_,w[0]+=_,v[1]+=_,w[1]-=_,y=2;break;case JMP.Marker.BACKSLASH:v[0]-=_,w[0]-=_,v[1]+=_,w[1]+=_,y=2;break;default:L=b<3?b:b<6?.8*b:.7*b,C="circle"}switch(e.beginPath(),e.miterLimit=10,C){case"lines":for(r===JMP.Marker.Y&&(p=e.lineCap,e.lineCap="square"),h=0;h<y;h+=2)e.moveTo(v[h],w[h]),e.lineTo(v[h+1],w[h+1]);e.stroke(),r===JMP.Marker.Y&&(e.lineCap=p);break;case"polyline":for(P||(E=e.lineJoin,p=e.linecap,e.lineJoin=r===JMP.Marker.Z?"bevel":"miter",e.lineCap=r===JMP.Marker.Z?"butt":"square"),e.moveTo(v[0],w[0]),h=1;h<y;h++)e.lineTo(v[h],w[h]);P?e.fill():(O&&e.closePath(),e.stroke(),e.lineJoin=E,e.lineCap=p);break;case"rect":e.lineJoin="miter",P?e.fillRect(v[0],w[0],N,I):e.strokeRect(v[0],w[0],N,I);break;default:e.arc(v[0],w[0],L,0,2*Math.PI),P?e.fill():e.stroke()}e.closePath(),e.lineWidth=T}else{const i=r,l=i.width,s=i.height,o=(0===n?12:18+4*n)/Math.max(l,s),c=l*o,d=s*o;e.drawImage(i,t-c/2,a-d/2,c,d)}},L=function(e,t,i,a,n,l,s,o){let r=4*(a*t+i);o<JMP.SINGULAR||function(e,t,i,a,n,l){let s,o,r,c,d,u=e[t],h=e[t+1],g=e[t+2],S=e[t+3];d=.00392156862745098*S*(1-l),s=i*l+u*d>>0,o=a*l+h*d>>0,r=n*l+g*d>>0,c=l+d,c=c>=1?255:255*c>>0,u!==s&&(e[t]=s),h!==o&&(e[t+1]=o),g!==r&&(e[t+2]=r),S!==c&&(e[t+3]=c)}(e,r,n,l,s,o)},N=function(e,t,i,a,n,l,s){let o=4*(a*t+i);e[o]=n,e[o+1]=l,e[o+2]=s,e[o+3]=255},I=function(e,t,i){return e.legend.getAlpha(t.colorData[i],e.legendOffset,e.legendModelID)},M=function(e){return e.color},y=function(){return JMP.COLOR_BLACK},C=function(e,t,i){return e.legend.getColor(t.colorData[i],e.legendOffset,e.legendModelID)},R=function(e,t,i,a){return t.aggregatedRowIndices?g(t.aggregateColors[i]):a<0?JMP.COLOR_BLACK:g(t.rowStatesColor[a])},v=function(e,t,i){return c.stringTorgb(e.legend.getColor(t.colorData[i],e.legendOffset,e.legendModelID).substr(1,7))},w=function(e,t,i,a){return t.rowStatesColor[a]},O=function(e){return c.stringTorgb(e.color.substr(1,7))},P=function(){return[0,0,0]},D=function(e){return e.size},F=function(e,t,i){let a=t.colorData?t.colorData[i]+.5<<0:i,n=e.legend.getMarkerSize(a,e.legendOffset,e.legendModelID);return n<0?e.size:n},B=function(){return 0},V=function(){return 1},k=function(e,t,i){let a=1,n=t.sizeData[i];return Number.isFinite(n)&&(a=(n-t.adjMin)*t.sizeRatio,a=Math.sqrt(a),a=Math.max(0,a*e.size+.5>>0)),a},G=function(e){return e.shape},H=function(e){return e.preferredShape},Y=function(e,t,i,a){let n=t.aggregatedRowIndices?t.aggregateShapes[i]:a<0?0:t.rowStatesMarker[a];return 0===n?e.preferredShape:n},U=function(e,t,i,a){let n=t.aggregatedRowIndices?t.aggregateShapes[i]:a<0?0:t.rowStatesMarker[a];return 0===n?JMP.Marker.DOT:n},z=function(e,t,i,a){const n=t.markerShapeColumn,l=n.isNumber(),s=n.isImage,o=n.data[a];let r;return r=null===o?".":l?JMP.FormatStatic.formatNumber(o,n.format):s?n.getImage(a):o,r},W=function(e,t,i,a){let n=t.colorData[i],l=0;return t.aggregatedRowIndices||null===n||(l=e.legend.getMarkerShape(n,e.legendOffset,e.legendModelID)),0===l&&(l=e.preferredShape>0&&e.legend.getMarkerShape(0,e.legendOffset,e.legendModelID)===JMP.Marker.DOT?Y(e,t,i,a):U(0,t,i,a)),l},X=function(){return JMP.Marker.DOT},Z=function(e,t,i,a,n,l,s,o,r,c,d,u){let h,g,S,m,f,T,p=i.length,E=a.scale,b=e.isCCBMarker,A=e.isCCBTestMarker,_=b||A,x=e.isCCBIndividualPoint,L=x||_;if(!E.labels||E.labels.length===p||L&&e.overlayTerm)if(1===p){if(g=i[0],m=L?x||void 0===d?n:`${d}(${n})`:JMP.TooltipStatic.getLabel(g,d,n),b||void 0!==d&&d!==JMP.MomentsStatic.STAT_NONE||E.labels)if(!b&&void 0!==d&&d!==JMP.MomentsStatic.STAT_NONE&&E.labels&&u){let e=o[r];S=d===JMP.MomentsStatic.STAT_SUM?e:JMP.ModelStatic.getCategoricalString(e,u,g)}else!L&&g.isCategorical()&&void 0!==d&&d!==JMP.MomentsStatic.STAT_NONE||(g.isCategorical()&&void 0===d?S=g.getValueString(g.data[c]):(f=L&&d===JMP.ViewStatic.CCB_STAT_NAMES.COUNT?JMP.Format(JMP.FormatStatic.FORMAT_BEST):E.labels?void 0:JMP.ViewStatic.getPreciseFormat(E.origin,E.range,s,!1,g.isIntegral(),L?JMP.MomentsStatic.STAT_MEAN:d),L?(S=l.getValueString(l.data[r],f),f=void 0):S=E.getAxisValue(o[r],0)));else S=g.getValueString(g.data[c],s),f=void 0;void 0!==S&&t.addLine(m,S,f)}else for(h=0;h<p;h++)g=i[h],m=JMP.TooltipStatic.getLabel(g,d,n),S=g.getValueString(g.data[c]),t.addLine(m,S);else T=JMP.ScalingStatic.valueToPixel(a,o[r]),JMP.TooltipStatic.addAxisValuesToTooltip(t,T,a)},q=function(e,t,i,a,n){if(t.isContinuous()){let l=JMP.TooltipStatic.getLabel(t,JMP.MomentsStatic.STAT_MEAN),s=JMP.ViewStatic.getPreciseFormat(i.origin,i.range,a,!0,t.isIntegral(),JMP.MomentsStatic.STAT_MEAN);n.addLine(l,e,s)}},j=function(e,t,i){let a,n,l=[],s=i.length,o=e.getNLevels();for(a=0;a<s;a++)n=e.splitIndices([i[a]])[t%o],n&&n.length>0&&l.push(n);for(s=l.length,i.length=s,a=0;a<s;a++)i[a]=l[a]},K=function(e,t,i,a,n){let l,s={},o=e.ccbIsExcludedUsed,r=function(t){let i=[];for(l=0;l<t.length;l++)i.push(e.labelValues[t[l]]);return i};if(1===i.length){let l,c,d=[],u=[],h=[],g=[],S=JMP.UniqueStatic.getValues([a[0]],t,e.hasMissingLevels,!0,void 0,void 0,void 0,e.ccbIsExcludedUsed)[0],m=JMP.UniqueStatic.getValues([i[0]],t,e.hasMissingLevels,!0,void 0,void 0,void 0,e.ccbIsExcludedUsed)[0],f=function(t){let i=t[0][0];d.push(t),u.push(e.XPos.data[i]),h.push(e.YPos.data[i]);let a=[];for(let e=0;e<t.length;e++)a.push(r(t[e]));1===a.length&&1===a[0].length?g.push(a[0][0]):g.push(a)};for(n=function(e,t){let i,a=[];for(i=0;i<e.excluded.length;i++)e.excluded[i]&&t||a.push([i]);return a}(t,o),l=0;l<t.excluded.length;l++)o&&t.excluded[l]&&(e.XPos.data.splice(l,0,[]),e.YPos.data.splice(l,0,[]));c=JMP.FrequencyStatic.getRows([a[0]],S,t,n,!1,!1,o);let T=JMP.FrequencyStatic.getRows([i[0]],m,t,n,!1,!1,o);for(l=0;l<T.length;l++)c=JMP.FrequencyStatic.getRows([a[0]],S,t,T[l],!1,!1,o),JMP.ModelStatic.removeEmptyArrays(c),c.forEach(f);n=d,s.aggregatedRowIndices=n,s.xData=u,s.yData=h,s.labelValues=g}else{let l,c,d=[],u=[],h=[],g=[],S=[],m=0===i.length,f=JMP.UniqueStatic.getValues([a[0]],t,e.hasMissingLevels,!0,void 0,void 0,void 0,e.ccbIsExcludedUsed)[0],T=i.length>0?JMP.UniqueStatic.getValues([i[0]],t,e.hasMissingLevels,!0,void 0,void 0,void 0,e.ccbIsExcludedUsed)[0]:void 0,p=[],E=e.XPos.data,b=e.YPos.data;if(h=JMP.FrequencyStatic.getRows([i[0]],T,t,void 0,!1,!1,o),m){if(!e.groupRowIndices){let i;for(e.groupRowIndices=[],i=0;i<t.excluded.length;i++)t.excluded[i]&&o||e.groupRowIndices.push(i)}n=function(e){let t,i=[],a=e.groupRowIndices.concat(),n=e.ccbSubgroupSize||1,l=0;for(t=a.length;t>0;)i[l]=a.splice(0,n),l++,t=a.length;return i}(e),JMP.ModelStatic.removeEmptyArrays(n),h=n.concat()}for(l=0;l<n.length;l++)if(n[l].length>0){let i=e.groupRowIndices?E[e.groupRowIndices.indexOf(n[l][0])]:E[n[l][0]];u=JMP.FrequencyStatic.getRows([a[0]],f,t,n[l],!1,!1,o),JMP.ModelStatic.removeEmptyArrays(u),u.forEach((function(e){d.push(e),g.push(i)}))}if(n=d,m)for(l=0;l<n.length;l++)S.push(e.groupRowIndices?b[e.groupRowIndices.indexOf(n[l][0])]:b[n[l][0]]);e.groupRowIndices=[],n.forEach((function(i){if(e.groupRowIndices.push(i[0]),!m){let n=!1;for(c=0;c<h.length&&!n;c++)h[c].indexOf(i[0])>=0&&(S.push(JMP.UniqueStatic.getValues([a[0]],t,e.hasMissingLevels,!0,[i],void 0,void 0,e.ccbIsExcludedUsed)[0][0][0]),n=!0)}p.push(r(i))})),s.aggregatedRowIndices=n,s.xData=g,s.yData=S,s.labelValues=p}return s};return e.MARKER_SEG_TYPE="JMP.MarkerSegment",e.MENU_LARGER_MARKERS="Increase Marker Size",e.MENU_SMALLER_MARKERS="Decrease Marker Size",e.MIN_MARKER_SIZE=0,e.MAX_MARKER_SIZE=6,e.MENU_ID_LARGER_MARKER="markerSegmentLargerMarkerMenuID",e.MENU_ID_SMALLER_MARKER="markerSegmentSmallerMarkerMenuID",e.getCache=function(e,i){let a,n,l,s,o,r,c,d,u,h,g,S,m,T,p,E,b,A,_,x,L,N,Z,q,Q,J,$,ee,te,ie,ae,ne,le,se,oe,re,ce,de,ue,he,ge,Se,me,fe,Te,pe,Ee,be,{columns:Ae,parallelScaling:_e,isParallelScalingForX:xe,xPosOffset:Le,yPosOffset:Ne,legend:Ie,shapeTerm:Me,XPos:ye,YPos:Ce}=e,Re=[],ve=Ae.getLabeledColumns(),we={},Oe=e.isStatisticForY,Pe=e.overlayTerm?e.overlayTerm.inputVariables[0]:void 0,De=1,Fe=1,Be=y,Ve=P,ke=e.isFastMarker?V:D,Ge=X,He=[],Ye=Ae.getTipImageColumn(),Ue=e.isCCBMarker,ze=e.isCCBTestMarker,We=e.description&&e.description.indexOf("Individual Points")>=0;if(e.isCCBIndividualPoint=We,x=Ue||ze,_=Ue||ze||We,L=ye.data.concat(),N=Ce.data.concat(),Le)for(r=Le.length,s=0;s<r;s++)null!==L[s]&&(L[s]+=Le[s]);if(Ne)for(r=Ne.length,s=0;s<r;s++)null!==N[s]&&(N[s]+=Ne[s]);if(ze&&e.rowIndices&&e.rowIndices.length>0){let t;ce=[],e.rowIndices.forEach((function(i){let a=!1,n=e.ccbTestMarkerParents?e.ccbTestMarkerParents[i].aggregatedRowIndices:void 0;if(n){let l=i;for(e.subsetRowIndices&&(l=e.subsetRowIndices[i]),s=0;s<n.length&&!a;s++)n[s].indexOf(l)>=0&&(ce.push(n[s]),t=i,a=!0)}else ce.push(i)})),Ae=e.ccbTestMarkerParents[t].columns,e.ccbStatistic=e.ccbTestMarkerParents[t].ccbStatistic,e.overlayTerm=e.ccbTestMarkerParents[t].overlayTerm,Pe=e.overlayTerm?e.overlayTerm.inputVariables[0]:void 0}if(Z=Ae.getColumns(t.ROLE_X),q=Ae.getColumns(t.ROLE_Y),E=e.columns.getColumn(t.ROLE_MARKER_SHAPE),b=e.columns.getColumn(t.ROLE_FREQ),b&&(se=b.data),ne=e.sizeData,le=e.colorData,Q=Ae.rowStates,Q){if(oe=Q.color,re=Q.marker,g=Q.excluded,!(e.statistic!==JMP.MomentsStatic.STAT_NONE||Z.length>1||q.length>1))for(d=Q.excluded.length,u=d>=L.length,r=e.rowIndices?e.rowIndices.length:0,s=0;s<r&&u;s++)u=e.rowIndices[s]<d;!1===u&&(Q=void 0)}n=e.scale[t.ROLE_X],l=e.scale[t.ROLE_Y],ie=JMP.Scaling(n,0,e.width-1),ae=JMP.Scaling(l,e.height-1,1-e.height),le&&e.legend&&(be=I);let Xe=!!(e.hasAnyBoxPlotSiblings&&e.isLabelDataIndexed&&e.isLabelIndexMapped&&e.rowIndices),Ze=e.color&&e.color!==JMP.COLOR_BLACK&&!e.isHDROutlier,qe=e.legend?.isGradient(e.legendOffset,e.legendModelID),je=!!e.overlayTerm&&!_;!le||!e.legend||Ze&&(je||Xe||qe)?e.color?(Be=M,Ve=O):Q&&oe&&(Be=R,Ve=w):(Be=C,Ve=v),ne&&e.sizeMin!==e.sizeMax?(Fe=Math.min(0,e.sizeMin),e.isFastMarker||Fe===e.sizeMax?ke=e.canUseBackgroundOptimization?B:V:(ke=k,De=9/(e.sizeMax-Fe))):!e.legend||qe||Xe&&Ze||e.overlayTerm&&!e.colorTerm||(ke=F),Xe=!!(e.isLabelDataIndexed&&e.isLabelIndexMapped&&e.rowIndices),E?Ge=z:!le||!e.legend||Xe||e.legend.isGradient(e.legendOffset,e.legendModelID)||e.overlayTerm||e.isOverlay?e.shape>0?Ge=G:Q&&Q.marker&&e.preferredShape>0?Ge=Y:Q&&Q.marker?Ge=U:e.preferredShape>0&&(Ge=H):Ge=W,Ee=document.createElement("canvas");const Ke=document.createElement("canvas");if(Ke.setAttribute("width",e.width),Ke.setAttribute("height",e.height),ee=JMP.Scaling(n,e.x+.5>>0,e.width-1),te=JMP.Scaling(l,e.y+e.height-.5>>0,1-e.height),_e&&(xe?(ee.addScaling(_e),ie.addScaling(_e)):(te.addScaling(_e),ae.addScaling(_e))),1!==Z.length||n.labels?0===Z.length&&ye.name?J=ye.name:n.axisLabel&&(J=n.axisLabel):J=Z[0].name,1!==q.length||l.labels?0===q.length&&Ce.name?$=Ce.name:l.axisLabel&&($=l.axisLabel):$=q[0].name,we.xScale=n,we.yScale=l,we.xColumns=Z,we.yColumns=q,p=Ae.getColumn(t.ROLE_COLOR),Ie&&p&&p.isContinuous()){i.colorStatistic=void 0!==e.colorStatistic?e.colorStatistic:e.statistic,we.colorColumn=p,we.legendFormat=Ie.getGradientFormat();let t=JMP.ViewStatic.getProperFormat(p,we);fe=JMP.ViewStatic.getPreciseFormat(0,0,t,!0,p.isIntegral(),i.colorStatistic)}if(S=e.columns.getColumn(t.ROLE_SIZE),S&&S.isContinuous()){i.sizeStatistic=void 0!==e.sizeStatistic?e.sizeStatistic:e.statistic,we.sizeColumn=S;let t=JMP.ViewStatic.getProperFormat(S,we);Te=JMP.ViewStatic.getPreciseFormat(0,0,t,!0,S.isIntegral(),i.sizeStatistic)}if(m=Z[0],m&&m.isContinuous()&&(Se=JMP.ViewStatic.getProperFormat(m,we)),T=q[0],T&&T.isContinuous()&&(me=JMP.ViewStatic.getProperFormat(T,we)),e.statistic!==JMP.MomentsStatic.STAT_NONE&&e.overlayTerm&&e.overlayTerm.inputVariables[0].isContinuous()&&(A=p?p.isContinuous()?1:e.colorTerm.getNLevels():0,e.legend&&(pe=e.legend.getLabel(e.overlayIndex,e.legendOffset+A,e.legendModelID),e.isTreatContinuousAsCategory))){let e=pe.indexOf("="),t=pe.length;e>-1&&(pe=pe.slice(e+1,t-2))}e.groupRowIndices&&e.groupRowIndices.length>0&&(Re=e.groupRowIndices),e.groupRowIndices||!e.groupCalculation||!e.isByGroup&&e.statistic===JMP.MomentsStatic.STAT_NONE||(Re=e.groupCalculation.getResult()[0][e.groupIndex],e.groupRowIndices=Re.filter((function(e){return!g[e]}))),_&&e.overlayTerm&&1===Z.length&&(Z=[e.overlayTerm.inputVariables[0]].concat(Z));let Qe=Z.length>0,Je=q.length>0,$e=e.statistic!==JMP.MomentsStatic.STAT_NONE&&(Qe||Je),et=Ue&&!ze&&(Qe||e.ccbSubgroupSize>1||void 0!==e.overlayIndex);if($e||et){if(e.canUseBackgroundImageOptimization=!1,0===Z.length||0===q.length)if(Ue){let t=e.ccbSubgroupSize||1;if(t>1&&We){let t=[];for(let i=0;i<e.labelValues.length;i++)t[e.groupRowIndices?e.groupRowIndices[i]:i]=e.labelValues[i];e.labelValues=t;let i=K(e,Q,Z,q);ce=i.aggregatedRowIndices,L=i.xData,N=i.yData,e.XPos.data=i.xData,e.YPos.data=i.yData,e.labelValues=i.labelValues}else{if(e.groupRowIndices=[],void 0!==e.overlayTerm&&(a=JMP.UniqueStatic.getValues(e.overlayTerm.inputVariables,Q,e.hasMissingLevels,!0,void 0,void 0,void 0,e.ccbIsExcludedUsed)[0],ce=JMP.FrequencyStatic.getRows(e.overlayTerm.inputVariables,a,Q,h,!1,!1,e.ccbIsExcludedUsed),void 0!==e.overlayIndex&&ce[e.overlayIndex]&&ce[e.overlayIndex].forEach((function(t){e.groupRowIndices.push(t)}))),t>1){if(void 0===ce)for(r=g.length,ce=[],ce[0]=[],s=0;s<r;s++)e.ccbIsExcludedUsed&&g[s]||ce[0].push(s);let i=ce.concat(),a=[];for(s=0;s<i.length;s++)for(i[s];i[s].length>0;)a.push(i[s].splice(0,t));ce=a}if(t>1&&void 0!==e.overlayTerm&&void 0!==e.overlayIndex)j(e.overlayTerm,e.overlayIndex,ce);else if(void 0===e.ccbSubgroupSize&&void 0!==e.overlayIndex&&ce[e.overlayIndex]){let t=[];ce[e.overlayIndex].forEach((function(e){t.push([e])})),ce=t}}}else{if(void 0===Me&&e.groupRowIndices)ce=[e.groupRowIndices];else for(r=g.length,ce=[],ce[0]=[],s=0;s<r;s++)g&&g[s]||ce[0].push(s);void 0!==Me&&(a=JMP.UniqueStatic.getValues(Me.inputVariables,Q,e.hasMissingLevels,!0,void 0,void 0,void 0,!0)[0],ce=JMP.FrequencyStatic.getRows(Me.inputVariables,a,Q,h,!1,!1,!0)),void 0!==e.overlayIndex&&j(e.overlayTerm,e.overlayIndex,ce)}else{Ae=Oe?Z:q;let t=e.hasMissingLevels;if(!_&&1===Ae.length&&Ae[0].isContinuous()&&(t=!1),Ae.length>0){let i=e.subsetRowIndices?[e.subsetRowIndices]:void 0;if(a=JMP.UniqueStatic.getValues(Ae,Q,t,!0,i,void 0,void 0,_?e.ccbIsExcludedUsed:e.isExcludedUsed)[0],JMP.ViewStatic.permuteUniqueValues(Oe?n:l,a,Ae[0]),Re.length>0?h=Re:e.subsetRowIndices&&(h=e.subsetRowIndices),ce=JMP.FrequencyStatic.getRows(Ae,a,Q,h,!1,!1,x?e.ccbIsExcludedUsed:e.isExcludedUsed),JMP.ModelStatic.removeEmptyArrays(ce),e.overlayTerm&&void 0!==e.overlayIndex&&j(e.overlayTerm,e.overlayIndex,ce),We&&e.ccbStatistic===JMP.ViewStatic.CCB_STAT_NAMES.AVERAGE){let t=[];for(let i=0;i<e.labelValues.length;i++)t[h?h[i]:i]=e.labelValues[i];e.labelValues=t;let i=K(e,Q,Z,q,ce);ce=i.aggregatedRowIndices,L=i.xData,N=i.yData,e.XPos.data=i.xData,e.YPos.data=i.yData,e.labelValues=i.labelValues}r=ce.length,r>L.length&&(Ae=Oe?q:Z,c=Ae[0].data,ce=ce.filter((function(e){return function(e,t,i){let a,n=i.length,l=!1;for(a=0;a<n&&!l;a++)l=(!t||t[i[a]])&&null!==e[i[a]];return l}(c,se,e)})))}}e.statistic!==JMP.MomentsStatic.STAT_VARIANCE&&e.statistic!==JMP.MomentsStatic.STAT_STD&&e.statistic!==JMP.MomentsStatic.STAT_SEM||(Ae=Oe?q:Z,c=Ae[0].data,ce=ce.filter((function(e){return function(e,t,i){let a,n,l=i.length,s=0;for(a=0;a<l&&s<2;a++)null!==e[i[a]]&&(n=t?t[i[a]]:1,s+=n);return s>1}(c,se,e)})))}else if(!Qe&&Ue&&!ze){let t=0;if(ce=[],e.rowIndices)for(o=0;o<e.rowIndices.length;)ce[t]=[e.rowIndices[o]],o++,t++}if(Q&&ce&&(de=[],ue=[],he=[],ge=[],JMP.ViewStatic.setSelectedAggregates(ce,Q,_?e.ccbIsExcludedUsed:e.isExcludedUsed,de),JMP.ViewStatic.setHiddenAggregates(ce,Q,_?e.ccbIsExcludedUsed:e.isExcludedUsed,ue),function(e,t,i,a){let n,l,s,o,r,c,d,u=t.color;for(s=e.length,n=0;n<s;n++){if(r=!1,o=e[n]?e[n].length:0,c=u[e[n][0]],a){let i=e[n][0];t.hidden[i]||t.excluded[i]||(c=u[i]);let a=!0,s=!0;for(l=0;l<o;l++)i=e[n][l],t.hidden[i]||(a=!1),t.excluded[i]||(s=!1);(a||s)&&(c=[0,0,0])}else{for(l=1;l<o&&!r;l++)d=u[e[n][l]],r=d[0]!==c[0]||d[1]!==c[1]||d[2]!==c[2];r&&(c=[0,0,0])}i[n]=c}}(ce,Q,he,_),function(e,t,i,a,n){let l,s,o,r,c,d,u=t.marker,h=i>0?i:JMP.Marker.DOT;for(o=e.length,l=0;l<o;l++){if(c=!1,r=e[l]?e[l].length:0,d=u[e[l][0]],n){let i,a,n=!1,o=!1;for(s=r-1;s>=0&&!n;s--)i=e[l][s],t.excluded[i]||t.hidden[i]||(n=!0,a=i),n||o||(o=!0,a=i);d=u[a]}else{for(s=1;s<r&&!c;s++)c=u[e[l][s]]!==d;c&&(d=h)}a[l]=d}}(ce,Q,e.preferredShape,ge,_),Ue&&(ze||(e.aggregatedRowIndices=ce))),(e.groupRowIndices||ce)&&(e.isLabelDataIndexed=!0),e.isAssociatedWithColumns)if(r=ve.length,r>0)for(s=0;s<r;s++)ve[s].name&&(He[s]=ve[s].name);else He[0]=JMP.TooltipModelStatic.TIP_ROW;ee&&ee.scale.addEventListener(f.bind(e)),te&&te.scale.addEventListener(f.bind(e)),Object.assign(i,{xData:L,yData:N,xColumn:ye,yColumn:Ce,XColumns:Z,YColumns:q,markerShapeColumn:E,rowStates:Q,xTooltipLabel:J,yTooltipLabel:$,xScaling:ee,yScaling:te,xScalingForImage:ie,yScalingForImage:ae,sizeData:ne,colorData:le,freqData:se,rowStatesColor:oe,rowStatesMarker:re,bgCanvas:Ee,smallDotCanvas:Ke,smallDots:!1,sizeRatio:De,adjMin:Fe,getAlphaFunc:be,getColorFunc:Be,getRGBColorFunc:Ve,getSizeFunc:ke,getShapeFunc:Ge,aggregatedRowIndices:ce,selectedAggregates:de,hiddenAggregates:ue,aggregateColors:he,aggregateShapes:ge,labeledColumnNames:He,tipImageColumn:Ye,xFormat:Se,yFormat:me,colorFormat:fe,sizeFormat:Te,isCCBMarker:Ue,isCCBTestMarker:ze,isCCBIndividualPoint:We,overlayRange:pe,overlayColumn:Pe,isStatisticForY:Oe})},e.drawBackground=function(e,t){let i,a,n,l,s,o,r,c,u,h,g,f,T,p,_,N,I,M,y,{width:C,height:R,groupRowIndices:v,rowIndices:w,subsetRowIndices:O,isByGroup:P,alpha:D,canUseBackgroundImageOptimization:F}=e,B=D,{isCCBMarker:V,isCCBTestMarker:k,isCCBIndividualPoint:G,xData:H,yData:Y,rowStates:U,getColorFunc:z,getShapeFunc:W,getSizeFunc:X,getAlphaFunc:Z,aggregatedRowIndices:q,hiddenAggregates:j}=t,K={},Q=0,J=!0,$=!1,ee=!1,te=V||k||G,ie={isCCBMarker:V,isCCBTestMarker:k};if(N=F?t.bg:e.g,p=F?t.bgImage.data:void 0,I=F?t.xScalingForImage:t.xScaling,M=F?t.yScalingForImage:t.yScaling,i=N.globalAlpha,f=X(e,t,0),T=0===f&&0===e.sizeMax,U&&(n=U.hidden,l=U.labeled),Q=void 0!==q?q.length:H.length,N.strokeStyle=JMP.COLOR_DESELECT,N.fillStyle=JMP.COLOR_DESELECT,F){for(u=0;u<Q;u++)h=E(u,v,w,O,P,te),A(u,h,n,j)||(r=H[u],c=Y[u],null!==r&&null!==c&&(K=d(I,M,r,c),s=K.x,o=K.y,Number.isFinite(s)&&Number.isFinite(o)&&(f=X(e,t,u),g=W(e,t,u,h),T||e.isFastMarker&&1===f&&g===JMP.Marker.DOT?(Z&&(B=D*Z(e,t,u)),s>0&&s<C&&o>0&&o<R&&L(p,C,s+.5>>0,o-.5>>0,m[0],m[1],m[2],B)):J=!1,U&&h>=0&&l[h]&&($=!0))));ee=J&&!$&&!q&&!t.markerShapeColumn}if(!ee){for(t.markerShapeColumn&&t.markerShapeColumn.isImage&&(D=.5),D<1&&(N.globalAlpha=D),u=0;u<Q;u++)if(h=E(u,v,w,O,P,V),(q&&te||!A(u,h,n,j))&&(r=H[u],c=Y[u],null!==r&&null!==c&&(K=d(I,M,r,c),s=K.x,o=K.y,Number.isFinite(s)&&Number.isFinite(o)))){if(y=!1,(q||k)&&(_=S(z(e,t,u,h)),N.strokeStyle=_,N.fillStyle=_),Z&&(a=B,B=Z(e,t,u),B!==a&&(N.globalAlpha=D*B)),g=W(e,t,u,h),k&&q&&e.ccbTestMarkerParents[q[u][0]])f=e.ccbTestMarkerParents[q[u][0]].size+1.5;else if(V)f=.8*X(e,t,u);else if(f=X(e,t,u),f>1){let e=1;g!==JMP.Marker.DOT&&g<31&&(e=f<=3?1.3:f<=10?1.2:1.1),f=Math.max(f*e,2)}if(q&&q.length>0){let i;i=JMP.NStatic.getValues(void 0,t.freqColumn,U,[q[u]],void 0,te?e.ccbIsExcludedUsed:e.isExcludedUsed)[0],i[0].count!==i[0].countHidden&&(x(N,s,o,f,g,ie,void 0,JMP.MARKER_FONT_SIZE),y=!0)}else x(N,s,o,f,g,ie,void 0,JMP.MARKER_FONT_SIZE,t.markerShapeColumn),y=!0;y&&U&&h>=0&&b(e,t,N,s,o,u,h,e.canUseBackgroundImageOptimization)}D<1&&(N.globalAlpha=i)}return ee},e.draw=function(e,t){let i,a,n,l,s,o,r,c,u,h,g,S,m,f,p,{g:_,groupRowIndices:L,rowIndices:N,subsetRowIndices:I,isByGroup:M,size:y,alpha:C}=e,{xData:R,yData:v,xScaling:w,yScaling:O,rowStates:P,getShapeFunc:D,getSizeFunc:F,getAlphaFunc:B,aggregatedRowIndices:V,selectedAggregates:k,hiddenAggregates:G,isCCBMarker:H,isCCBTestMarker:Y,isCCBIndividualPoint:U}=t,z={},W=0,X=!1,Z=_.globalAlpha,q=H||Y||U,j={isCCBMarker:H,isCCBTestMarker:Y};for(P&&(i=P.hidden,a=P.selectedIndices,X=P.nSelectedIndices>0),C<1&&(_.globalAlpha=C),P&&V&&JMP.ViewStatic.setSelectedAggregates(V,P,q?e.ccbIsExcludedUsed:e.isExcludedUsed,k),W=!V&&X&&P?P.nSelectedIndices:void 0!==V?V.length:R.length,u=0;u<W;u++)if(X?V?k[u]?(r=u,c=E(u,L,N,I,M,H)):r=-1:(c=a[u],r=I?I.indexOf(c):c,r=L&&!M&&r>=0?L.indexOf(r):r,r=N&&r>=0?N.indexOf(r):r):(c=E(u,L,N,I,M,H),r=u),r>=0&&(V&&q||!A(r,c,i,G))&&(s=R[r],o=v[r],null!==s&&null!==o&&(z=d(w,O,s,o),n=z.x,l=z.y,Number.isFinite(n)&&Number.isFinite(l)))){if(p=!1,B&&(m=f,f=B(e,t,r),f!==m&&(_.globalAlpha=C*f)),g=S,S=T(e,t,r,c,X),S!==g&&(_.strokeStyle=S,_.fillStyle=S),h=D(e,t,r,c),Y&&V){let t=!1;for(let i=0;i<V[r].length&&!t;i++)void 0!==V[r][i]&&void 0!==e.ccbTestMarkerParents[V[r][i]]&&(y=e.ccbTestMarkerParents[V[r][i]].size+1.5,t=!0)}else if(H)y=.8*F(e,t,r);else if(y=F(e,t,r),y>1){let e=1;h!==JMP.Marker.DOT&&h<31&&(e=y<=3?1.3:y<=10?1.2:1.1),y=Math.max(y*e,2)}if(V&&V.length>0){let a=JMP.NStatic.getValues(void 0,t.freqColumn,P,[V[r]],void 0,q?e.ccbIsExcludedUsed:e.isExcludedUsed)[0],s=q&&!Y,o=!1;if(s&&i){const t=V[r].length,a=P.excluded;let n=!0;for(let e=0;e<t-1;e++)if(!i[V[r][e]]&&!a[V[r][e]]){n=!1;break}n&&(n=a[V[r][t-1]]);const l=s&&n;o=s&&0===h&&!e.ccbIsExcludedUsed&&l}const c=.3;m=f,f=o?c:1,f!==m&&(_.globalAlpha=C*f),a[0].count!==a[0].countHidden&&(x(_,n,l,y,h,j,void 0,JMP.MARKER_FONT_SIZE,t.markerShapeColumn),p=!0)}else x(_,n,l,y,h,j,void 0,JMP.MARKER_FONT_SIZE,t.markerShapeColumn),p=!0;p&&P&&c>=0&&b(e,t,_,n,l,r,c)}C<1&&(_.globalAlpha=Z)},e.drawDots=function(e,t){let i,a,n,l,s,o,r,c,u,h,g,S,m,{g:f,x:T,y:p,width:b,height:A,groupRowIndices:_,rowIndices:x,subsetRowIndices:I,isByGroup:M,allSelectedImage:y,alpha:C}=e,R=C,v={},w=0,O=!1,{xData:P,yData:D,xScalingForImage:F,yScalingForImage:B,rowStates:V,getRGBColorFunc:k,getAlphaFunc:G,smallDotCanvas:H}=t;V&&(i=V.hidden,a=V.selectedIndices,O=V.nSelectedIndices>0);const Y=H.getContext("2d");if(w=O?V.nSelectedIndices:P.length,w===P.length&&y)return Y.putImageData(y,0,0),f.drawImage(H,T,p),y;for(Y.clearRect(0,0,b,A),h=Y.getImageData(0,0,b,A),g=h.data,S=1!==C||G?L:N,u=0;u<w;u++)O?(c=a[u],r=_&&!M?_.indexOf(c):c,x&&(r=x.indexOf(r))):(c=E(u,_,x,I,M,t.isCCBMarker),r=u),r>=0&&(!V||c<0||!i[c])&&(s=P[r],o=D[r],null!==s&&null!==o&&(v=d(F,B,s,o),n=v.x,l=v.y,Number.isFinite(n)&&Number.isFinite(l)&&n>0&&n<b&&l>0&&l<A&&(R=C,G&&(R*=G(e,t,r)),m=k(e,t,r,c),S(g,b,n+.5>>0,l-.5>>0,m[0],m[1],m[2],R))));return Y.putImageData(h,0,0),f.drawImage(H,T,p),y||w!==P.length?y:H.getContext("2d").getImageData(0,0,b,A)},e.select=function(e,t,i,a){let l,s,o,c,h,g,S,m,f,T,p,b,A,x,L,N,I,M,y,{groupRowIndices:C,rowIndices:R,subsetRowIndices:v,isByGroup:w}=e,O=i.x,P=i.y,D=i.width,F=i.height,B={},V=!1,{xData:k,yData:G,xScaling:H,yScaling:Y,rowStates:U,aggregatedRowIndices:z,hiddenAggregates:W,selectedAggregates:X}=t,Z=function(e,t,i){let n,l,o,r=t[i],c=A>0;if(r=a===JMP.ViewStatic.SELECT_TOGGLE?!r:a!==JMP.ViewStatic.SELECT_REDUCE,t[i]=r,r||c)for(l=e[i]?e[i].length:0,n=0;n<l;n++)o=e[i][n],M=c?s.lastIndexOf(o,A-1):-1,r&&-1===M?(s[A]=o,A++):r||-1===M||(s.splice(M,1),A--)};if(e.isAssociatedWithColumns){if(o=O-1,h=o+D+1,c=P-1,g=c+F+1,H.pixelPerValueScale>0?(S=u(H,o),f=u(H,h)):(S=u(H,h),f=u(H,o)),Y.pixelPerValueScale>0?(m=u(Y,c),T=u(Y,g)):(m=u(Y,g),T=u(Y,c)),l=U.hidden,s=U.selectedIndices,A=U.nSelectedIndices,z&&a===JMP.ViewStatic.SELECT_ONLY&&(X=[],A=0),y=H.scale.type===r.SCALE_LINEAR&&Y.scale.type===r.SCALE_LINEAR?z?function(){p=k[x],b=G[x],p>S&&p<f&&b>m&&b<T&&Z(z,X,x)}:a===JMP.ViewStatic.SELECT_EXTEND?function(){-1===s.lastIndexOf(L,A-1)&&(p=k[x],b=G[x],p>S&&p<f&&b>m&&b<T&&(s[A]=L,A++))}:a===JMP.ViewStatic.SELECT_REDUCE?function(){p=k[x],b=G[x],p>S&&p<f&&b>m&&b<T&&(M=s.lastIndexOf(L,A-1),-1!==M&&(s.splice(M,1),A--))}:function(){p=k[x],b=G[x],p>S&&p<f&&b>m&&b<T&&(s[A]=L,A++)}:z?function(){B=d(H,Y,k[x],G[x]),p=B.x,b=B.y,Number.isFinite(p)&&Number.isFinite(b)&&p>o&&p<h&&b>c&&b<g&&Z(z,X,x)}:a===JMP.ViewStatic.SELECT_EXTEND?function(){-1===s.lastIndexOf(L,A-1)&&(B=d(H,Y,k[x],G[x]),p=B.x,b=B.y,Number.isFinite(p)&&Number.isFinite(b)&&p>o&&p<h&&b>c&&b<g&&(s[A]=L,A++))}:a===JMP.ViewStatic.SELECT_REDUCE?function(){B=d(H,Y,k[x],G[x]),p=B.x,b=B.y,Number.isFinite(p)&&Number.isFinite(b)&&p>o&&p<h&&b>c&&b<g&&(M=s.lastIndexOf(L,A-1),-1!==M&&(s.splice(M,1),A--))}:function(){B=d(H,Y,k[x],G[x]),p=B.x,b=B.y,Number.isFinite(p)&&Number.isFinite(b)&&p>o&&p<h&&b>c&&b<g&&(s[A]=L,A++)},N=k.length,D||F)for(x=0;x<N;x++)z?W[x]||y():(L=E(x,C,R,v,w,t.isCCBIndividualPoint||t.isCCTestBMarker||t.isCCBMarker),L>=0&&!l[L]&&null!==k[x]&&null!==G[x]&&y());else{if(I=_(t,O,P,C,R,v,w),I)if(x=I.dataIndices[0],L=I.rowIndices[0],z)if(!e.isCCBIndividualPoint&&e.ccbSubgroupSize>1){let e,t,i=!1;for(e=0;e<z.length&&!i;e++)z[e].includes(L)&&(i=!0,t=e);Z(z,X,t)}else Z(z,X,x);else if(1===I.numClosest)M=A?s.lastIndexOf(L,A-1):-1,a===JMP.ViewStatic.SELECT_TOGGLE&&-1!==M?(s.splice(M,1),A--):-1===M&&(s[A]=L,A++),U.selectedIndices=s;else for(let e=0;e<I.numClosest;e++)s[A]=I.rowIndices[e],A++;z&&0===A&&(V=!0)}A===U.nSelectedIndices||V||(U.nSelectedIndices=A,U.sendEvent(n.EVENT_SELECTED))}},e.areAllVisibleSelected=function(e,t){let i,a,n,l,s,o,r,c,u,h,{groupRowIndices:g,rowIndices:S,subsetRowIndices:m,isByGroup:f}=e,T=!0,p={};if(!t||!t.rowStates)return!0;let{xData:b,yData:_,xScaling:x,yScaling:L,rowStates:N,hiddenAggregates:I}=t;for(c=N.hidden,u=N.selectedIndices,h=N.nSelectedIndices,n=b.length,i=0;i<n&&T;i++)a=E(i,g,S,m,f,t.isCCBIndividualPoint||t.isCCBTestMarker||t.isCCBMarker),A(i,a,c,I)||(o=b[i],r=_[i],null!==o&&null!==r&&(p=d(x,L,o,r),l=p.x,s=p.y,Number.isFinite(l)&&Number.isFinite(s)&&(T=u.lastIndexOf(a,h-1)>-1)));return T},e.getTooltip=function(e,i,a){let n,l,s,o,c,u,h,g,S,m,f,T,p,E,b,A,{labelValues:x,groupRowIndices:L,rowIndices:N,subsetRowIndices:I,isLabelDataIndexed:M,isLabelIndexMapped:y,colorData:C,sizeData:R,shapeTerm:v,isStatisticForY:w,parallelScaling:O,isParallelScalingForX:P,isByGroup:D,isMeanPoint:F,isHDROutlier:B,isCCBMarker:V,isCCBIndividualPoint:k,isCCBTestMarker:G}=e,H=V||G?e.ccbStatistic:e.statistic,Y=e.columns.getColumn(t.ROLE_COLOR),U=e.columns.getColumn(t.ROLE_SIZE),z=a.x,W=a.y,X=JMP.TooltipModel();if(!i)return null;let{overlayColumn:j,xColumn:K,yColumn:Q,xData:J,yData:$,XColumns:ee,YColumns:te,xScaling:ie,yScaling:ae,rowStates:ne,summaryData:le,xTooltipLabel:se,yTooltipLabel:oe,aggregatedRowIndices:re,labeledColumnNames:ce,tipImageColumn:de,xFormat:ue,yFormat:he,colorFormat:ge,sizeFormat:Se,overlayRange:me}=i;if(n=k||V||G,o=_(i,z,W,L,N,I,D),o){if(c=o.dataIndices[0],u=o.rowIndices[0],F)X.addLine(void 0,e.description),q($[0],Q,ae.scale,he,X),q(J[0],K,ie.scale,ue,X);else{let a=e.columns.getLabeledColumns();if(o.numClosest>1&&0===a.length){m=`${o.numClosest} ${JMP.TooltipModelStatic.TIP_ROWS}`;let e=[];for(let t=0;t<o.numClosest;t++)e[t]=o.rowIndices[t]+1;X.addLineFromValues(m,e)}else if(o.numClosest>1){const e=JMP.ViewStatic.getSortedValuesFromLabeledColumns(a,o.rowIndices,ee,te,ie.scale,ae.scale,Y,ge);for(let t=0;t<a.length;t++)X.addLineFromValues(a[t].name,e[t])}else g=M?D&&L?L.indexOf(u):N&&!y?N[c]:c:u,S=x&&g>=0?x[g].length?x[g]:[[JMP.ModelStatic.TIP_MISSING]]:null,S&&function(e,t,i,a){let n,l,s,o,r,c,d,u=[],h=e.labeledImageColumnIndices,g=null,S=i.concat(),m=t.concat();if(n=m.length,l=n,o=S?S.length:0,e.isCCBTestMarker){let e,t,i;m.length>1&&(r=m[1]?m[1].length:0),i=m[0][0].indexOf(JMP.LINE_SEPARATOR_ENTITY),i>=0&&(t=m[0][0].slice(i,m[0][0].length),t=t.slice(t.indexOf(";")+1,t.length)),e=m[0][0].slice(0,i>0?i:void 0),a.addLineFromValues(void 0,[e]),1===m.length&&(t=void 0!==t&&t.length>0?t:JMP.ModelStatic.TIP_MISSING,a.addLineFromValues(S[0],[t])),m.shift(),l--}else r=m[0]?m[0].length:0;for(h&&(r-=h.length),c=0,d=0;c<r;d++,c++){for(g=c<o?S[c]:void 0,h?.includes(d)&&d++,u=[],s=0;s<l;s++)m[s][d]&&m[s][d].length>0?u[s]=m[s][d]:u[s]=null;a.addLineFromValues(g,u)}}(e,S,ce,X);if(O?(P?(m=te[0].name,f=te[0].getValueString(J[c])):(m=ee[0].name,f=ee[0].getValueString($[c])),ce&&ce.indexOf(m)<0&&X.addLine(m,f)):(p=!!(ie.scale.labels&&ie.scale.labels.length>1),h=re&&re[c]&&!p&&!I?re[c][0]:u,m=oe,(G||!k&&w||ce&&ce.indexOf(m)<0)&&(m||(m=null),te.length>0||E?(w&&te[0].isCategorical()&&!i.YLevels&&(i.YLevels=JMP.UniqueStatic.getValues([te[0]],ne,e.hasMissingLevels,!0,void 0,!1,!1,e.isExcludedUsed)[0][0].concat()),Z(e,X,te,ae,m,Q,he,le&&w?le:$,c,h,w?H:void 0,i.YLevels)):v||(A=ae.scale,A.labels&&A.type===r.SCALE_LINEAR?(f=A.getAxisValue($[c],0),b=void 0):(b=JMP.ViewStatic.getPreciseFormat(A.origin,A.range,A.format,!1,Q.isIntegral()),f=$[c]),X.addLine(m,f,b))),E=!!(ae.scale.labels&&ae.scale.labels.length>1),h=re&&re[c]&&!E&&!I?re[c][0]:u,m=se,m||(m=null),ee.length>0||p?(w||!ee[0].isCategorical()||i.XLevels||(i.XLevels=JMP.UniqueStatic.getValues([ee[0]],ne,e.hasMissingLevels,!0,void 0,!1,!1,e.isExcludedUsed)[0][0].concat()),Z(e,X,ee,ie,m,K,ue,!le||w?J:le,c,h,w?void 0:H,i.XLevels)):v||(A=ie.scale,A.labels&&A.type===r.SCALE_LINEAR?(f=A.getAxisValue(J[c],0),b=void 0):(f=J[c],b=JMP.ViewStatic.getPreciseFormat(A.origin,A.range,A.format,!1,K.isIntegral())),X.addLine(m,f,b))),Y&&C&&(m=JMP.TooltipStatic.getLabel(Y,e.colorStatistic),se!==m&&oe!==m&&ce&&ce.indexOf(m)<0)){f=C[c];let t=void 0!==e.colorStatistic&&e.colorStatistic!==JMP.MomentsStatic.STAT_NONE,i=e.legend.isGradient(e.legendOffset,e.legendModelID);if(!i&&Y.isCategorical()){if(t){let t=e.colorTerm.getCharLevels();f=JMP.ModelStatic.getCategoricalString(f,t,Y)}else f=e.colorTerm.getValueString(f);b=void 0,X.addLine(m,f,b)}else{let e=[];b=t||i?ge:void 0;for(let i=0;i<o.numClosest;i++){if(t){f=C[o.dataIndices[i]]}else{const e=o.rowIndices[i];f=Y.data[e]}b||(f=Y.getValueString(f)),e[i]=f}X.addLineFromValues(m,e,b)}}if(U&&R&&!U.isString()&&(m=JMP.TooltipStatic.getLabel(U,e.sizeStatistic),ce&&ce.indexOf(m)<0&&(e.statistic===JMP.MomentsStatic.STAT_NONE?(f=U.getValueString(R[c]),b=void 0):(f=R[c],b=Se),X.addLine(m,f,b))),j&&(m=j.name,ce&&ce.indexOf(m)<0)){if(me)f=me;else{let t;t=V||i.isCCBTestMarker||B?N?N[0]:L[0]:N&&void 0===e.overlayIndex?N[h]:h,f=j.getValueString(j.data[t])}X.addLine(m,f)}if(V&&re&&e.ccbSubgroupSize>1){let t,i=!1,a=u;if(!L||0===L.length)for(t=0;t<re.length&&!i;t++)re[t].includes(parseInt(u))&&(i=!0,a=t);s=JMP.NStatic.getValues(void 0,void 0,ne,[re[a]],void 0,e.ccbIsExcludedUsed)[0],JMP.TooltipStatic.addLineForRows(X,s[0].count,s[0].countSelected,s[0].countHidden,void 0,void 0)}else if(re&&re[c]&&(!n||i.XColumns.length>0)){let i;l=e.columns.getColumn(t.ROLE_FREQ),l&&(i=V?`${JMP.TooltipModelStatic.TIP_NUMBER_OF_TRIALS}(${l.name})`:JMP.TooltipModelStatic.TIP_FREQUENCY),s=JMP.NStatic.getValues(void 0,l,ne,[re[c]],void 0,n?e.ccbIsExcludedUsed:e.isExcludedUsed)[0];let a=V?s[0].countExcluded:void 0;JMP.TooltipStatic.addLineForRows(X,s[0].count,s[0].countSelected,s[0].countHidden,!!l,i,a)}else o.numClosest>1&&a.length>0&&JMP.TooltipStatic.addLineForRows(X,o.numClosest);de&&de.data[h]&&(X.addLine(de.name,""),X.imageSrc=de.data[h])}return T=d(ie,ae,J[c],$[c]),X.x=T.x-.5*e.size,X.y=T.y-Math.max(2,.5*e.size)-2,o.isAboveAndRight&&(X.positionFunc=function(){return JMP.TooltipModelStatic.TIP_LEFT}),X}return null},e.getPriority=function(e,t,i){let a=null;if(!t)return null;let{groupRowIndices:n,rowIndices:l,subsetRowIndices:s,isByGroup:o}=e;e.isSelectedMarker=!1;let r=_(t,i.x,i.y,n,l,s,o);return r&&(a=JMP.Priority(r.distance,JMP.PriorityStatic.TIP_PRIORITY_POINT,e),t.rowStates&&t.rowStates.selected&&(e.isSelectedMarker=t.rowStates.selected[r.rowIndices[0]])),a},e.drawMarker=function(e,t,i,a,n,l,s,o,r){e.fillStyle=void 0!==l?l:JMP.COLOR_BLACK,e.strokeStyle=e.fillStyle,x(e,t,i,a,n,s,o,r)},e.getPreferredRange=function(e,i,n){let l,s,o,c,d,u,h,g,S,m,f=e.scale[n],T=!1;if(i&&!e.isMeanPoint&&!r.isGeodesic(f)&&!i.isCCBMarker)return i.ranges||(i.ranges=[]),l=i.ranges,l[n]||(l[n]=[],f.labels||(void 0===e.statistic||e.statistic===JMP.MomentsStatic.STAT_NONE?(s=n===t.ROLE_X?i.XColumns[0]:i.YColumns[0],o=i.rowStates,c=e.rowIndices||e.subsetRowIndices||e.groupRowIndices,S=!0,m=!1):(s=new a(n===t.ROLE_X?i.xData:i.yData),S=!1,m=!0),s&&(d=JMP.MomentsStatic.getValue([s],void 0,o,[c],void 0,JMP.MomentsStatic.STAT_MIN,void 0,S,m)[0][0],u=JMP.MomentsStatic.getValue([s],void 0,o,[c],void 0,JMP.MomentsStatic.STAT_MAX,void 0,S,m)[0][0],f.type===r.SCALE_LOG&&(d<=0&&(d=null),u<=0&&(u=null)),null!==d&&null!==u&&(h=r.convertToValue(f.type,f.origin,f.base,f.power),g=r.convertToValue(f.type,f.origin+f.range,f.base,f.power),l[n][0]=h,l[n][1]=g,d<h&&(T=!0,l[n][0]=d),u>g&&(T=!0,l[n][1]=u),T&&(e.isBackgroundDirty=!0,f.getNiceRange(l[n])))))),i.ranges[n]},e.menuProvider=function(t){let i=[{id:e.MENU_ID_LARGER_MARKER,label:e.MENU_LARGER_MARKERS},{id:e.MENU_ID_SMALLER_MARKER,label:e.MENU_SMALLER_MARKERS}];return t.size>=e.MAX_MARKER_SIZE?i[0].isDisabled=!0:t.size<=e.MIN_MARKER_SIZE&&(i[1].isDisabled=!0),i},e.menuHandler=function(t,i){p(t,i===e.MENU_ID_LARGER_MARKER?1:-1,!0)},e.getStoredState=function(e){return{sizeChange:e.totalSizeChange}},e.applyStoredState=function(e,t){t.sizeChange&&p(e,t.sizeChange,!1)},e.onRowStatesEvent=function(e,t,i){if(i.type===n.EVENT_HIDDEN)t.rowStates&&t.aggregatedRowIndices?JMP.ViewStatic.setHiddenAggregates(t.aggregatedRowIndices,t.rowStates,t.isCCBMarker||e.isCCBTestMarker||e.isCCBIndividualPoint?e.ccbIsExcludedUsed:e.isExcludedUsed,t.hiddenAggregates):t.ranges=void 0,e.isBackgroundDirty=!0},e}(),JMP.MarkerSegment=function(e){"use strict";let i,a=new d(e),n=function(){let e,n;return e=a.XPos,n=a.YPos,!i&&e&&e.data&&a.scale[t.ROLE_X]&&a.width>0&&n&&n.data&&a.scale[t.ROLE_Y]&&a.height>0&&(i={},JMP.MarkerSegmentStatic.getCache(a,i)),i};return a.segType=JMP.MarkerSegmentStatic.MARKER_SEG_TYPE,a.color=void 0,a.backgroundColor="#ffffff",a.shape=-1,a.size=4,a.alpha=1,a.preferredShape=-1,a.xPosOffset=void 0,a.yPosOffset=void 0,a.showLabels=void 0,a.xOffset=void 0,a.yOffset=void 0,a.isAssociatedWithColumns=!0,a.isLabelDataIndexed=!1,a.isLabelIndexMapped=!1,a.isByGroup=!1,a.canUseBackgroundImageOptimization=!0,a.groupRowIndices=void 0,a.subsetRowIndices=void 0,a.aggregatedRowIndices=void 0,a.overlayIndex=void 0,a.labelValues=void 0,a.labeledImageColumnIndices=void 0,a.isBackgroundDirty=!0,a.sizeMin=0,a.sizeMax=0,a.XPos=void 0,a.YPos=void 0,a.colorData=void 0,a.sizeData=void 0,a.isStatisticForY=!0,a.isOverlay=!1,a.parallelScaling=void 0,a.isParallelScalingForX=!1,a.isLastInFrame=!1,a.totalSizeChange=0,a.isMeanPoint=!1,a.isHDROutlier=!1,a.isCCBMarker=!1,a.isCCBTestMarker=!1,a.isCCBIndividualPoint=!1,a.ccbSubgroupSize=void 0,a.ccbStatistic=void 0,a.ccbTestMarkerParents=void 0,a.ccbIsExcludedUsed=!0,a.isTreatContinuousAsCategory=!1,a.isFastMarker=!1,a.isSelectedMarker=!1,a.allSelectedImage=void 0,a.draw=function(){a.drawUnSelected(),a.drawSelected()},a.drawUnSelected=function(){let e=a.g,t=a.x,l=a.y,s=a.width,o=a.height;i=n(),i&&(a.canUseBackgroundImageOptimization?(a.isBackgroundDirty&&a.drawBackground(i),i.smallDots?(i.smallDotCanvas.getContext("2d").putImageData(i.bgImage,0,0),e.drawImage(i.smallDotCanvas,t,l)):e.drawImage(i.bgCanvas,0,0,2*s,2*o,t,l,s,o)):a.drawBackground(i))},a.drawSelected=function(){i=n(),i&&(a.canUseBackgroundImageOptimization?(a.isBackgroundDirty&&a.drawBackground(i),i.smallDots?a.allSelectedImage=JMP.MarkerSegmentStatic.drawDots(a,i):JMP.MarkerSegmentStatic.draw(a,i)):JMP.MarkerSegmentStatic.draw(a,i))},a.drawBackground=function(e){if(e.bgCanvas.setAttribute("width",2*a.width),e.bgCanvas.setAttribute("height",2*a.height),e.bgCanvas.getContext("2d").scale(2,2),e.bg=e.bgCanvas.getContext("2d"),a.canUseBackgroundImageOptimization){const t=e.smallDotCanvas.getContext("2d");t.clearRect(0,0,a.width,a.height),e.bgImage=t.getImageData(0,0,a.width,a.height)}e.smallDots=JMP.MarkerSegmentStatic.drawBackground(a,e),a.isBackgroundDirty=!1},a.select=function(e,t){i=n(),i&&i.rowStates&&JMP.MarkerSegmentStatic.select(a,i,e,t)},a.areAllVisibleSelected=function(){return i=n(),!i||!i.rowStates||JMP.MarkerSegmentStatic.areAllVisibleSelected(a,i)},a.getTooltip=function(e,t){return JMP.MarkerSegmentStatic.getTooltip(a,n(),{x:e,y:t})},a.getPriority=function(e){return JMP.MarkerSegmentStatic.getPriority(a,n(),e)},a.getPreferredRange=function(e){return JMP.MarkerSegmentStatic.getPreferredRange(a,n(),e)},a.menuProvider=function(){return JMP.MarkerSegmentStatic.menuProvider(a)},a.menuHandler=function(e){JMP.MarkerSegmentStatic.menuHandler(a,e)},a.getStoredState=function(){return JMP.MarkerSegmentStatic.getStoredState(a)},a.applyStoredState=function(e){return JMP.MarkerSegmentStatic.applyStoredState(a,e)},a.onRowStatesEvent=function(e){JMP.SegmentStatic.onRowStatesEvent(a,e),JMP.MarkerSegmentStatic.onRowStatesEvent(a,n(),e)},a};class p extends d{static LABELING_NONE=0;static LABELING_COUNT=1;static LABELING_VALUE=2;static LABELING_PERCENT=3;static LABELING_ROW_LABEL=4;nX=void 0;nY=void 0;xScore=void 0;yScore=void 0;fillColors=void 0;singleDimensionalContingencyMosaic=void 0;isGraphBuilderMosaic=void 0;valueLabelFormat=void 0;#x;constructor(e){super(e),this.setScalable(JMP.SegmentStatic.SCALABLE_NONE)}draw(){let e,t,i,a,n,l,s,o,r,d,u,h,g,S,m,f=this.g,T={x:0,y:0,width:0,height:0},E=!1,b=!1,A=!1,_=this.#N(),x=[];if(JMP.ModelStatic.isObjectValid(_)){for(l=_.cells,i=_.fillColors,a=_.fillPatterns,h=_.alphas,S=this.cal.getResult(),JMP.ViewStatic.reset(f),g=f.globalAlpha,f.lineWidth=1,t=l.length,e=0;e<t;e++)if(T=l[e],T&&(o=T.x+1,r=T.y+1,u=Math.max(T.width-1,0),d=Math.max(T.height-1,0),m=d,JMP.NStatic.getFractions(S[e][0],x),b=!1,A=!1,E=!1,T.width<=5&&(b=!0),T.height<=5&&(A=!0),b||A||(E=!0),f.fillStyle=a[e]?JMP.ViewStatic.getFillPatternCanvas(i[e],a[e]):i[e],f.globalAlpha=h[e],E?f.fillRect(o,r+0,u,m):(o=Math.min(o,this.x+this.width-3),r=Math.min(r,this.y+this.height-3),u<1&&(u=1),d<1&&(d=1),f.fillRect(o,r,u,d)),a[e]?this.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.DARKER?f.fillStyle=JMP.ViewStatic.getFillPatternCanvas(c.fromHexString(i[e]).shadeRelative(.5).getHexString(),a[e]):f.fillStyle=JMP.COLOR_FILL_PATTERN_SELECT:f.fillStyle=this.getFillSelectionStyle(i[e],!0),s=0,S[e][0].countSelected>0&&(s=d*S[e][0].countSelected/S[e][0].count+.5>>0),x[0]>0&&0===s&&(s=1),f.fillRect(o,r+(d-s),u,s),E&&(f.globalAlpha=1,n=JMP.COLOR_LINE,S[e][0].countSelected>0&&(n=c.getSelectedColor(n)),f.strokeStyle=n,f.strokeRect(o+.5,r+.5,u-1,d-1)),this.labeling!==p.LABELING_NONE&&u>12&&d>7)){const t=_.labels[e],i=Math.min(JMP.GRAPH_LABEL_FONT_SIZE,d-2),a=t?.substring(0,d/i*u/2>>0);JMP.TextBoxStatic.drawWrappedText(f,{x:o,y:r,width:u,height:d},a,i,JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,JMP.COLOR_BLACK,JMP.TextBoxStatic.ALIGNMENT_CENTER,JMP.TextBoxStatic.ALIGNMENT_MIDDLE,!1,0,!1,!0,JMP.GRAPH_LABEL_FONT_WEIGHT,JMP.GRAPH_LABEL_FONT_FAMILY)}f.globalAlpha=g}}select(e,t){let i,a,n,l,s,o=null,r=this.#N(),c=e.width||e.height,d=!1,u=[],h=function(e){return l.selected[e]};if(!JMP.ModelStatic.isObjectValid(r)||!r.rowStates)return null;for(l=r.rowStates,n=r.cells,a=n.length,s=r.aggregatedRowIndices,i=0;i<a&&null===o;i++)void 0!==n[i]&&(c?JMP.ViewStatic.rectanglesIntersect(e,n[i])&&(u=u.concat(s[i])):JMP.ViewStatic.pointInRect({x:e.x,y:e.y},n[i])&&(u=s[i],o=i,t===JMP.ViewStatic.SELECT_TOGGLE&&(d=u.some(h))));JMP.ViewStatic.selectRows(l,t,u,d)}getTooltip(e,t){let i={x:e,y:t},a=this.#N();if(!JMP.ModelStatic.isObjectValid(a))return null;let n=null,l=null,{cells:s,nY:o,aggregatedRowIndices:r,xColumns:c,yColumns:d,crossTabs:u,labeledColumns:h}=a,g=s.length;for(let e=0;e<g&&null===n;e++)if(void 0!==s[e]&&s[e].height>0&&JMP.ViewStatic.pointInRect(i,s[e])){n=e,l=JMP.TooltipModel();let t=r[n],i=t[0];h.length>0&&l.addLabeledColumns(this,h,t);for(let e=0;e<d.length;e++)JMP.TooltipModelStatic.addLineFromColumn(l,d[e],i);for(let e=0;e<c.length;e++)JMP.TooltipModelStatic.addLineFromColumn(l,c[e],i);let g=JMP.NStatic.getValues(void 0,a.freqColumn,a.rowStates,[t])[0];JMP.TooltipStatic.addLineForRows(l,g[0].count,g[0].countSelected,g[0].countHidden,!!a.freqColumn);let S=u[e]-(e%o==0?0:u[e-1]),m=JMP.FormatStatic.getShareFormat(S);l.addLine(this.groupCalculation?JMP.TooltipModelStatic.TIP_PERCENT_GROUP:JMP.TooltipModelStatic.TIP_PERCENT,S,m),l.x=s[n].x,l.y=s[n].y-2,l.xOffset=s[n].width,l.yOffset=s[n].height,s[e].height<5&&(l.y-=2)}return l}getPriority(e){let t,i,a=null,n=this.#N(),l=e.width||e.height,s=null,o=0;if(!JMP.ModelStatic.isObjectValid(n))return null;t=n.cells,i=t.length;for(let a=0;a<i&&null===s;a++)void 0!==t[a]&&t[a].height>0&&(l&&JMP.ViewStatic.rectanglesIntersect(e,t[a])?o+=t[a].width*t[a].height:JMP.ViewStatic.pointInRect({x:e.x,y:e.y},t[a])&&(s=a,o=t[s].width*t[s].height));return o>0&&(a=JMP.Priority(0,o,this)),a}#Ae(e){let i,a,n,l,s,o,c,d,u,h,g,S,m,f,T,E,b,A=this.columns.getColumns(t.ROLE_X),_=this.columns.getColumns(t.ROLE_Y),x=this.columns.getColumn(t.ROLE_FREQ),L=this.columns.getLabeledColumns(),N=this.scale[t.ROLE_X],I=this.scale[t.ROLE_Y],M=this.columns.rowStates,y=this.rowIndices,C=this.nX||1,R=this.nY||1,v=[],w=[],O=[],P=[],D=!1,F=[],B=[],V=0,k=function(e){return e.isCategorical()&&this.hasMissingLevels}.bind(this);if(this.valueLabelFormat||this.labeling!==p.LABELING_PERCENT||(this.valueLabelFormat=JMP.Format(JMP.FormatStatic.FORMAT_PERCENT,!1,1)),N&&N.type===r.SCALE_LOG)return;for(this.subsetRowIndices&&(y=this.subsetRowIndices),this.groupCalculation&&(y&&this.groupCalculation.setRowIndices([y]),u=this.groupCalculation.getResult()[0][this.groupIndex]),this.unique=[],i=0;i<2;i++)if(v=0===i?A:_,v){for(o=v.length,g=!0,a=0;a<o&&g;a++)c=v[a],g=c.isCategorical();for(g||(o=1),a=0;a<o;a++){if(c=v[a],O.push(c),c.charLevels)for(w[0]=c.charLevels.concat(),d=w[0].indexOf(null),d>=0&&!c.isInformativeMissing&&!this.hasMissingLevels&&w[0].splice(d,1),s=y?y.length:M.excluded.length,n=w[0].length-1;n>=0;n--){for(D=!1,l=0;l<s&&!D;l++){let e=y?y[l]:l;S=c.getStringValue(c.data[e]),S!==w[0][n]||M.excluded[e]||(D=!0)}D||w[0].splice(n,1)}else this.unique[i]||(this.unique[i]=JMP.Unique()),this.unique[i].setInputVariables([c]),this.unique[i].setRowStates(M),this.unique[i].setRowIndices([y]),this.unique[i].setMissingUsed(k(c)),this.unique[i].setHiddenUsed(!1),this.unique[i].setExcludedUsed(this.isExcludedUsed),this.unique[i].setValueOrdering(!0),w=this.unique[i].getResult()[0];let e=this.isHorizontal?N:I;this.isGraphBuilderMosaic&&(this.isHorizontal?0===i&&(e=I):0===i&&(e=N)),JMP.ViewStatic.permuteUniqueValues(e,w,0===i&&c.isCategorical()?c:void 0),0===i?C*=w[0].length:(R*=w[0].length,F.push(w[0]),B.push(c)),P.push(w[0])}}if(O.length>0&&(h=JMP.GroupStatic.getRows(O,P,void 0,M,u?[u]:y?[y]:void 0,this.hasMissingLevels,!1,!1,this.isExcludedUsed)[0],!this.overlayTerm||k(this.overlayTerm.inputVariables[0])||this.overlayTerm.inputVariables[0].isInformativeMissing||JMP.ViewStatic.removeMissing(h,this.overlayTerm.inputVariables[0].data),x&&JMP.ViewStatic.removeMissing(h,x.data,(function(e){return e<=0})),this.legend))for(E=[],T=JMP.FrequencyStatic.getRows(B,F,M,void 0,!1,!1,this.isExcludedUsed),i=0;i<T.length&&V<this.legend.items.length;i++)T[i].length>0&&(E[i]=V++);e.rowStates=M,e.xColumns=A,e.yColumns=_,e.freqColumn=x,e.nX=C,e.nY=R,e.legendIndices=E,e.aggregatedRowIndices=h,e.labeledColumns=L,e.xScaling=N?JMP.Scaling(N,this.x+.5>>0,this.width-3):JMP.Scaling(new r(0,1),this.x+.5>>0,this.width-3),e.yScaling=I?JMP.Scaling(I,this.y+this.height-2-.5>>0,3-this.height):JMP.Scaling(new r(0,1),this.y+this.height-2-.5>>0,3-this.height),b=this.isHorizontal?e.yScaling:e.xScaling;let G=1;if(b.scale.tickSpans&&(G=b.scale.tickTotals?b.scale.tickTotals[0]:b.scale.tickSpans[0].reduce(((e,t)=>e+t),0),Math.abs(1-G)<1e3*JMP.MAC_EPS&&(G=1)),e.scaleGTotalWidth=G,this.yScore){for(h=[],i=0;i<C*R;i++)h[i]=[];for(s=y?y.length:this.yScore.length,i=0;i<s;i++)a=y?y[i]:i,m=this.xScore?this.xScore[i]:0,f=this.yScore[i],h[m*R+f].push(a);e.aggregatedRowIndices=h}this.cal||(this.cal=JMP.N()),this.cal.setRowStates(M),this.cal.setMissingUsed(!1),this.cal.setFreqColumn(x),this.cal.setRowIndices(h),this.cal.setSelectedUsed(!0),this.cal.setHiddenUsed(!1),this.cal.setExcludedUsed(this.isExcludedUsed),this.#_e(e),this.#xe(e)}#N(){return!this.#x&&(this.isHorizontal&&this.scale[t.ROLE_X]||!this.isHorizontal&&this.scale[t.ROLE_Y])&&(this.#x={},this.#Ae(this.#x)),this.#x}#Le(e,t){let i=e&&e.legendIndices?e.legendIndices[t]:t;return this.legend?this.legend.getColor(i,this.legendOffset,this.legendModelID,!0):this.fillColors.length>i?this.fillColors[i]:this.fillColors[0]}#Ne(e,t){let i=e&&e.legendIndices?e.legendIndices[t]:t;return this.legend?this.legend.getFillPattern(i,this.legendOffset,this.legendModelID):void 0}#Ie(e,t){let i=e&&e.legendIndices?e.legendIndices[t]:t;return this.legend?this.legend.getAlpha(i,this.legendOffset,this.legendModelID):1}#Me(e,i,a){if(this.labeling===p.LABELING_COUNT){if(e.freqColumn){return e.aggregatedRowIndices[a].reduce(((t,i)=>t+e.freqColumn.data[i]),0).toString()}return e.aggregatedRowIndices[a].length.toString()}if(this.labeling===p.LABELING_VALUE){let a=e&&e.legendIndices?e.legendIndices[i]:i,n=this.legend?this.legend.getLabel(a,this.legendOffset,this.legendModelID):"";return this.valueLabelFormat&&1===e.yColumns.length&&e.yColumns[0].type===t.TYPE_NUMBER&&(n=JMP.FormatStatic.formatNumber(n,this.valueLabelFormat)),n}if(this.labeling===p.LABELING_PERCENT){let t=e.crossTabs[a]-(a%e.nY==0?0:e.crossTabs[a-1]);return JMP.FormatStatic.formatNumber(t,this.valueLabelFormat)}if(this.labeling===p.LABELING_ROW_LABEL&&e.labeledColumns){const t=e.aggregatedRowIndices[a];let i="";for(let a=0;a<t.length;a++){const n=t[a];if(e.labeledColumns.length>0)for(let t=0;t<e.labeledColumns.length;t++){const a=e.labeledColumns[t].data[n];i+=a?e.labeledColumns[t].getValueString(a):JMP.ModelStatic.TIP_MISSING,t<e.labeledColumns.length-1&&(i+=", ")}else i+=n+1;a<t.length-1&&(i+=", ")}return i}}#_e(e){let t,i,a,n,l,s=e.nX,o=e.nY,r=0,c=[],d=[],u=0,h=[];for(l=this.cal.getResult(),t=0;t<s;t++)for(c[t]=0,h[t]=[],i=0;i<o;i++)a=l[t*o+i]&&l[t*o+i][0]&&l[t*o+i][0].count?l[t*o+i][0].count:0,c[t]+=a,r+=a,h[t][i]=a;for(t=0;t<s;t++)for(n=0,i=0;i<o;i++)n+=h[t][i],d[u++]=n/c[t];e.crossTabs=d,e.totals=c,e.sumWeight=r,e.freq=h}#xe(e){let t,i,a,n,l,s,o=[],r=[],c=[],d=[],u=[],h=this.width-3,g=this.height-3,S=e.totals,m=e.crossTabs,f=e.sumWeight,T=e.freq,p=e.nX,E=e.nY,b=e.yScaling,A=e.xScaling,_=e.scaleGTotalWidth,x=0,L=0,N=0,I=0,M=0,y=0,C=1,R={x:0,y:0,width:0,height:0},v=e.legendIndices||p>1||this.singleDimensionalContingencyMosaic;for(this.isHorizontal&&(a=h,h=g,g=a,b=e.xScaling,A=e.yScaling),I=A.scaleValue(0)+.5>>0,t=0;t<p;t++){for(C=S[t]/f,M+=C,n=A.scaleValue(M*_)+.5>>0,n===I&&S[t]>0&&(n+=1),s=b.scaleValue(0)+.5>>0,L=0,i=0;i<E;i++,x++)y=m[x],0!==T[t][i]&&(y>.9999&&(y=1),l=b.scaleValue(y)+.5>>0,l===s&&(l-=1),this.isHorizontal?(R={x:s+1,y:n+1,width:l-s,height:I-n},R.height<0&&(R.y=I+1,R.height=-R.height),R.width<0&&(R.x=l+1,R.width=-R.width)):(R={x:I+1,y:l+1,width:n-I,height:s-l},R.height<0&&(R.y=s+1,R.height=-R.height),R.width<0&&(R.x=n+1,R.width=-R.width)),o[x]=R,N=v?i:L,r[x]=this.#Le(e,N),c[x]=this.#Ne(e,N),d[x]=this.#Ie(e,N),u[x]=this.#Me(e,N,x),L++,s=l);I=n}e.cells=o,e.fillColors=r,e.fillPatterns=c,e.alphas=d,e.labels=u}}JMP.NominalAxisBoxStatic=function(){"use strict";let e={},i=function(e,t,i,a,n){let l=a.x,s=a.y;t?l=.5+(a.x>>0):s=.5+(a.y>>0),i||(e.moveTo(l,s),t?e.lineTo(l,s+5):e.lineTo(l-5,s)),n.push({x:l,y:s})},a=function(e,t,i){let a,n="";if(t)for(n=t,a=t.length;a>0&&e.measureText(n).width>i;)a--,n=t.slice(0,a);return n};return e.draw=function(e){let n,l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y={x:e.x,y:e.y,width:e.width,height:e.height},{g:C,isHorizontal:R,isFlipped:v,lineColor:w,hideTicks:O,ticksRotated:P,labelColors:D,labelWeights:F,labelStyles:B}=e,V=e.scale[R?t.ROLE_X:t.ROLE_Y],k=[],G=V&&V.tickLabels?V.tickLabels[0]:void 0,H=V&&V.tickSpans?V.tickSpans[0]:void 0,Y=V&&V.tickTotals?V.tickTotals[0]:void 0,U=JMP.SMALL_FONT_SIZE,z=U-2;for(v&&(C.save(),C.translate(y.x,y.y),R?(C.scale(1,-1),C.translate(0,-y.height)):(C.scale(-1,1),C.translate(-y.width,0)),C.translate(-y.x,-y.y)),JMP.ViewStatic.reset(C),C.strokeStyle=JMP.COLOR_LINE,void 0!==w&&(C.strokeStyle=w),C.beginPath(),R?(p=.5+(y.y>>0),C.moveTo(y.x,p),C.lineTo(y.x+y.width,p)):(T=.5+(y.x+y.width-1>>0),C.moveTo(T,y.y),C.lineTo(T,y.y+y.height)),u=G?G.length:0,l=H&&H.length===u?H:null,s=l&&Y?Y:u,E=1e3*(y.y+y.height)*JMP.MAC_EPS,n=0,T=R?y.x+.5:y.x+y.width,p=R?y.y:y.y+y.height-.5-E,i(C,R,O,{x:T,y:p},k),r=0;r<u;r++)n+=l?l[r]:1,T=R?y.x+.5+(y.width-1)*n/s:y.x+y.width,p=R?y.y:y.y+y.height-.5-(y.height-1)*n/s-E,i(C,R,O,{x:T,y:p},k);if(C.stroke(),C.closePath(),v&&C.restore(),d=1,!l&&P===R){A=u/4;do{for(b=0,r=0;r+d<u&&b<=A;r+=d)h=k[r],S=k[r+d],Math.abs(R?S.x-h.x:S.y-h.y)<z&&b++;b>A&&(d*=2)}while(d<u&&b>A)}for(o=U+"px "+JMP.FONT,C.font=o,C.textBaseline="middle",C.textAlign="start",C.fillStyle=JMP.ViewStatic.getTextColor(),r=0;r<u;r+=d)if(D&&(C.fillStyle=D[r]),(F||B)&&(C.font=(B?B[r]+" ":"")+(F?F[r]+" ":"")+o),h=k[r],g=k[r+1],S=k[r+d],L=R?S?Math.abs(S.x-h.x):1/0:y.width-5,N=R?y.height-5:S?Math.abs(S.y-h.y):1/0,_=a(C,G[r],P?N:L),x=C.measureText(_).width,f=x>0,P)R?(T=h.x+(g.x-h.x-U)/2,p=v?y.y+y.height-5-x/2:y.y+5+x/2,f=void 0===m||Math.abs(m-T)>=z,f&&(m=T)):(T=v?y.x+5:y.x+y.width-U-5,p=(h.y+g.y)/2),f&&(C.translate(T,p),C.rotate(-JMP.HALF_PI),C.fillText(_,-x/2,U/2),C.rotate(JMP.HALF_PI),C.translate(-T,-p));else if(R){if(f)for(I=JMP.TextBoxStatic.wrap(C,L,[G[r]]),I.splice(N/U>>0),M=I.length,p=v?y.y+y.height-5-U*(M-.5):y.y+5+U/2,c=0;c<M;c++)x=C.measureText(I[c]).width,T=h.x+(g.x-h.x-x)/2,C.fillText(I[c],T,p+c*U)}else T=v?y.x+5:y.x+y.width-x-5,p=(h.y+g.y)/2,f=void 0===m||Math.abs(m-p)>=z,f&&(m=p),f&&C.fillText(_,T,p);e.axisLabel&&(C.font=JMP.LARGE_FONT_SIZE+"px "+JMP.FONT,x=C.measureText(e.axisLabel).width,C.fillText(e.axisLabel,e.x+(e.width-x)/2,e.y+e.height-U))},e}(),JMP.NominalAxisBox=function(e){"use strict";let t=new d(e);return t.lineColor=JMP.COLOR_LINE,t.isFlipped=!1,t.hideTicks=!1,t.ticksRotated=!1,t.labelColors=void 0,t.labelWeights=void 0,t.labelStyles=void 0,t.onPointerEvent=function(e){let i={x:e.clientX,y:e.clientY};JMP.SegmentStatic.convertToSegmentCoordinates(t,i),JMP.SegmentStatic.isInBounds(t,i)&&JMP.TooltipStatic.updateTooltip()},t.draw=function(){JMP.NominalAxisBoxStatic.draw(t)},t},JMP.NumberBoxStatic=function(){"use strict";let e={draw:function(e){let t=e.g,i=JMP.FormatStatic.formatNumber(e.value,e.format);JMP.ViewStatic.reset(t),t.textBaseline="middle",t.fillText(i,e.x+e.width-t.measureText(i).width-1,e.y+e.height/2)}};return e}(),JMP.NumberBox=function(e){"use strict";let t=new d(e);return t.value=0,t.format=void 0,t.isEditable=!1,t.draw=function(){JMP.NumberBoxStatic.draw(t)},t},JMP.PackedBarSegmentStatic=function(){"use strict";const e={};function i(e,t){const{drawnRects:i}=e.getCache(),a=t.width||t.height,n=a?JMP.ViewStatic.rectanglesIntersect:JMP.ViewStatic.pointInRect,l=[];for(let e=0;e<i.length&&(!n(t,i[e])||(l.push(e),a));e++);return l}function a(t,i){const a=[];return t.levelBounds.forEach(((n,l)=>{const s={min:{x:0,y:0},max:{x:0,y:0}};s.min.x=JMP.ScalingStatic.valueToPixel(i.xScaling,n.min.x),s.min.y=JMP.ScalingStatic.valueToPixel(i.yScaling,n.min.y),s.max.x=JMP.ScalingStatic.valueToPixel(i.xScaling,n.max.x),s.max.y=JMP.ScalingStatic.valueToPixel(i.yScaling,n.max.y),0===n.min.y&&(s.min.y===-JMP.ScalingStatic.CANVAS_MAX_INT&&(s.min.y=i.yScaling.pixelOrigin+i.yScaling.pixelRange),s.min.y===JMP.ScalingStatic.CANVAS_MAX_INT&&(s.min.y=i.yScaling.pixelOrigin)),0===n.min.x&&(s.min.x===-JMP.ScalingStatic.CANVAS_MAX_INT?s.min.x=i.xScaling.pixelOrigin:s.min.x===JMP.ScalingStatic.CANVAS_MAX_INT&&(s.min.x=i.xScaling.pixelOrigin+i.xScaling.pixelRange));const o=i.xScaling.scale.range>0?.5:1,r=i.yScaling.scale.range>0?1:.5;s.min.x=s.min.x+o>>0,s.min.y=s.min.y+r>>0,s.max.x=s.max.x+o>>0,s.max.y=s.max.y+r>>0;const c={x:s.min.x,y:s.min.y,width:s.max.x-s.min.x,height:s.max.y-s.min.y};c.height<0&&(c.y+=c.height,c.height=-c.height),c.width<0&&(c.x+=c.width,c.width=-c.width),t.packedPlacement!==e.PackedPlacementTypes.SEPARATE?t.isHorizontal?(c.y+=1,c.height-=1):(c.x+=1,c.width-=1):t.primaryBars.includes(l)||"Grays"===t.packedColoring||(t.isHorizontal?(c.x+=1,c.width-=1):c.height-=1),a.push(c)})),a}function l(e,t){const i=t.getLuminance(),a=e.getLuminance(),n=t.getHLS(),l=e.getHLS(),s=n.lightness;let o=l.lightness;const r=.35;i<.5&&a<.5?e.setHLS(l.hue,.99,l.saturation):Math.abs(s-o)<r&&(s<=o?(o=s+r,o>=1.1?o=s-r:o>1&&(o=1)):(o=s-r,o<-.1?o=s+r:o<0&&(o=0)),o>.99&&(o=.99),e.setHLS(l.hue,o,l.saturation))}function s(e,t){if(e.labeling===JMP.BarSegmentStatic.LABELING_NONE||!e.labels||!e.labels[t]||!e.labelY||null===e.labelY[t])return;const i=e.getCache(),a=i.drawnRects[t];let n,l,s,o,r;const c={x:0,y:0},d={x:0,y:0},{g:u,isHorizontal:h}=e,g=e.labels[t],S=e.labelY[t],m=`${e.fontSize}px ${e.fontFamily}`;if(u.save(),u.font=m,h)s=u.measureText(g).width,o=a.height,r=S>=0!=i.xScaling.pixelPerValueScale<0,l=r?JMP.TextBoxStatic.ALIGNMENT_LEFT:JMP.TextBoxStatic.ALIGNMENT_RIGHT,n=JMP.TextBoxStatic.ALIGNMENT_MIDDLE,c.x=JMP.ScalingStatic.valueToPixel(i.xScaling,e.labelY[t]),c.y=a.y,d.x=r?2:-2;else{const t=S>=0!=i.yScaling.pixelPerValueScale>0;l=JMP.TextBoxStatic.ALIGNMENT_CENTER,n=t?JMP.TextBoxStatic.ALIGNMENT_BOTTOM:JMP.TextBoxStatic.ALIGNMENT_TOP,c.x=a.x+a.width/2;const r=u.measureText(g).width;let h=1;if(s=a.width,r>a.width){const e=g.split(/[\s,]+/);let t=0;e.forEach((e=>{t=Math.max(u.measureText(e).width,t)})),s=Math.max(t,s),h=JMP.TextBoxStatic.wrap(u,s,[g],!0).length}o=h*e.g.measureText("M").width*1.5,c.x-=s/2,c.y=JMP.ScalingStatic.valueToPixel(i.yScaling,S),t&&(c.y-=h*e.g.measureText("M").width*1.5,d.y=-3)}u.restore();const f={x:c.x+d.x,y:c.y+d.y,width:s,height:o};f.x=!r&&h?f.x-s:f.x,JMP.TextBoxStatic.drawWrappedText(e.g,f,g,e.fontSize,JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,e.fontColor,l,n,!1,0,!1,!0,e.fontWeight,e.fontFamily)}return e.PackedPlacementTypes={SEPARATE:"Separate",SHORTEST:"Shortest",FIRST:"First"},e.onScaleEvent=function(e){e.getCache().drawnRects=a(e,e.getCache())},e.onRowStatesEvent=function(e,t){const i=e.getCache();if(i.isSelected=[],t.type===n.EVENT_SELECTED)for(let t=0;t<i.drawnRects.length;t++){const a=e.rowIndices[t];if(a&&e.rowStates){const{selected:n}=e.rowStates;for(let e=0;e<a.length&&!i.isSelected[t];e++)n[a[e]]&&(i.isSelected[t]=!0)}}},e.createCache=function(e,i){(i={}).xScaling=JMP.Scaling(e.scale[t.ROLE_X],e.x+.5,e.width-1),i.xScaling.scale.addEventListener(e.onScaleEvent),i.yScaling=JMP.Scaling(e.scale[t.ROLE_Y],e.y+e.height-.5,1-e.height),i.yScaling.scale.addEventListener(e.onScaleEvent),i.drawnRects=a(e,i),i.isSelected=[],i.isVisible=[];for(let t=0;t<i.drawnRects.length;t++){const a=e.rowIndices[t];if(a&&e.rowStates){const n=e.rowStates.selected,l=e.rowStates.hidden;0===a.length&&(i.isVisible[t]=!0);for(let e=0;e<a.length&&(!i.isSelected[t]||!i.isVisible[t]);e++)n[a[e]]&&(i.isSelected[t]=!0),l[a[e]]||(i.isVisible[t]=!0)}}return e.rowStates.addEventListener(e.onRowStatesEvent,!0),i},e.draw=function(e){const{g:t}=e;JMP.ViewStatic.reset(t);let i=e.legend;const a=e.drawingOrder.length,{drawnRects:n,isVisible:o}=e.getCache();for(let r=0;r<a;r++){const d=e.drawingOrder[r];let u=i?i.getFillPattern(e.legendSubItems[d]):void 0;if(!o[d])continue;const h=.01,g=n[d];if(a>1e6&&(g.width<h||g.length<h))continue;let S=i.getColor(e.legendSubItems[d],e.legendOffset,e.legendModelID);t.fillStyle=S,e.fillColors&&e.fillColors.length>=a&&(t.fillStyle=e.fillColors[d],S=t.fillStyle);const m=e.getCache().isSelected[d],f=e.primaryBars.includes(d);if(!f){let i=224;switch(e.packedColoring){case"Unchanged":default:break;case"Grays":i-=Math.floor(4*e.varyGrayByY[d]),t.fillStyle=`rgb(${i},${i},${i})`,S=t.fillStyle;break;case"Faded":t.fillStyle=c.mixColors(S,e.backgroundColor,.4),S=t.fillStyle}}if(m&&e.fillSelectionMode!==JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED&&(S=c.getSelectedColor(S),t.fillStyle=S),u&&(t.fillStyle=JMP.ViewStatic.getFillPatternCanvas(S,u)),t.fillRect(g.x,g.y,g.width,g.height),m&&e.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED&&(t.fillStyle=JMP.ViewStatic.getDiagPatternCanvas(S),t.fillRect(g.x,g.y,g.width,g.height)),f&&"Unchanged"===e.packedColoring){if(t.save(),t.strokeStyle=JMP.COLOR_BLACK,t.lineWidth=2,t.lineCap="butt",t.beginPath(),e.isHorizontal){let i;i=e.getCache().xScaling.pixelPerValueScale<0?g.x+1:g.x+g.width-1,t.moveTo(i,g.y),t.lineTo(i,g.y+g.height)}else{let i;i=e.getCache().yScaling.pixelPerValueScale>0?g.y+g.height-1:g.y+1,t.moveTo(g.x,i),t.lineTo(g.x+g.width,i)}t.stroke(),t.restore()}if(s(e,d),(e.arePrimaryLabelsInterior||!f)&&d<e.packedLabels.length&&(f||e.yBarPosition[d]>e.packedLabelingY)&&(f||g.width>=38)&&g.height>=7){t.save(),t.beginPath();const i=`${f?e.primaryFontSize:e.secondaryFontSize}px ${e.fontFamily}`;t.font=i;const a=1.2*Number.parseInt(t.font,10);if(t.restore(),g.height>=a){let i=JMP.TextBoxStatic.ALIGNMENT_CENTER,a=JMP.TextBoxStatic.ALIGNMENT_MIDDLE;a=!e.isHorizontal&&f?JMP.TextBoxStatic.ALIGNMENT_BOTTOM:JMP.TextBoxStatic.ALIGNMENT_MIDDLE,i=e.isHorizontal&&f?JMP.TextBoxStatic.ALIGNMENT_LEFT:JMP.TextBoxStatic.ALIGNMENT_MIDDLE;const n=f?new c(0,0,0):new c(180,180,180),s=c.stringTorgb(S.substr(1,7));l(n,new c(s[0],s[1],s[2])),s[0]=n.red,s[1]=n.green,s[2]=n.blue;const o=c.rgbToHexString(s),r={...g};f&&(e.isHorizontal?r.x+=4:r.height-=4),JMP.TextBoxStatic.drawWrappedText(t,r,e.packedLabels[d],f?e.primaryFontSize:e.secondaryFontSize,JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,o,i,a,!1,0,!1,!0,void 0,e.fontFamily)}}}},e.select=function(e,t,a){let n=!1,l=[];i(e,t).forEach((t=>{l=l.concat(e.rowIndices[t])}));const{rowStates:s}=e;if(a===JMP.ViewStatic.SELECT_TOGGLE)for(let e=0;e<l.length&&!n;e++)s.selected[l[e]]&&(n=!0);JMP.ViewStatic.selectRows(s,a,l,n)},e.getTooltip=function(e,t,a){const n=i(e,{x:t,y:a})[0];let l=null;if(void 0!==n&&n<e.hoverLabels.length){const i=e.hoverLabels[n].split(JMP.LINE_SEPARATOR_ENTITY);if(l=JMP.TooltipModel(),i){for(let e=0;e<i.length;e++){const t=i[e].split(":"),a=t[0],n=t[1];l.addLine(a,n)}l.x=t+2,l.y=a-2}}return l},e.getPriority=function(e,t){let a=null;const n=i(e,t)[0];if(void 0!==n){a=JMP.Priority(),a.seg=e,a.distance=Number.MAX_VALUE;const t=e.getCache().drawnRects[n];a.priority=t.width*t.height}return a},e}(),JMP.PackedBarSegment=function(e){"use strict";const t=new d(e);let i;return t.getCache=function(){return i||(i=JMP.PackedBarSegmentStatic.createCache(t,i)),i},t.backgroundColor="#ffffff",t.isHorizontal=!1,t.arePrimaryLabelsInterior=!1,t.packedLabelingY=0,t.fontSize=13,t.primaryFontSize=JMP.GRAPH_LABEL_FONT_SIZE,t.secondaryFontSize=JMP.GRAPH_LABEL_FONT_SIZE,t.fontFamily=JMP.FONT,t.fontColor=JMP.COLOR_BLACK,t.fontWeight=void 0,t.packedPlacement=JMP.PackedBarSegmentStatic.PackedPlacementTypes.FIRST,t.packedColoring="Grays",t.hoverLabels=[],t.primaryBars=[],t.labelY=[],t.labels=[],t.packedLabels=[],t.varyGrayByY=[],t.drawingOrder=[],t.levelBounds=[],t.legendSubItems=[],t.yBarPosition=[],t.fillColors=[],t.rowIndices=[],t.onRowStatesEvent=function(e){JMP.PackedBarSegmentStatic.onRowStatesEvent(t,e)},t.onScaleEvent=function(){JMP.PackedBarSegmentStatic.onScaleEvent(t,t.getCache())},t.draw=function(){JMP.PackedBarSegmentStatic.draw(t)},t.select=function(e,i){JMP.PackedBarSegmentStatic.select(t,e,i)},t.getTooltip=function(e,i){return JMP.PackedBarSegmentStatic.getTooltip(t,e,i)},t.getPriority=function(e){return JMP.PackedBarSegmentStatic.getPriority(t,e)},t.setScalable(JMP.SegmentStatic.SCALABLE_CLIENT),t},JMP.ParallelAxisSegmentStatic=function(){"use strict";let e={},i=JMP.ScalingStatic.valuesToPixel,a=new Image,n=new Image,l=function(e,t,i,a,n){let{alpha:l,lineWidth:s,lineColor:o,lineStyle:r}=e,c=JMP.LineSegmentStatic.getLineDash(r,s);t.beginPath(),t.globalAlpha=l,t.lineWidth=s,t.strokeStyle=o,t.setLineDash(c),t.moveTo(i,a),t.lineTo(i,n),t.stroke()},s=function(e,t,i,a){e.beginPath(),e.globalAlpha=t,e.moveTo(i-2.5,a),e.lineTo(i+2.5,a),e.stroke()},o=function(e,t,i,a,n,l){e.globalAlpha=t,l&&(e.fillStyle=l),e.fillText(i,a,n)},r=function(e,t,i,l,s){e.globalAlpha=t,e.drawImage(i?n:a,l,s)},c=function(e,t,i,a,n){for(let l=0;l<t.refValues.length;l++){let s=t.refValues[l],o=JMP.ScalingStatic.valueToPixel(a,s);e.beginPath(),e.strokeStyle=t.refColors[l],e.lineWidth=t.refWidths[l],e.globalAlpha=t.refAlphas[l],e.moveTo(i-n,o),e.lineTo(i+n,o),e.stroke()}};return e.SRC_ARROW_UP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAUklEQVQ4jeWSQQrAMAgEd/txnz69N91gCM2lghd1BkENaCeuLbojsF3TASCmpJKEpIozDZiZpAtHyQr8KlmFB4nTH9geGoCfte//4AeCeIVjG9wJ5LHjUgaBXgAAAABJRU5ErkJggg==",e.SRC_ARROW_DOWN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAYElEQVQ4je2TOwrAMAxDpdJ7++ivS1rIzxlS6FKDFst6GIwNaKeOrbSkc2bY7lYD/PoGP6AB2A7bjC5QfIriaQKVJIUkEkU13wIWkOhmR4AJpAungAYyDC8BNyTz/fk3XmE8x9+PYIeWAAAAAElFTkSuQmCC",a.src=e.SRC_ARROW_UP,n.src=e.SRC_ARROW_DOWN,e.getCache=function(e,i){let a=e.columns.getColumns(t.ROLE_X),n=e.columns.getColumns(t.ROLE_Y),l=e.scale[t.ROLE_X],s=e.scale[t.ROLE_Y],o=JMP.Scaling(l,e.x+.5>>0,e.width-1),r=e.parallelAxisScales,c=e.y+e.height-.5>>0,d=1-e.height,u=JMP.Scaling(s,c,d),h=[];c+=.1*d,d*=.8;for(let e=0;e<r.length;e++){let t=r[e];h.push(JMP.Scaling(t,c,d))}Object.assign(i,{xColumns:a,yColumns:n,xScaling:o,yScaling:u,parallelYScalingList:h})},e.getScalings=function(e){return e.parallelYScalingList},e.draw=function(e,t){if(!t)return;let{g:a,alpha:n,parallelAxisScales:d,isCommonAxis:u,labelColor:h,backgroundColor:g}=e,{xScaling:S,yScaling:m,parallelYScalingList:f}=t;JMP.ViewStatic.reset(a);const T=a.globalAlpha;1!==e.alpha&&(a.globalAlpha=n),a.lineWidth=1;let p=0,E=e.y,b=E+e.height,A=JMP.ScalingStatic.valueToPixel(S,.4)-JMP.ScalingStatic.valueToPixel(S,0);for(let t=0;t<d.length;t++,p++){let _=d[t],x=_.range<0,L=.5+(i(S,m,p,0).x+.5>>0);if(l(e,a,L,E,b),u)_.refValues&&c(a,_,L,m,A);else{if(r(a,n,x,L+3,E+3),_.isContinuous){a.textBaseline="middle",a.textAlign="right";let e,i=0;x?(e=_.minInit,i=_.maxInit):(e=_.maxInit,i=_.minInit);let l=JMP.FormatStatic.formatNumber(e,_.format),r=JMP.ScalingStatic.valueToPixel(f[t],e),c=h||JMP.COLOR_BLACK;c===JMP.COLOR_BLACK&&g===JMP.COLOR_BLACK&&(c=JMP.COLOR_WHITE,n=T),a.strokeStyle=c,s(a,n,L,r),o(a,T,l,L-5,r,c);let d=JMP.FormatStatic.formatNumber(i,_.format),u=JMP.ScalingStatic.valueToPixel(f[t],i);s(a,n,L,u),o(a,T,d,L-5,u,c)}_.refValues&&c(a,_,L,f[t],A)}}1!==n&&(a.globalAlpha=T)},e}(),JMP.ParallelAxisSegment=function(e){"use strict";let i,a=new d(e),n=function(){return i||a.isHorizontal||!a.scale[t.ROLE_Y]||(i={},JMP.ParallelAxisSegmentStatic.getCache(a,i)),i};return a.alpha=1,a.lineWidth=1,a.lineColor=JMP.COLOR_BLACK,a.lineStyle=JMP.LineSegmentStatic.PATTERN_SOLID,a.numberOfColumns=void 0,a.isCommonAxis=!1,a.parallelAxisScales=[],a.labelColor=void 0,a.backgroundColor=void 0,a.getScalings=function(){return JMP.ParallelAxisSegmentStatic.getScalings(n())},a.draw=function(){JMP.ParallelAxisSegmentStatic.draw(a,n())},a.setScalable(JMP.SegmentStatic.SCALABLE_NONE),a},JMP.PolylineSegmentStatic=function(){"use strict";let e={},i=c.rgbToHexString,a=c.mixColors,n=JMP.GPathStatic.drawPath,l=JMP.ScalingStatic.valueToPixel,s=JMP.ScalingStatic.pixelToValue,o=JMP.ScalingStatic.valuesToPixel,r=JMP.ViewStatic.distance,d=JMP.ViewStatic.FUZZ_PIXELS,u=JMP.ViewStatic.FUZZ_PIXELS_SQUARED,h=JMP.ViewStatic.isPointInPath,g=JMP.ViewStatic.pointInRect,S=function(e,t,i,a,n,l){let{g:s,xOffset:o,yOffset:r,groupRowIndices:c}=e;s.fillStyle=l;let d=[];if(t.length>0)for(let e=0;e<t.length;e++){let a=t[e],n=c?c[i]:i,l=a.getValueString(a.data[n],a.format);d.push(l)}else d.push(i+1);let u=d.join(", ");const h=JMP.TEXT_FONT_SIZE,g=JMP.TEXT_FONT_WEIGHT?JMP.TEXT_FONT_WEIGHT+" ":"";s.font=g+h+"px "+JMP.TEXT_FONT_FAMILY;let S=s.measureText(u).width;0===o[i]&&0===r[i]&&a+S>e.width+e.x&&(a=e.x+e.width-S-2),JMP.TextBoxStatic.drawOffsetText(s,a,n,o[i],r[i],u,h,void 0,void 0,JMP.TEXT_FONT_FAMILY,g)},m=function(e,t,i,a,n){return 0===a[t]&&e.length>0||n&&e.length>0?e[t]:i},f=function(t,n,s,o){let{g:r,coords:c,isUsingParallelSets:d,numberOfColumns:u,groupRowIndices:h,nCategories:g,drawCategoricalAsContinuous:f}=t,{xScaling:T,yScaling:p,parallelAxisScalings:E,cpOffset:b,isStraight:A}=n,_=h?h.indexOf(s):s,x=function(e,t,n,l){const{legend:s,colorData:o,sizeData:r,sizeMin:c,sizeMax:d,legendOffset:u,legendModelID:h,backgroundColor:g}=e;let S=1,m=e.lineColor,f=e.lineStyle;if(s){const t=s.isGradient(u,h);S=t?e.lineWidth:s.getLineWidth(o[n],u,h),m=s.getColor(o[n],u,h),f=t?e.lineStyle:s.getLineStyle(o[n],u,h)}else S=e.lineWidth,m&&m!==JMP.COLOR_BLACK||(m=i(e.columns.rowStates.color[t])),m===JMP.COLOR_BLACK&&g===JMP.COLOR_BLACK&&(m=JMP.COLOR_WHITE);if(r){let e=r[n];if(Number.isFinite(c)&&c!==d&&Number.isFinite(e)){let t=Math.min(0,c),i=1/(d-t)*4,a=d===t?1:(e-t)*i;S=Math.max(1,a*S)}}return l&&(m=a(m,g,.65)),{lineWidth:S,lineColor:m,lineDash:JMP.LineSegmentStatic.getLineDash(f,S)}}(t,s,_,o);r.lineWidth=x.lineWidth,r.strokeStyle=x.lineColor,r.setLineDash(x.lineDash);let L=!0,N=null,I=null,M=!1;r.beginPath();let y=0,C=0;for(let t=0;t<u;t++){y=t,C=c[_*u+t];let i=m(E,t,p,g,f);if(null!==C&&(C=l(i,C)+.5>>0,C+=.5),Number.isFinite(C)){if(!L&&0!==g[t]&&0!==g[t-1]&&d&&(L=!0),y=l(T,y),L)t===u-1&&0===g[t]?(r.moveTo(y-e.ORPHAN_LINE_LEFT,C),r.lineTo(y+e.ORPHAN_LINE_RIGHT,C)):r.moveTo(y,C),L=!1,M=!0;else{if(A)r.lineTo(y,C);else if(Number.isFinite(N)&&Number.isFinite(N)){let e=N+b,t=y-b;r.bezierCurveTo(e,I,t,C,y,C)}M=!1}N=y,I=C}else!L&&M&&Number.isFinite(I)&&(r.moveTo(N-e.ORPHAN_LINE_LEFT,I),r.lineTo(N+e.ORPHAN_LINE_RIGHT,I),M=!1),L=!0}r.stroke(),n.rowStates.labeled[s]&&S(t,n.labeledColumns,s,y,C,x.lineColor)},T=function(e,t,i,a){let n=Math.pow(1-a,3),l=Math.pow(1-a,2),s=Math.pow(a,2),o=Math.pow(a,3),r=e[0]*n+3*e[2]*l*a+3*e[4]*(1-a)*s+e[6]*o,c=e[1]*n+3*e[3]*l*a+3*e[5]*(1-a)*s+e[7]*o,d=t-r,u=i-c;return{squaredDistance:d*d+u*u,px:r,py:c}},p=function(e,t,i){let a,n=.5,l=0,s=1,o=Math.abs(e[6]-e[0]),r=1/(2*o);for(;o*(s-l)>1;){a=T(e,t,i,n);let o=a.squaredDistance-T(e,t,i,n-r).squaredDistance;if(o<0)l=n;else{if(!(o>0))return a;s=n}n=(l+s)/2}return a},E=function(e,t,i,a,n,l){let s=null;const o=null===a;if(!(null===t)||!o){let r,c;if(o?(r=e,c=t):(r=i,c=a),n>r-d&&n<r+d&&l>c-d&&l<c+d){let e=n-r,t=l-c;s=e*e+t*t}}return s},b=function(e,t,i,a){let n,o,r,c,{coords:h,numberOfColumns:g,nCategories:S,groupRowIndices:f,drawCategoricalAsContinuous:T}=e,{rowStates:b,xScaling:A,yScaling:_,isMostlyStraight:x,parallelAxisScalings:L,cpOffset:N,cleanedCatLabels:I}=t,M={rowIndex:-1,columnValue1:0,columnValue2:0,distance:0,x:0,y:0},y=Number.MAX_VALUE,C=-1,R=f?f.length:b.getNRows(),v=s(A,i)<<0;if(v<0||v>=g-1)return null;let w=v+1,O=l(A,v),P=l(A,w),D=m(L,v,_,S,T),F=m(L,w,_,S,T),B=b.hidden,V=[O,0,O+N,0,P-N,0,P,0];for(let e=0;e<R;e++){let t=f?f[e]:e;if(!B[t]){let s=e*g+v,S=h[s],m=h[s+1],f=l(D,S),T=l(F,m);if(null===S||null===m){let e=E(O,f,P,T,i,a);null!==e&&e<y&&(y=e,C=t,r=S,c=m,n=null===S?P:O,o=null===S?T:f)}else if(x){let e=P-O,l=T-f,s=((a-f)*l+(i-O)*e)/(e*e+l*l);s>1?s=1:s<0&&(s=0);let u=O+s*e,h=f+s*l;if(i>u-d&&i<u+d&&a>h-d&&a<h+d){e=u-i,l=h-a;let s=e*e+l*l;s<=y&&(y=s,C=t,r=S,c=m,n=u,o=h)}}else{V[1]=V[3]=f,V[5]=V[7]=T;let e=p(V,i,a),l=e.squaredDistance;l<u&&l<=y&&(y=l,C=t,r=S,c=m,n=e.px,o=e.py)}}}if(y===Number.MAX_VALUE)return null;if(M.distance=y,M.rowIndex=C,I){let e=0;I[v]&&(e=I[v].length),e>0?r=r*e<<0:(I[v+1]&&(e=I[v+1].length),e>0&&(c=c*e<<0))}return M.columnValue1=r,M.columnValue2=c,M.x=n,M.y=o,M},A=function(e,t,i,a,n){const{g:l}=e,{bounds:s,xCoords:r,yCoords:c}=function(e,t){if(t.bounds){const{bounds:e,xCoords:i,yCoords:a}=t;return{bounds:e,xCoords:i,yCoords:a}}t.bounds=[],t.xCoords=[],t.yCoords=[];const{sectionPathLengths:i,sectionXValues:a,sectionYValues:n,sectionPointTypes:l}=e,{xScaling:s,yScaling:r}=t;let c=0;i.forEach((e=>{const i=[],d=[];let u=1/0,h=1/0,g=-1/0,S=-1/0;for(let t=0;t<e;t++){if(l[c]!==JMP.GPathStatic.POINT_TYPE_CONTROL){const{x:e,y:t}=o(s,r,a[c],n[c]);i.push(e),d.push(t),e<u?u=e:e>g&&(g=e),t<h?h=t:t>S&&(S=t)}c++}t.bounds.push({x:u,y:h,width:g-u,height:S-h}),t.xCoords.push(i),t.yCoords.push(d)}));const{bounds:d,xCoords:u,yCoords:h}=t;return{bounds:d,xCoords:u,yCoords:h}}(e,t);let d=!1;if(JMP.ViewStatic.rectanglesIntersect(i,s[n])){let e={};const t=r[n].length;for(let a=0;a<t&&!d;a++)e.x=r[n][a],e.y=c[n][a],g(e,i)&&(d=!0);for(let e=0;e<4&&!d;e++){const t=1&e?i.x+i.width:i.x,o=2&e?i.y+i.height:i.y;g({x:t,y:o},s[n])&&(d=h(l,a,t,o))}if(!d){const e=i.x+i.width/2,t=i.y+i.height/2;g({x:e,y:t},s[n])&&(d=h(l,a,e,t))}if(!d){let e={x:i.x,y:i.y};for(let t=i.y;t<i.y+i.height&&!d;t+=2)e.y=t,g(e,s[n])&&(d=h(l,a,e.x,e.y))}if(!d){let e={x:i.x+i.width,y:i.y};for(let t=i.y;t<i.y+i.height&&!d;t+=2)e.y=t,g(e,s[n])&&(d=h(l,a,e.x,e.y))}if(!d){let e={x:i.x,y:i.y};for(let t=i.x;t<i.x+i.width&&!d;t+=2)e.x=t,g(e,s[n])&&(d=h(l,a,e.x,e.y))}if(!d){let e={x:i.x,y:i.y+i.height};for(let t=i.x;t<i.x+i.width&&!d;t+=2)e.x=t,g(e,s[n])&&(d=h(l,a,e.x,e.y))}}return d},_=function(e,t,i,a){let n=t-e.x;0!==n&&(n=(t-a)/n,n>=0&&n<=1&&(e.y=n*e.y+(1-n)*i,e.x=a))},x=function(e,t,i){return 2!==function(e,t,i){let{x:a,y:n}=e;const{x:l,y:s}=t,o=i.x,r=i.x+i.width,c=i.y,d=i.y+i.height;let u=0;if(a<o?(_(e,l,s,o),({x:a,y:n}=e),u=1,a<o&&l>=o&&(a=o)):a>r&&(_(e,l,s,r),({x:a,y:n}=e),u=1,a>r&&l<=r&&(a=r)),n<c){let t={x:n,y:a};_(t,s,l,c),({x:n,y:a}=t),u=1,n<c&&s>=c&&(n=c),e.y=n}else if(n>d){let t={x:n,y:a};_(t,s,l,d),({x:n,y:a}=t),u=1,n>d&&s<=d&&(n=d),e.y=n}return!u||o<=a&&a<=r&&c<=n&&n<=d||(u=2),u}(e,t,i)},L=function(t,i,a,n,l,s){let o=!1;if(null!==i){const a=t-e.ORPHAN_LINE_LEFT,n=t+e.ORPHAN_LINE_RIGHT;x({x:a,y:i},{x:n,y:i},l)&&(o=!0)}else if(null!==n&&s){const t=a-e.ORPHAN_LINE_LEFT,i=a+e.ORPHAN_LINE_RIGHT;x({x:t,y:n},{x:i,y:n},l)&&(o=!0)}return o},N=function(e,t,i,a){let{coords:n,isUsingParallelSets:s,numberOfColumns:o,groupRowIndices:r,nCategories:c}=e,{xScaling:d,yScaling:u,parallelAxisScalings:h}=t,g=!1;const S=i.x,m=i.x+i.width;let f=l(d,0),T=null,p=r?r.indexOf(a):a;for(let e=1;e<o;e++){let t=f;f=l(d,e);let a=Math.min(f,t),r=Math.max(f,t);if(m<a||S>r){T=null;continue}if(s&&0!==c[e]&&0!==c[e-1]){T=null;continue}let E,b=0===c[e-1]&&h.length>0?h[e-1]:u;if(null===T?(E=n[p*o+e-1],null!==E&&(E=l(b,E))):E=T,T=n[p*o+e],null!==T&&(b=0===c[e]&&h.length>0?h[e]:u,T=l(b,T)),null!==t&&null!==f)if(null===E||null===T){if(L(t,E,f,T,i,e===o-1)){g=!0;break}}else if(x({x:t,y:E},{x:f,y:T},i)){g=!0;break}}return g},I=function(e,t,i){const a=(i.x-t.x)*(e.y-t.y)-(i.y-t.y)*(e.x-t.x);return a>0?-1:a<0?1:0},M=function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},y=function(e,t,i,a){let n={p1:e,p2:t,p3:i,p4:a,result:{x:null,y:null}};return 28==(28&function(e){const t=(e.p4.y-e.p3.y)*(e.p2.x-e.p1.x)-(e.p4.x-e.p3.x)*(e.p2.y-e.p1.y),i=(e.p4.x-e.p3.x)*(e.p1.y-e.p3.y)-(e.p4.y-e.p3.y)*(e.p1.x-e.p3.x),a=(e.p2.x-e.p1.x)*(e.p1.y-e.p3.y)-(e.p2.y-e.p1.y)*(e.p1.x-e.p3.x);if(0===t){if(e.result.x=0,e.result.y=0,0===i||0===a){let t={x:e.p1.x,y:e.p1.y,width:e.p2.x-e.p1.x,height:e.p2.y-e.p1.y};JMP.ViewStatic.normalizeRect(t);let i={x:e.p3.x,y:e.p3.y,width:e.p4.x-e.p3.x,height:e.p4.y-e.p3.y};return JMP.ViewStatic.normalizeRect(i),JMP.ViewStatic.rectanglesIntersect(t,i)?35:3}return 1}const n=i/t,l=a/t;e.result.x=e.p1.x+n*(e.p2.x-e.p1.x),e.result.y=e.p1.y+n*(e.p2.y-e.p1.y);const s=0<=n&&n<=1,o=0<=l&&l<=1;return s&&o?28:s?12:o?20:4}(n))?n.result:{x:null,y:null}},C=!1,R=function(e,t,i,a,n,l){if(C)return C=!0,{x:null,y:null};let s=I(i,e,t);if(0!==s&&s===I(a,e,t)&&s===I(n,e,t)&&s===I(l,e,t))return{x:null,y:null};let o=r(i,l);if(r(i,a)+r(a,n)+r(n,l)<1.01*o)return y(e,t,i,l);if(0===o)return 0===I(i,e,t)?i:{x:null,y:null};const c=M(i,a),d=M(a,n),u=M(n,l),h=M(c,d),g=M(d,u),S=M(h,g);let m=R(e,t,i,c,h,S);return null===m.x&&(m=R(e,t,S,g,u,l)),m},v=function(e,t,i){const a=I(e[0],t,i);let n=!0;const l=e.length;for(let s=1;s<l;s++)if(a!==I(e[s],t,i)){n=!1;break}if(n)return!1;return null!==R(t,i,e[0],e[1],e[2],e[3]).x},w=function(e,t,i,a){const n=[e,{x:e.x+i,y:e.y},{x:t.x-i,y:t.y},t],l=a.x,s=l+a.width,o=a.y,r=o+a.height;return v(n,{x:l,y:o},{x:l,y:r})||v(n,{x:s,y:o},{x:s,y:r})||v(n,{x:l,y:o},{x:s,y:o})||v(n,{x:l,y:r},{x:s,y:r})},O=function(e,t,i,a){let{coords:n,isUsingParallelSets:s,numberOfColumns:o,groupRowIndices:r,nCategories:c,drawCategoricalAsContinuous:d}=e,{xScaling:u,yScaling:h,parallelAxisScalings:g,cpOffset:S}=t,f=!1;const T=i.x,p=i.x+i.width;let E=l(u,0),b=null,A=r?r.indexOf(a):a;for(let e=1;e<o;e++){let t=E;E=l(u,e);let a=Math.min(E,t),r=Math.max(E,t);if(p<a||T>r){b=null;continue}if(s&&0!==c[e]&&0!==c[e-1]){b=null;continue}let _,x=m(g,e-1,h,c,d);if(null===b?(_=n[A*o+e-1],null!==_&&(_=l(x,_))):_=b,b=n[A*o+e],null!==b&&(x=0===c[e]&&g.length>0?g[e]:h,b=l(x,b)),null!==t&&null!==E)if(null===_||null===b){if(L(t,_,E,b,i,e===o-1)){f=!0;break}}else if(w({x:t,y:_},{x:E,y:b},S,i)){f=!0;break}}return f};return e.ORPHAN_LINE_LEFT=3,e.ORPHAN_LINE_RIGHT=4,e.getCache=function(e,i){let a,n,s=e.columns.rowStates,o=e.columns.getColumns(t.ROLE_X),r=e.columns.getColumns(t.ROLE_Y),c=e.columns.getColumn(t.ROLE_COLOR),d=e.columns.getColumn(t.ROLE_SIZE),u=e.columns.getLabeledColumns(),h=e.columns.getTipImageColumn(),g=e.scale[t.ROLE_X],S=e.scale[t.ROLE_Y],m=JMP.Scaling(g,e.x+.5>>0,e.width-1),f=JMP.Scaling(S,e.y+e.height-.5>>0,1-e.height),T=[];e.parallelAxisSegment&&(a=e.parallelAxisSegment.isCommonAxis,n=e.parallelAxisSegment.alpha,a||(T=e.parallelAxisSegment.getScalings()));let p=(l(m,1)-l(m,0))*e.smoothness/2,E=e.smoothness<.05,b=e.smoothness<.2;Object.assign(i,{rowStates:s,xColumns:o,yColumns:r,labeledColumns:u,tipImageColumn:h,colorColumn:c,sizeColumn:d,xScaling:m,yScaling:f,isCommonAxis:a,isStraight:E,isMostlyStraight:b,cpOffset:p,axesAlpha:n,parallelAxisScalings:T,paths:[],catValueWidths:[]})},e.draw=function(e,t){if(!t)return;let{g:i,isUsingCurves:o,isUsingParallelSets:r,numberOfColumns:c,groupRowIndices:d,sections:u,alpha:h,coords:g}=e,{rowStates:m}=t;JMP.ViewStatic.reset(i);const T=i.globalAlpha;1!==h&&(i.globalAlpha=h);let p=m.isAnySelected();if(o){e.lineWidth>3&&(i.lineCap="round");let a=m.selected,n=m.hidden,l=g.length/c;if(p){for(let i=0;i<l;i++){let l=d?d[i]:i;n[l]||a[l]||f(e,t,l,!0)}let i=m.nSelectedIndices,s=m.selectedIndices;for(let a=0;a<i;a++){let i=s[a];n[i]||f(e,t,i,!1)}}else for(let i=0;i<l;i++){let a=d?d[i]:i;n[a]||f(e,t,a,!1)}}r&&u&&(function(e,t,i){let{g:l,sectionPathLengths:s,sectionXValues:o,sectionYValues:r,sectionPointTypes:c,sections:d,groupRowIndices:u}=e,{rowStates:h,xScaling:g,yScaling:m}=t,f=[],T=s.length,p=0;for(let e=0;e<T;e++)p+=s[e],f[e]=p;let E=f,b=E.length,A=0,_=i?0:b,x=[],L=h.hidden;if(i){let i=h.selected;for(let s=0;s<b;s++){let f=E[s],T=d[s].rowIndices;T=u?[u[T[0]]]:T;let p=T.length,b=0;for(let e=0;e<p&&!b;e++)b=!L[T[e]];if(b){let E=0;for(let e=0;e<p&&!E;e++)E=i[T[e]];if(E)x[_]=s,_++;else{let i=d[s].fillColor;i=a(i,e.backgroundColor,.65),l.fillStyle=i;let T=n(l,A,f,o,r,c,g,m,JMP.COLOR_BLACK,!1),p=u?u[s]:s;if(h.labeled[p]){const i=0===e.xOffset[s]||0===e.yOffset[s]?JMP.TEXT_FONT_SIZE/2-1:0;S(e,t.labeledColumns,s,e.xLabelPosition[s]+1,e.yLabelPosition[s]+i,JMP.COLOR_BLACK)}t.paths[s]||(t.paths[s]=T)}}A=f}}for(let a=0;a<_;a++){let s=i?x[a]:a,f=d[s].rowIndices;f=u?[u[f[0]]]:f;let T=f.length,p=0;for(let e=0;e<T&&!p;e++)p=!L[f[e]];if(p){A=0===s?0:E[s-1];let i=E[s],a=d[s].fillColor;l.fillStyle=a;let f=n(l,A,i,o,r,c,g,m,JMP.COLOR_BLACK,!1),T=u?u[s]:s;if(h.labeled[T]){const i=0===e.xOffset[s]||0===e.yOffset[s]?JMP.TEXT_FONT_SIZE/2-1:0;S(e,t.labeledColumns,s,e.xLabelPosition[s]+1,e.yLabelPosition[s]+i,JMP.COLOR_BLACK)}t.paths[s]||(t.paths[s]=f)}}}(e,t,p),function(e,t){let{g:i,sectionWidths:a,catLabels:n,totalSetWidth:o,catValueWidths:r,backgroundColor:c}=e,{xScaling:d,yScaling:u,axesAlpha:h,parallelAxisScalings:g}=t;if(0===a.length)return;let S=o/.8;const m=JMP.GRAPH_LABEL_FONT_SIZE,f=JMP.GRAPH_LABEL_FONT_WEIGHT?JMP.GRAPH_LABEL_FONT_WEIGHT+" ":"";i.fillStyle=c===JMP.COLOR_BLACK?JMP.COLOR_WHITE:JMP.COLOR_BLACK,i.font=f+m+"px "+JMP.GRAPH_LABEL_FONT_FAMILY,i.textAlign="center",i.textBaseline="middle",i.globalAlpha=1,i.lineWidth=1;let T=0,p=.38*Math.abs(s(u,m)-s(u,0));const E=a.length;for(let e=0;e<E;e++){let s,o,c=a[e].length,m=c>2?.2/(c-1):.2,f=0;t.catValueWidths[T]?o=t.catValueWidths[T]:(o=g[e].scale.range>0?r[T]:[...r[T]].reverse(),t.catValueWidths[T]=o);let E=l(d,T);E=.5+(E+.5>>0);const b=2.5;for(let e=0;e<c;e++){let t=a[T][e];if(t>0){t/=S;let a=n[T][e];if(a){if(i.moveTo(T,f+t/2),void 0===s||f+t/2-p>s){const e=l(u,f+t/2);i.fillText(a,E,e),s=f+t/2+p}let e=l(u,f);e=.5+(e+.5>>0);let n=l(u,f+t);n=.5+(n+.5>>0);let o=i.globalAlpha;i.globalAlpha=h,i.beginPath(),i.moveTo(E-b,e),i.lineTo(E+b,e),i.moveTo(E-b,n),i.lineTo(E+b,n),i.stroke(),i.globalAlpha=o}}if(e<o.length){let t=o[e];t>0&&(f+=t/S,f+=m)}}T++}}(e,t)),1!==h&&(i.globalAlpha=T)},e.select=function(e,t,i,a){const{sections:n,isUsingCurves:l,groupRowIndices:s}=e;let o=!1,r=[];const c=function(e,t,i){const{paths:a}=t,n=[];if(i.width||i.height)for(let l=0;l<a.length;l++)a[l]&&A(e,t,i,a[l],l)&&n.push(l);else for(let t=0;t<a.length;t++)if(a[t]&&h(e.g,a[t],i.x,i.y)){n.push(t);break}return n}(e,t,i);if(c.forEach((e=>{r=r.concat(n[e].rowIndices)})),s&&(r=r.map((e=>s[e]))),l){let a=function(e,t,i){const{numberOfColumns:a,coords:n,groupRowIndices:l}=e,{isMostlyStraight:s}=t,o=[];if(i.width||i.height){const r=n.length/a,c=s?N:O;for(let a=0;a<r;a++){const n=l?l[a]:a;c(e,t,i,n)&&o.push(n)}}else{const a=b(e,t,i.x,i.y);a&&o.push(a.rowIndex)}return o}(e,t,i);r=[...new Set([...r,...a])]}const{rowStates:d}=t;if(a===JMP.ViewStatic.SELECT_TOGGLE)for(let e=0;e<r.length&&!o;e++)d.selected[r[e]]&&(o=!0);JMP.ViewStatic.selectRows(d,a,r,o)},e.getTooltip=function(e,t,i){let{catLabels:a,numberOfColumns:n,nCategories:l,sections:o,groupRowIndices:r}=e,c=i.x,d=i.y,u=JMP.TooltipModel();if(!t)return null;let{xScaling:g,xColumns:S,labeledColumns:m,tipImageColumn:f,colorColumn:T,sizeColumn:p}=t,E=s(g,c)<<0;if(E<0||E>=n-1)return null;let A=S[E],_=S[E+1];if(!A.isCategorical()&&!_.isCategorical()||t.cleanedCatLabels||(t.cleanedCatLabels=function(e){let t=e.length,i=[];for(let a=0;a<t;a++)i[a]=e[a].filter((e=>""!==e));return i}(a)),0!==l[E]&&0!==l[E+1]){let i=function(e,t,i,a){let{g:n}=e,{paths:l}=t,s={sectionIndex:-1,distance:0},o=l.length,r=!1;for(let e=0;e<o&&!r;e++)if(l[e]&&(r=h(n,l[e],i,a),r))return s.sectionIndex=e,s;return null}(e,t,c,d);if(i){let e=o[i.sectionIndex].rowIndices[0];e=r?r[e]:e;let t=A.data[e];return u.addLine(A.name,A.getValueString(t)),t=_.data[e],u.addLine(_.name,_.getValueString(t)),u.x=c,u.y=d,u}}else{let i=b(e,t,c,d);if(i){let e=i.rowIndex;if(m.length>0)for(let t=0;t<m.length;t++){let i=m[t];u.addLineFromColumn(i,e)}else u.addLineFromValues(JMP.TooltipModelStatic.TIP_ROW,[e+1]);let t=A.isCategorical()?A.data[e]:i.columnValue1;if(u.addLine(A.name,A.getValueString(t)),t=_.isCategorical()?_.data[e]:i.columnValue2,u.addLine(_.name,_.getValueString(t)),T&&u.addLineFromColumn(T,e),p&&u.addLineFromColumn(p,e),f){let t=f.data[e];u.imageSrc=t,u.addLine(f.name,t?"":JMP.ModelStatic.TIP_MISSING)}return u.x=i.x,u.y=i.y,u}}return null},e.getPriority=function(e){let t=null;return t=JMP.Priority(0,JMP.PriorityStatic.TIP_PRIORITY_POINT,e),t},e}(),JMP.PolylineSegment=function(e){"use strict";let i,a=new d(e),n=function(){return i||a.isHorizontal||!a.scale[t.ROLE_Y]||(i={},JMP.PolylineSegmentStatic.getCache(a,i)),i};return a.isUsingParallelSets=!1,a.drawCategoricalAsContinuous=!1,a.isUsingCurves=!1,a.alpha=1,a.numberOfColumns=void 0,a.lineWidth=1,a.lineColor=JMP.COLOR_BLACK,a.lineStyle=JMP.LineSegmentStatic.PATTERN_SOLID,a.smoothness=1,a.totalSetWidth=1,a.coords=void 0,a.colorData=void 0,a.sizeData=void 0,a.nCategories=void 0,a.backgroundColor=void 0,a.sections=void 0,a.sectionPathLengths=void 0,a.sectionXValues=void 0,a.sectionYValues=void 0,a.sectionPointTypes=void 0,a.sectionWidths=void 0,a.catLabels=void 0,a.parallelAxisSegment=void 0,a.groupRowIndices=void 0,a.xOffset=void 0,a.yOffset=void 0,a.draw=function(){JMP.PolylineSegmentStatic.draw(a,n())},a.select=function(e,t){JMP.PolylineSegmentStatic.select(a,n(),e,t)},a.getTooltip=function(e,t){return JMP.PolylineSegmentStatic.getTooltip(a,n(),{x:e,y:t})},a.getPriority=function(e){return JMP.PolylineSegmentStatic.getPriority(a,n(),e)},a.setScalable(JMP.SegmentStatic.SCALABLE_NONE),a},JMP.PolySegmentStatic=function(){"use strict";let e={},i=function(e,t,i,a){let n=e-i,l=t-a;return n*n+l*l},a=function(e,t){return e<JMP.ViewStatic.FUZZ_PIXELS_SQUARED&&(!t||e<t.distance)},n=function(e,t,n,l){let s,o,r=null,c=null,d=t.xScaling,u=t.yScaling,h=t.xScaled,g=t.yScaled,S=h.length;for(s=0;s<S;s++)o=i(n,l,h[s],g[s]),a(o,c)&&(r=JMP.TooltipModel(),c=JMP.Priority(o,JMP.PriorityStatic.TIP_PRIORITY_LINE),JMP.TooltipStatic.addAxisValuesToTooltip(r,g[s],u),JMP.TooltipStatic.addAxisValuesToTooltip(r,h[s],d),e.overlayTerm&&r.addLine(e.overlayTerm.inputVariables[0].name,e.legend.getLabel(0,e.legendOffset,e.legendModelID)),r.x=h[s],r.y=g[s]-4);return r};return e.TYPE_POLYGON=0,e.TYPE_ELLIPSE=1,e.TYPE_REGRESSION_CONFIDENCE_BAND=2,e.TYPE_VIOLIN_PLOT=3,e.getCache=function(e,i){let a,n,l,s=[],o=[],r=e.x,c=e.y,d=e.width,u=e.height;e.XPos&&e.YPos&&(i.xScaling=JMP.Scaling(e.scale[t.ROLE_X],r+.5,d-1),i.yScaling=JMP.Scaling(e.scale[t.ROLE_Y],c+u-.5,1-u),e.columns&&(i.rowStates=e.columns.rowStates),e.rowIndices&&(i.rowIndices=e.rowIndices),JMP.LineSegmentStatic.scaleData(e.XPos,s,i.xScaling,r,d,e.YPos,o,i.yScaling,c,u),a=JMP.MomentsStatic.getRange(s),n=JMP.MomentsStatic.getRange(o),null!==n&&null!==a?(l={x:a.min>>0,y:n.min>>0,width:a.range>>0,height:n.range>>0},l.x=Math.max(e.x,l.x),l.y=Math.max(e.y,l.y)):(s=[],o=[]),i.xScaled=s,i.yScaled=o,i.bounds=l)},e.drawPolygon=function(e,t,i,a,n){let l=0,s=Math.min(t.length,i.length),o=!0,r={},c=new Path2D;for(e.fillStyle=a,e.beginPath();l<s;)r.x=t[l],r.y=i[l],JMP.ViewStatic.isPointValid(r)&&(o?(c.moveTo(r.x,r.y),o=!1):c.lineTo(r.x,r.y)),l++;return c.closePath(),n||e.fill(c),c},e.draw=function(t,i){let a,n,l=t.g,s=t.fillColor||JMP.COLOR_FILL,o=t.alpha,r=t.outlineColor,d=t.outlineWidth,u=t.outlineStyle,h=l.globalAlpha;if(!i||!i.xScaled||!i.yScaled)return;a=i.xScaled,n=i.yScaled,o!==l.globalAlpha&&(l.globalAlpha=o);let g=!1;if(i.rowIndices&&t.type===JMP.PolySegmentStatic.TYPE_VIOLIN_PLOT)for(let e=0;e<i.rowIndices.length&&!g;e++)g=i.rowStates.selected[i.rowIndices[e]];g&&t.fillSelectionMode!==JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED&&(s=c.getSelectedColor(s,!0)),i.path=e.drawPolygon(l,a,n,s),g&&t.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED&&(l.fillStyle=JMP.ViewStatic.getDiagPatternCanvas(s),l.fill(i.path)),d>0&&(l.strokeStyle=r,l.lineWidth=d,l.setLineDash(JMP.LineSegmentStatic.getLineDash(u,d)),l.stroke(i.path)),h!==l.globalAlpha&&(l.globalAlpha=h)},e.getTooltip=function(t,i,a,l){let s,o,r=t.g,c=i.path,d=null,u=t.legend;if(!i||!i.xScaled||!i.yScaled)return null;switch(t.type){case e.TYPE_VIOLIN_PLOT:d=function(e,t,i,a){let n,l,s,o,r=null,c=e.isStatisticForY;if(n=t.xScaling,l=t.yScaling,s=t.bounds[0]?t.bounds[0]:t.bounds,JMP.ViewStatic.pointInRect({x:i,y:a},s,!1)){if(r=JMP.TooltipModel(),JMP.TooltipStatic.addAxisValuesToTooltip(r,a,l,l.scale.getFormat()),JMP.TooltipStatic.addAxisValuesToTooltip(r,i,n,n.scale.getFormat()),e.colorTerm){const t=e.colorTerm.inputVariables[0].name;r.lines.find((e=>e.includes(t)))||(r.hasNoLabel=!0,r.addLine(void 0,t))}else e.overlayTerm&&r.addLine(e.overlayTerm.inputVariables[0].name,e.legend.getLabel(0,e.legendOffset,e.legendModelID));c?(r.x=s.x+.5*s.width,r.y=s.y-4,o=r.x-i,r.priority=s.width):(r.x=s.x,r.y=s.y+.5*s.height-4,o=r.y+4-a,r.priority=s.height),r.distance=o*o}return r}(t,i,a,l),d||(d=n(t,i,a,l));break;case e.TYPE_REGRESSION_CONFIDENCE_BAND:d=n(t,i,a,l)}return d||r.isPointInPath(c,a,l)&&(d=JMP.TooltipModel(),u&&(s=u.title,o=u.getLabel(0,t.legendOffset,t.legendModelID)),s||o?d.addLine(s===o?void 0:s,o):d.addLine(void 0,t.description),d.x=a,d.y=l-4),d},e.getPriority=function(t,n,l){let s=null,o=t.type===JMP.PolySegmentStatic.TYPE_VIOLIN_PLOT;if(!o&&(!n||!n.xScaled||!n.yScaled||l.width||l.height))return null;if(t.type===e.TYPE_REGRESSION_CONFIDENCE_BAND||t.type===e.TYPE_VIOLIN_PLOT){let e,o=n.xScaled,r=n.yScaled,c=o.length;for(let n=0;n<c;n++)e=i(l.x,l.y,o[n],r[n]),a(e,s)&&(s=JMP.Priority(e,JMP.PriorityStatic.TIP_PRIORITY_LINE,t))}if(!s&&JMP.ViewStatic.isPointInPath(t.g,n.path,l.x,l.y)){let e=n.bounds;s=JMP.Priority(0,e.width*e.height,t)}if(!s&&o){let e=JMP.ViewStatic.isPointInPath(t.g,n.path,l.x,l.y),i=(l.width||l.height)&&JMP.ViewStatic.rectanglesIntersect(l,n.bounds);if(e||i){let e=n.bounds;s=JMP.Priority(0,e.width*e.height,t)}}return s},e.select=function(t,i,a,n){if(i.hasOwnProperty("rowIndices")){if(!e.getPriority(t,i,a))return;let l=!1,s=i.rowIndices,o=i.rowStates;a.width||a.height||n===JMP.ViewStatic.SELECT_TOGGLE&&(l=i.rowIndices.some((function(e){return o.selected[e]}))),JMP.ViewStatic.selectRows(o,n,s,l)}},e}(),JMP.PolySegment=function(e){"use strict";let i,a=new d(e),n=function(){return!i&&a.scale[t.ROLE_X]&&a.scale[t.ROLE_Y]&&(i={},JMP.PolySegmentStatic.getCache(a,i)),i};return a.fillColor=JMP.COLOR_FILL,a.alpha=1,a.outlineWidth=0,a.outlineColor=JMP.COLOR_BLACK,a.outlineStyle=JMP.LineSegmentStatic.PATTERN_SOLID,a.XPos=void 0,a.YPos=void 0,a.type=JMP.PolySegmentStatic.TYPE_POLYGON,a.draw=function(){i=void 0,JMP.PolySegmentStatic.draw(a,n())},a.getTooltip=function(e,t){return JMP.PolySegmentStatic.getTooltip(a,n(),e,t)},a.getPriority=function(e){return JMP.PolySegmentStatic.getPriority(a,n(),e)},a.select=function(e,t){JMP.PolySegmentStatic.select(a,n(),e,t)},a},JMP.AreaSegmentStatic=function(){"use strict";let e={};return e.AREA_SEG_TYPE="AreaSegment",e.clearCache=function(e){e.xScaling&&e.xScaling.removeEventListener(),e.yScaling&&e.yScaling.removeEventListener()},e.getCache=function(e,i){let a,n,l,s,o=[],r=[],c=[],d=[],u=e.width,h=e.height,g=e.columns.rowStates,S=e.line.getSummary();if(i.xScaling=JMP.Scaling(e.scale[t.ROLE_X],e.x+.5,u-1),i.yScaling=JMP.Scaling(e.scale[t.ROLE_Y],e.y+h-.5,1-h),i.yColumns=e.columns.getColumns(t.ROLE_X),i.xColumns=e.columns.getColumns(t.ROLE_Y),o=e.XPos,r=e.YPos,i.isRange=!1,S?(a=S?S.summaryIndex:-1,i.allIndices=S.aggregatedRowIndices[a].flat()):i.allIndices=[],e.rangeLine){n=e.rangeLine.getSummary(),i.isRange=!0;for(let e=0;e<n.aggregatedRowIndices.length;e++)for(let t=0;t<n.aggregatedRowIndices[e].length;t++){const a=n.aggregatedRowIndices[n.summaryIndex][e][t];i.allIndices.includes(a)||i.allIndices.push(a)}}JMP.LineSegmentStatic.scaleData(o,c,i.xScaling,e.x,u,r,d,i.yScaling,e.y,h),JMP.MomentsStatic.getRange(c)&&JMP.MomentsStatic.getRange(d)&&(l=JMP.MomentsStatic.getRange(c).range>>0,s=JMP.MomentsStatic.getRange(d).range>>0),i.priority=l*s,i.rowStates=g,i.xData=o,i.yData=r,i.xScaled=c,i.yScaled=d},e.draw=function(e,t){let i,a,n,l,s,o,r,d,u=e.g,h=u.globalAlpha,g=!1;if(t&&t.xScaled&&t.yScaled){for(i=t.xScaled,a=t.yScaled,n=e.fillColor,d=0;d<t.allIndices.length&&!g;d++)g=t.rowStates.selected[t.allIndices[d]];s=e.fillPattern,!s&&e.legend&&void 0!==e.legendOffset&&(s=e.legend.getFillPattern(e.legendOffset)),s?(o=JMP.COLOR_TRANSPARENT,r=JMP.ViewStatic.getFillPatternCanvas(n,s),g&&(e.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED?o=JMP.COLOR_FILL_PATTERN_SELECT:r=JMP.ViewStatic.getFillPatternCanvas(c.getSelectedColor(n,!0),s))):(o=n,g&&(e.fillSelectionMode!==JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED?o=c.getSelectedColor(n,!0):r=JMP.ViewStatic.getDiagPatternCanvas(n))),l=e.alpha,l!==u.globalAlpha&&(u.globalAlpha=l),t.path?(u.fillStyle=o,u.fill(t.path)):t.path=JMP.PolySegmentStatic.drawPolygon(u,i,a,o,!1),r&&(u.fillStyle=r,u.fill(t.path)),h!==u.globalAlpha&&(u.globalAlpha=h)}},e.select=function(t,i,a,n){if(!e.getPriority(t,i,a))return;let l=!1,s=i.rowStates;a.width||a.height||n===JMP.ViewStatic.SELECT_TOGGLE&&(l=i.allIndices.some((function(e){return s.selected[e]}))),JMP.ViewStatic.selectRows(s,n,i.allIndices,l)},e.getTooltip=function(t,i,a,n){if(!e.getPriority(t,i,{x:a,y:n}))return null;let l=JMP.TooltipModel();if(t.legend){const e=t.legend.title,i=t.legend.getLabel(void 0,t.legendOffset,t.legendModelID);if(void 0===i&&0===t.lineWidth)return null;(e||i)&&l.addLine(e,i)}return l.x=a,l.y=n-4,l},e.getPriority=function(e,t,i){let a=null,n=i.width||i.height;return JMP.ModelStatic.isObjectValid(t)&&t.xScaled?((n&&function(e,t,i,a,n){let l=0,s=t.length,o={},r={};for(;l<s;){if(o.x=t[l],o.y=i[l],JMP.ViewStatic.isPointValid(o)&&JMP.ViewStatic.pointInRect(o,e))return!0;if(l<s-1&&(r.x=t[l+1],r.y=i[l+1],(o.x!==r.x||o.y!==r.y)&&JMP.ViewStatic.lineSegmentIntersectsRectangle(o,r,e)))return!0;l++}return!!(JMP.ViewStatic.isPointInPath(a,n,e.x,e.y)||JMP.ViewStatic.isPointInPath(a,n,e.x+e.width,e.y)||JMP.ViewStatic.isPointInPath(a,n,e.x,e.y+e.height)||JMP.ViewStatic.isPointInPath(a,n,e.x+e.width,e.y+e.height))}(i,t.xScaled,t.yScaled,e.g,t.path)||JMP.ViewStatic.isPointInPath(e.g,t.path,i.x,i.y))&&(a=JMP.Priority(0,t.priority,e)),a):null},e}(),JMP.AreaSegment=function(e){"use strict";let i,a=new d(e),n=function(){return!i&&a.columns&&a.scale[t.ROLE_X]&&a.scale[t.ROLE_Y]&&(i={},JMP.AreaSegmentStatic.getCache(a,i)),i};return a.fillColor=JMP.COLOR_FILL,a.alpha=1,a.line=void 0,a.segType=JMP.AreaSegmentStatic.AREA_SEG_TYPE,a.draw=function(){i&&(JMP.AreaSegmentStatic.clearCache(i),i=void 0),JMP.AreaSegmentStatic.draw(a,n())},a.select=function(e,t){JMP.AreaSegmentStatic.select(a,n(),e,t)},a.getTooltip=function(e,t){return JMP.AreaSegmentStatic.getTooltip(a,n(),e,t)},a.getPriority=function(e){return JMP.AreaSegmentStatic.getPriority(a,n(),e)},a},JMP.ProfilerCategoricalResponseAxisBoxStatic=function(){"use strict";let e={},i=function(e,t,i,a,n){let l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L=[],N=[];if(!i)return;l=i[0]?i[0].fontSize:n;const I=i[0]?i[0].fontFamily:JMP.FONT;for(e.font=l+"px "+I,u=i.length,s=void 0,r=0;r<u&&void 0===s;r++)i[r]&&(s=i[r].orientation);for(void 0===s&&(s=JMP.TextBoxStatic.ORIENTATION_HORIZONTAL),o=s!==JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,p=t.x+t.width/2,E=t.y+t.height/2,S=0,N=[],r=0;r<u;r++)x=i[r],_=x.isHidden?"":x.isBulleted?JMP.TextBoxStatic.addBullet(x.text):x.text,N.push(_),S<e.measureText(_).width&&(S=e.measureText(_).width);for(m=o?t.height-4:t.width-8,h=function(e,t,i,a,n){t<i&&i<=t+8&&(t+=8);let l=0,s=a.length;for(let i=0;i<s;i++)n[i]=JMP.TextBoxStatic.wrap(e,t,[a[i]]),l+=n[i].length;return l}(e,m,S,N,L),o?(e.save(),e.translate(p,E),e.rotate(s===JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT?-JMP.HALF_PI:JMP.HALF_PI),f=0,T=-(h-1)*l/2):(f=p,T=E-(h-1)*l/2),g=0,r=0;r<u;r++)for(d=L[r].length,c=0;c<d;c++)_=L[r][c],e.fillStyle=void 0!==i[r].color?i[r].color:JMP.ViewStatic.getTextColor(),b=e.measureText(_).width/2,A=g*l,e.fillText(_,f-b,T+A),g++;o&&e.restore()};return e.getCache=function(i,a){let n;i.scale&&(n=i.scale[t.ROLE_Y],n&&(a.scaling=JMP.Scaling(n,.5+(i.y+i.height-1>>0),1-i.height))),a.maxOuterLevelWidth=0,a.maxInnerLevelWidth=0,e.updateCache(i,a)},e.updateCache=function(e,i){!function(e,i){let a,{g:n,x:l,y:s,width:o,height:r,fontSize:c}=e,d=0,u=[],h=[];const g=e.scale[t.ROLE_Y],S=g.tickLabels,m=g.tickSpans,f=m[0].length;u[0]=.5+(s+r>>0),u[f]=.5+(s>>0);let T=0;n.font=c+"px "+e.fontFamily;for(let e=0;e<f;e++)if(a=r*m[0][e],u[e+1]=.5+(u[e]-a>>0),T=u[e]-a/2,d=n.measureText(S[0][e]).width,h[e]={x:l+o-d-4,y:Math.max(u[f]+1,T-c/2),height:c,width:d},i.maxInnerLevelWidth<d+8&&(i.maxInnerLevelWidth=d+8),d=n.measureText(S[1][e]).width,i.maxOuterLevelWidth<d+8&&(i.maxOuterLevelWidth=d+8),0===e&&h[e].y+h[e].height>u[0]&&(h[e].y=u[0]-h[e].height),(h[e].y<u[f]||h[e].y+h[e].height>u[0])&&(h[e]=null),h[e]&&e>0){let t=e-1,i=h[t];for(;t>=0&&!i;)t--,i=h[t];i&&JMP.ViewStatic.rectanglesIntersect(h[e],i,4)&&(h[e]=null)}i.lines=u,i.ticks=h,i.calculatedWidth=i.maxOuterLevelWidth+i.maxInnerLevelWidth}(e,i)},e.draw=function(e,t){let{g:a,x:n,y:l,width:s,height:o,lineColor:r,fontSize:c,padBetween:d}=e,{ticks:u,lines:h,calculatedWidth:g,maxInnerLevelWidth:S,scaling:m}=t,f=e.contents,T=m.scale.labels||m.scale.tickLabels,p=m.scale.tickSpans[0].length,E=0;n=(n>>0)-.5,l=(l>>0)-.5,JMP.ViewStatic.reset(a),a.font=c+"px "+e.fontFamily,a.textBaseline="middle",r=r||JMP.COLOR_LINE,a.fillStyle=JMP.ViewStatic.getTextColor(),a.strokeStyle=r,a.lineWidth=1;const b=s-g;a.beginPath(),a.rect(.5+(n+b>>0),l,s-b+.5>>0,o);for(let e=1;e<p;e++)h[e]>l&&(a.moveTo(n+b,h[e]),a.lineTo(n+s,h[e]));const A=.5+(n+s-S>>0);a.moveTo(A,l),a.lineTo(A,l+o),a.stroke();for(let e=0;e<p;e++)u[e]&&u[e].y>l&&(a.fillText(T[0][e],u[e].x,u[e].y+c/2),E=a.measureText(T[1][e]).width,a.fillText(T[1][e],A-E-4,u[e].y+c/2));i(a,{x:n,y:l,width:b,height:o},f,0,c)},e.getPreferredWidth=function(e,t){let i=e.contents,a=(void 0!==e.padBetween?e.padBetween:0)+t.calculatedWidth+function(e,t,i,a){let n,l,s=0,o=a,r=i.length,c=[],d=[];for(n=0;n<r;n++)l=i[n],c.push(!l||l.isHidden?"":l.isBulleted?JMP.TextBoxStatic.addBullet(l.text):l.text);for(n=0;n<r;n++)d[n]=JMP.TextBoxStatic.wrap(e,t-8,[c[n]]);for(n=0;n<d.length;n++)s+=d[n].length*o;return s}(e.g,e.height,i,e.fontSize);return a},e}(),JMP.ProfilerCategoricalResponseAxisBox=function(e){"use strict";let t,i=new d(e),a=function(){},n=function(e){return t?e&&JMP.ProfilerCategoricalResponseAxisBoxStatic.updateCache(i,t):(t={},JMP.ProfilerCategoricalResponseAxisBoxStatic.getCache(i,t),t.scaling&&t.scaling.scale.addEventListener(a)),t};return i.lineColor=JMP.COLOR_LINE,i.padBefore=0,i.padAfter=0,i.padBetween=0,i.isCategoricalProfilerAxis=!0,i.fontSize=JMP.SMALL_FONT_SIZE,i.fontFamily=JMP.FONT,i.clear=function(){i.g.clearRect(i.x,i.y-(i.padBefore+2)>>0,i.width,i.height+(i.padBefore+i.padAfter+10)>>0)},i.draw=function(){JMP.ProfilerCategoricalResponseAxisBoxStatic.draw(i,n(!0)),i.sendEvent(JMP.SegmentStatic.EVENT_DRAWING_COMPLETE)},i.getPreferredWidth=function(){return JMP.ProfilerCategoricalResponseAxisBoxStatic.getPreferredWidth(i,n(!0))},i.setScalable(JMP.SegmentStatic.SCALABLE_NONE),i},JMP.ProfileControllerStatic=function(){"use strict";let e={},a=new Image,n=new Image,l=function(e){let t;e&&(e.className=e.className.replace("buttonUp","buttonDown"),t=0===e.id.indexOf("profileUnlocked")?e.parentNode.childNodes[2]:e.parentNode.childNodes[1],t.className=t.className.replace("buttonDown","buttonUp"))},s=function(e){let t,i,a=document.getElementsByClassName("profilerSettingButton buttonDown");for(t=a.length-1;t>=0;t--)a[t].hasAttribute("ownerid")&&(i=+a[t].getAttribute("ownerid"),i===e&&(a[t].className=a[t].className.replace("buttonDown","buttonUp")))},o=function(){let e,t=document.getElementsByClassName("profilerInput profilerInputError");for(e=t.length-1;e>=0;e--)t[e].className="profilerInput"},r=function(e,t){return e.profiles.find((function(e){return e.getXReferenceVariable()===t}))},c=function(e,i){let a,n,l,s=e.xRefVars.length,o=null,c=[];for(a=0;a<s;a++)void 0!==e.xRefVars[a]&&(null===o&&(o=a),n=r(e,e.xRefVars[a]),n&&(l=n.scale[t.ROLE_X].refFormat,null===e.xRefVars[a].value?c[a-o]=null:c[a-o]=e.xRefVars[a].isNumber()?i?JMP.FormatStatic.formatNumber(e.xRefVars[a].value,l):e.xRefVars[a].value.toString():e.xRefVars[a].value));return c},d=function(e,t){let i=!1;for(;e&&JMP.TextBoxStatic.getApproximateWidth(e,JMP.SMALL_FONT_SIZE)>t;)e=e.substr(0,e.length-1),i=!0;return/#+/g.test(e)?e=e.substr(0,e.length-2):i&&(e=e.substr(0,e.length-3)+"..."),e},u=function(i){let a,n,l,s,o,r,c=i.xRefVars.length,d={setting:[],formats:[]};for(a=0;a<c;a++)void 0!==i.xRefVars[a]&&(n="input_"+i.mappingId+"_"+a,l=document.getElementById(n),s=e.getProfileSegmentFromControl(i,n),s&&(r=l.firstChild.value,i.xRefVars[a].isNumber()&&(o=s.scale[t.ROLE_X].refFormat,r=JMP.FormatStatic.formattedStringToNumber(r,o),r=s.validateXReferenceValue(r),void 0===r?d.firstInvalidInput||(d.firstInvalidInput=l.firstChild):l.firstChild.className="profilerInput"),d.setting.push(r),d.formats.push(o)));return d},h=function(e){let t,i,a,n=0,l=0,s=u(e),o=!0;for(;void 0===e.xMixtures[n]&&n<e.xMixtures.length;)n++;if(l=n,i=c(e,!0),s.setting.length===i.length)for(t=s.setting.length,n=0;n<t;n++)if(e.xMixtures[n+l]&&(a="number"==typeof s.setting[n]?JMP.FormatStatic.formatNumber(s.setting[n],s.formats[n]):s.setting[n],a!==i[n])){o=!1;break}document.getElementById("profileMixtureApply_"+e.mappingId).disabled=o},g=function(e,t){let a,n,l,s,c=e.xRefVars.length,d=e.xRefVars,u=null,h=null;for(a=0;a<c;a++)if(void 0!==e.xRefVars[a]&&(null===h&&(h=a),s=t[a-h],e.xRefVars[a].isNumber()&&(s=parseFloat(s)),e.xRefVars[a].value!==s)){if(!u&&(u=e.xRefVars[a],e.isConstrained&&(n=r(e,u),l=n.getConstraint(),!l.isConstrainable(t)))){s<e.xFirsts[a-h]?s=e.xFirsts[a-h]:s>e.xLasts[a-h]&&(s=e.xLasts[a-h]),t[a-h]=s,e.xRefVars[a].value=s;break}e.xRefVars[a].value=s}for(l&&(l.constrainReference(),d=l.getReferenceVariables(),c=d.length),a=0;a<c;a++)d[a]&&d[a].sendEvent(i.EVENT_VALUE_CHANGED);e.requestRedraw(),o()},S=function(e){let t,i=e.lastIndexOf("_");return t=+e.substr(i+1),t};return e.PROFILE_CANVAS_PADDING=10,e.PROFILE_CANVAS_BOTTOM_PADDING=3,e.PROFILE_CANVAS_CONSTRAINT_PADDING=50,e.PROFILE_CANVAS_ARRANGE_IN_ROWS_PADDING=10,e.MENU_RESET="Reset",e.MENU_ADAPT_Y_AXIS="Adapt Y Axis",e.WARNING_CURVE="Not all curves in this Profiler could be created as interactive HTML.  See JMP to explore these curves.",e.WARNING_NUMERIC_VARIABLE="The text entered is not a valid number.",e.TIP_LOCK="Lock constrained mixture variable",e.TIP_UNLOCK="Unlock constrained mixture variable",e.TIP_SETTING="Apply setting to the profiler",e.TIP_EDIT="Edit X value",e.TIP_DROPDOWN="Select X value",e.BUTTON_APPLY="Apply",e.TIP_APPLY_MIXTURE="Apply all changes to X values. Constrained values will be automatically adjusted if they do not sum to ^SUM.",e.ID_MENU_RESET=0,e.ID_MENU_ADAPT_Y_AXIS=1,e.SRC_TOP_SLIDER="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAGCAYAAAARx7TFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozNjVDRTI1NzRCNEVFNDExQTgwNTgzMDUyMEUzQUI2MSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5RkM2QTBERjU0NjkxMUU0QTMzMTg4NjQyRjNCNzlFMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5RkM2QTBERTU0NjkxMUU0QTMzMTg4NjQyRjNCNzlFMSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFDRDk4Qjc1Njk1NEU0MTE4OTRDRUY5RDcyMzRCMDQzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM2NUNFMjU3NEI0RUU0MTFBODA1ODMwNTIwRTNBQjYxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HbaTMQAAALtJREFUeNo8jMsKgmAUhEfNhRiUiav0BcRFvVK9Rt57CXslF15a29oQ0yBBvPb/Lhw4zHDmY5hHEMwHWYYkSdiKInieR9/3+DUNqqrCpyyxqesahmHgqKoQBAEcx6HrOjQEmucZrywDOwzDJQxDJEmCtm0xjuOyEEURnmkK0l8ZSt99/0QWIlXToOs64jjGO88xTdP5ZprxAlG5jrMjViuKgqIo6GtvO86XhhWisi2LITaRY13PW4u/AAMAMVJbCz8XD70AAAAASUVORK5CYII=",e.SRC_BOTTOM_SLIDER="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAGCAYAAAARx7TFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozNjVDRTI1NzRCNEVFNDExQTgwNTgzMDUyMEUzQUI2MSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBRjEyQTczQzU0NjkxMUU0OUU2Q0EwQjYzNTJBNEM0QyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBRjEyQTczQjU0NjkxMUU0OUU2Q0EwQjYzNTJBNEM0QyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFDRDk4Qjc1Njk1NEU0MTE4OTRDRUY5RDcyMzRCMDQzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM2NUNFMjU3NEI0RUU0MTFBODA1ODMwNTIwRTNBQjYxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8pB8LQAAAKRJREFUeNp8jjsOgkAYhGdfbIKFmxAKad2WxCvZeSlN8BKWGAqosOEI22AjD8sli2yBiY3TzD/zTfGTeZ6xqmkaIoRw1lqapukX0PUoimK7QBcEAbz7/DO6ZtnhPY69lBJxHIMzhnEYet97zjZheGSM3XZJAq01KKXgQuDVdXi27eme54ZP03TZL1ApBWMMCCHwf0ZRBOccHnV99iNUZYl/+ggwAPybRCnW5JD/AAAAAElFTkSuQmCC",e.SRC_LOCKED="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxRUQ5OEI3NTY5NTRFNDExODk0Q0VGOUQ3MjM0QjA0MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFRTNFREI2MTU0OUQxMUU0OTZDRTlDMDFDNkZBNjhBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFRTNFREI2MDU0OUQxMUU0OTZDRTlDMDFDNkZBNjhBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCOTIyQjE3RDg2NTRFNDExODk0Q0VGOUQ3MjM0QjA0MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxRUQ5OEI3NTY5NTRFNDExODk0Q0VGOUQ3MjM0QjA0MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmLXpi4AAAFfSURBVHjaYvz//z8DJYAFm+DUmXMUmZmYJvz7/98dxGdiZNz599+/guz0lPvoahnRXdDZO1GKgZHh7OfPXyTevH4NFhMRFWXg5eV5wfCfwbi8OP8ZXhd8//696eu3bxLPnj658ub1qzCQ2OfPn1ZJScvocHNxNQG5KcjqmdANAGr2//njBwMXN3fezm1broMwFxd3HkgMJIeuHsWA1s5eRl5eXhEgYFBWVr4IEweyT4HE+Ph4RYBqOHF64devX59h7P///r/tnzwNGEqMDKBw+vv3L8P/v2ApUMDwYDXg9fPH3C/evANpZmBhZWVgBWIQ+P37N8OfP7+BZjEySIgIcWdlZeEORBVVdUF88f7l/ev3eGNBXEz0PQED8CekU6dOMeBKnSAvCPPz4Ddg5dJFjNg0I/n7P14D+iZNBSrANENFQwes986Nq4S9gA8I8XHjzwu4AHLU4U3KpAKAAAMAycmM7GWyLCsAAAAASUVORK5CYII=",e.SRC_UNLOCKED="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxRUQ5OEI3NTY5NTRFNDExODk0Q0VGOUQ3MjM0QjA0MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRDYzQ0RGMjU0OUQxMUU0QjQyMUFCNzRGNjc4NzYxRCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRDYzQ0RGMTU0OUQxMUU0QjQyMUFCNzRGNjc4NzYxRCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCOTIyQjE3RDg2NTRFNDExODk0Q0VGOUQ3MjM0QjA0MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxRUQ5OEI3NTY5NTRFNDExODk0Q0VGOUQ3MjM0QjA0MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu15SLMAAAFgSURBVHjaYvz//z8DJYCFGEVTZ85RZGZimvDv/393EJ+JkXHn33//CrLTU+4zEnJBZ+9EKQZGhrOfP3+RePP6NVhMRFSUgZeX5wXDfwZjgi74/v1709dv3ySePX1y5c3rV2Egsc+fP62SkpbR4ebiamIiZABQs//PHz8Y2NjY8nZu23IdhIHCeT+AYiA5vC7onzyNkY+PV+QfDw+DgIDARZg4Dy/vKWZmZoZ/f/+KgMMA6M8vbOxs3OgG/Pzxk+E70CYGSDh9BQaiaHNd1XcQJy4p9T8DIyMDS1ZWFojP/fHrDxTNIIP//PnN8Pv3H5A6BgkRIe5f/5nYQcECkn/x/LkgSjRKy8gK4vPOl/ev37Mx/vsA4+/avuUDigHiYqLvCRiAPyGdOnWKAVeaYAT6QZifB78BQAWMBGL0P14DVDS0gQoYceq9c+MqYS/gA0J83HgNYMSlgBBgYqAQAAQYAEzqjn4zp6KHAAAAAElFTkSuQmCC",a.src=e.SRC_TOP_SLIDER,n.src=e.SRC_BOTTOM_SLIDER,e.getCache=function(i,a){void 0===a.resetAdaptYAxis&&(a.resetAdaptYAxis=i.isAdaptYAxis),function(i){let a,n,l,s,o,r,c,u,h,g,S,m,f,T,p,E,b,A,_="profilerSetting_",x=_.length;for(i.canvas.parentNode.style.padding=0,g=document.getElementsByTagName("BUTTON"),a=0;a<g.length;a++)E=g[a],u=E.id,u&&0===u.indexOf(_)&&(JMP.TooltipStatic.addTooltipListener(E,[e.TIP_SETTING]),h=+u.substr(x,u.lastIndexOf("_")-x),h===i.mappingId&&(JMP.EventFacadeStatic.addEventListener(g[a],i.onApplySetting),E.className="profilerSettingButton buttonUp",E.disabled=!1));for(s=i.profiles.length,c=document.getElementById("profileMixtureApply_"+i.mappingId),c&&(c.innerHTML=e.BUTTON_APPLY,b=c.offsetWidth,c.parentNode.style.left=i.profiles[0].x-b-5+"px",T=i.nyVars*i.wrapRows,i.nxVars%i.wrapRows==0&&T--,c.parentNode.style.top=i.profiles[T].y+i.profiles[T].height+16+"px"),a=0;a<s;a+=i.nyVars)o=i.profiles[a],S=o.xAxis,o&&S&&(r=o.getXReferenceVariable(),p=i.xRefVars.indexOf(r),c=document.getElementById("input_"+i.mappingId+"_"+p),c&&c.firstChild&&(m=c.firstChild,o.isCategorical()||(m.style.width=o.getPreferredTextWidth()+"px"),b=m.offsetWidth,A=o.isCategorical()?r.value:JMP.FormatStatic.formatNumber(r.value,o.scale[t.ROLE_X].refFormat),f=JMP.FormatStatic.toFields(e.getVariableFormat(i,a)),E=document.getElementById("profileEdit_"+i.mappingId+"_"+p),f?(c.removeChild(m),E.className=E.className.replace("hidden","revealed"),b=o.getPreferredTextWidth(),E.style.width=b+16+"px",E.innerHTML=d(A,b-10),b=E.offsetWidth,m=E):(c.removeChild(E),m.value=A),b>o.width&&(m.style.width=o.width-1+"px"),n=o.x-1,l=S.y+S.controlPosY,c.parentNode.style.left=n+"px",c.parentNode.style.top=l+"px",c.parentNode.style.width=o.width+"px",c.parentNode.style.textAlign="center"),i.xMixtures[p]&&(E=document.getElementById("profileUnlocked_"+i.mappingId+"_"+p),JMP.TooltipStatic.addTooltipListener(E,[e.TIP_UNLOCK]),JMP.EventFacadeStatic.addEventListener(E,i.onReferenceVariableLockToggle),i.xLocks[p]&&(E.className=E.className.replace("buttonDown","buttonUp")),E.className=E.className.replace("hidden","revealed"),E=document.getElementById("profileLocked_"+i.mappingId+"_"+p),JMP.TooltipStatic.addTooltipListener(E,[e.TIP_LOCK]),JMP.EventFacadeStatic.addEventListener(E,i.onReferenceVariableLockToggle),i.xLocks[p]&&(E.className=E.className.replace("buttonUp","buttonDown")),E.className=E.className.replace("hidden","revealed")))}(i);for(let e=0;e<i.profiles.length;e+=i.nyVars){const t=i.profiles[e];i.xAxes.includes[t.xAxis]||i.xAxes.push(t.xAxis)}},e.getReferenceValue=function(e,t){return e.xRefVars[t]?e.xRefVars[t].value:null},e.getVariableFormat=function(e,i){let a=e.profiles[i]?e.profiles[i].xAxis:null;return a?a.scale[t.ROLE_X]?a.scale[t.ROLE_X].refFormat:a.scale.format:null},e.getProfileSegmentFromControl=function(e,t){let i=S(t);return r(e,e.xRefVars[i])},e.layoutAxes=function(i){let a,n,l,s,o=i.yAxes.length,r=0,c=0,d=0,u=0;for(a=0;a<o;a++)n=i.yAxes[a],n.padBefore=2,n.padAfter=2,n.padBetween=n.isCategoricalProfilerAxis?Math.min(10,n.fontSize):16,n.tryHorizontalAxisLabel=!1,n.tryHorizontalTickLabels=!0,s=n.getPreferredWidth()+(n.isCategoricalProfilerAxis?0:n.fontSize),s>r&&(r=s),n.fontSize>d&&(d=n.fontSize),n.contents.length>0&&(n.scale[t.ROLE_Y].axisLabel=n.contents[0].text);for(i.isConstrained&&(u=(JMP.TextBoxStatic.getApproximateWidth(e.BUTTON_APPLY,JMP.SMALL_FONT_SIZE)+16+.5>>0)+e.PROFILE_CANVAS_PADDING,r<u&&(r=u)),r>>=0,a=0;a<o;a++)n=i.yAxes[a],n.isCategoricalProfilerAxis?r>n.width&&(n.width=r):(n.width=r,s=n.getPreferredWidth()+.5>>0,n.padBetween=r-s>>0);void 0===i.xTermsPerRow&&(i.xTermsPerRow=i.nxVars),i.wrapRows=Math.ceil(i.nxVars/i.xTermsPerRow),o=i.profiles.length;let h=0,g=0;for(a=0;a<o;a+=i.nyVars)n=i.profiles[a].xAxis,n&&(n.padBefore=2,n.padAfter=2,n.padBetween=40,n.tryHorizontalTickLabels=!1,l=n.getPreferredHeight(),h=Math.max(h,n.controlPosY),g=Math.max(g,l-n.controlPosY));for(c=h+g,c=c+3.5>>0,a=0;a<o;a+=i.nyVars)n=i.profiles[a].xAxis,n&&(n.height=c,i.profiles[a].getConstraint()&&(i.isConstrained=!0),l=n.getPreferredHeight()+.5>>0,n.padBetween+=c-l,n.controlPosY=h)},e.draw=function(e){let t,i,l,o,r,u,h,g,S,m,f,T=e.g,p=JMP.ModelStatic.isBetween,E=4.5;for(T.lineWidth=1,T.strokeStyle=JMP.COLOR_LINE,i=e.profiles.length,t=0;t<i;t++)u=e.profiles[t],T.strokeRect(.5+(u.x-u.xAddend/2>>0),.5+(u.y-u.yAddend/2>>0),(u.width+u.xAddend>>0)-1,(u.height+u.yAddend>>0)-1);for(t=0;t<i;t+=e.nyVars)u=e.profiles[t],h=u.getXReferenceLinePosition(),S=u.xAxis,h&&S&&(o=u.y-u.yAddend/2,T.clearRect(u.x-E,o-5,u.width+9,5),T.clearRect(S.x-E,S.y+1,E,2),T.clearRect(S.x+S.width,S.y+1,E,2),p(h,u.x,u.x+u.width)&&(l=.5+(h>>0),T.drawImage(a,l-E,o-1),o=S.y-4>>0,T.drawImage(n,l-E,o)),g=u.getXReferenceVariable(),m=document.getElementById("input_"+e.mappingId+"_"+e.xRefVars.indexOf(g)),m&&m.firstChild&&(f=m.firstChild,r=u.isCategorical()?g.value:JMP.FormatStatic.formatNumber(g.value,g.format),"INPUT"===f.tagName||"SELECT"===f.tagName?f.value=r:f.textContent=d(r,f.clientWidth-10)));!function(e){let t,i,a,n,l,o,r=e.variableSettings.length,d=-1;for(s(e.mappingId),l=c(e,!1),t=0;t<r&&d<0;t++)for(n=e.variableSettings[t],a=n.length,d=t,i=0;i<a&&d>=0;i++)n[i]!==l[i]&&(d=-1);d>=0&&(o=document.getElementById("profilerSetting_"+e.mappingId+"_"+d),o&&(o.className=o.className.replace("buttonUp","buttonDown")))}(e)},e.onPointerEvent=function(e,t){let i,a,n,l=!1,s=!1,r=e.profiles.length,c={x:t.clientX,y:t.clientY};if(e.isResizing)return!1;if(JMP.SegmentStatic.convertToSegmentCoordinates(e,c),n=e.getOffset(),n.x<=window.pageXOffset+15&&n.y<=window.pageYOffset+15&&e.canvas.width>=window.innerWidth-30&&e.canvas.height>=window.innerHeight-30&&(s=!0),JMP.EventFacadeStatic.setPreventDefault(e.canvas,e.onPointerEvent,!s),a=function(e,t,i){let a,n,l,s=!1,o=i.profiles.length,r=-1;for(n=0;n<o&&!s;n++)a={x:e,y:t},l=i.profiles[n],JMP.SegmentStatic.convertToSegmentCoordinates(l,a),s=-l.xAddend/2<=a.x&&a.x<=l.width+l.xAddend&&-l.yAddend/2<=a.y&&a.y<=l.height+l.yAddend/2,s&&(r=n);return r}(t.clientX,t.clientY,e),l=a>=0,l){let i={x:t.clientX,y:t.clientY};const n=e.profiles[a].frameBox;JMP.SegmentStatic.convertToSegmentCoordinates(n,i);const l=JMP.ViewStatic.isServerAvailable&&(JMP.FrameBoxStatic.isInEWRegion(n,i)||JMP.FrameBoxStatic.isInEWRegion(n,i));switch(t.type){case"pointerdown":e.isXMoving=!l,e.isResizing=l,o();break;case"pointerup":case"pointerout":e.isXMoving=!1,e.isResizing=!1,JMP.TooltipStatic.updateTooltip()}}else for(e.isXMoving=!1,e.isResizing=!1,i=0;i<r;i++)e.profiles[i].isXMoving=!1;return!1},e.onReferenceVariableEdit=function(t,i){let a,n,l,s,o,r=i.pointerTarget,c=document.activeElement,d=!1,u=!1,g=!1;if(r||(r=i.target),r){switch("OPTION"===r.nodeName&&(r=r.parentNode),o=e.getProfileSegmentFromControl(t,r.parentNode.id),o&&(s=o.isCategorical(),l=o.getXReferenceVariable(),n=l.format),i.type){case"keydown":t.isConstrained||13!==i.keyCode||(u=!0,g=!0);break;case"pointermove":case"pointerover":JMP.TooltipStatic.updateTooltip(i,JMP.TooltipModel(["SELECT"===r.nodeName?e.TIP_DROPDOWN:e.TIP_EDIT]));break;case"pointerout":JMP.TooltipStatic.updateTooltip();break;case"input":t.isConstrained&&h(t);break;case"pointerup":t.isConstrained&&i.preventDefault();break;case"focus":s||(a=""===r.value?".":r.value,a=JMP.FormatStatic.formattedStringToNumber(a,n),null!=a&&(r.value=a.toString(),"."!==n.decimalSeparator&&(r.value=r.value.replace(".",n.decimalSeparator))));break;case"change":case"blur":case"click":t.isConstrained&&t.xMixtures[S(r.parentNode.id)]?h(t):g=!0}g&&(s&&l.isString()?a=r.value:(a=""===r.value?".":r.value,a=JMP.FormatStatic.formattedStringToNumber(a,n)),d=o.setXReferenceValue(a,!0),d?(u&&c.blur(),"INPUT"===r.tagName&&(r.className="profilerInput"),s||(r.value=JMP.FormatStatic.formatNumber(a,n))):(r.className="profilerInput profilerInputError",JMP.DialogStatic.showMessage(r,e.WARNING_NUMERIC_VARIABLE),i.preventDefault()))}},e.onReferenceVariableLockToggle=function(t,i){let a,n=!1,s=i.pointerTarget;s||(s=i.target),s&&JMP.ControlStatic.isButtonActionEvent(i)&&("IMG"===s.nodeName&&(s=s.parentNode),"profileLocked"===s.id.substr(0,13)&&(n=!0),a=e.getProfileSegmentFromControl(t,s.id),a&&(a.setLocked(n),l(s)))},e.onApplyMixtureVariables=function(t,i){let a,n=i.pointerTarget;n||(n=i.target),n.disabled||("pointerdown"===i.type?n.className=n.className.replace("buttonUp","buttonDown"):"pointerout"===i.type?n.className=n.className.replace("buttonDown","buttonUp"):JMP.ControlStatic.isButtonActionEvent(i)&&(a=u(t),a.firstInvalidInput?(a.firstInvalidInput.className="profilerInput profilerInputError",JMP.DialogStatic.showMessage(a.firstInvalidInput,e.WARNING_NUMERIC_VARIABLE)):(g(t,a.setting),n.disabled=!0),n.className=n.className.replace("buttonDown","buttonUp"),JMP.TooltipStatic.updateTooltip()))},e.onApplySetting=function(e,t){let i,a,n,l=t.pointerTarget;if(l||(l=t.target),l&&JMP.ControlStatic.isButtonActionEvent(t)){if(a=+l.getAttribute("ownerid"),a!==e.mappingId)return;i=S(l.id),n=e.variableSettings[i],g(e,n),s(a),l.className=l.className.replace("buttonUp","buttonDown")}},e.menuProvider=function(t){let i,a,n,l;if(!t)return null;if(l=[{id:e.ID_MENU_RESET,label:e.MENU_RESET,type:JMP.MenuStatic.MENU_ITEM},{id:e.ID_MENU_ADAPT_Y_AXIS,label:e.MENU_ADAPT_Y_AXIS,type:JMP.MenuStatic.MENU_CHECK,isChecked:t.isAdaptYAxis}],n=document.getElementsByClassName("profilerInput profilerInputError").length>0,n)l[0].isDisabled=!1;else for(l[0].isDisabled=!0,a=t.profiles.length,i=0;i<a;i++)if(!t.profiles[i].isReset()){l[0].isDisabled=!1;break}return l},e.menuHandler=function(t,a,n){let s,r,c,d=t.profiles.length;switch(n){case e.ID_MENU_RESET:for(t.isAdaptYAxis=a.resetAdaptYAxis,s=0;s<d;s++)r=t.profiles[s],r.reset(),c=r.getConstraint(),c&&l(document.getElementById((r.getLocked()?"profileLocked":"profileUnlocked")+"_"+t.mappingId+"_"+c.fixed));for(d=t.xRefVars.length,s=0;s<d;s++)t.xRefVars[s]&&t.xRefVars[s].sendEvent(i.EVENT_VALUE_CHANGED);o(),t.isConstrained&&(document.getElementById("profileMixtureApply_"+t.mappingId).disabled=!0),t.requestRedraw();break;case e.ID_MENU_ADAPT_Y_AXIS:if(t.isAdaptYAxis=!t.isAdaptYAxis,JMP.ViewStatic.isServerAvailable)JMP.ReportStatic.updateProfilers();else for(s=0;s<d;s++)t.profiles[s].setAdaptYAxis(t.isAdaptYAxis)}},e.getState=function(e){const t={isAdaptYAxis:e.isAdaptYAxis,mappingId:""+e.mappingId,numXTerms:e.nxVars,terms:[]},i=e.profiles.length;for(let a=0;a<i;a++){const i=e.profiles[a],n=i.getXReferenceVariable();t.terms.some((e=>e.name===n.name))||t.terms.push(i.getState())}return t},e}(),JMP.ProfileController=function(e){"use strict";let t,i=new d(e),a=function(){return t||(t={},JMP.ProfileControllerStatic.getCache(i,t)),t};return i.xRefVars=[],i.yRefVars=[],i.nyVars=0,i.nxVars=0,i.xMixtures=[],i.xLocks=[],i.xFirsts=[],i.xLasts=[],i.profiles=[],i.xAxes=[],i.yAxes=[],i.isConstrained=!1,i.isXMoving=!1,i.isResizing=!1,i.variableSettings=[],i.isAdaptYAxis=!1,i.xTermsPerRow=void 0,i.wrapRows=1,i.draw=function(){JMP.ProfileControllerStatic.draw(i,a())},i.onReferenceVariableEdit=function(e){JMP.ProfileControllerStatic.onReferenceVariableEdit(i,e)},i.onReferenceVariableLockToggle=function(e){JMP.ProfileControllerStatic.onReferenceVariableLockToggle(i,e)},i.onApplyMixtureVariables=function(e){JMP.ProfileControllerStatic.onApplyMixtureVariables(i,e)},i.onApplySetting=function(e){JMP.ProfileControllerStatic.onApplySetting(i,e)},i.onSegmentEvent=function(e){if(e.type===JMP.SegmentStatic.EVENT_DRAWING_COMPLETE)i.draw()},i.onPointerEvent=function(e){return a(),JMP.ProfileControllerStatic.onPointerEvent(i,e)},i.requestRedraw=function(){for(let e=0;e<i.profiles.length;e++){i.profiles[e].requestRecalc()}for(let e=0;e<i.xAxes.length;e++)i.xAxes[e]?.clear(),i.xAxes[e]?.draw();for(let e=0;e<i.yAxes.length;e++)i.yAxes[e]?.clear(),i.yAxes[e]?.draw();for(let e=0;e<i.profiles.length;e++){i.profiles[e].requestRedraw()}},i.addSetting=function(e){i.variableSettings.push(e)},i.setAdaptYAxis=function(e){i.isAdaptYAxis=e},i.menuProvider=function(){return JMP.ProfileControllerStatic.menuProvider(i)},i.menuHandler=function(e){JMP.ProfileControllerStatic.menuHandler(i,a(),e)},i.getState=function(){return JMP.ProfileControllerStatic.getState(i)},i.setScalable(JMP.SegmentStatic.SCALABLE_NONE),i};class E extends d{static TIP_CATEGORICAL_RESPONSE="Prob(^COLNAME=^VALUE)";static CI_COLOR="40,103,253";static PI_COLOR="4,199,145";xColumn=void 0;lineWidthScale=1;alpha=1;xAxis=void 0;yAxis=void 0;isXMoving=!1;isResizing=!1;isCategoricalResponse=!1;yCiUpper=void 0;yCiLower=void 0;yCIWidth=void 0;yPiUpper=void 0;yPiLower=void 0;profilerController=void 0;initialState={xRefValue:void 0,locked:!1,isAdaptYAxis:void 0,xOrigin:void 0,xRange:void 0,yOrigin:void 0,yRange:void 0};isLocked=!1;xMin=void 0;xMax=void 0;numResponses=0;#x;#ye;#Ce=-1;#Re=[];#ve;#we=[];#Oe=[];#Pe=[];#De=[];#Fe=[];#Be=[];#Ve;#ke;#Ge=!1;#He=this.#Ye.bind(this);#Ue=this.#ze.bind(this);onPointerEvent=this.#We.bind(this);constructor(e){super(e),JMP.EventFacadeStatic.addEventListener(e,this.onPointerEvent),this.setScalable(JMP.SegmentStatic.SCALABLE_NONE)}addColumn(e,i){this.columns.addColumn(e,i),i===t.ROLE_X&&(e.setData?this.xColumn=e:this.xColumn=new a([e.value],e.name,e.type))}addYFunction(e){this.#Re[this.numResponses]=e,e.addEventListener(this.#He),this.numResponses++}reset(){let e,t,i,a;this.#x&&(i=this.#x.xScaling.scale,a=this.#x.yScaling.scale,this.#ke=this.initialState.isAdaptYAxis,e=r.convertToValue(i.type,this.initialState.xOrigin,i.base,i.power),t=r.convertToValue(i.type,this.initialState.xOrigin+this.initialState.xRange,i.base,i.power),i.updateRange(e,t-e),this.#x.yMinValid=r.convertToValue(a.type,this.initialState.yOrigin,a.base,a.power),this.#x.yMaxValid=r.convertToValue(a.type,this.initialState.yOrigin+this.initialState.yRange,a.base,a.power),a.updateRange(this.#x.yMinValid,this.#x.yMaxValid-this.#x.yMinValid),this.#x.xCategories||e===this.#x.xMinValid&&this.#x.xMaxValid===t-e||(i.updateRange(e,t-e),this.#x.xMinValid=this.xMin,this.#x.xMaxValid=this.xMax,this.#x.xMin=this.xMin,this.#x.xMax=this.xMax,this.xColumn.data=[]),this.#Ve?(this.#ye.value=this.initialState.xRefValue,this.getLocked()!==this.initialState.locked&&this.#Ve.setLockAt(this.#Ve.fixed,this.initialState.locked)):(this.#ye.setValue(this.initialState.xRefValue),this.isLocked=this.initialState.locked),this.#x.calculateValues=!0)}isReset(){return this.initialState.xRefValue===this.#ye.value&&this.initialState.isAdaptYAxis===this.#ke&&this.initialState.locked===this.getLocked()}isConfidenceIntervalAvailable(){return this.yCiUpper&&this.yCiLower||this.yCIWidth}isPredictionIntervalAvailable(){return this.yPiUpper&&this.yPiLower}getLocked(){return this.#Ve?this.#Ve.getLockAt(this.#Ve.fixed):this.isLocked}setLocked(e){if(this.getLocked()!==e)if(this.#x.calculateValues=!0,this.#Ve){this.#Ve.setLockAt(this.#Ve.fixed,e),this.#Ve.constrainReference();let t=this.#Ve.getReferenceVariables();for(let e=0;e<t.length;e++)t[e]&&t[e].sendEvent(i.EVENT_VALUE_CHANGED)}else this.isLocked=e}draw(){if(!this.#N(!0))return;if(this.#x.xMinValid===this.#x.xMaxValid&&this.#x.xMinValid===this.#x.xData[0]){const e=this.lineWidthScale<=2?1.8:this.lineWidthScale<=8?1.6:1.4,t=this.lineWidthScale*e;for(let e=0;e<this.numResponses;e++)JMP.MarkerSegmentStatic.drawMarker(this.g,this.#x.xScaled[0],this.#x.yScaled[e][0],t,JMP.Marker.DOT,JMP.COLOR_BLACK);return void(this.#Ge&&this.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED))}let e,t=this.#x.xCategories?this.#x.xScaled:this.#x.xScaled.slice(1);this.isPredictionIntervalAvailable()&&this.#Xe(t,this.#x.yPiUpperScaled,this.#x.yPiLowerScaled,E.PI_COLOR),this.isConfidenceIntervalAvailable()&&this.#Xe(t,this.#x.yCiUpperScaled,this.#x.yCiLowerScaled,E.CI_COLOR);for(let i=0;i<this.numResponses;i++)e=this.#x.xCategories?this.#x.yScaled[i]:this.#x.yScaled[i].slice(1),JMP.LineSegmentStatic.drawLine(this.g,t,e,this.lineWidthScale,JMP.COLOR_BLACK,JMP.LineSegmentStatic.PATTERN_SOLID,this.alpha,JMP.LineSegmentStatic.TYPE_LINE,JMP.LineSegmentStatic.CONNECT_NONE,void 0,void 0,void 0,void 0,void 0,void 0,[]);this.#Ge&&this.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED)}requestRecalc(){this.#Ge=this.#Ze()}requestRedraw(){this.#Ge&&this.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED)}getTooltip(e,t){let i,a,n,l,s,o,r,c,d,u,h,g,S=null;if(!this.#N())return null;if(l=this.#x.xScaled,s=this.#x.yScaled,o=this.#x.xScaling,r=this.#x.yScaling,u=this.#x.xCategories,c=o.scale.axisLabel||null,d=r.scale.axisLabel||null,h=this.#x.xFormat,g=this.#x.yFormat,this.isCategoricalResponse){S=JMP.TooltipModel(),a=JMP.ScalingStatic.pixelToValue(r,t);for(let e=r.scale.refValues.length-1;e>=0&&void 0===n;e--)r.scale.refValues[e]<a&&(n=e);n=void 0===n?0:n+1;const e=r.scale.tickLabels[1][n],i=E.TIP_CATEGORICAL_RESPONSE.replace("^COLNAME",d).replace("^VALUE",e);S.addLine(i,r.scale.tickLabels[0][n])}else i=JMP.ViewStatic.findShortestDistanceToLine(e,t,u?l:l.slice(1),u?s[0]:s[0].slice(1),!0),i.shortestSquaredLength<JMP.ViewStatic.FUZZ_PIXELS_SQUARED&&(S=JMP.TooltipModel(),u?(a=JMP.ScalingStatic.pixelToValue(o,e),n=a+.5>>0,S.addLine(d,JMP.ScalingStatic.pixelToValue(r,s[0][n]),g),S.addLine(c,this.xColumn.getValueString(u[n])),S.x=l[n],S.y=s[n]-4):(a=JMP.ScalingStatic.pixelToValue(r,i.nearestPoint.y),S.addLine(d,a,g),a=JMP.ScalingStatic.pixelToValue(o,i.nearestPoint.x),S.addLine(c,a,h),S.x=i.nearestPoint.x,S.y=i.nearestPoint.y-4));return S}getPriority(e){let t,i,a,n,l=null;return!this.#x||e.width||e.height?null:(i=this.#x.xScaled,a=this.#x.yScaled,n=this.#x.xCategories,this.isCategoricalResponse?l=JMP.Priority(0,JMP.PriorityStatic.TIP_PRIORITY_LINE,this):(t=JMP.ViewStatic.findShortestDistanceToLine(e.x,e.y,n?i:i.slice(1),n?a[0]:a[0].slice(1),!0),t.shortestSquaredLength<JMP.ViewStatic.FUZZ_PIXELS_SQUARED&&(l=JMP.Priority(t.shortestSquaredLength,JMP.PriorityStatic.TIP_PRIORITY_LINE,this))),l)}setYReferenceVariable=function(e){void 0===this.#ve?this.#we=E.initializeReferenceLines(this.scale[t.ROLE_Y],this.numResponses,e,!1):this.#ve.removeEventListener(this.#He),this.#ve=e,this.#ve.addEventListener(this.#He)};setXReferenceVariable(e,i,a){void 0===this.#ye?(this.#Ce=E.initializeReferenceLines(this.scale[t.ROLE_X],1,e,!0,a)[0],this.initialState.xRefValue=e.value,this.initialState.locked=void 0!==i&&i,this.isLocked=i):this.#ye.removeEventListener(this.#He),this.#ye=e,this.#ye.addEventListener(this.#He)}getXReferenceVariable(){return this.#ye}getYResponseColumn(){return this.#ve}validateXReferenceValue(e){return E.validateXReferenceValue(this.#x,e,!this.isXMoving,this.#Ve)}setXReferenceValue(e,t){return!!this.#N()&&(this.#ke&&(this.#x.calculateYRange=!0),E.setXReferenceValue(this.#x,e,this.#ye,t,this.#Ve,this.profilerController))}getXReferenceLinePosition(){let e=null,t=this.#ye?this.#ye.value:null;return this.#x&&(this.#x.xCategories&&(t=this.#x.xCategories.indexOf(t)),this.#x.xScaling&&null!==t&&(e=JMP.ScalingStatic.valueToPixel(this.#x.xScaling,t))),e}isCategorical(){return this.xColumn&&this.xColumn.isCategorical()}getConstraint(){return this.#Ve}setConstraint(e){this.#Ve&&this.#Ve.removeEventListener(this.#He),this.#Ve=e,this.#Ve&&this.#Ve.addEventListener(this.#He)}setAdaptYAxis(e){this.#ke=e,void 0===this.initialState.isAdaptYAxis&&(this.initialState.isAdaptYAxis=e),e&&this.#x&&this.#qe(this.#Oe,this.#x.yScale,this.#x.yMinValid,this.#x.yMaxValid)}getPreferredTextWidth(){let e,i,a=this.width-18,n=this.scale[t.ROLE_X].refFormat,l=this.xMin,s=this.xMax;i=this.#ye.value;const o=JMP.TextBoxStatic.getApproximateWidth(i,12)+12;i=JMP.FormatStatic.formatNumber(l,n);const r=JMP.TextBoxStatic.getApproximateWidth(i,12)+12;i=JMP.FormatStatic.formatNumber(s,n);const c=JMP.TextBoxStatic.getApproximateWidth(i,12)+12;return e=Math.min(a,Math.max(r,c,o))+.5>>0,e}getState(){return{name:this.#ye.name,value:this.#x.xCategories?this.#x.xCategories.indexOf(this.#ye.value):this.#ye.value,isLocked:this.getLocked()}}moveLine(e,t,i,a,n){let l=e.xScaling,s=e.xCategories,o=JMP.ScalingStatic.pixelToValue(l,t);o=s?JMP.ModelStatic.getValueFromArray(o,s):+o.toPrecision(4),E.setXReferenceValue(e,o,i,!1,a,n)}#je(e,t){const i=this.#x.xScale;this.xColumn.setValueAt(this.#ye.value,e),null!==this.#ye.value&&this.#ye.value<this.#x.xMin?this.#x.xMin=this.#ye.value:null!==this.#ye.value&&this.#ye.value>this.#x.xMax&&(this.#x.xMax=this.#ye.value);const a=r.convertFromValue(i.type,this.#x.xMin,i.base,i.power),n=r.convertFromValue(i.type,this.#x.xMax,i.base,i.power),l=(n-a)/(t-1);let s=a;for(let e=1;e<=t;e++){let a=r.convertToValue(i.type,s,i.base,i.power);this.xColumn.data[e]=a,e===t+1&&(this.xColumn.data[e]=Math.min(a,n)),s+=l}}#Ke(){let e,t,i,a,n=1,l=this.xColumn,s=this.getConstraint(),o=l.data.length-1;if(l.isContinuous()&&(o=41,s)){for(i=s.inputVariables,a=i.length,e=0;e<a;e++)t=i[e],t&&t.data&&n<t.data.length&&(n=t.data.length);for(n<o+1&&(n=o+1),e=0;e<a;e++)t=i[e],t&&t.data&&(t.data.length=n)}return o}#Qe(){const{xData:e,xScaling:t,yScaling:i}=this.#x;if(this.yCiUpper&&this.yCiLower){const a=this.yCiUpper.getResult(),n=this.yCiLower.getResult();for(let l=0;l<e.length;l++)this.#Pe[l]=Array.isArray(a)?a[l]:a,this.#De[l]=Array.isArray(n)?n[l]:n,this.#x.yCiUpperScaled[l]=JMP.ScalingStatic.valuesToPixel(t,i,e[l],this.#Pe[l],!0).y,this.#x.yCiLowerScaled[l]=JMP.ScalingStatic.valuesToPixel(t,i,e[l],this.#De[l],!0).y}else if(this.yCIWidth){let a,n,l;const s=this.yCIWidth.getResult();this.unlinkFunc?(this.unlinkFunc.inputVariables[0].data=this.#Oe[0],this.unlinkFunc.needCalculation=!0,l=this.unlinkFunc.getResult()):l=this.#Oe[0];for(let t=0;t<e.length;t++)Array.isArray(s)?(a=l[t]+s[t],n=l[t]-s[t]):(a=l[t]+s,n=l[t]-s),this.#Pe[t]=a,this.#De[t]=n;this.linkFunc&&(this.linkFunc.inputVariables[0].data=this.#Pe,this.linkFunc.needCalculation=!0,this.#Pe=this.linkFunc.getResult(),this.linkFunc.inputVariables[0].data=this.#De,this.linkFunc.needCalculation=!0,this.#De=this.linkFunc.getResult());for(let a=0;a<e.length;a++)this.#x.yCiUpperScaled[a]=JMP.ScalingStatic.valuesToPixel(t,i,e[a],this.#Pe[a],!0).y,this.#x.yCiLowerScaled[a]=JMP.ScalingStatic.valuesToPixel(t,i,e[a],this.#De[a],!0).y}}#Je(){const{xData:e,xScaling:t,yScaling:i}=this.#x;if(this.isPredictionIntervalAvailable()){const a=this.yPiUpper.getResult(),n=this.yPiLower.getResult();for(let l=0;l<e.length;l++)this.#Fe[l]=Array.isArray(a)?a[l]:a,this.#Be[l]=Array.isArray(n)?n[l]:n,this.#x.yPiUpperScaled[l]=JMP.ScalingStatic.valuesToPixel(t,i,e[l],this.#Fe[l],!0).y,this.#x.yPiLowerScaled[l]=JMP.ScalingStatic.valuesToPixel(t,i,e[l],this.#Be[l],!0).y}}#Ze(){let e,t,i,a,n,l,s,o,r,c,d,u,h,g,S,m,f,T=!1,p=this.isCategoricalResponse;if(!this.#x)return!1;s=this.#x.xScale,o=this.#x.yScale,r=this.#x.xScaling,c=this.#x.yScaling,d=this.#x.xMinValid,u=this.#x.xMaxValid,h=this.#x.yMinValid,g=this.#x.yMaxValid,S=this.#x.calculateYRange,m=this.#x.calculateValues,f=this.#x.xData;const E=this.#Ke(this);if(m){if(t=this.#x.xCategories?this.#x.xCategories.indexOf(this.#ye.value):0,t<0&&this.#ye.isString()&&null===this.#ye.value&&(t=this.#x.xCategories?this.#x.xCategories.indexOf(""):0),this.#x.xCategories||this.#je(t,E),this.#Ve){for(this.#Ve.constrain(),e=0;e<this.numResponses;e++)this.#Re[e].needCalculation=!0;this.yCiUpper&&(this.yCiUpper.needCalculation=!0),this.yCiLower&&(this.yCiLower.needCalculation=!0),this.yCIWidth&&(this.yCIWidth.needCalculation=!0),this.yPiUpper&&(this.yPiUpper.needCalculation=!0),this.yPiLower&&(this.yPiLower.needCalculation=!0)}let m=[],b=0,A=[];for(p&&(A=o.tickLabels.concat(),m[0]=[],m[1]=[]),e=0;e<this.numResponses;e++){this.#Oe[e]=[],l=this.#Re[e].getResult();let i=0;if("number"==typeof l||null===l)if(i=l,this.#Oe[e].length=E+(this.#x.xCategories?1:2),0===e)this.#Oe[e].fill(l);else for(let t=0;t<this.#Oe[e].length;t++)this.#Oe[e][t]=this.#Oe[e-1][t]+l;else if(i=l[t],0===e)this.#Oe[e]=l;else for(let t=0;t<l.length;t++)this.#Oe[e][t]=this.#Oe[e-1][t]+l[t];b+=i,p&&(m[0][e]=i,A[0][e]=JMP.FormatStatic.formatNumber(i,this.#x.yFormat),m[1][e]=i)}if(p){let e=Math.abs(1-b);e>=1&&(e=1-m[0][this.numResponses-1]),m[0][this.numResponses]=e,m[1][this.numResponses]=e,A[0][this.numResponses]=JMP.FormatStatic.formatNumber(e,this.#x.yFormat)}for(this.#ke&&S&&!p&&(this.#qe(this.#Oe[0],o,h,g),S=!1),this.#x.xCategories||(this.#Ve&&this.#je(0,E),f=this.xColumn.data.slice(0),this.#x.xData=f),this.#Qe(),this.#Je(),a=f.length,d=1/0,u=-1/0,e=0;e<this.numResponses;e++){this.#x.yScaled[e]=[];for(let t=0;t<a;t++)null!==this.#Oe[e][t]&&Number.isFinite(this.#Oe[e][t])?(i=JMP.ScalingStatic.valuesToPixel(r,c,f[t],this.#Oe[e][t],!0),0===e&&(this.#x.xScaled[t]=JMP.ScalingStatic.ensureValid(i.x,s.origin,s.range)),this.#x.yScaled[e][t]=JMP.ScalingStatic.ensureValid(i.y,o.origin,o.range)):(0===e&&(this.#x.xScaled[t]=null),this.#x.yScaled[e][t]=null),0===e&&(null!==this.#x.xScaled[t]&&f[t]<d&&(d=f[t]),null!==this.#x.xScaled[t]&&f[t]>u&&(u=f[t])),!p&&this.#ke&&null!==this.#x.yScaled[e][t]&&(this.#Oe[e][t]<h&&(h=this.#Oe[e][t]),this.#Oe[e][t]>g&&(g=this.#Oe[e][t]))}this.#ve.data=[];let _=this.#Oe[0].length,x=[],L=[];for(e=0;e<this.numResponses;e++){this.#ve.data=this.#ve.data.concat(this.#Oe[e]);let i=_*e+t;x.push(this.#ve.data[i])}if(p)o.updateTicks(A,m);else{const e=this.yAxis?.contents[1];e&&(null!==this.#ve.data[t]?e.text=JMP.FormatStatic.formatNumber(this.#ve.data[t],this.#x.yFormat):e.text=JMP.ModelStatic.TIP_MISSING);const i=this.isConfidenceIntervalAvailable();if(i){const e=this.yAxis.contents[3],i=this.yAxis.contents[2];e&&this.#Pe[t]&&(e.text=`${JMP.FormatStatic.formatNumber(this.#Pe[t],this.#x.yFormat)}]`),i&&this.#De[t]&&(i.text=`[${JMP.FormatStatic.formatNumber(this.#De[t],this.#x.yFormat)},`)}if(this.isPredictionIntervalAvailable()){const e=i?4:2,a=this.yAxis.contents[e+1],n=this.yAxis.contents[e];a&&this.#Fe[t]&&(a.text=`${JMP.FormatStatic.formatNumber(this.#Fe[t],this.#x.yFormat)}]`),n&&this.#Be[t]&&(n.text=`[${JMP.FormatStatic.formatNumber(this.#Be[t],this.#x.yFormat)},`)}}o.updateReferenceLines(this.#we,x,L),n=this.getLocked()?JMP.LineSegmentStatic.PATTERN_SOLID:JMP.LineSegmentStatic.PATTERN_DOT,this.#x.xCategories?s.updateReferenceLines([this.#Ce],[t],[],n):s.updateReferenceLines([this.#Ce],[this.#ye.value],[],n),T=!0}return this.#x.calculateValues=!1,this.#x.calculateYRange=!1,Number.isFinite(d)&&(this.#x.xMinValid=d),Number.isFinite(u)&&(this.#x.xMaxValid=u),this.#x.yMinValid=h,this.#x.yMaxValid=g,T}#Xe(e,t,i,a){if(this.#x.xCategories){const n=2.5;this.g.save(),this.g.strokeStyle=`rgba(${a},1)`,this.g.beginPath();for(let a=0;a<e.length;a++)this.g.moveTo(e[a]-n,t[a]),this.g.lineTo(e[a]+n,t[a]),this.g.moveTo(e[a]-n,i[a]),this.g.lineTo(e[a]+n,i[a]),this.g.moveTo(e[a],t[a]),this.g.lineTo(e[a],i[a]);this.g.stroke(),this.g.restore()}else{let n=t.slice(1);const l=i.slice(1);JMP.LineSegmentStatic.drawLine(this.g,e,n,this.lineWidthScale,`rgba(${a},0.6)`,JMP.LineSegmentStatic.PATTERN_SOLID,this.alpha,JMP.LineSegmentStatic.TYPE_LINE,JMP.LineSegmentStatic.CONNECT_NONE,void 0,void 0,void 0,void 0,void 0,void 0,[]);let s=e.concat().reverse();s.push(...e);let o=n.concat().reverse();o.push(...l),JMP.PolySegmentStatic.drawPolygon(this.g,s,o,"rgba(0,0,0,0.15)",!1),JMP.LineSegmentStatic.drawLine(this.g,e,l,this.lineWidthScale,`rgba(${a},0.6)`,JMP.LineSegmentStatic.PATTERN_SOLID,this.alpha,JMP.LineSegmentStatic.TYPE_LINE,JMP.LineSegmentStatic.CONNECT_NONE,void 0,void 0,void 0,void 0,void 0,void 0,[])}}#qe(e,t,i,a){let n,l,s,o=!1,c=t.type===r.SCALE_LOG;return n=JMP.MomentsStatic.getRange(e.flat(),c),n&&(i>n.min||a<n.max)&&(l=Math.min(n.min,i),s=Math.max(n.max,a),c&&l<JMP.SMALL_LOG_VALUE&&(l=JMP.SMALL_LOG_VALUE),t.updateRange(l,s-l),o=!0),o}#We(e){let t=this.#x,i=this.#ye,a=this.#Ve,n=!1,l=!1,s={x:e.clientX,y:e.clientY};if(JMP.SegmentStatic.convertToSegmentCoordinates(this,s),t){if(n=JMP.SegmentStatic.isInBounds(this,s),n){let n={x:e.clientX,y:e.clientY};JMP.SegmentStatic.convertToSegmentCoordinates(this.frameBox,n);const o=JMP.ViewStatic.isServerAvailable&&(JMP.FrameBoxStatic.isInEWRegion(this.frameBox,n)||JMP.FrameBoxStatic.isInEWRegion(this.frameBox,n));switch(e.type){case"pointerdown":if(o)return this.isResizing=!0,!1;this.isXMoving=!0,l=!0,this.moveLine(t,this.x+s.x,i,a,this.profilerController),JMP.TooltipStatic.updateTooltip();break;case"pointerover":case"pointermove":if(this.isResizing)return!1;document.body.className="cursorArrow",this.isXMoving?(l=!0,this.moveLine(t,this.x+s.x,i,a,this.profilerController),JMP.TooltipStatic.updateTooltip()):JMP.ViewStatic.isFocus(JMP.ViewStatic.FOCUS_REPORT)||(l=!0);break;case"pointerup":this.isResizing=!1,this.isXMoving&&(l=!0,this.moveLine(t,this.x+s.x,i,a,this.profilerController),JMP.TooltipStatic.updateTooltip(),this.isXMoving=!1);break;case"pointerout":this.isXMoving=!1,this.isResizing=!1,JMP.TooltipStatic.updateTooltip()}}else"pointerup"===e.type&&(this.isXMoving||this.isResizing)&&(this.isXMoving=!1,this.isResizing=!1,JMP.TooltipStatic.updateTooltip());return l}}#Ye(){this.#x&&(this.#x.calculateValues=!0,this.#x.xCategories||(this.xColumn.setValueAt(this.#ye.value,0),this.#qe(this.xColumn.data,this.#x.xScale,this.#x.xMinValid,this.#x.xMaxValid),this.isXMoving||(this.#x.xMinValid=Math.min(this.#x.xMinValid,this.#ye.value),this.#x.xMaxValid=Math.max(this.#x.xMaxValid,this.#ye.value))),this.#ke&&(this.#x.calculateYRange=!0))}#ze(e){e.type===r.EVENT_CHANGED&&(this.#x.yScale=this.scale[t.ROLE_Y],this.#x.yScaling=JMP.Scaling(this.#x.yScale,.5+(this.y+this.height-1>>0),1-this.height),this.#x.yMinValid=r.convertToValue(this.#x.yScale.type,this.#x.yScale.origin,this.#x.yScale.base,this.#x.yScale.power),this.#x.yMaxValid=r.convertToValue(this.#x.yScale.type,this.#x.yScale.origin+this.#x.yScale.range,this.#x.yScale.base,this.#x.yScale.power),this.#x.calculateValues=!0,this.#x.calculateYRange=!1,this.#Ge=this.#Ze(),this.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED))}#Ae(){let e,i,a,n=this.scale[t.ROLE_X],l=this.scale[t.ROLE_Y],s=[];if(this.columns){if(this.xColumn=this.columns.getColumn(t.ROLE_X),!this.xColumn)return void(this.#x=void 0);if(this.xColumn.isCategorical())for(this.#x.xCategories=this.xColumn.data.slice(0),e=0;e<this.#x.xCategories.length;e++)s[e]=e}if(0!==this.numResponses)return this.#x.xIsLogScale=n.type===r.SCALE_LOG,this.#x.xScaling=JMP.Scaling(n,.5+(this.x>>0),this.width-1),this.#x.xMinValid=this.xMin,this.#x.xMaxValid=this.xMax,this.#x.xMin=this.xMin,this.#x.xMax=this.xMax,this.initialState.xOrigin=n.origin,this.initialState.xRange=n.range,this.#x.yScaling=JMP.Scaling(l,.5+(this.y+this.height-1>>0),1-this.height),this.#x.yMinValid=r.convertToValue(l.type,l.origin,l.base,l.power),this.#x.yMaxValid=r.convertToValue(l.type,l.origin+l.range,l.base,l.power),this.initialState.yOrigin=l.origin,this.initialState.yRange=l.range,a=l.refFormat,i=n.refFormat,0===i.nDecimals&&(i=JMP.ViewStatic.getPreciseFormat(n.origin,n.range,i,!0)),this.#x.xScale=n,this.#x.yScale=l,this.#x.xData=s,this.#x.calculateValues=!0,this.#x.calculateYRange=!0,this.#x.xScaled=[],this.#x.yCiUpperScaled=[],this.#x.yCiLowerScaled=[],this.#x.yPiUpperScaled=[],this.#x.yPiLowerScaled=[],this.#x.yScaled=[],this.#x.yScaled[0]=[],this.#x.xFormat=i,this.#x.yFormat=a,this.#x;this.#x=void 0}#N(e){return!this.#x&&this.columns&&this.scale[t.ROLE_X]&&this.scale[t.ROLE_Y]?(this.#x={},this.#x=this.#Ae(),this.#Ge=this.#Ze(),this.#x&&this.#x.yScaling.scale.addEventListener(this.#Ue),this.profilerController&&this.profilerController.profiles[this.profilerController.profiles.length-1]===this&&this.frameBox.addEventListener(this.profilerController.onSegmentEvent)):this.#x&&e&&(this.#Ge=this.#Ze()),this.#x}static#$e(){return getComputedStyle(document.body).getPropertyValue("--color-profiler-input")}static initializeReferenceLines(e,t,i,a,n){let l,s=-1,o=[];if(e)if(e.refIsEditable)for(let t=0;t<e.refIsEditable.length;t++)void 0!==e.refIsEditable[t]&&o.push(t);else{e.refValues?s=e.refValues.length:(e.refValues=[],s=0),e.refLabels||(e.refLabels=[]),e.refColors||(e.refColors=[]),e.refStyles||(e.refStyles=[]),e.refAlphas||(e.refAlphas=[]),e.refWidths||(e.refWidths=[]),e.refLabelSizes||(e.refLabelSizes=[]),e.refIsEditable=[],l=i.data?i.data[0]:i.value,n&&(l=n.indexOf(l));for(let i=0;i<t;i++){let t=s+i;e.refValues[t]=l,e.refColors[t]=E.#$e,e.refStyles[t]=JMP.LineSegmentStatic.PATTERN_DOT,e.refAlphas[t]=.6,e.refWidths[t]=1,e.refIsEditable[t]=a,e.refLabelSizes[t]=-1,o.push(t)}}return o}static validateXReferenceValue(e,t,i,a){let n=!0,l=e.xMinValid,s=e.xMaxValid,o=e.xCategories,r=e.xIsLogScale;if(void 0!==t)return o?n=o.includes(t):(!a&&i||(t<l&&(t=+l.toPrecision(4)),t>s&&(t=+s.toPrecision(4))),r&&t<JMP.SMALL_LOG_VALUE&&(t=JMP.SMALL_LOG_VALUE),Number.isNaN(t)&&(n=!1)),n||(t=void 0),t}static setXReferenceValue(e,t,a,n,l,s){let o,r,c=!0;if(a.value===t)return c;if(c=void 0!==(t=E.validateXReferenceValue(e,t,n,l)),c){if(l)for(a.value=t,l.constrainReference(),r=l.getReferenceVariables(),o=0;o<r.length;o++)r[o]&&r[o].sendEvent(i.EVENT_VALUE_CHANGED);else a.setValue(t);s?.requestRedraw()}return c}}JMP.RectSegmentStatic=function(){"use strict";let e={},i=[],a=JMP.Format(JMP.FormatStatic.FORMAT_PERCENT,!1,0),l=JMP.Format(JMP.FormatStatic.FORMAT_PERCENT,!1,1),s=JMP.ViewStatic.rectanglesIntersect,o=JMP.ViewStatic.pointInRect,d=function(e,i){let a,n,l,s=!0;for(n=e.getColumns(t.ROLE_X),l=i.getColumns(t.ROLE_X),s=n.length===l.length,a=0;a<n.length&&s;a++)s=n[a].name===l[a].name;for(n=e.getColumns(t.ROLE_Y),l=i.getColumns(t.ROLE_Y),s=s&&n.length===l.length,a=0;a<n.length&&s;a++)s=n[a].name===l[a].name;return s},u=function(e,t){return e.scale.type===r.SCALE_LOG&&(t=e.scale.base**t),JMP.ScalingStatic.valueToPixel(e,t)},h=function(e,t,i){return t&&(i?i[e]:t.hidden[e])},g=function(e,t){let i,a=t.length,n=!1;for(i=0;i<a&&!n;i++)n=null!==e[t[i]];return n},S=function(i,n,s,o,r){let c,{g:d,isLabelFormatCustomized:u,legend:h}=i,{rowStates:g,colorData:S,valueLabelFormat:m,aggregatedRowIndices:f,totalValue:T}=n,p=i.columns.getColumn(t.ROLE_COLOR);switch(i.labeling){case e.LABELING_VALUE:if(p)if(null===S[s])c=JMP.ModelStatic.TIP_MISSING;else if(h.isGradient(i.legendOffset,i.legendModelID))c=JMP.FormatStatic.formatNumberUsingSignificantDigits(S[s],m,3);else{let e=S[s];if(Number.isInteger(e))c=h.getLabel(e,i.legendOffset,i.legendModelID);else{let t=i.colorTerm.getCharLevels();c=JMP.ModelStatic.getCategoricalString(e,t,p)}}else if(f){let e=i.columns.getColumn(t.ROLE_FREQ),a=JMP.NStatic.getValues(void 0,e,g,[f[s]])[0];c=JMP.FormatStatic.formatNumber(a[0].count,m)}break;case e.LABELING_PERCENT:let n,o,r;if(p)n=S[s];else if(f){let e=i.columns.getColumn(t.ROLE_FREQ);n=JMP.NStatic.getValues(void 0,e,g,[f[s]])[0][0].count}null===n||0===T?c=JMP.ModelStatic.TIP_MISSING:(o=n/T,r=u?m:o<.0995?l:a,c=JMP.FormatStatic.formatNumber(o,r))}if(c){let e=JMP.TextBoxStatic.wrap(d,o.width,[c]),t=e.length,a=c.length,n=Math.min(3,(a+1)/2>>0),l=c,s=1.5*r;if(t>1&&s*t>o.height){let t=Math.max(o.height/s>>0,1),i=e[t-1];i=i.slice(0,-2)+JMP.ELLIPSIS,l=e.slice(0,t-1).join("")+i}const u=22,h=i.labelFontWeight;let g=h?h+" ":"";g+=r+"px "+i.labelFontFamily,d.font=g;const S=d.measureText(e[0]).actualBoundingBoxAscent;t<=n&&o.width>u&&o.height>=S&&JMP.TextBoxStatic.drawWrappedText(d,o,l,r,JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,d.fillStyle,JMP.TextBoxStatic.ALIGNMENT_CENTER,JMP.TextBoxStatic.ALIGNMENT_MIDDLE,!1,0,!1,!0,i.labelFontWeight,i.labelFontFamily)}},m=function(e,t,i,a){let n,l,s,o,r,c,d,g,S,m,f,T,p,E,b,A,_={dataIndex:-1,distance:0,area:0},x=Number.MAX_VALUE,L={x:i,y:a},N={},I=-1,{rowStates:M,xScaling:y,yScaling:C,nRects:R,hiddenAggregates:v,hasRows:w,colorData:O}=t;for(f=0;f<R;f++)m=4*f,!h(f,M,v)&&(w&&w[f]||null!==O[f])&&null!==e[m]&&null!==e[m+1]&&null!==e[m+2]&&null!==e[m+3]&&(n=u(y,e[m]),l=u(C,e[m+1]),s=u(y,e[m+2]),o=u(C,e[m+3]),N.x=Math.min(n,s)>>0,N.y=Math.min(l,o)>>0,N.width=Math.abs(s-n)>>0,N.height=Math.abs(o-l)>>0,JMP.ViewStatic.pointInRect(L,N,-JMP.ViewStatic.FUZZ_PIXELS)&&(r=(n+s)/2,c=(l+o)/2,d=r-i,g=c-a,S=d*d+g*g,S<x&&(x=S,I=f,b=N.width,A=N.height,T=b*A,p=N.x,E=N.y,N.height<5&&(E-=2))));return x===Number.MAX_VALUE?null:(_.distance=x,_.dataIndex=I,_.area=T,_.x=p,_.y=E,_.w=b,_.h=A,_)};return e.LABELING_NONE=0,e.LABELING_VALUE=1,e.LABELING_PERCENT=2,e.LABELING_ROW_LABEL=3,e.getCache=function(a,n){let l,s,o,c,u,h,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P=a.columns.getColumn(t.ROLE_FREQ),D=a.columns.getColumn(t.ROLE_COLOR),F=a.columns.getLabeledColumns(),B=a.columns.getTipImageColumn(),V=a.columns.getColumns(t.ROLE_X),k=a.columns.getColumns(t.ROLE_Y),G=a.scale[t.ROLE_X],H=a.scale[t.ROLE_Y],Y=a.heatmapScalesMap,U=a.subsetRowIndices,z=a.legend,W=a.xBinStarts,X=a.yBinStarts,Z=[],q=[],j=[],K=!1,Q=[],J=[],$=[],ee=[],te=[],ie=[],ae=[],ne=[],le=[],se=[],oe=[],re=[],ce=[],de={},ue=a.rects.length/4,he=a.columns.rowStates,ge=[],Se=!!Y,me=function(e){let t=e.type===r.SCALE_LOG,i=JMP.FormatStatic.isDateTime(e.format);return!t&&!i},fe=function(e,t,i,a,n,l,s,o,c){let d,u,h,g,S,m,f=[],T=[],p=a.type===r.SCALE_LOG;if(0!==e.length)if(i[0])for(S=t[0].length,d=0;d<S;d++)m=t[0][d],h=m[0],g=m[1],p?(h=r.convertFromValue(a.type,m[0],a.base),g=r.convertFromValue(a.type,m[1],a.base),o.push([h,g])):o.push(m);else for(T=t.length<e.length?[e[0]]:e,f=JMP.GroupStatic.getRows(T,t,i,n,U?[U]:void 0,s,!1,!1,l)[0],u=f.length,S=0,d=0;d<u;d++)f[d].length>0?(h=-.5+S,o.push([h,h+1]),S++):c.push(d);else o.push([a.origin,a.origin+a.range])},Te=function(e,t){let i,a,n;if(t[0])return e[0].length;for(a=e.length,n=1,i=0;i<a;i++)n*=e[i].length;return n},pe=function(e,t,i,a,n,l,s,o){let c,d,u,h,g,S,m,f,T,p,E=[],b=1/0,A=-1/0,_=t.type===r.SCALE_LOG,x=JMP.FormatStatic.isDateTime(t.format),L=i.nMinor,N=_?i.widthMajor:i.widthMajor/(L+1),I=!1,M=!1;for(s&&(p=[s]),b=JMP.MomentsStatic.getValue([e],void 0,a,p,void 0,JMP.MomentsStatic.STAT_MIN,!1,!1,n)[0][0],A=JMP.MomentsStatic.getValue([e],void 0,a,p,void 0,JMP.MomentsStatic.STAT_MAX,!1,!1,n)[0][0],f=1,c=0;c<10&&!I;c++)f*=10,T=N*f,I=Number.isInteger(T);if(d=1,_||x||l){if(o){M=!0;let e=o.length,{base:i,type:a}=t;h=r.convertToValue(a,o[0],i);for(let t=1;t<e;t++){if(u=h,h=r.convertToValue(a,o[t],i),_){h-=1e3*(h-u)*JMP.MAC_EPS}E.push([u,h])}}else if(_)for(g=Math.floor(r.convertFromValue(t.type,b,t.base)),S=g,m=S+N,u=r.convertToValue(t.type,S,t.base),h=r.convertToValue(t.type,m,t.base);h<=A;)E.push([u,h]),d++,u=h,m=g+N*d,m=Math.round(m*f)/f,h=r.convertToValue(t.type,m,t.base)}else for(b=Math.floor(b/N)*N,o&&(b=r.convertToValue(t.type,o[0],t.base)),u=b,h=b+N,h=Math.round(h*f)/f;h<=A;)E.push([u,h]),d++,u=h,h=b+N*d,h=Math.round(h*f)/f;return!M&&u<=A&&E.push([u,h]),E};if(0!==a.rects.length||a.legend){if(Y){for(i=void 0,s=0;s<Y.length&&!i;s++)d(a.columns,Y[s].columns)&&(i=Y[s]);i||(Y.push({columns:a.columns,scale:a.scale.concat()}),i=Y[Y.length-1]),a.scalesForBinWidth=i.scale.concat(),x=i.scale[t.ROLE_X],L=i.scale[t.ROLE_Y],w=x.widthMajor,O=L.widthMajor}if(n.colorData=[],a.groupCalculation&&(U&&a.groupCalculation.setRowIndices([U]),l=a.groupCalculation.getResult()[0][a.groupIndex],l.length<=0))n=void 0;else{if(D&&(K=D.isCategorical()||!!D.valueOrdering,Se=!K),V.length>0||k.length>0||a.xBinStarts||a.yBinStarts||l&&l.length>0){for(s=0;s<2;s++)if(0===s?(Z=V,Q=J,ee=te,p=G,E=x,ae=ne,se=W,oe=re):(Z=k,Q=$,ee=ie,p=H,E=L,ae=le,se=X,oe=ce),Z){for(Se=Se&&me(p),f=Z.length,b=!0,o=0;o<f&&b;o++)T=Z[o],b=T.isCategorical();for(b||(f=1,Z.length=1),o=0;o<f;o++)T=Z[o],j.push(T),T.isContinuous()&&!T.valueOrdering||T.type===t.TYPE_NUMBER&&T.isOrdinal()&&void 0===E.labels?(Q.push(pe(T,p,E,he,a.isExcludedUsed,K,U,se)),ee.push(!0)):(q=T.getUniqueValues(he,U,a.hasMissingLevels,a.isExcludedUsed)[0],JMP.ViewStatic.permuteUniqueValues(p,q,T),Q.push(q[0]),ee.push(!1));fe(Z,Q,ee,p,he,a.isExcludedUsed,a.hasMissingLevels,ae,oe)}if(Q=J.concat($),ee=te.concat(ie),j.length>0){if(a.groupCalculation&&(U&&a.groupCalculation.setRowIndices([U]),U=a.groupCalculation.getResult()[0][a.groupIndex]),N=JMP.GroupStatic.getRows(j,Q,ee,he,U?[U]:void 0,a.hasMissingLevels,!1,!1,a.isExcludedUsed)[0],a.overlayTerm&&!function(e){return!e.isContinuous()&&a.hasMissingLevels}(a.overlayTerm.inputVariables[0])&&JMP.ViewStatic.removeMissing(N,a.overlayTerm.inputVariables[0].data),P&&(y=P.data,JMP.ViewStatic.removeMissing(N,y,(function(e){return e<=0}))),A=!te[0]&&J.length>1,_=!ie[0]&&$.length>1,A||_){if(A)for(c=re.length,h=Te($,ie),s=0;s<c;s++)for(o=0;o<h;o++)N[re[s]*h+o]=void 0;if(_)for(c=ce.length,u=Te(J,te),h=Te($,ie),s=0;s<c;s++)for(o=0;o<u;o++)N[o*h+ce[s]]=void 0;N=N.filter((function(e){return void 0!==e}))}}else N=l?[l.filter((function(e){return!he.excluded[e]}))]:[[...Array(he.excluded.length).keys()]];if(0===a.rects.length){for(h=le.length,u=ne.length,S=0;S<u;S++)for(m=0;m<h;m++){0!==N[S*h+m]?.length&&(ge.push(ne[S][0]),ge.push(le[m][1]),ge.push(ne[S][1]),ge.push(le[m][0]))}a.rects=ge,N=N.filter((function(e){return 0!==e.length}))}ue=a.rects.length/4,n.aggregatedRowIndices=N,n.rowStates=he,n.colorStatistic=void 0!==a.colorStatistic?a.colorStatistic:JMP.MomentsStatic.STAT_MEAN;if(a.scalesForBinWidth.length>0?function(e,i,a){let n,l,s,o,r,c,d,u,h,{aggregatedRowIndices:S,rowStates:m,colorStatistic:f}=i,T=[],p=[],E=[];if(S){if(f===JMP.MomentsStatic.STAT_PERCENT)for(h=[],s=S.length-1;s>=0;s--)for(o=S[s].length-1;o>=0;o--)h.push(S[s][o]);for(d=e.columns.getColumn(t.ROLE_COLOR),n=e.columns.getColumn(t.ROLE_FREQ),n&&(l=n.data),r=S.length,s=0;s<r;s++){T[s]=S[s].length>0&&(!l||g(l,S[s])),d?T[s]&&(a?c=null:(u=S[s],c=JMP.MomentsStatic.getValue([d],n,m,[u],h,f,void 0,void 0,!0)[0][0])):c=T[s]?JMP.MomentsStatic.getValue(void 0,n,void 0,[S[s]])[0][0]:null,p[s]=c;let t=null;T[s]&&(t=e.legend.getColor(c,e.legendOffset,e.legendModelID)),E[s]=t}a?p=e.colorData:(e.colorData=p,e.fillColors=E)}i.colorData=p,i.hasRows=T}(a,n,K):(n.colorData=a.colorData,n.fillColors=a.fillColors),R=a.valueLabelFormat,D&&z&&z.isGradient(a.legendOffset,a.legendModelID)){de.xScale=G,de.yScale=H,de.xColumns=V,de.yColumns=k,de.colorColumn=D,de.legendFormat=z.getGradientFormat();let e=JMP.ViewStatic.getProperFormat(D,de);C=JMP.ViewStatic.getPreciseFormat(0,0,e,!0,D.isIntegral(),n.colorStatistic),R=a.valueLabelFormat||C}if(!(a.isLabelFormatCustomized||JMP.FormatStatic.isPercent(R)||JMP.FormatStatic.isDateTime(R)||JMP.FormatStatic.isCurrency(R))){let e=!!D&&D.isIntegral(),t=D?n.colorStatistic:JMP.MomentsStatic.STAT_N;R=JMP.ViewStatic.getPreciseFormat(0,0,R,!0,e,t)}}if(a.labeling===e.LABELING_PERCENT)if(D){if(n.colorData.length>0){const e=(e,t)=>e+t;v=n.colorData.reduce(e)}}else{let e=[];N.forEach((t=>t.forEach((t=>e.push(t))))),v=JMP.NStatic.getValues(void 0,P,he,[e],!0,!0)[0][0].count}he&&N&&(I=[],M=[],JMP.ViewStatic.setSelectedAggregates(N,he,a.isExcludedUsed,I),JMP.ViewStatic.setHiddenAggregates(N,he,a.isExcludedUsed,M)),function(e,t){const i=t?JMP.SegmentStatic.SCALABLE_CLIENT_SERVER:JMP.SegmentStatic.SCALABLE_SERVER;e.setScalable(i)}(a,!Y||Se),n.rowStates=Y?he:void 0,n.xColumns=V,n.yColumns=k,n.freqData=y,n.labeledColumns=F.length>0?F:void 0,n.tipImageColumn=B,n.xScaling=JMP.Scaling(G,a.x+.5>>0,a.width-1),n.yScaling=JMP.Scaling(H,a.y+a.height-.5>>0,1-a.height),n.nRects=ue,n.colorFormat=C,n.valueLabelFormat=R,n.totalValue=v,n.selectedAggregates=I,n.hiddenAggregates=M,n.xWidthMajor=w,n.yWidthMajor=O,n.canCalculateCells=Se}}else n=void 0},e.draw=function(i,a){let n,l,s,o,r,d,g,m,f,T,p,E,b,A,_,x,L,N,{g:I,rects:M,fillColors:y,alpha:C,isExcludedUsed:R,lineWidth:v,lineColor:w}=i,O=!1;if(!a)return;let{rowStates:P,xScaling:D,yScaling:F,nRects:B,aggregatedRowIndices:V,selectedAggregates:k,hiddenAggregates:G,colorData:H}=a;for(JMP.ViewStatic.reset(I),N=I.globalAlpha,x=D.scale.range>0?.5:1,L=F.scale.range>0?1:.5,P&&(A=P.selected,V&&JMP.ViewStatic.setSelectedAggregates(V,P,R,k)),i.legend&&(C*=i.legend.getAlpha(0,i.legendOffset,i.legendModelID),i.fillPattern?E=i.fillPattern:(T=i.columns.getColumn(t.ROLE_COLOR),T&&(O=i.legend.isGradient(i.legendOffset,i.legendModelID),O&&(E=i.legend.getFillPattern(0,i.legendOffset,i.legendModelID))))),1!==C&&(I.globalAlpha=C),d=0;d<B;d++)if(n=4*d,(!V||V[d]&&0!==V[d].length)&&!h(d,P,G)&&(g=y[d],null!==g&&null!==M[n]&&null!==M[n+1]&&null!==M[n+2]&&null!==M[n+3])){l=u(D,M[n])+x>>0,s=u(F,M[n+1])+L>>0,o=u(D,M[n+2])+x>>0,r=u(F,M[n+3])+L>>0;let t=l;o<l?(t=o,o=l,l=t):o===l&&M[n]!==M[n+2]&&(o=l+.5);let h=r;r<s?(h=s,s=r,r=h):r===s&&M[n+1]!==M[n+3]&&(r=s+.5),m=o-l,f=r-s,P&&(_=V?k[d]:A[d]);let T=1,N=!1;if(i.fillPattern||!i.legend||O||(p=H[d],E=i.legend.getFillPattern(p>>0,i.legendOffset,i.legendModelID),Number.isInteger(p)?b=void 0:(b=i.legend.getFillPattern(1+(p>>0),i.legendOffset,i.legendModelID),(E||b)&&(T=2,E&&!b&&(N=!0)))),i.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED&&_&&(1===T&&(E&&!b||!E&&b)||2===T&&E&&b)&&(I.fillStyle=JMP.COLOR_FILL_PATTERN_SELECT,I.fillRect(l,s,m,f)),2===T&&(g=N?i.legend.getColor(1+(p>>0),i.legendOffset,i.legendModelID):i.legend.getColor(p>>0,i.legendOffset,i.legendModelID)),E&&!N?(_&&(1===T||2===T&&E&&b)&&(g=c.getSelectedColor(g)),I.fillStyle=JMP.ViewStatic.getFillPatternCanvas(g,E)):2===T&&_?(g=c.getSelectedColor(g),I.fillStyle=g):I.fillStyle=_?i.getFillSelectionStyle(g,!0):g,I.fillRect(l,s,m,f),2===T)if(N){let e=i.legend.getColor(p>>0,i.legendOffset,i.legendModelID);_&&(e=c.getSelectedColor(e)),g=c.mixColors(e,g,.5),E=i.legend.getFillPattern(p>>0,i.legendOffset,i.legendModelID),I.fillStyle=JMP.ViewStatic.getFillPatternCanvas(g,E),I.fillRect(l,s,m,f)}else g=i.legend.getColor(1+(p>>0),i.legendOffset,i.legendModelID),_&&(g=c.getSelectedColor(g)),I.fillStyle=b?JMP.ViewStatic.getFillPatternCanvas(g,b):g,I.fillRect(l,s,m,f);if(v>0&&(I.lineWidth=v,I.strokeStyle=w,I.strokeRect(l,s,m,f)),i.labeling!==e.LABELING_NONE){let e=i.labelFontSize,t=i.labelFontFamily;if(i.maxLabelSize&&i.maxLabelSize>0){I.font=e+"px "+t;let a=f/(1.2*e),n=e*Math.max(1,a);e=Math.min(n,i.maxLabelSize+e)}let n=e+"px "+t,s=JMP.COLOR_BLACK;if(_){const e=i.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.DARKER?c.getSelectedColor(g,!0):g;s=JMP.TextBoxStatic.getTextColor(e),n="bold "+n}else s=JMP.TextBoxStatic.getTextColor(g);I.font=n,I.fillStyle=s,I.globalAlpha=1,S(i,a,d,{x:l,y:h-f+1,width:m,height:f},e),1!==C&&(I.globalAlpha=C)}}1!==C&&(I.globalAlpha=N)},e.select=function(e,t,i,a){let n,l,r,c,d,g,S,m=e.rects,f={},T=[],p=i.width||i.height,E=!1,b=!1;if(!t||!t.rowStates)return;let{rowStates:A,xScaling:_,yScaling:x,nRects:L,aggregatedRowIndices:N,selectedAggregates:I,hiddenAggregates:M}=t;for(n=A.selected,N&&a===JMP.ViewStatic.SELECT_ONLY&&(I.length=0),S=0;S<L&&!E;S++)g=4*S,h(S,A,M)||(l=u(_,m[g]),r=u(x,m[g+1]),c=u(_,m[g+2]),d=u(x,m[g+3]),f.x=Math.min(l,c)>>0,f.y=Math.min(r,d)>>0,f.width=Math.abs(c-l)>>0,f.height=Math.abs(d-r)>>0,p?s(i,f)&&(N?T=T.concat(N[S]):T.push(S)):o({x:i.x,y:i.y},f)&&(N?(T=T.concat(N[S]),b=I[S]):(T.push(S),b=n[S]),E=!0));JMP.ViewStatic.selectRows(A,a,T,b)},e.getTooltip=function(e,i,a){let n,l,s,o,c,d,u,h,g,S,f,T,p,E,{rects:b,labels:A,legend:_}=e,x=a.x,L=a.y,N=JMP.TooltipModel();if(!i)return null;let{rowStates:I,xScaling:M,yScaling:y,xColumns:C,yColumns:R,colorData:v,colorFormat:w,colorStatistic:O,aggregatedRowIndices:P,labeledColumns:D,tipImageColumn:F}=i;if(l=m(b,i,x,L),l){if(s=l.dataIndex,A&&N.addLine(void 0,A[s]),d=e.columns.getColumn(t.ROLE_COLOR),_&&(n=_.getGradientFormat()),D){let t=P?P[s]:[...Array(D[0].data.length).keys()];N.addLabeledColumns(e,D,t,C,R,d,n)}else P&&N.addLineFromValues(JMP.TooltipModelStatic.TIP_ROW,P[s].map((function(e){return e+1})));if(void 0!==e.isCatX&&N.addLine(void 0,e.description),o=P?P[s][0]:s,c=4*s+1,E=y.scale,h=b[c],g=b[c+2],E.type!==r.SCALE_POWER&&(h=r.convertToValue(E.type,h,E.base,E.power),g=r.convertToValue(E.type,g,E.base,E.power)),!P||R.length>0)if(!0===e.isCatX||void 0===e.isCatX){if(R.length>0||E.axisLabel&&E.axisLabel.trim().length>0){let t=!0!==e.isCatX&&void 0;JMP.TooltipModelStatic.addBinLines(N,E,R,o,h,g,!1,d,n,t,t)}}else JMP.TooltipStatic.addAxisValuesToTooltip(N,L,y);if(c--,E=M.scale,h=b[c],g=b[c+2],E.type!==r.SCALE_POWER&&(h=r.convertToValue(E.type,h,E.base,E.power),g=r.convertToValue(E.type,g,E.base,E.power)),!P||C.length>0)if(!1===e.isCatX||void 0===e.isCatX){if(C.length>0||E.axisLabel&&E.axisLabel.trim().length>0){let t=!1!==e.isCatX&&void 0;JMP.TooltipModelStatic.addBinLines(N,E,C,o,h,g,!1,d,n,t,t)}}else JMP.TooltipStatic.addAxisValuesToTooltip(N,x,M);if(d){let t=P?O:JMP.MomentsStatic.STAT_NONE;S=JMP.TooltipStatic.getLabel(d,t),f=v&&v.length>0?v[s]:e.colorData[s];let i=!_.isGradient(e.legendOffset,e.legendModelID);if(i)if(Number.isInteger(f))f=_.getLabel(f,e.legendOffset,e.legendModelID);else{let t=e.colorTerm.getCharLevels();f=JMP.ModelStatic.getCategoricalString(f,t,d)}N.addLine(S,f,i?void 0:w)}else!e.heatmapScalesMap&&_&&e.colorData&&(S=_.getLabel(),f=e.colorData[s],N.addLine(S,f,n));return P&&(u=e.columns.getColumn(t.ROLE_FREQ),T=JMP.NStatic.getValues(void 0,u,I,[P[s]])[0],JMP.TooltipStatic.addLineForRows(N,T[0].count,T[0].countSelected,T[0].countHidden,!!u)),F&&(p=F.data[o],N.imageSrc=p,N.addLine(F.name,p?"":JMP.ModelStatic.TIP_MISSING)),N.x=l.x,N.y=l.y,N.xOffset=l.w,N.yOffset=l.h,N}return null},e.getPriority=function(e,t,i){let a=null;if(!t)return null;let n=m(e.rects,t,i.x,i.y);return n&&(a=JMP.Priority(n.distance,n.area,e)),a},e.getPreferredRange=function(e,i,a){let n,l,s,o,c,d,u,h,g,S,m=e.scale[a];if(i&&e.heatmapScalesMap){if(!m.labels&&(l=a===t.ROLE_X?i.xColumns[0]:i.yColumns[0],s=i.rowStates,o=e.rowIndices||e.groupRowIndices,g=!0,S=!1,l&&(c=JMP.MomentsStatic.getValue([l],void 0,s,[o],void 0,JMP.MomentsStatic.STAT_MIN,void 0,true,false)[0][0],d=JMP.MomentsStatic.getValue([l],void 0,s,[o],void 0,JMP.MomentsStatic.STAT_MAX,void 0,true,false)[0][0],m.type===r.SCALE_LOG&&(c<=0&&(c=null),d<=0&&(d=null)),null!==c&&null!==d))){u=r.convertToValue(m.type,m.origin,m.base,m.power),h=r.convertToValue(m.type,m.origin+m.range,m.base,m.power),n=[u,h];let t=!1;c<u&&(t=!0,n[0]=c),d>h&&(t=!0,n[1]=d),t&&(e.clearCache(),m.getNiceRange(n))}return n}},e.onRowStatesEvent=function(e,t,i){switch(i.type){case n.EVENT_SELECTED:case n.EVENT_HIDDEN:t&&t.rowStates&&t.aggregatedRowIndices&&(!t.isEventReceived&&i.type===n.EVENT_SELECTED||i.type===n.EVENT_HIDDEN)&&JMP.ViewStatic.setHiddenAggregates(t.aggregatedRowIndices,t.rowStates,e.isExcludedUsed,t.hiddenAggregates,t.freqData)}},e.onScaleEvent=function(e,t,i){if(t&&t.xScaling&&t.yScaling&&(i.type===r.EVENT_INPUT||i.type===r.EVENT_CHANGED)){let i=t.xScaling.scale,a=t.yScaling.scale;t.xWidthMajor===i.widthMajor&&t.yWidthMajor===a.widthMajor||(e.xBinStarts=void 0,e.yBinStarts=void 0,(t.xColumns.length>0||t.yColumns.length>0)&&(e.rects.length=0),e.clearCache())}},e}(),JMP.RectSegment=function(e){"use strict";let i,a=new d(e),n=function(){return!i&&a.rects&&a.scale[t.ROLE_X]&&a.scale[t.ROLE_Y]&&(i={},JMP.RectSegmentStatic.getCache(a,i),i.canCalculateCells&&a.scale.forEach((e=>{e.addEventListener(a.onScaleEvent)}))),i&&i.nRects?i:void 0};return a.rects=[],a.labels=void 0,a.lineColor=JMP.COLOR_BLACK,a.lineWidth=0,a.fillColors=[],a.colorData=void 0,a.alpha=1,a.fillPattern=void 0,a.heatmapScalesMap=void 0,a.scalesForBinWidth=[],a.xBinStarts=void 0,a.yBinStarts=void 0,a.xInitialBinWidth=void 0,a.yInitialBinWidth=void 0,a.valueLabelFormat=void 0,a.labelFontWeight=void 0,a.labelFontSize=JMP.LARGE_FONT_SIZE,a.labelFontFamily=JMP.FONT,a.draw=function(){JMP.RectSegmentStatic.draw(a,n())},a.select=function(e,t){JMP.RectSegmentStatic.select(a,n(),e,t)},a.getTooltip=function(e,t){return JMP.RectSegmentStatic.getTooltip(a,n(),{x:e,y:t})},a.getPriority=function(e){return JMP.RectSegmentStatic.getPriority(a,n(),e)},a.getPreferredRange=function(e){return JMP.RectSegmentStatic.getPreferredRange(a,n(),e)},a.clearCache=function(){i=void 0},a.onRowStatesEvent=function(e){JMP.SegmentStatic.onRowStatesEvent(a,e),JMP.RectSegmentStatic.onRowStatesEvent(a,n(),e)},a.onScaleEvent=function(e){JMP.RectSegmentStatic.onScaleEvent(a,n(),e)},a},JMP.ReportStatic=function(){"use strict";let e={},t=[],i=[],a=[],n=new Set,l=!1,s=new Set;return e.saveFramesToMemento=function(e){t.forEach((t=>t.saveToMemento(e)))},e.restoreFramesFromMemento=function(e){t.length===e.length?t.forEach((t=>t.restoreFromMemento(e))):e.splice(0,e.length)},e.clearFrames=function(){t=[]},e.clearAxes=function(){i=[]},e.getAxes=function(){return i},e.clearProfilers=function(){a=[]},e.getProfilers=function(){return a},e.currentProfiler=function(){return a[a.length-1]},e.addAxis=function(e){i.push(e)},e.addFrame=function(e){t.push(e)},e.addProfiler=function(e){a.push(e)},e.getAssociatedFrames=function(e){let i=[];return t.forEach((t=>{let a=t.axisBoxes.length;for(let n=0;n<a;n++)if(t.axisBoxes[n]===e){i.push(t);break}})),i},e.associateAxesWithFrames=function(){t.forEach((e=>{e.associateAxes()}))},e.drawDirtyAxes=function(){let t=[],a=[];const n=new Map;i.forEach((t=>{if(t.isDirty){const i=e.getAssociatedFrames(t);for(let e=0;e<i.length;e++)n.set(i[e],!0);a.push(t),t.isDirty=!1}})),t=Array.from(n.keys()),t.forEach((e=>{for(let t=0;t<e.axisBoxes.length;t++)a.push(e.axisBoxes[t])})),t=[],a.forEach((t=>{const i=e.getAssociatedFrames(t);for(let e=0;e<i.length;e++)n.set(i[e],!0)})),t=Array.from(n.keys()),t.forEach((e=>{e.isDirty=!0})),n.clear();for(let e=0;e<a.length;e++)n.set(a[e],!0);a=Array.from(n.keys()),a.forEach((e=>{e.clear()})),a.forEach((e=>{e.draw()}))},e.drawDirtyFrames=function(){l||(e.drawDirtyAxes(),t.forEach((e=>{e.isDirty&&(e.draw(),e.isDirty=!1)})))},e.revertScales=function(){l=!0,t.forEach((e=>{e.revertScales()})),l=!1,e.drawDirtyFrames(),e.updateScales()},e.updateScales=function(e=[]){let i=[];t.forEach((e=>{i=i.concat(e.getClientAdjustableScales())}));const a=new Map;for(let e=0;e<i.length;e++)a.set(i[e],!0);i=Array.from(a.keys()),i=i.concat(e),JMP.ServerStatic.updateScales(i)},e.updateProfilers=function(){JMP.ServerStatic.updateProfilers()},e.addPinnedTooltip=function(e){n.add(e)},e.removePinnedTooltip=function(e){s.add(e)},e.getClosedPinnedTooltips=function(){return s},e}(),JMP.ScriptSegmentStatic=function(){"use strict";let e={getCache:function(e,i){let a,n,l=e.scale[t.ROLE_X],s=e.scale[t.ROLE_Y];l&&(a=JMP.Scaling(l,.5,e.width-1)),s&&(n=JMP.Scaling(s,e.height-.5,1-e.height)),Object.assign(i,{xScaling:a,yScaling:n}),i.worldCoordinates=[],i.worldTranslate=[]},draw:function(e,t){let i,a,n,l,s,o,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,{g:R,x:v,y:w,width:O,height:P,script:D,lineWidthScale:F}=e,B=!1,V=!1,k=!1,G=!1,H=0,Y=0,U=JMP.LARGE_FONT_SIZE,z=0,W=null,X=null,Z=null,q=null,j=JMP.MarkerSegmentStatic.MAX_MARKER_SIZE,K=JMP.MarkerSegmentStatic.MIN_MARKER_SIZE,Q=!1,J=function(){let e,t,i,a,n=m,l=D.length,s=null,o=-1,r=0;for(;n<l&&o<0;)if(k&&'"'!==D.charAt(n))a=D.indexOf('"',n),o=8,r=D.slice(n,a),n=a;else switch(D.charAt(n)){case"g":if(e=D.slice(n,n+3),"g.m"===e)o=0,n+=8;else if("g.l"===e)e=D.slice(n,n+8),"g.lineTo"===e?(o=1,n+=8):"g.lineWi"===e?(o=17,n+=11):n++;else if("g.s"===e)e=D.slice(n,n+9),"g.save();"===e?(o=35,n+=6):"g.stroke("===e?(o=6,n+=8):"g.strokeS"===e?(o=2,n+=13):"g.setLine"===e?(o=33,n+=13):n++;else if("g.b"===e)o=3,n+=11;else if("g.a"===e)o=5,n+=5;else if("g.c"===e)o=4,n+=11;else if("g.f"===e)e=D.slice(n,n+4),"g.fi"===e?(e=D.slice(n,n+7),"g.fill("===e?(o=24,n+=6):"g.fillT"===e?(o=16,n+=10):"g.fillS"===e?(o=19,n+=11):n++):"g.fo"===e?(o=18,n+=6):n++;else if("g.g"===e)o=26,n+=13;else if("g.r"===e)e=D.slice(n,n+5),"g.rec"===e?(o=25,n+=6):"g.res"===e?(o=36,n+=9):"g.rot"===e?(o=29,n+=8):n++;else if("g.t"===e)e=D.slice(n,n+7),"g.trans"===e?(o=23,n+=11):"g.textA"===e?(o=27,n+=11):"g.textB"===e?(o=28,n+=14):n++;else if(" ,\t\n".includes(e.charAt(1)))o=20,n++;else{for(;";"!==D.charAt(n);)n++;n++}break;case"J":e=D.slice(n,n+11),"JMP.TextBox"===e?(o=30,n+=31):"JMP.Marker."===e?(o=21,n+=11,a=D.indexOf(",",n),r=D.slice(n,a),n=a):(o=22,n+=34);break;case'"':o=14,k=!k,n++;break;case"f":e=D.slice(n,n+5),"false"===e?(o=15,r=!1,n+=5):n++;break;case"t":e=D.slice(n,n+4),"true"===e?(o=15,r=!0,n+=4):n++;break;case"n":e=D.slice(n,n+4),"null"===e?(o=31,r=null,n+=4):n++;break;case"u":e=D.slice(n,n+9),"undefined"===e?(o=37,r=void 0,n+=4):n++;break;case"-":case"+":case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=7,i=!0,a=n+1;a<l&&i;a++)t=D.charAt(a),i="e"===t||"E"===t||"-"===t||"+"===t||"."===t||"0"<=t&&t<="9";e=D.substring(n,a),r=parseFloat(e),n=a-1;break;case"(":o=11,n++;break;case")":o=12,n++;break;case",":o=10,n++;break;case";":o=9,n++;break;case"=":o=13,n++;break;case"/":n+1<l?(t=D.charAt(n+1),"*"===t&&n+2<l?(a=D.indexOf("*/",n+2),o=32,r=D.slice(n+2,a),n=a+2):n++):n++;break;case"[":a=D.indexOf("]",n+1),o=34,r=JSON.parse(D.slice(n,a+1)),n=a+1;break;default:n++}return m=n,o>=0&&(s={code:o,value:r}),s},$=function(e){let t=JMP.Marker[e];return void 0===t&&(t=e),t},ee=function(e,t){if(e.isTransparent){if(t===JMP.COLOR_BLACK&&JMP.DocumentStatic.isDarkMode())return JMP.COLOR_WHITE;if(t.toLowerCase()===JMP.COLOR_WHITE&&!JMP.DocumentStatic.isDarkMode())return JMP.COLOR_BLACK}return t};if(!t)return;G=void 0===t.tooltipLocations,G&&(t.tooltipLocations=[]);let{tooltipLocations:te,worldCoordinates:ie,worldTranslate:ae,xScaling:ne,yScaling:le}=t;const se=2**17;if(i=ne&&le&&(ne.scale.type===r.SCALE_LINEAR||ne.scale.type===r.SCALE_LOG)&&(le.scale.type===r.SCALE_LINEAR||le.scale.type===r.SCALE_LOG),D)for(m=0,f=0,l=0,JMP.ViewStatic.reset(R),R.lineWidth=F,s=J();s;s=J())switch(o=s.code,o){case 0:case 1:s=J(),s=J(),c=s?Math.min(Math.max(s.value,-131072),se):0,s=J(),s=J(),d=s?Math.min(Math.max(s.value,-131072),se):0,s=J(),s=J(),0===o?(i&&ie[f]&&!B?(a=JMP.ScalingStatic.valuesToPixel(ne,le,ie[f][0],ie[f][1],!1),te[f][0]=a.x,te[f][1]=a.y,W=a.x+v,X=a.y+w):(W=c+v,X=d+w,G||ie[f]||!ae[l-1]||(a=JMP.ScalingStatic.valuesToPixel(ne,le,ae[l-1].x,ae[l-1].y,!1),te[f][0]=a.x+c,te[f][1]=a.y+d)),G&&(te[f]=[H+c,Y+d],!i||ie[f]||B||(ie[f]=[JMP.ScalingStatic.pixelToValue(ne,H+c),JMP.ScalingStatic.pixelToValue(le,Y+d)]))):(i&&ie[f]&&ie[f].length>2&&!B?(a=JMP.ScalingStatic.valuesToPixel(ne,le,ie[f][2],ie[f][3],!1),te[f][2]=a.x,te[f][3]=a.y,f++,Z=a.x+v,q=a.y+w):(Z=c+v,q=d+w,G||ie[f]||!ae[l-1]||(a=JMP.ScalingStatic.valuesToPixel(ne,le,ae[l-1].x,ae[l-1].y,!1),te[f][2]=a.x+c,te[f][3]=a.y+d,f++)),null!==W?(Q=W===Z&&(X<=w+.5&&q>=w+P-1.5||X>=w+P-1.5&&q<=w+.5)||X===q&&(W<=v+.5&&Z>=v+O-1.5||W>=v+O-1.5&&Z<=v+.5),JMP.ViewStatic.drawCommand(R,W,X,R.lineWidth%2==1,"moveTo",Q),JMP.ViewStatic.drawCommand(R,Z,q,R.lineWidth%2==1,"lineTo",Q),W=X=Z=q=null):R.lineTo(Z,q),G&&(te[f]?(te[f][2]=H+c,te[f][3]=Y+d,i&&ie[f]&&!B&&(ie[f][2]=JMP.ScalingStatic.pixelToValue(ne,H+c),ie[f][3]=JMP.ScalingStatic.pixelToValue(le,Y+d)),f++):f>0?(te[f]=[H+te[f-1][te[f-1].length-2],Y+te[f-1][te[f-1].length-1],H+c,Y+d],!i||ie[f]||B||(ie[f]=[JMP.ScalingStatic.pixelToValue(ne,H+te[f-1][te[f-1].length-2]),JMP.ScalingStatic.pixelToValue(le,Y+te[f-1][te[f-1].length-1]),JMP.ScalingStatic.pixelToValue(ne,H+c),JMP.ScalingStatic.pixelToValue(le,Y+d)]),f++):(te[f]=[H+c,Y+d],!i||ie[f]||B||(ie[f]=[JMP.ScalingStatic.pixelToValue(ne,H+c),JMP.ScalingStatic.pixelToValue(le,Y+d)]),f++)));break;case 2:s=J(),s=J(),s=J(),I=s?ee(e,s.value):JMP.COLOR_LINE,s=J(),s=J(),R.strokeStyle=I;break;case 6:case 24:case 3:case 4:s=J(),s=J(),s=J(),6===o?R.stroke():24===o?R.fill("evenodd"):3===o?R.beginPath():R.closePath();break;case 5:s=J(),s=J(),c=s?s.value:0,s=J(),s=J(),d=s?s.value:0,s=J(),s=J(),u=s?s.value:0,s=J(),s=J(),h=s?s.value:0,s=J(),s=J(),g=s?s.value:0,s=J(),s=J(),S=!!s&&s.value,s=J(),s=J(),i&&ie[f]?(a=JMP.ScalingStatic.valuesToPixel(ne,le,ie[f][0],ie[f][1],!1),n=JMP.ScalingStatic.valuesToPixel(ne,le,ie[f][0],ie[f][2]+ie[f][1],!1),u=Math.abs(n.y-a.y),te[f][0]=a.x,te[f][1]=a.y,f++,W=a.x+v,X=a.y+w):(W=c+v,X=d+w),R.lineWidth%2==1?R.arc(.5+(W+JMP.EPSILON>>0),.5+(X+JMP.EPSILON>>0),u,h,g,S):R.arc(W+JMP.EPSILON+.5>>0,X+JMP.EPSILON+.5>>0,u,h,g,S),G&&(te[f]=[H+c,Y+d,u],i&&!ie[f]&&(ie[f]=[JMP.ScalingStatic.pixelToValue(ne,H+c),JMP.ScalingStatic.pixelToValue(le,Y+d),Math.abs(JMP.ScalingStatic.pixelToValue(le,u+(Y+d))-JMP.ScalingStatic.pixelToValue(le,Y+d))]),f++);break;case 25:s=J(),s=J(),c=s?s.value:0,s=J(),s=J(),d=s?s.value:0,s=J(),s=J(),x=s?s.value:0,s=J(),s=J(),L=s?s.value:0,s=J(),s=J(),i&&ie[f]?(a=JMP.ScalingStatic.valuesToPixel(ne,le,ie[f][0],ie[f][1],!1),W=a.x+v,X=a.y+w,n=JMP.ScalingStatic.valuesToPixel(ne,le,ie[f+3][2],ie[f+3][3],!1),Z=n.x+v,q=n.y+w,x=Z-W,L=q-X,te[f]=[a.x,a.y,n.x,a.y],te[f+1]=[a.x,n.y,n.x,n.y],te[f+2]=[a.x,a.y,a.x,n.y],te[f+3]=[n.x,a.y,n.x,n.y],f+=4):(W=c+v,X=d+w),R.lineWidth%2==1?R.rect(.5+(W+JMP.EPSILON>>0),.5+(X+JMP.EPSILON>>0),x+(x>0?.5:-.5)>>0,L+(L>0?.5:-.5)>>0):R.rect(W+JMP.EPSILON+.5>>0,X+JMP.EPSILON+.5>>0,x+(x>0?.5:-.5)>>0,L+(L>0?.5:-.5)>>0),G&&(c+=H,d+=Y,te[f]=[c,d,c+x,d],te[f+1]=[c,d+L,c+x,d+L],te[f+2]=[c,d,c,d+L],te[f+3]=[c+x,d,c+x,d+L],i&&!ie[f]&&(W=JMP.ScalingStatic.pixelToValue(ne,c),X=JMP.ScalingStatic.pixelToValue(le,d),Z=JMP.ScalingStatic.pixelToValue(ne,c+x),q=JMP.ScalingStatic.pixelToValue(le,d+L),ie[f]=[W,X,Z,X],ie[f+1]=[W,q,Z,q],ie[f+2]=[W,X,W,q],ie[f+3]=[Z,X,Z,q]),f+=4);break;case 26:s=J(),s=J(),c=s?s.value:1,s=J(),R.globalAlpha=c;break;case 16:s=J(),s=J(),s=J(),I=s?s.value:"",I=I.replace(/&quot;/g,'"'),I=I.split(JMP.LINE_SEPARATOR),s=J(),s=J(),s=J(),c=s?s.value:0,s=J(),s=J(),d=s?s.value:0,s=J(),s=J();for(let e=0;e<I.length;e++){const t=I[e],i=U*e-(I.length-1)*U;0===z?R.fillText(t,c+v,d+w+i):z<0?R.fillText(t,c-w,d+v+i):R.fillText(t,c+w,d-v+i)}break;case 17:s=J(),s=J(),c=s?s.value:0,s=J(),R.lineWidth=c*F;break;case 18:s=J(),s=J(),s=J(),I=s?s.value:"",s=J(),s=J(),U=JMP.SMALL_FONT_SIZE,b=I.search(/\d/),b>=0&&(A=I.search(/\D/),I.includes("px")&&(I=+I.slice(b,A),U=JMP.adjustFontSize(I))),R.font=U+"px "+JMP.FONT;break;case 19:s=J(),s=J(),s=J(),I=s?ee(e,s.value):JMP.COLOR_FILL,s=J(),s=J(),R.fillStyle=I;break;case 22:s=J(),s=J(),s=J(),s=J(),c=s?s.value:0,s=J(),s=J(),d=s?s.value:0,s=J(),s=J(),T=s?s.value:1,s=J(),s=J(),E=s?$(s.value):JMP.Marker.DOT,s=J(),s=J(),s=J(),p=s?s.value:JMP.COLOR_LINE,s=J(),s=J(),s=J(),i&&!V&&ie[f]?(a=JMP.ScalingStatic.valuesToPixel(ne,le,ie[f][0],ie[f][1],!1),T=ie[f][2]/-2,te[f][0]=a.x,te[f][1]=a.y,f++,W=a.x+v,X=a.y+w):(W=c+v,X=d+w),void 0===e.markerSizeAddend&&(e.markerSizeAddend=0),T<j&&(j=T),T>K&&(K=T),T=Math.max(JMP.MarkerSegmentStatic.MIN_MARKER_SIZE,T+e.markerSizeAddend),T=Math.max(T,.5);let t=.8;E!==JMP.Marker.DOT?t=T<6?1.3:T<10?.9:.8:E===JMP.Marker.DOT&&T>8&&(t=.75);let r=Math.max(T,.5)*t;JMP.MarkerSegmentStatic.drawMarker(R,W,X,r,E,p),G&&(te[f]=[H+c,Y+d,-2*T],!i||V||ie[f]||(ie[f]=[JMP.ScalingStatic.pixelToValue(ne,H+c),JMP.ScalingStatic.pixelToValue(le,Y+d),-2*T]),f++);break;case 30:s=J(),s=J(),s=J(),s=J(),c=s?s.value:0,s=J(),s=J(),d=s?s.value:0,s=J(),s=J(),x=s?s.value:0,s=J(),s=J(),L=s?s.value:0,s=J(),s=J(),s=J(),I=s?s.value:"",I=I.replace(/&quot;/g,'"'),s=J(),s=J(),s=J(),s&&14===s.code?(s=J(),M=s?s.value:JMP.COLOR_LINE,s=J()):M=void 0,s=J(),s=J(),s&&14===s.code?(s=J(),y=s?s.value:void 0,s=J()):y=void 0,s=J(),s=J(),s&&14===s.code?(s=J(),C=s?s.value:void 0,s=J()):C=void 0,s=J(),s=J(),R.save(),JMP.TextBoxStatic.drawBoxedText(R,c+v,d+w,x,L,I,U,M,y,C,!0),R.restore();break;case 23:s=J(),s=J(),c=s?s.value:0,s=J(),s=J(),d=s?s.value:0,s=J(),s=J(),i&&ae[l]?(c<0&&d<0?(a=JMP.ScalingStatic.valuesToPixel(ne,le,-ae[l].x,-ae[l].y,!1),a.x*=-1,a.y*=-1):a=JMP.ScalingStatic.valuesToPixel(ne,le,ae[l].x,ae[l].y,!1),W=a.x,X=a.y,l++):(W=c,X=d),R.translate(W,X),G&&(H+=W,Y+=X,!i||V||ae[l]||(W<0&&X<0&&ae[l-1]?(B=!1,ae[l]={x:-ae[l-1].x,y:-ae[l-1].y}):(B=!0,ae[l]={x:JMP.ScalingStatic.pixelToValue(ne,W),y:JMP.ScalingStatic.pixelToValue(le,X)})),l++);break;case 27:s=J(),s=J(),s=J(),I=s?s.value:"start",s=J(),s=J(),R.textAlign=I;break;case 28:s=J(),s=J(),s=J(),I=s?s.value:"alphabetic",s=J(),s=J(),R.textBaseline=I;break;case 29:s=J(),s=J(),_=s?s.value:0,s=J(),s=J(),R.rotate(_),z+=_;break;case 33:s=J(),s=J(),N=s?s.value:[],s=J(),s=J(),R.setLineDash(N);break;case 35:s=J(),s=J(),s=J(),R.save(),V=!0;break;case 36:s=J(),s=J(),s=J(),z=0,R.restore(),V=!1}void 0!==e.markerSizeAddend&&(e.minMarkerSize=j,e.maxMarkerSize=K),R.setLineDash([])},getTooltip:function(e,t,i,a){let n,l,s,o,r,c,d,u,h,g,S,m,f,T,p=i-e.x,E=a-e.y,b=e.description,A=null,_=null,x=null,L=null,N={x:p,y:E},I=!1,M=!1,y=JMP.ViewStatic.FUZZ_PIXELS,C=y*y;if(t){if(n=t.tooltipLocations,l=t.xScaling,s=t.yScaling,n)for(g=n.length,h=0;h<g;h++)c=n[h],A=null,_=null,4===c.length?(o=[c[0],c[2]],r=[c[1],c[3]],d=JMP.ViewStatic.findShortestDistanceToLine(p,E,o,r,true),u=d.shortestSquaredLength,u<C&&(A=JMP.TooltipModel(),_=JMP.Priority(u,JMP.PriorityStatic.TIP_PRIORITY_LINE),b&&A.addLine(void 0,b),I=JMP.ModelStatic.areAllTheSame(r),M=JMP.ModelStatic.areAllTheSame(o),I?JMP.TooltipStatic.addAxisValuesToTooltip(A,r[0],s):M&&JMP.TooltipStatic.addAxisValuesToTooltip(A,o[0],l))):3===c.length&&(S=c[2],S>0?(u=Math.abs(JMP.ViewStatic.distanceFromCircle(N,{x:c[0],y:c[1]},S)),u<C&&(A=JMP.TooltipModel(),_=JMP.Priority(u,Math.PI*S*S),b&&A.addLine(void 0,b),A.x=Math.max(e.x,e.x+c[0]-S),A.y=Math.max(e.y,e.y+c[1]-S))):(m=c[0]-p,f=c[1]-E,u=m*m+f*f,T=y-S,u<T*T&&(A=JMP.TooltipModel(),_=JMP.Priority(u,JMP.PriorityStatic.TIP_PRIORITY_POINT),JMP.TooltipStatic.addAxisValuesToTooltip(A,c[1],s),JMP.TooltipStatic.addAxisValuesToTooltip(A,c[0],l),A.x=e.x+c[0],A.y=e.y+c[1]-4))),!_||L&&!_.isHigherPriorityThan(L)||(x=A,L=_);return x}},getPriority:function(e,t,i){let a,n,l,s,o,r,c=null,d=null,u=i.x-e.x,h=i.y-e.y,g={x:u,y:h},S=JMP.ViewStatic.FUZZ_PIXELS,m=S*S;if(!t||i.width||i.height)return null;if(n=t.tooltipLocations,n){let t=n.length;for(let i=0;i<t;i++){if(a=n[i],c=null,4===a.length)l=[a[0],a[2]],s=[a[1],a[3]],o=JMP.ViewStatic.findShortestDistanceToLine(u,h,l,s,!0),r=o.shortestSquaredLength,r<m&&(c=JMP.Priority(r,JMP.PriorityStatic.TIP_PRIORITY_LINE,e));else if(3===a.length){let t=a[2];if(t>0)r=Math.abs(JMP.ViewStatic.distanceFromCircle(g,{x:a[0],y:a[1]},t)),r<m&&(c=JMP.Priority(r,Math.PI*t*t,e));else{let i=a[0]-u,n=a[1]-h,l=S-t;r=i*i+n*n,r<l*l&&(c=JMP.Priority(r,JMP.PriorityStatic.TIP_PRIORITY_POINT,e))}}!c||d&&!c.isHigherPriorityThan(d)||(d=c)}}return d},menuProvider:function(e){let t;return void 0!==e.markerSizeAddend&&(t=[{id:JMP.MarkerSegmentStatic.MENU_ID_LARGER_MARKER,label:JMP.MarkerSegmentStatic.MENU_LARGER_MARKERS},{id:JMP.MarkerSegmentStatic.MENU_ID_SMALLER_MARKER,label:JMP.MarkerSegmentStatic.MENU_SMALLER_MARKERS}],e.minMarkerSize+e.markerSizeAddend===JMP.MarkerSegmentStatic.MAX_MARKER_SIZE?t[0].isDisabled=!0:e.maxMarkerSize+e.markerSizeAddend===JMP.MarkerSegmentStatic.MIN_MARKER_SIZE&&(t[1].isDisabled=!0)),t},menuHandler:function(e,t){let i=!1;if(void 0!==e.markerSizeAddend){if(t===JMP.MarkerSegmentStatic.MENU_ID_LARGER_MARKER)e.minMarkerSize+e.markerSizeAddend<JMP.MarkerSegmentStatic.MAX_MARKER_SIZE&&(e.markerSizeAddend++,i=!0);else e.maxMarkerSize+e.markerSizeAddend>JMP.MarkerSegmentStatic.MIN_MARKER_SIZE&&(e.markerSizeAddend--,i=!0);i&&e.sendEvent(JMP.SegmentStatic.EVENT_SEGMENT_CHANGED)}},hasMenu:function(e){return e.includes("JMP.MarkerSegmentStatic.drawMarker")}};return e}(),JMP.ScriptSegment=function(e){"use strict";let t,i=new d(e),a=function(){return t||(t={},JMP.ScriptSegmentStatic.getCache(i,t)),t};return i.script="",i.lineWidthScale=1,i.markerSizeAddend=void 0,i.minMarkerSize=void 0,i.maxMarkerSize=void 0,i.isTransparent=!1,i.draw=function(){JMP.ScriptSegmentStatic.draw(i,a())},i.getTooltip=function(e,t){return JMP.ScriptSegmentStatic.getTooltip(i,a(),e,t)},i.getPriority=function(e){return JMP.ScriptSegmentStatic.getPriority(i,a(),e)},i.menuProvider=function(){return JMP.ScriptSegmentStatic.menuProvider(i)},i.menuHandler=function(e){JMP.ScriptSegmentStatic.menuHandler(i,e)},i.setScalable(JMP.SegmentStatic.SCALABLE_SERVER),i.setPannableWithoutAxis(!1),i},JMP.ShapeSegmentStatic=function(){"use strict";let e={},i=JMP.ModelStatic.blend,a=JMP.ScalingStatic.valuesToPixel,l=JMP.ModelStatic.isBetween,s=JMP.ViewStatic.calculateYIntercept,o=JMP.ViewStatic.calculateXIntercept,{calculateBoundingRectangle:d,calculateNumSegments:u,calculatePathCentroid:h,drawPath:g,isCloseType:S,rectangleIntersectsPath:m}=JMP.GPathStatic,f=1e-6,T=function(e,t,i){let a,{groupRowIndices:n,fillColors:l}=e,{rowStates:s,hiddenAggregates:o,isSized:r}=t,c=!0;!e.columns||(c=l?l[i]:void 0);let d=!0;return r&&t.sizedBounds&&void 0!==t.sizedBounds[i]&&!c&&(d=t.sizedBounds[i].width>0&&t.sizedBounds[i].height>0),!!d&&(!s||(o?!o[i]:(a=n?n[i]:i,!s.hidden[a])))},p=function(e,t){let i,a=e.length;for(i=0;i<a;i++)if(e[i].val>=t)return e[i].n;return-1},E=function(e,t,i,a,n){let r,c,d,u,h,g,S,m,T,E,b,A,_,x,L,N,I=[],M=[],y=t.length,C=e-f,R=e+f,v=n?o:s;for(n?(L=function(){return u},N=function(){return g},x=function(t){a[E].y.push(t<=e?C:R),a[E].x.push(b)}):(L=function(){return d},N=function(){return h},x=function(t){a[E].x.push(t<=e?C:R),a[E].y.push(b)}),r=0;r<y;r++)d=t[r],u=i[r],c=(r+1)%y,h=t[c],g=i[c],S=L(),m=N(),null!==S&&null!==m&&l(e,S,m)&&I.push({val:v(e,d,u,h,g),n:c});for(I.sort((function(e,t){return e.val-t.val})),r=0;r<I.length;r+=2)T=I[r].n,I[r].n=I[r+1].n,I[r+1].n=T;for(a.length=0,a.push({x:[],y:[]}),E=0,r=0;r<y;r++)d=t[r],u=i[r],c=(r+1)%y,h=t[c],g=i[c],a[E].x.push(d),a[E].y.push(u),S=L(),m=N(),l(e,S,m)&&(b=v(e,d,u,h,g),x(S),A=p(I,b),M[E]=A,_=M.indexOf(c),-1!==_?E=_:(E=M.length,M.push(-1),a.push({x:[],y:[]})),x(m))},b=function(e,t,i,a,n,l,s,o){let r,c,d,u,h,g,S,m=[],T=[],p=[],b={},A=function(t){return t.y[0]<=e};for(s.x.length=0,s.y.length=0,s.cmds.length=0,d=t;d<i;){if(l[d]===JMP.GPathStatic.POINT_TYPE_MOVE_TO&&(m.length=0,T.length=0),u=a[d],h=n[d],u!==e||o||(u-=f),h===e&&o&&(h-=f),m.push(u),T.push(h),l[d]===JMP.GPathStatic.POINT_TYPE_MOVE_TO_CLOSE||l[d]===JMP.GPathStatic.POINT_TYPE_LINE_TO_CLOSE)for(E(e,m,T,p,o),o&&(p=p.filter(A)),S=p.length,r=0;r<S;r++)if(b=p[r],g=b.x.length,g>1){for(s.x=s.x.concat(b.x),s.y=s.y.concat(b.y),s.cmds.push(JMP.GPathStatic.POINT_TYPE_MOVE_TO),g--,c=1;c<g;c++)s.cmds.push(JMP.GPathStatic.POINT_TYPE_LINE_TO);s.cmds.push(JMP.GPathStatic.POINT_TYPE_LINE_TO_CLOSE)}d++}},A=function(e,t,i,a){let n,l=!1,s=!1,o=!1,r=t;for(;r<i&&!1===o;)n=a[r],null!==n&&(l=l||n<e,s=s||n>e,o=l&&s),r++;return o},_=function(e,t,i,a){const{getCompactUSInset:n,translateToInset:l}=JMP.ScalingStatic;let s=1,o={},r={};for(let l=e;l<t&&0!==s;l++)s=n({x:i[l],y:a[l]},o,r,!0);if(0!==s)for(let n=e;n<t;n++){let e=l(i[n],a[n],o,r);i[n]=e.x,a[n]=e.y}},x=function(e,t,n,l,s,o,r,c,d,g,S,m,f,T,p){let E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F,B,{sizeFactors:V,sizeXOffsets:k,sizeYOffsets:G}=e,H={},Y=0,U=0,z={},W={},X=[],Z=[],q=[],j=1/0,K=1/0,Q=-1/0,J=-1/0,$=!1,ee=function(){for(F=d?u(r,c,w,O,P,D):1,C=0;C<F;C++)L=i(w,P,(C+1)/F),N=i(O,D,(C+1)/F),z=a(r,c,L+Y,N+U),I=z.x,M=z.y,Number.isFinite(I)&&Number.isFinite(M)&&(_&&(I-=E,M-=b,I*=A,M*=A,I+=E,M+=b),j=Math.min(j,I),Q=Math.max(Q,I),K=Math.min(K,M),J=Math.max(J,M)),X[y]=I,Z[y]=M,q[y]=C<F-1||!$?JMP.GPathStatic.POINT_TYPE_LINE_TO:R,y++};for(_=!(!T||!V),_&&(A=V[f]&&V[f]>0?Math.sqrt(V[f]):0,Y=k[f],U=G[f]),!p||p&&!p[f]?(h(t,n,l,s,o,g[f],H),p&&(p[f]=H)):H=p[f],H=a(r,c,H.x+Y,H.y+U),E=H.x,b=H.y,y=0,x=t;x<n;)R=o[x],v=JMP.GPathStatic.CMDS[R],R===JMP.GPathStatic.POINT_TYPE_MOVE_TO&&(B=x),"lineTo"===v?($=!1,w=L,O=N,P=l[x],D=s[x],null!==w&&null!==O&&null!==P&&null!==D&&ee(),R===JMP.GPathStatic.POINT_TYPE_LINE_TO_CLOSE&&($=!0,w=l[x],O=s[x],P=l[B],D=s[B],null!==w&&null!==O&&null!==P&&null!==D&&ee())):(L=l[x],N=s[x],null!==L&&null!==N&&(z=a(r,c,L+Y,N+U),I=z.x,M=z.y,Number.isFinite(I)&&Number.isFinite(M)&&(_&&(I-=E,M-=b,I*=A,M*=A,I+=E,M+=b),j=Math.min(j,I),Q=Math.max(Q,I),K=Math.min(K,M),J=Math.max(J,M))),X[y]=I,Z[y]=M,q[y]=R,y++),x++;S[f]={x:X,y:Z,pointTypes:q,cx:E,cy:b},W.x=j,W.width=Q-j,W.y=K,W.height=J-K,m[f]=W},L=function(e,t){let i,n,l,s,o,c,u,h,{xValues:g,yValues:S,pathLengths:m,pointTypes:f,labelXPos:p,labelYPos:E}=e,L=0,N=0,I={x:[],y:[],cmds:[]},{nPaths:M,xScaling:y,yScaling:C,isGeodesic:R,offsets:v,bounds:w,isSized:O,scaledPaths:P,scaledBounds:D,sizedPaths:F,sizedBounds:B,labelOffsets:V,centroids:k}=t;for(R&&(l=JMP.ScalingStatic.toLon180(y.valueOrigin+y.getValueRange()/2+180)),i=0;i<M;i++){if(N+=m[i],v[i]=N,!w[i]&&T(e,t,i)){R&&A(l,L,N,g)?(b(l,L,N,g,S,f,I),s=0,o=I.x.length,c=I.x,u=I.y,h=I.cmds):(s=L,o=N,c=g,u=S,h=f);let t={...y};t.scale={...y.scale};let m={...C};m.scale={...C.scale},y.scale.type===r.SCALE_GEODESIC_US&&(_(s,o,c,u),t.scale.type=r.SCALE_GEODESIC,m.scale.type=r.SCALE_GEODESIC),d(s,o,c,u,t,m,w,i),x(e,s,o,c,u,h,t,m,R,w,P,D,i,!1,k),O&&x(e,s,o,c,u,h,t,m,R,w,F,B,i,!0),p&&(p[i]||E[i])&&(n=a(t,m,p[i],E[i]),O?(n.x-=F[i].cx,n.y-=F[i].cy):(n.x-=P[i].cx,n.y-=P[i].cy),V[i]=n)}L=N}},N=function(e,t,i,a,n,l){let s,o;return i<e&&n<e||a>t&&l>t||a<t&&l<t||a===l?0:(s=(a-t)/(a-l),o=i+s*(n-i),o<e?0:a>t?l<t?2:1:a<t?l>t?-2:-1:l>t?-1:l>t?1:0)},I=function(e,t,i){let a,n,l,s=0,o=i.x.length,r=i.x,c=i.y,d=i.pointTypes,u=o;for(a=0;a<o;a++)n=d[a],n===JMP.GPathStatic.POINT_TYPE_MOVE_TO?u=a:s+=N(e,t,r[a-1],c[a-1],r[a],c[a]),n!==JMP.GPathStatic.POINT_TYPE_MOVE_TO_CLOSE&&n!==JMP.GPathStatic.POINT_TYPE_LINE_TO_CLOSE||(s+=N(e,t,r[a],c[a],r[u],c[u]));return 0!=(1&s)||(l=s/2>>0,0!=(1&l))},M=function(e,t,i){let a,n,l,s,o={},r=!1;if(JMP.ViewStatic.rectanglesIntersect(e,i)){for(n=t.x,l=t.y,s=n.length,a=0;a<s&&!r;a++)o.x=n[a],o.y=l[a],Number.isFinite(o.x)&&Number.isFinite(o.y)&&JMP.ViewStatic.pointInRect(o,e)&&(r=!0);r||(o.x=e.x+e.width/2,o.y=e.y+e.height/2,JMP.ViewStatic.pointInRect(o,i)&&(r=I(o.x,o.y,t)))}return r},y=function(e,t,i,a){let n,l,s,o,r,c=t.pointTypes,d=t.x,u=t.y,h=d.length;for(e.beginPath(),n=0;n<h;n++)l=d[n],s=u[n],o=c[n],null!==l&&null!==s&&(r=JMP.GPathStatic.CMDS[o],e[r](l,s)),S(o)&&e.closePath();i&&e.fill(),a&&e.stroke()},C=function(e,t,i){let a,n,l,s,o,r,c,d,u,h,g,S,m,{g:f,showLabels:T,groupRowIndices:p}=e,E=!1,b=t.rowStates;if(!b||!T||!T[i])return;let{aggregatedRowIndices:A,scaledPaths:_,isSized:x,sizedPaths:L,labelOffsets:N,labelValues:I}=t;if(r=b.labeled,c=p?p[i]:i,A[i])for(s=A[i].length,o=0;o<s&&!E;o++)c=A[i][o],E=r[c];for(l=i,n=I?I[l]:null,a=n?n.length:0,u=Math.min(a,3),d="",c=0;c<u;c++)d+=n[c].join(", "),c<u-1&&(d+="; ");a>3&&(d+="; ..."),x?(h=L[i].cx,g=L[i].cy):(h=_[i].cx,g=_[i].cy),S=N[i]?N[i].x:0,m=N[i]?N[i].y:0,f.fillStyle=JMP.COLOR_BLACK,f.textAlign="center",JMP.TextBoxStatic.drawOffsetText(f,h,g,S,m,d,JMP.LARGE_FONT_SIZE,0,!0)};return e.getCache=function(e,i,a=!1){let n,l,s,o,u,h,g,S,m,f,T,p,E,b,A,_,x,N,I,M,y,C,R,v,{xValues:w,yValues:O,pathLengths:P,sizeFactors:D,shapeTerm:F,colorData:B,sizeData:V,rowIndices:k,legend:G}=e,H=0,Y=0,U=c.rgbToHexString,z=[],W=[],X=[];if(a)p=i.nPaths,E=i.xScaling,b=i.yScaling,A=i.isGeodesic,_=i.isSized,x=i.rowStates,y=i.hiddenAggregates;else{if(E=JMP.Scaling(e.scale[t.ROLE_X],e.x+.5>>0,e.width-1),b=JMP.Scaling(e.scale[t.ROLE_Y],e.y+e.height-.5>>0,1-e.height),A=r.isGeodesic(E.scale,b.scale),_=!!D,p=P.length,e.columns&&(n=e.columns.getLabeledColumns(),l=e.columns.getTipImageColumn(),s=e.columns.getColumn(t.ROLE_COLOR),o=e.columns.getColumn(t.ROLE_FREQ),F&&(x=e.columns.rowStates)),e.groupCalculation&&(k&&e.groupCalculation.setRowIndices([k]),k=e.groupCalculation.getResult()[0][e.groupIndex]),F&&x){if(T=JMP.UniqueStatic.getValues(F.inputVariables,x,e.hasMissingLevels,!0,void 0,void 0,void 0,!0)[0],N=JMP.FrequencyStatic.getRows(F.inputVariables,T,x,k,!1,!1,!0),e.rowIndices)if(e.groupCalculation){let t=JMP.FrequencyStatic.getRows(F.inputVariables,T,x,e.groupCalculation.rowIndices[0],!1,!1,!0);N=N.filter((function(e,i){return t[i].length>0}))}else N=N.filter((function(e){return e.length>0}));N&&(I=[],N.forEach((e=>{I=I.concat(e)}))),z=JMP.ViewStatic.createLabels(p,n,N),N&&(M=[],y=[],o&&(C=o.data),JMP.ViewStatic.setSelectedAggregates(N,x,e.isExcludedUsed,M),JMP.ViewStatic.setHiddenAggregates(N,x,e.isExcludedUsed,y)),s&&(v=s.format,s.isContinuous()&&(v=JMP.ViewStatic.getProperFormat(s,{xScale:E.scale,yScale:b.scale,xColumns:void 0,yColumns:void 0,colorColumn:s,legendFormat:G?G.getGradientFormat():void 0})))}i.nPaths=p,i.xScaling=E,i.yScaling=b,i.isGeodesic=A,i.isSized=_,i.rowStates=x,i.hiddenAggregates=y}if(i.offsets=[],i.bounds=[],i.scaledPaths=[],i.centroids=[],i.scaledBounds=[],i.sizedPaths=[],i.sizedBounds=[],i.labelOffsets=[],L(e,i),e.absentXValues)for(w=e.absentXValues,O=e.absentYValues,P=e.absentPathLengths,R=P.length,H=0,Y=0,u=0;u<R;u++)Y+=P[u],W[u]=Y,d(H,Y,w,O,E,b,X,u),H=Y;if(!a&&x&&!e.fillColors){for(S=[],g=x.color,h=e.rowIndices?e.rowIndices.length:g.length,u=0;u<h;u++)f=e.rowIndices?e.rowIndices[u]:u,m=g[f],0===m[0]&&0===m[1]&&0===m[2]||(S[u]=U(m));e.fillColors=S}i.absentOffsets=W,i.absentBounds=X,a||(i.labelValues=z,i.aggregatedRowIndices=N,i.allAggregatedRowIndices=I,i.selectedAggregates=M,i.hiddenAggregates=y,i.colorData=B,i.colorFormat=v,i.sizeData=V,i.freqData=C,i.labeledColumns=n&&n.length>0?n:void 0,i.tipImageColumn=l,i.isEventReceived=!1);const Z=x&&x.labeled.some((e=>e));e.setScalable(Z?JMP.SegmentStatic.SCALABLE_SERVER:JMP.SegmentStatic.SCALABLE_CLIENT_SERVER)},e.draw=function(e,t){let i,a,n,l,s,o,r,d,u,h,S,f,p,E,{g:_,xValues:x,yValues:L,pointTypes:N,lineWidth:I,alpha:M,outlineColor:R,fillColors:v}=e,w=0,O=void 0!==R,P=void 0!==v&&v.length>0,D=!1,F=!1,B={},V={x:[],y:[],cmds:[]},k=_.globalAlpha,G=[],H=[],Y=[];if(!t)return;let{nPaths:U,offsets:z,bounds:W,scaledPaths:X,sizedPaths:Z,scaledBounds:q,xScaling:j,yScaling:K,isGeodesic:Q,isSized:J,rowStates:$,aggregatedRowIndices:ee,selectedAggregates:te}=t;for(E=function(){let e,t,a;if(a=Y.length,a>0)for(p=c.getHiddenColor(R),_.strokeStyle=p,i=0;i<a;i++)y(_,Y[i],!1,!0);if(t=H.length,t>0)for(_.strokeStyle=R,i=0;i<t;i++)y(_,H[i],!1,!0);if(e=G.length,e>0)for(p=c.getSelectedColor(R),_.strokeStyle=p,i=0;i<e;i++)y(_,G[i],!1,!0)},JMP.ViewStatic.reset(_),M<1&&(_.globalAlpha=M),O&&(_.strokeStyle=R,void 0===I&&(I=1),_.lineWidth=I,_.lineJoin="bevel"),B.x=j.pixelOrigin,B.width=j.pixelRange,B.y=K.pixelOrigin+K.pixelRange,B.height=-K.pixelRange,Q&&(r=JMP.ScalingStatic.toLon180(j.valueOrigin+j.getValueRange()/2+180)),$&&(d=$.selectedIndices,u=$.nSelectedIndices,ee&&JMP.ViewStatic.setSelectedAggregates(ee,$,e.isExcludedUsed,te)),e.fillSelectionMode&&(D=e.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.DARKER,F=e.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED),i=0;i<U;i++)a=z[i],T(e,t,i)&&W[i]&&m(B,w,a,x,L,j,K,W[i])&&($&&(h=ee?te[i]:d.lastIndexOf(i,u-1)>=0),n=v?v[i]:void 0,h&&D&&(n=n?c.fromHexString(n).shadeRelative(.5).getHexString():JMP.COLOR_BLACK),l=e.fillPatterns&&e.fillPatterns[i]?JMP.ViewStatic.getFillPatternCanvas(n,e.fillPatterns[i]):void 0,S=!J&&(P||h)&&n,f=O&&(!J||P&&n||!$),S&&(_.fillStyle=l||n),y(_,X[i],S,f),h&&F&&!J&&(_.fillStyle=l?JMP.COLOR_FILL_PATTERN_SELECT:JMP.ViewStatic.getDiagPatternCanvas(n||JMP.COLOR_WHITE),_.fill())),w=a;if(E(),J){for(w=0,i=0;i<U;i++)a=z[i],T(e,t,i)&&q[i]&&m(B,w,a,x,L,j,K,q[i])&&($&&(h=te[i]),n=v?v[i]:void 0,h&&D&&(n=n?c.fromHexString(n).shadeRelative(.5).getHexString():JMP.COLOR_BLACK),l=e.fillPatterns&&e.fillPatterns[i]?JMP.ViewStatic.getFillPatternCanvas(n,e.fillPatterns[i]):void 0,S=(P||h)&&n,f=!P&&O||""===n,S&&(_.fillStyle=l||n),y(_,Z[i],S,f),h&&F&&(_.fillStyle=l?JMP.COLOR_FILL_PATTERN_SELECT:JMP.ViewStatic.getDiagPatternCanvas(n||JMP.COLOR_WHITE),_.fill())),w=a;E()}if(e.absentXValues)for(x=e.absentXValues,L=e.absentYValues,N=e.absentPointTypes,s=e.absentFillColor,z=t.absentOffsets,W=t.absentBounds,w=0,o=z.length,_.strokeStyle=R,i=0;i<o;i++)a=z[i],m(B,w,a,x,L,j,K,W[i])&&(s&&(_.fillStyle=s),Q&&A(r,w,a,x)?(b(r,w,a,x,L,N,V),g(_,0,V.x.length,V.x,V.y,V.cmds,j,K,s,O)):g(_,w,a,x,L,N,j,K,s,O)),w=a;for(i=0;i<U;i++)T(e,t,i)&&C(e,t,i);M<1&&(_.globalAlpha=k)},e.select=function(e,t,i,a){let n,l,s,o=e.fillColors&&e.fillColors.length>0,r=[],c=i.width||i.height,d=!1,u=!1;if(!t||!t.rowStates)return;let{nPaths:h,scaledPaths:g,sizedPaths:S,scaledBounds:m,sizedBounds:f,isSized:p,rowStates:E,aggregatedRowIndices:b,selectedAggregates:A}=t;for(s=E.selected,b&&a===JMP.ViewStatic.SELECT_ONLY&&(A.length=0),c&&L(e,t),n=!p||o,l=0;l<h&&!d;l++)T(e,t,l)&&(c?(n&&M(i,g[l],m[l])||f[l]&&M(i,S[l],f[l]))&&(b?r=r.concat(b[l]):r.push(l)):(f[l]&&JMP.ViewStatic.pointInRect({x:i.x,y:i.y},f[l])&&I(i.x,i.y,S[l])||n&&m[l]&&JMP.ViewStatic.pointInRect({x:i.x,y:i.y},m[l])&&I(i.x,i.y,g[l]))&&(b?(r=r.concat(b[l]),u=A[l]):(r.push(l),u=s[l]),d=!0));JMP.ViewStatic.selectRows(E,a,r,u)},e.getTooltip=function(e,i,a,n){if(!e.columns)return null;let l,s,o,r,c,d,u,h,g,S,m,f,p=e.columns.getColumn(t.ROLE_SHAPE),E=e.columns.getColumn(t.ROLE_COLOR),b=e.columns.getColumn(t.ROLE_SIZE),{statistic:A,legend:_}=e,x=Number.MAX_VALUE,L=JMP.TooltipModel();if(!i||!i.rowStates)return null;let{nPaths:N,scaledPaths:M,sizedPaths:y,scaledBounds:C,sizedBounds:R,rowStates:v,aggregatedRowIndices:w,allAggregatedRowIndices:O,labeledColumns:P,tipImageColumn:D,colorData:F,colorFormat:B,sizeData:V}=i;if(f=function(t,l){for(s=0;s<N;s++)T(e,i,s)&&l[s]&&JMP.ViewStatic.pointInRect({x:a,y:n},l[s])&&I(a,n,t[s])&&(r=t[s].cx-a,c=t[s].cy-n,d=r*r+c*c,d<x&&(x=d,o=s))},f(y,R),x===Number.MAX_VALUE&&(f(M,C),x===Number.MAX_VALUE))return null;if(_&&(l=_.getGradientFormat()),P?L.addLabeledColumns(e,P,w[o],void 0,void 0,E,l):w.length>0&&L.addLineFromValues(JMP.TooltipModelStatic.TIP_ROW,w[o].map((function(e){return e+1}))),p){u=JMP.TooltipStatic.getLabel(p);const e=w[o][0];L.addLine(u,p.data[e])}if(S=e.columns.getColumn(t.ROLE_FREQ),F)if(E.isContinuous()||_&&_.isGradient(e.legendOffset,e.legendModelID))u=JMP.TooltipStatic.getLabel(E,A),h=JMP.MomentsStatic.getValue([E],S,v,[w[o]],O,A,e.hasMissingLevels,!1,!0)[0][0],g=JMP.ViewStatic.getPreciseFormat(h,0,B,!0,E.isIntegral(),A),L.addLine(u,h,g);else{const t=void 0!==e.colorStatistic?e.colorStatistic:JMP.MomentsStatic.STAT_MEAN;u=JMP.TooltipStatic.getLabel(E,t),h=F[o];const i=e.colorTerm.getCharLevels();h=JMP.ModelStatic.getCategoricalString(h,i,E),L.addLine(u,h)}return V&&(u=JMP.TooltipStatic.getLabel(b,A),L.addLine(u,e.sizeTerm.getValueString(V[o]))),m=JMP.NStatic.getValues(void 0,S,v,[w[o]])[0],JMP.TooltipStatic.addLineForRows(L,m[0].count,m[0].countSelected,m[0].countHidden,!!S),D&&(s=w?w[o][0]:o,L.imageSrc=D.data[s],L.addLine(D.name,L.imageSrc?"":JMP.ModelStatic.TIP_MISSING)),L.x=a+3,L.y=n-3,L},e.getPriority=function(e,t,i){if(!e.columns)return null;let a,n,l,s,o,r,c=Number.MAX_VALUE,d=JMP.Priority(),u=i.x,h=i.y;if(!t||!t.rowStates)return null;let{nPaths:g,scaledPaths:S,sizedPaths:m,scaledBounds:f,sizedBounds:p,isSized:E}=t;return r=function(i,r){for(a=0;a<g;a++)T(e,t,a)&&r[a]&&JMP.ViewStatic.pointInRect({x:u,y:h},r[a])&&I(u,h,i[a])&&(l=i[a].cx-u,s=i[a].cy-h,o=l*l+s*s,o<c&&(c=o,n=a))},r(m,p),c===Number.MAX_VALUE&&(r(S,f),c===Number.MAX_VALUE)?null:(d.priority=E?p[n].w*p[n].h:f[n].w*f[n].h,d.distance=c,d.seg=e,d)},e.onRowStatesEvent=function(e,t,i){switch(i.type){case n.EVENT_SELECTED:case n.EVENT_HIDDEN:t.rowStates&&t.aggregatedRowIndices&&(!t.isEventReceived&&i.type===n.EVENT_SELECTED||i.type===n.EVENT_HIDDEN)&&(JMP.ViewStatic.setHiddenAggregates(t.aggregatedRowIndices,t.rowStates,e.isExcludedUsed,t.hiddenAggregates),L(e,t),t.isEventReceived=!0)}},e}(),JMP.ShapeSegment=function(e){"use strict";let i,a=new d(e),n=!1,l=function(){n=!0},s=function(){return a.pathLengths&&a.scale[t.ROLE_X]&&a.scale[t.ROLE_Y]&&(i?n&&(JMP.ShapeSegmentStatic.getCache(a,i,n),n=!1):(i={},JMP.ShapeSegmentStatic.getCache(a,i),i.xScaling.scale.addEventListener(l),i.yScaling.scale.addEventListener(l))),i};return a.fillColors=void 0,a.absentFillColor=void 0,a.outlineColor=void 0,a.lineWidth=1,a.alpha=1,a.pathLengths=void 0,a.xValues=void 0,a.yValues=void 0,a.pointTypes=void 0,a.absentPathLengths=void 0,a.absentXValues=void 0,a.absentYValues=void 0,a.absentPointTypes=void 0,a.labelValues=void 0,a.showLabels=void 0,a.labelXPos=void 0,a.labelYPos=void 0,a.sizeFactors=void 0,a.sizeXOffsets=void 0,a.sizeYOffsets=void 0,a.sizeData=void 0,a.colorData=void 0,a.groupRowIndices=void 0,a.draw=function(){JMP.ShapeSegmentStatic.draw(a,s())},a.select=function(e,t){JMP.ShapeSegmentStatic.select(a,s(),e,t)},a.getTooltip=function(e,t){return JMP.ShapeSegmentStatic.getTooltip(a,s(),e,t)},a.getPriority=function(e){return JMP.ShapeSegmentStatic.getPriority(a,s(),e)},a.onRowStatesEvent=function(e){a.shapeTerm&&(JMP.SegmentStatic.onRowStatesEvent(a,e),JMP.ShapeSegmentStatic.onRowStatesEvent(a,s(),e))},a},JMP.SpacerBoxStatic=function(){"use strict";let e={draw:function(e){let t=e.g;void 0!==e.fillColor&&(t.fillStyle=e.fillColor,t.fillRect(e.x,e.y,e.width,e.height))}};return e}(),JMP.SpacerBox=function(e){"use strict";let t=new d(e);return t.fillColor=void 0,t.draw=function(){JMP.SpacerBoxStatic.draw(t)},t};class b extends d{static TIP_REFERENCE_VALUE="Reference value";static TIP_CUMULATIVE_VALUE="Cumulative value";static#et=2;static#tt=14;colSpan=[];rowSpan=[];cache={};cells=[];#it;constructor(e){super(e),this.#it=!1,this.getRowHeight=this.getRowHeight.bind(this),this.onPointerEvent=this.onPointerEvent.bind(this),this.onPointerEventTable=this.onPointerEventTable.bind(this)}draw(){this.cache=void 0;const e=this.getCache();let t,i,a,n,l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,A,_=this.g,x=this.x,L=this.y,N=this.width,I=(this.height,this.cells),M=I.length,y=0,C=1,R=[],v=b.hasType(I,"LegendCell"),w=e.xCol,O=e.rowHeight;for(_.font=JMP.LARGE_FONT_SIZE+"px "+JMP.FONT,_.textBaseline="middle",y=L+.75*O,t=0;t<M;t++){for(f=I[t].length,i=0;i<f;i++)if(T=I[t][i],T)switch(T.type){case"LegendCell":-1!==T.width&&(_.fillStyle=T.color,T.showFill?_.fillRect(w[i]+.5>>0,y-O/2+.5>>0,O,O):_.fillRect(w[i],y-2>>0,w[i+1]-w[i]-4,2)),T.showMarker&&JMP.MarkerSegmentStatic.drawMarker(_,w[i]+2*b.#et+(w[i+1]-w[i]-b.#tt)/2,y-1>>0,T.size,T.shape,T.color);break;case"BarBox":c=T.origin,d=T.range,u=T.width/d,r=T.value,S=T.cumulativeValue,g=r,g<c&&(g=c),g>c+d&&(g=c+d),h=u*(c>=0?g-c:r>=0?g:-g),_.fillStyle=JMP.COLOR_BAR,_.strokeStyle=JMP.COLOR_LINE,_.lineWidth=1,_.beginPath(),l=.5+(w[i]>>0),s=.5+(y-O/2>>0),o=(O>>0)-b.#et,_.rect(l,s,h>>0,o),_.fill(),void 0!==S&&(m=S,m<c&&(m=c),m>c+d&&(m=c+d),m!==g&&(l+=u*(m-c)>>0,_.moveTo(l,s),_.lineTo(l,s+o))),_.stroke();break;case"TextBox":JMP.TextBoxStatic.draw(_,{x:.5+(w[i]>>0),y:.5+(y-O/2>>0),width:T.width,height:T.height},T.text,T.orientation,T.color,JMP.TextBoxStatic.ALIGNMENT_CENTER,T.isBulleted);break;default:if(_.fillStyle=JMP.ViewStatic.getTextColor(),0===t&&v){for(R=JMP.TextBoxStatic.wrap(_,1===f?N-2*(w[i]-x):w[i+1]-w[i],[T.text]),n=R.length,a=0;a<n;a++)_.fillText(R[a],w[i],y+O*a);C<n&&(C=n)}else{const e="TH"===T.type?JMP.LARGE_FONT_SIZE:JMP.TEXT_FONT_SIZE;_.font=e+"px "+JMP.FONT,p="",T.style&&(p=T.style),E=T.text,l=p.includes("left")?w[i]:p.includes("center")?w[i]+(w[i+1]-w[i]-_.measureText(E).width)/2:w[i+1]-_.measureText(E).width-2*b.#et,E&&(0===t?_.fillText(E,l,y):(A={x:l,y:y-O/2,width:w[i+1]-l,height:O},JMP.TextBoxStatic.drawWrappedText(_,A,E,e,JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,JMP.ViewStatic.getTextColor(),JMP.TextBoxStatic.ALIGNMENT_LEFT,JMP.TextBoxStatic.ALIGNMENT_MIDDLE,!1,0,!0,!0)))}}y+=O,C>1&&(y+=O*(C-1),C=1)}}getRowHeight(){return this.getCache().rowHeight}onPointerEvent(e){let t,i,a,n,l,s,o,r,c,d,u,h,g=this.cells,S=g.length,m=this.cache.xCol,f=this.cache.rowHeight,T=this.getOffset();if(r=e.clientX+window.pageXOffset-T.x,c=e.clientY+window.pageYOffset-T.y,this.#it){if(d={x:this.x,y:this.y,width:this.width,height:this.height},u={x:r,y:c},h=JMP.ViewStatic.pointInRect(u,d),h)switch(e.type){case"pointerdown":case"pointermove":case"pointerover":JMP.TooltipStatic.updateTooltip(e,JMP.TooltipModel([JMP.LegendBoxStatic.TIP_LEGEND]))}}else{for(a=this.y+.75*f,l=.5+(a-f/2>>0),t=(c-l)/f>>0,o=void 0,s=0<=t&&t<S?g[t].length:0,i=0;i<s&&!o;i++)g[t][i]&&"BarBox"===g[t][i].type&&m[i]<=r&&r<=m[i+1]&&(o=g[t][i],n=m[i],l=a-f/2+t*f-2);if(o)switch(e.type){case"pointerdown":case"pointermove":case"pointerover":JMP.TooltipStatic.updateTooltip(e,JMP.TooltipModel(this.getTooltipLines(o.origin,o.range,o.value,o.cumulativeValue),void 0,void 0,n,l))}else this.x<=r&&r<this.x+this.width&&this.y<=c&&c<this.y+this.height&&JMP.TooltipStatic.updateTooltip()}return!1}onPointerEventTable(e,t){let i=e.pointerTarget;return i||(i=e.target),JMP.TooltipStatic.notifyTooltip(i,e,this.getTooltipLines(t.origin,t.range,t.value,t.cumulativeValue,t.upper,t.lower,t.refLine)),!1}getTooltipLines(e,t,i,a,n,l,s){let o,r,c=JMP.TooltipModel();return o=i,o<e&&(o=e),o>e+t&&(o=e+t),c.addLine(JMP.TooltipModelStatic.TIP_VALUE,JMP.FormatStatic.formatValueFixedBest(i)),void 0!==a&&(r=a,r<e&&(r=e),r>e+t&&(r=e+t),r!==o&&c.addLine(b.TIP_CUMULATIVE_VALUE,JMP.FormatStatic.formatValueFixedBest(a))),void 0!==n&&c.addLine(n!==l?JMP.TooltipModelStatic.TIP_UPPER_BOUND:b.TIP_REFERENCE_VALUE,JMP.FormatStatic.formatValueFixedBest(n)),void 0!==l&&l!==n&&c.addLine(JMP.TooltipModelStatic.TIP_LOWER_BOUND,JMP.FormatStatic.formatValueFixedBest(l)),void 0===l&&void 0===n&&void 0!==s&&c.addLine(b.TIP_REFERENCE_VALUE,JMP.FormatStatic.formatValueFixedBest(s)),c.lines}calculateCache(e,t){let i,a,n,l,s,o,r,c,d,u,h,g,S,m=e.g,f={x:e.x,y:e.y,width:e.width,height:e.height},T=e.cells,p=e.colSpan,E=0,A=T.length,_=!1,x=JMP.TEXT_FONT_SIZE,L=0,N=1;for(JMP.ViewStatic.reset(m),h=()=>{if(l=0,o=T[i][a],o)switch(o.type){case"LegendCell":l=o.width,-1===l&&(l=b.#tt+b.#et,E=3*o.size+2),_=_||o.showMarker,_&&x<E&&(x=E);break;case"BarBox":l=o.width;break;case"TextBox":l=o.width,x<o.height&&(x=o.height);break;default:const e="TH"===o.type?JMP.LARGE_FONT_SIZE:JMP.TEXT_FONT_SIZE;m.font=e+"px "+JMP.FONT,l=m.measureText(o.text).width+b.#et}},c=[],i=0;i<A;i++)for(s=T[i].length,L<s&&(L=s),a=0;a<s;a++)p&&p[i]&&(N=p[i][a]),1===N&&(h(),(void 0===c[a]||c[a]<l)&&(c[a]=l));for(i=0;i<A;i++)for(s=T[i].length,a=0;a<s;a++)if(p&&p[i]&&(N=p[i][a]),N>1){for(h(),g=0,n=0;n<N;n++)g+=c[a+n];if(g<l)for(S=!1,n=N-1;n>=0&&!S;n--)c[a+n]!==b.#tt+b.#et&&(c[a+n]+=l-g,S=!0)}for(d=0,a=0;a<L;a++)c[a]+=b.#et,d+=c[a];if(u=f.width||d,u<d)for(a=0;a<L;a++)c[a]*=u/d;for(r=[u<=d?f.x:f.x+(u-d)/2+b.#et],a=1;a<=L;a++)r[a]=c[a-1]+r[a-1];t.xCol=r,t.rowHeight=x}getCache(){let e=!1;return this.cache&&0!==Object.keys(this.cache).length||(this.cache={},this.calculateCache(this,this.cache),e=b.hasType(this.cells,"LegendCell"),(b.hasType(this.cells,"BarBox")||e)&&JMP.EventFacadeStatic.addEventListener(this.canvas,this.onPointerEvent),e&&(this.#it=!0)),this.cache}static hasType(e,t){let i,a,n,l,s=e.length,o=!1;for(i=0;i<s&&!o;i++)for(n=e[i].length,a=0;a<n&&!o;a++)l=e[i][a],l&&l.type===t&&(o=!0);return o}}JMP.TreemapGroupStatic=function(){"use strict";let e={addToList:function(e,t,i,a,n,l){let s;e.isInList(t)||(s=JMP.TreemapGroup(),s.id=t,s.label=void 0===i?" ":String(i),s.value=!Number.isFinite(a)||a<0?0:a,s.level=n,Number.isFinite(l)&&(s.comboId=l),e.mList.push(s))},setValue:function(e,t){e.value=!Number.isFinite(t)||t<0?0:t},setRectangle:function(e,t){let i;i=e.rect,i.x=t.x,i.y=t.y,i.width=t.width,i.height=t.height},getRectangle:function(e){let t,i={};return t=e.rect,i.x=t.x,i.y=t.y,i.width=t.width,i.height=t.height,i},setRectangleByVal:function(e,t,i,a,n){let l;l=e.rect,l.x=t,l.y=i,l.width=a,l.height=n},getGroup:function(e,t){let i,a=e.mList.length,n=e.mList,l=null;for(i=0;i<a&&!l;i++)t===n[i].id&&(l=n[i]);return l},isInList:function(e,t){let i,a=e.mList,n=a.length,l=!1;for(i=0;i<n;i++)if(t===a[i].id){l=!0;break}return l}};return e}(),JMP.TreemapGroup=function(){"use strict";let e={mList:[],id:0,label:"",value:0,level:0,rect:{x:0,y:0,width:0,height:0},fontSize:0,addToList:function(t,i,a,n,l){JMP.TreemapGroupStatic.addToList(e,t,i,a,n,l)},setValue:function(t){JMP.TreemapGroupStatic.setValue(e,t)},setRectangle:function(t){JMP.TreemapGroupStatic.setRectangle(e,t)},getRectangle:function(){return JMP.TreemapGroupStatic.getRectangle(e)},setRectangleByVal:function(t,i,a,n){JMP.TreemapGroupStatic.setRectangleByVal(e,t,i,a,n)},getGroup:function(t){return JMP.TreemapGroupStatic.getGroup(e,t)},isInList:function(t){return JMP.TreemapGroupStatic.isInList(e,t)}};return e};class A extends d{static TOP_SPACING=15;static MIN_LABEL_WIDTH=20;static IMPLICIT_FRAME_COLOR=JMP.COLOR_LINE;static FRAME_COLOR=c.darkenColor(A.IMPLICIT_FRAME_COLOR,.5);static MISSING_LABEL=" ";treemapGroup=null;heatmap=void 0;areFramesShown=!1;isGroupHierarchyIgnored=!1;isGroupHoriz=!1;isStatisticForY=!0;areLabelsShown=!1;areGroupLabelsShown=!1;areImplicitColorsShown=!1;areGroupLabelsFloating=!1;areSizeLabelsShown=!1;areSizeNamesShown=!1;areColorLabelsShown=!1;areColorNamesShown=!1;areGroupNamesShown=!1;areCategoryNamesShown=!1;labelAlpha=.65;minLabelSize=0;maxLabelSize=0;tileType="split";labelHJust="center";gbBoxSiblings=void 0;fillColor=void 0;fillPattern=void 0;groupLabelColor="LightGray";groupLabelBorderColor=JMP.COLOR_BLACK;groupLabelFontColor=JMP.COLOR_BLACK;groupLabelFontFamily=void 0;groupLabelFontSize=18;fontFamily=void 0;hasChangedRowStates=!1;isCacheInitialized=!1;statCalc=void 0;nCalc=void 0;#x;#at;constructor(e){super(e),this.setScalable(JMP.SegmentStatic.SCALABLE_NONE)}draw(){let e,t,i,a,n,l=this.g,s=this.#N();if(0===s.rowFilter.length||!this.treemapGroup)return;JMP.ViewStatic.reset(l),a=l.globalAlpha,l.lineWidth=s.borderWidth;let o=s.borderColor;l.strokeStyle=o,this.#at=[],i=this.treemapGroup,this.#nt(s,i,0);let r=s.pixelOffset;for(this.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.DARKER?l.strokeStyle=c.getSelectedColor(o):l.strokeStyle=o,t=this.#at.length,e=0;e<t;e++)n=this.#at[e],l.strokeRect(n.x+r,n.y+r,n.width,n.height);this.#lt(s,i,0),l.globalAlpha=a}getTotalValue(){return this.#N().totalValue}select(e,t){let i,a,n,l,s,o=!1,r=[],c=[],d=[],u=this.#N();for(a=this.treemapGroup,this.#st(0,a,e,d),s=d.length,n=0;n<s;n++)l=d[n].id,-1===l?c=c.concat(this.#ot(d[n])):c.push(l);for(n=0;n<c.length;n++)r=r.concat(u.aggregatedRowIndices[u.comboIds[c[n]]]);if(i=u.rowStates,t===JMP.ViewStatic.SELECT_TOGGLE)for(l=0;l<r.length&&!o;l++)i.selected[r[l]]&&(o=!0);JMP.ViewStatic.selectRows(i,t,r,o)}getTooltip(e,t){let i,a,n,l,s,o,r,c,d,u,h,g,S,m,f={x:e,y:t},T=this.#N(),p=JMP.TooltipModel(),E=this.treemapGroup,b=[],A=this.legend,{colorColumn:_,formatData:x,yColumns:L,labeledColumns:N}=T,I=T.totalValue,M=new Map;if(0===T.rowFilter.length)return null;if(S=[],this.#st(0,E,f,S),E=S.length>0?S[0]:void 0,E&&E.id>-1){if(n=E.id,b=T.sparceAggregatedRowIndices[n],N.length>0)for(l=JMP.ViewStatic.getSortedValuesFromLabeledColumns(N,b),i=0;i<N.length;i++)p.addLineFromValues(N[i].name,l[i],h),M.set(N[i].name,!0);else p.addLineFromValues(JMP.TooltipModelStatic.TIP_ROW,b.map((function(e){return e+1})));a=T.sparceAggregatedRowIndices[n][0];for(let e of T.xColumns)M.has(e.name)||(o=e.data[a],null==o?o=JMP.ModelStatic.TIP_MISSING:e.valueLabels&&(o=e.valueLabels[e.data[a]]),isNaN(o)?p.addLine(e.name,o):p.addLine(e.name,o,e.format));if(L.length>0){for(c=this.#rt(this.treemapGroup,f);c&&-1===c.id;)c=this.#rt(c,f);for(let e of T.yColumns){if(s=JMP.TooltipStatic.getLabel(e,this.statistic),o=c.value,h=JMP.ViewStatic.getProperFormat(e,x),this.statistic===JMP.MomentsStatic.STAT_SUM&&e.isIntegral()&&h.formatName!==JMP.FormatStatic.FORMAT_SCIENTIFIC){let e=o.toString().length;e>h.fieldWidth&&(h.fieldWidth=e)}h=JMP.ViewStatic.getPreciseFormat(o,0,h,!1,e.isIntegral(),this.statistic),p.addLine(s,o,h)}}if(A&&this.heatmap&&this.heatmap.length>0&&_){const e=this.colorStatistic>=0?this.colorStatistic:JMP.MomentsStatic.STAT_MEAN;if(r=JMP.TooltipStatic.getLabel(_,e),_.isContinuous()||this.colorStatistic===JMP.MomentsStatic.STAT_NONE||A&&A.isGradient(this.legendOffset,this.legendModelID))h=JMP.ViewStatic.getProperFormat(_,x),h=JMP.ViewStatic.getPreciseFormat(this.heatmap[n],0,h,!1,_.isIntegral(),e),g=this.heatmap[n],void 0===this.colorStatistic||this.colorStatistic===JMP.MomentsStatic.STAT_NONE?(g=this.colorTerm.getValueString(g,h),p.addLine(r,g)):p.addLine(r,g,h);else{let e=!0;for(let t=0;t<N.length;t++)N[t].name===_.name&&(e=!1);if(e){let e=this.heatmap[n];const t=this.colorTerm.getCharLevels();e=JMP.ModelStatic.getCategoricalString(e,t,_),p.addLine(r,e)}}}this.#re(p,b,L,T.freqColumn,T.rowStates),this.statistic===JMP.MomentsStatic.STAT_PERCENT&&0!==L.length||(m=E.value/I,d=JMP.FormatStatic.getShareFormat(m),p.addLine(this.groupCalculation?JMP.TooltipModelStatic.TIP_PERCENT_GROUP:JMP.TooltipModelStatic.TIP_PERCENT,m,d)),u=this.#ct(E.rect),p.x=u.x+2,p.y=u.y-2,p.xOffset=u.width,p.yOffset=u.height}return p}getPriority(e){let t=JMP.Priority();t.seg=this;let i=this.treemapGroup,a=[];if(this.#st(0,i,e,a),i=a.length>0?a[0]:void 0,i&&i.id>-1){let e=this.#ct(i.rect);t.distance=Number.MAX_VALUE,t.priority=e.width*e.height}return t}#dt(e,t,i){let a={},n=e.x,l=e.y,s=e.x+e.width,o=e.y+e.height;return n=Math.min(n+t,s)>>0,l=Math.min(l+i,o)>>0,s=Math.max(n,s-t)>>0,o=Math.max(l,o-i)>>0,a.x=n,a.y=l,a.width=s-n,a.height=o-l,a}#ut(e,t,i){let a=!1,n=this.#ct(t.rect);if(n.height>0&&n.width>0){let n=t.mList.length;for(let l=0;l<n&&!1===a;l++)a=!(t.mList[l].mList.length>0)||this.#ut(e,t.mList[l],i+1)}return a}#nt(e,t,i){let a,n,l,s,o,r,c,d,u,h;if(c=250-10*Math.min(i,5),d="rgb("+c+","+c+","+c+")",h=this.g,h.fillStyle=d,s=this.#ct(t.rect),!(s.height<0||s.width<0)){if(h.fillRect(s.x,s.y,s.width+1,s.height+1),l="",!this.isGroupHierarchyIgnored&&this.areGroupLabelsShown&&!this.areGroupLabelsFloating){if(this.areFramesShown){h.lineWidth=e.borderWidth,h.strokeStyle=e.borderColor;let t=e.pixelOffset;h.strokeRect(s.x+t,s.y+t,s.width,s.height)}this.areGroupNamesShown&&t.level<e.xColumns.length&&(u=e.xColumns[t.level],l+=u.name+": "),l+=t.label;let i=!0;for(a=0;a<t.mList.length;a++)if(t.mList[a].rect.height>0&&t.mList[a].rect.y-t.rect.y<=A.TOP_SPACING){i=!1;break}s.height>A.TOP_SPACING&&s.width>A.MIN_LABEL_WIDTH&&i&&(s=this.#dt(t.rect,1,1),s=this.#ct(s),s.height=A.TOP_SPACING,o="left"===this.labelHJust?JMP.TextBoxStatic.ALIGNMENT_LEFT:"center"===this.labelHJust?JMP.TextBoxStatic.ALIGNMENT_CENTER:JMP.TextBoxStatic.ALIGNMENT_RIGHT,r=JMP.TextBoxStatic.ALIGNMENT_TOP,JMP.TextBoxStatic.drawWrappedText(h,s,l,this.groupLabelFontSize,JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,this.groupLabelFontColor,o,r,!1,0,!1,!0,"normal",this.groupLabelFontFamily))}for(n=t.mList.length,a=0;a<n;a++)t.mList[a].mList.length>0?this.#nt(e,t.mList[a],i+1):this.#ht(e,h,t.mList[a].rect,t.mList[a].label,t.mList[a].displayLabel,t.mList[a].value,t.mList[a].id,t.mList[a].fontSize)}}#ht(e,t,i,a,n,l,s,o){let r,d,u,h,g,S,m,f,T,p,E,b,_,x,L,N,I,M,y,C,R,v,w,{xColumns:O,yColumns:P,colorColumn:D,formatData:F}=e;if(r=this.#ct(i),m=this.legend,!(i.width<0||i.height<0)){if(m&&(this.heatmap?(d=m.getColor(this.heatmap[s],this.legendOffset,this.legendModelID),f=this.heatmap[s],Number.isInteger(f)?g=m.getAlpha(f):(T=f<<0,p=f%1,g=JMP.ModelStatic.blend(m.getAlpha(T),m.getAlpha(T+1),p))):!this.areImplicitColorsShown&&this.fillColor?d=this.fillColor:(S=this.areImplicitColorsShown?s:0,d=m.getColor(S,this.legendOffset,this.legendModelID),g=m.getAlpha(S)),u=m.getFillPattern(s,this.legendOffset,this.legendModelID)),!u&&this.fillPattern&&(u=this.fillPattern),E=t.globalAlpha,t.globalAlpha=g,h=d,t.fillStyle=u?JMP.ViewStatic.getFillPatternCanvas(d,u):d,b=1,w=Math.round(1*r.height),t.fillRect(r.x,r.y+r.height-w,r.width+1,w+1),void 0===e.comboIds[s])_=0;else{let t=e.rowFilter[e.comboIds[s]][0];g=1,_=0===P.length?t.count?t.countSelected/t.count:0:t.countSelected>0?1:0}if(_>0&&(u?this.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED?t.fillStyle=JMP.COLOR_FILL_PATTERN_SELECT:t.fillStyle=JMP.ViewStatic.getFillPatternCanvas(c.getSelectedColor(d,!0),u):this.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.PATTERNED?(h=d,t.fillStyle=JMP.ViewStatic.getDiagPatternCanvas(d)):(h=c.getSelectedColor(d,!0),t.fillStyle=h),v=Math.round(r.height*_),t.fillRect(r.x,r.y+r.height-v,r.width+1,v+1)),this.areFramesShown)if(_>0)this.#at.push(r);else{t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth;let i=e.pixelOffset;const a=3;r.width>=a&&r.height>=a&&t.strokeRect(r.x+i,r.y+i,r.width,r.height)}if(r=this.#dt(i,3,1),r=this.#ct(r),(this.areLabelsShown||this.areColorLabelsShown||this.areSizeLabelsShown)&&(r.width+1)*(r.height+1)/100>this.minLabelSize&&r.height>A.TOP_SPACING/2&&r.width>A.MIN_LABEL_WIDTH){if(n)x=n;else{if(x="",this.areCategoryNamesShown&&(L=O[O.length-1],x+=L.name,x+=": "),this.areLabelsShown&&(a===A.MISSING_LABEL&&1===O.length&&(a=JMP.ModelStatic.TIP_MISSING),x+=a),m&&this.heatmap&&this.areColorLabelsShown&&D&&(D.isContinuous()||-1===this.colorStatistic)&&null!==this.heatmap[s]){let e=this.colorStatistic>=0?this.colorStatistic:JMP.MomentsStatic.STAT_MEAN;M=JMP.TooltipStatic.getLabel(D,e),N=e===JMP.MomentsStatic.STAT_PERCENT?JMP.Format(JMP.FormatStatic.FORMAT_PERCENT_FIXED0,void 0,2):JMP.ViewStatic.getProperFormat(D,F),""!==x&&(x+=JMP.LINE_SEPARATOR),x+=this.areColorNamesShown?M+": ":"",x+=this.colorTerm.getValueString(this.heatmap[s],N)}if(this.areSizeLabelsShown){""!==x&&(x+=JMP.LINE_SEPARATOR),I="";let e=this.areSizeNamesShown?JMP.MomentsStatic.NAMES[this.statistic]:void 0;P.length>0?(e=e?JMP.TooltipStatic.getLabel(P[0],this.statistic):void 0,this.statistic!==JMP.MomentsStatic.STAT_PERCENT||F.yFormat?(N=JMP.ViewStatic.getProperFormat(P[0],F),this.statistic===JMP.MomentsStatic.STAT_SUM&&P[0].isIntegral()&&N.formatName!==JMP.FormatStatic.FORMAT_SCIENTIFIC&&l.toString().length>N.fieldWidth&&(N.fieldWidth=l.toString().length)):N=JMP.Format(JMP.FormatStatic.FORMAT_PERCENT_FIXED0),I=JMP.FormatStatic.formatNumber(l,N)):this.statistic===JMP.MomentsStatic.STAT_PERCENT?(N=JMP.Format(JMP.FormatStatic.FORMAT_PERCENT_FIXED0),I=JMP.FormatStatic.formatNumber(l,N)):I=+(Math.round(l+"e+3")+"e-3"),x+=e?e+": ":"",x+=I}}C="left"===this.labelHJust?JMP.TextBoxStatic.ALIGNMENT_LEFT:"center"===this.labelHJust?JMP.TextBoxStatic.ALIGNMENT_CENTER:JMP.TextBoxStatic.ALIGNMENT_RIGHT,R=JMP.TextBoxStatic.ALIGNMENT_TOP,t.font=o+"px "+JMP.FONT,y=JMP.COLOR_BLACK,o>r.height*(1-_)?y=JMP.TextBoxStatic.getTextColor(h):o>0*r.height&&(y=JMP.TextBoxStatic.getTextColor(d)),JMP.TextBoxStatic.drawWrappedText(t,r,x,o,JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,y,C,R,!1,0,!1,!0,"normal",this.fontFamily)}t.globalAlpha=E}}#gt(e,t,i){let a,n,l,s,o,r,c,d;if(e.font="bold "+this.groupLabelFontSize+"px "+this.groupLabelFontFamily,a=e.measureText(i.substr(0,2)),n=t.width,!(n<a.width)){if(o=JMP.TextBoxStatic.wrap(e,n-6,[i],!0),l=this.#ct(t),1===o.length)a=e.measureText(o[0]),n=a.width+6,s=this.groupLabelFontSize+3;else if(o.length>1){o=JMP.TextBoxStatic.wrap(e,n,[i],!0),s=this.groupLabelFontSize*o.length+3;let t=0;for(;s>l.height&&o.length-t>=2;)t++,s=this.groupLabelFontSize*(o.length-t)+3;n=0;for(let i=0;i<o.length-t;i++)a=e.measureText(o[i]),n=Math.max(n,a.width+6)}r=(l.height-s)/2>>0,r<0||0===o.length||(c=(l.width-n)/2>>0,d=this.#dt(t,c,r),l=this.#ct(d),e.fillStyle=this.groupLabelColor,e.fillRect(l.x,l.y,l.width,l.height),e.strokeStyle=this.groupLabelBorderColor,e.lineWidth=1,e.strokeRect(l.x+.5,l.y+.5,l.width,l.height),JMP.TextBoxStatic.drawWrappedText(e,l,i,this.groupLabelFontSize,JMP.TextBoxStatic.ORIENTATION_HORIZONTAL,this.groupLabelFontColor,JMP.TextBoxStatic.ALIGNMENT_CENTER,JMP.TextBoxStatic.ALIGNMENT_MIDDLE,!1,0,!0,!0,"bold",this.groupLabelFontFamily,!0))}}#lt(e,t,i){let a,n,l,s;if(s=this.g,l=this.#ct(t.rect),!(l.height<=0||l.width<=0)){for(n=t.mList.length,a=0;a<n;a++)t.mList[a].mList.length>0&&this.#lt(e,t.mList[a],i+1);!this.isGroupHierarchyIgnored&&this.areGroupLabelsShown&&this.areGroupLabelsFloating&&t.label&&this.#ut(e,t,i)&&(s.save(),s.globalAlpha=this.labelAlpha,this.#gt(s,t.rect,t.label),s.restore())}}#re(e,t,i,a,n){let l,s=[t];l=JMP.NStatic.getValues(i,a,n,s,!0)[0],JMP.TooltipStatic.addLineForRows(e,l[0].count,l[0].countSelected,l[0].countHidden,!!a)}#ct(e){let t={x:0,y:0,width:0,height:0};return t.x=this.x+e.x,t.y=this.y+e.y,t.width=e.width,t.height=e.height,t}#rt(e,t){let i,a,n,l=e.mList.length,s=JMP.ViewStatic.pointInRect;for(i=0;i<l&&!n;i++)a=this.#ct(e.mList[i].rect),s(t,a)&&(n=e.mList[i]);return n}#st(e,t,i,a){let n,l,s=t.mList.length,o=i.width||i.height?JMP.ViewStatic.rectanglesIntersect:JMP.ViewStatic.pointInRect,r=!1,c={};for(n=0;n<s;n++)l=this.#ct(t.mList[n].rect),o(i,l)&&(t.mList[n].mList&&t.mList[n].mList.length>0?(r=this.#st(e+1,t.mList[n],i,a),r||this.isGroupHierarchyIgnored||!this.areGroupLabelsShown||this.areGroupLabelsFloating||(c.x=l.x,c.y=l.y,c.width=l.width,c.height=A.TOP_SPACING,o(i,c)&&(a.push(t.mList[n]),r=!0))):(a.push(t.mList[n]),r=!0));return r}#ot(e){let t,i=e.mList.length,a=[];for(t=0;t<i;t++)e.mList[t].mList&&e.mList[t].mList.length>0?a=a.concat(this.#ot(e.mList[t])):a.push(e.mList[t].id);return a}#St(e,t,i){let a,n,l,s,o;for(l=1,a=e.length-1;a>t;a--)l*=e[a].length;for(n=0,o=[],a=0;a<i.length;a++)i[a].length>0&&(s=a/l>>0,o[n++]=s%e[t].length);return o}#mt(e,t,i,a){let n,l,s,o,r,c=[],d={};for(i&&i.valueLabels&&(o=Object.keys(i.valueLabels).map((function(e){return i.valueLabels[e]}))),s=o?o.length:0,n=0;n<s;n++)r=o[n],d[r]||(d[r]=0),d[r]+=1;if(s=t.length,i)for(n=0;n<t.length;n++)l=e[t[n]],c[n]=i.getValueString(l,a),null!==l||null!==c[n]&&""!==c[n]&&"."!==c[n]||(c[n]=A.MISSING_LABEL),(d[c[n]]>1||i.getRangeLabel(l))&&(c[n]+=JMP.ViewStatic.COLON+" "+l);return c}#Ae(e){let i,a,n,l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,b,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F,B,V,k,G,H,Y,U,z,W,X,Z,q,j,K={},Q=this.isExcludedUsed;for(G=e=>e.isCategorical()&&this.hasMissingLevels,this.sizeStatistic&&(this.statistic=this.sizeStatistic),this.groupCalculation&&(this.rowIndices&&this.groupCalculation.setRowIndices([this.rowIndices]),b=[this.groupCalculation.getResult()[0][this.groupIndex]]),a=this.columns.getColumns(t.ROLE_Y),i=this.columns.getColumns(t.ROLE_X),c=this.columns.getColumn(t.ROLE_COLOR),q=c&&c.isInformativeMissing,u=this.columns.rowStates,E=[],p=[],o=this.isStatisticForY?this.scale[t.ROLE_X]:this.scale[t.ROLE_Y],m=i.length,N=!0,g=0;g<m&&N;g++)i[g].name===j&&(i.splice(g,1),m=i.length,g--),j=i[g].name,f=i[g],N=f.dataLevel!==t.LEVEL_CONTINUOUS;for(N||(m=1,i.length=1),g=0;g<m;g++)f=i[g],this.unique||(this.unique=JMP.Unique()),this.unique.setInputVariables([f]),this.unique.setRowStates(u),this.unique.setRowIndices([this.rowIndices]),this.unique.setMissingUsed(G(f)||q),this.unique.setExcludedUsed(Q),this.unique.setValueOrdering(!0),p=this.unique.getResult()[0],o&&JMP.ViewStatic.permuteUniqueValues(o,p,f),E.push(p[0]);n=this.columns.getColumns(t.ROLE_SIZE);let J=this.scale[t.ROLE_Y];for(n&&0!==n.length?a=n:r=J,d=this.legend.getGradientFormat(),K.xColumns=o?i:void 0,K.yColumns=r?a:void 0,K.colorColumn=c,K.legendFormat=d,K.xScale=o,K.yScale=r,x=JMP.GroupStatic.getRows(i,E,void 0,u,[this.rowIndices],this.hasMissingLevels||q,!1,!1,Q)[0],Z=b||[this.rowIndices],_=JMP.GroupStatic.getRows(i,E,void 0,u,Z,this.hasMissingLevels,!1,!1,Q)[0],!this.overlayTerm||G(this.overlayTerm.inputVariables[0])||this.overlayTerm.inputVariables[0].isInformativeMissing||JMP.ViewStatic.removeMissing(_,this.overlayTerm.inputVariables[0].data),P=[],B=E.length-1,h=0;h<B;h++)for(s=JMP.ViewStatic.getProperFormat(i[h],K),k=[],V=E[h].length,g=0;g<V;g++)T=E[h][g],k[g]=i[h].getValueString(T,s),k[g]=k[g]||A.MISSING_LABEL;for(M=h,C=[],g=0,h=0;h<x.length;h++)x[h].length>0&&(C[g++]=h);if(l=this.columns.getColumn(t.ROLE_FREQ),z=b?b[0]:this.rowIndices,this.statistic===JMP.MomentsStatic.STAT_PERCENT){if(!z)for(z=[],S=i[0].data.length,h=0;h<S;h++)z[h]=h;for(h=z.length-1;h>=0;h--){for(X=i.length,W=!1,S=0;S<X&&!W;S++)W=!this.hasMissingLevels&&null===i[S].data[z[h]]&&!i[S].isInformativeMissing;W||!this.overlayTerm||G(this.overlayTerm.inputVariables[0])||this.overlayTerm.inputVariables[0].isInformativeMissing||null!==this.overlayTerm.inputVariables[0].data[z[h]]||(W=!0),W&&z.splice(h,1)}}for(this.statCalc=JMP.Moments(),O=this.statCalc,O.setInputVariables(a),O.setRowStates(u),O.setFreqColumn(l),O.setAllIndices(z),O.setRowIndices(_),v=a.length>0||this.statistic===JMP.MomentsStatic.STAT_PERCENT?this.statistic:JMP.MomentsStatic.STAT_N,O.setStatistic(v),O.setSelectedUsed(this.isSelectedUsed),O.setExcludedUsed(Q),O.setMissingUsed(!(a.length>0&&a[0].isContinuous())&&this.hasMissingLevels),this.nCalc=JMP.N(),R=this.nCalc,R.setInputVariables(a),R.setRowStates(u),R.setFreqColumn(l),R.setRowIndices(_),R.setSelectedUsed(this.isSelectedUsed),R.setExcludedUsed(Q),w=O.getResult(),L=[],p=[],h=0;h<C.length;h++){if(U=w[C[h]],O.statistic===JMP.MomentsStatic.STAT_N)for(H=!1,Y=w[C[h]].length,S=0;S<Y&&!H;S++)0===U[S]&&(H=!0);p[h]=H?0:U[0],L[h]=_[C[h]]}for(y=this.#St(E,M,x),s=JMP.ViewStatic.getProperFormat(i[M],K),I=this.#mt(E[M],y,i[M],s),y=[],h=0;h<I.length;h++)y[h]=h;for(D=p.length,F=0,h=0;h<D;h++)p[h]>=0&&(F+=p[h]);let $=this.columns.getLabeledColumns(),ee=!1;if($.length>0&&a.length>0&&this.statistic===JMP.MomentsStatic.STAT_SUM)for(h=0;h<$.length;h++)a[0].name===$[h].name&&(ee=!0);e.sizeScale=J,e.formatData=K,e.rowStates=u,e.xColumns=i,e.yColumns=a,e.freqColumn=l,e.colorColumn=c,e.aggregatedRowIndices=_,e.labeledColumns=$,e.isSizeDuplicated=ee,e.sparceAggregatedRowIndices=L,e.comboIds=C,e.totalValue=F,e.nLevels=P.length,e.borderColor=this.borderColor||(this.areImplicitColorsShown?A.IMPLICIT_FRAME_COLOR:A.FRAME_COLOR),e.borderWidth=this.borderWidth||1,e.pixelOffset=e.borderWidth%2==1?.5:0,e.rowFilter=this.nCalc.getResult()}#Q(e){let t=this.nCalc;t.setSelectedUsed(this.isSelectedUsed),e.rowFilter=t.getResult()}#N(){return this.#x||(this.#x={}),this.isCacheInitialized||this.#Ae(this.#x),this.isCacheInitialized=!0,this.#Q(this.#x),this.#x}}JMP.DialogStatic=function(){"use strict";let e={TIP_CLOSE:"Close message",BUTTON_CLOSE:"Close",initializeControls:function(e){let t;e.setAttribute("role","dialog"),t=document.createElement("DIV"),t.id="dialogContent",e.appendChild(t),t=document.createElement("DIV"),t.id="dialogButtonBar",e.appendChild(t)},validateField:function(e){let t=!0,i=document.getElementById(e.id+"_Error"),a=/^\d+$/,n=/^\d*\.?\d*$/;return e.willValidate&&(e.checkValidity(),t=e.validity.valid,t&&"INPUT"===e.tagName&&"number"===e.getAttribute("type")&&(t=e.hasAttribute("step")?n.test(e.value):a.test(e.value)),t?("checkbox"===e.type?(e.parentNode.className.replace("dialogInputError","dialogInput"),e.parentNode.parentNode.parentNode.className=""):(e.className="dialogInput","radio"===e.type?(e.parentNode.parentNode.parentNode.className="radioButtonRow",e.checked?e.setAttribute("tabindex",0):e.removeAttribute("tabindex")):e.parentNode.parentNode.className=""),i&&(i.className="concealed",i.parentNode.className="")):(e.className="dialogInputError",e.parentNode.parentNode.className="dialogInputErrorCell",i&&(i.className="dialogInputErrorText revealed",i.parentNode.className="dialogInputErrorCell"))),t},createField:function(e,t,i,a,n,l,s,o,r,c,d){let u,h,g,S,m;if(u=document.createElement("TR"),h=document.createElement("TD"),S=document.createElement("LABEL"),S.innerHTML=a+("checkbox"===n?"":JMP.ViewStatic.COLON),S.setAttribute("for",i),h.appendChild(S),g=document.createElement("TD"),n){if("number"===n){m=document.createElement("INPUT"),m.setAttribute("type",n);const e=d>0?d:0,t=getComputedStyle(document.body),i=parseInt(t.getPropertyValue("--input-padding-left"),10);void 0!==r&&(m.setAttribute("min",r.toString()),m.style.width=r.toFixed(e).length*JMP.TextBoxStatic.getApproximateWidth("0")+i+20+"px"),void 0!==c&&(m.setAttribute("max",c.toString()),m.style.width=c.toFixed(e).length*JMP.TextBoxStatic.getApproximateWidth("0")+i+20+"px"),m.setAttribute("required","true"),m.value=l,m.defaultValue=l}else{m=JMP.ControlStatic.createCustomCheckbox(),m.checked=l,m.defaultChecked=l;let e=m.parentNode;e.style.cssFloat="right",e.style.padding="0px"}m.id=i}else m=document.createElement("SELECT"),m.id=i,m.setAttribute("required","true");return"checkbox"===n?(m.parentNode.classList.add("dialogInput"),m.parentNode.setAttribute("tabindex",t),m.setAttribute("tabindex",t)):(m.className="dialogInput",m.setAttribute("tabindex",t)),m.onblur=s,m.onkeyup=s,m.onclick=s,"checkbox"===n?g.appendChild(m.parentNode):g.appendChild(m),"checkbox"===n?(g.className="dialogContentLeft",h.className="dialogContentRight",u.appendChild(g),u.appendChild(h)):(h.className="dialogContentLeft",g.className="dialogContentRight",u.appendChild(h),u.appendChild(g)),e.appendChild(u),o&&(u=document.createElement("TR"),h=document.createElement("TD"),h.style.padding=0,u.appendChild(h),h=document.createElement("TD"),h.style.padding=0,h.id=i+"_Error",h.appendChild(document.createTextNode(o)),h.className="concealed",u.appendChild(h),e.appendChild(u)),m},getSelectedRadioValue:function(e){let t,i=document.getElementsByName(e);for(t=0;t<i.length;t++)if(i[t].checked)return i[t].value;return null},createRadioButtonGroup:function(e,t,i,a,n,l,s,o){let r,c,d,u,h,g,S,m=l.length;for(S=0;S<m;S++)r=document.createElement("TR"),r.className="radioButtonRow",c=document.createElement("TD"),c.className="dialogContentLeft",c.style.cssFloat="right",0===S&&c.appendChild(document.createTextNode(n+JMP.ViewStatic.COLON)),r.appendChild(c),d=document.createElement("TD"),d.className="dialogContentRight",h=JMP.ControlStatic.createCustomRadioButton("dialogInput"),h.id=i+"_"+S,h.name=a,h.parentNode.style.padding="0px",h.value=l[S],l[S]===s&&(h.checked=!0,h.setAttribute("tabindex",t),h.defaultChecked=!0,g=h),h.onclick=o,d.appendChild(h.parentNode),u=document.createElement("LABEL"),u.innerHTML=l[S],u.setAttribute("for",i),u.style.paddingLeft="5px",d.appendChild(u),r.appendChild(d),e.appendChild(r);return g},onKey:function(e){let t,i,a,n,l=document.activeElement,s=[],o=null,r=null,c=!1;if(9===e.keyCode){if(l)for(a=l;a&&!c;)c="dialog"===a.id,c||(a=a.parentNode);for(n=document.querySelectorAll(".dialogInput, .dialogInputError, .dialogButton"),t=0;t<n.length;t++)n[t].hasAttribute("tabindex")&&!n[t].hasAttribute("disabled")&&(s.push(n[t]),o||(o=s[s.length-1]),r=s[s.length-1]);a?l!==r||e.shiftKey?l===o&&e.shiftKey?(r.focus(),e.preventDefault()):(i=s.indexOf(l),i>=0&&(s[i+(e.shiftKey?-1:1)].focus(),e.preventDefault())):(o.focus(),e.preventDefault()):(o&&o.focus(),e.preventDefault())}else 27===e.keyCode?JMP.DialogStatic.onCancel(e):13===e.keyCode&&e.preventDefault()},createButton:function(e,t,i){let a=document.createElement("BUTTON");return a.id=t,a.className="dialogButton buttonUp",a.innerHTML=i,e.appendChild(a),a},setTopPadding:function(){let e=document.getElementById("dialog"),t=document.createElement("DIV"),i=e.getBoundingClientRect(),a=i.top;e.style.paddingTop=0,e.appendChild(t),t.classList.add("dialogFirstLine");let n=document.createElement("SPAN");t.appendChild(n),n.innerHTML="W",i=n.getBoundingClientRect(),e.style.paddingTop=i.top-a+"px",e.removeChild(t)},onShow:function(t,i,a){let n,l,s=document.getElementById("dialogOverlay"),o=document.getElementById("dialog"),r=t.pointerTarget,c={x:0,y:0};if(r||(r=t.target),"click"===t.type||"pointerup"===t.type||"keydown"===t.type&&13===t.keyCode){for(;o.firstChild;)o.removeChild(o.firstChild);e.initializeControls(o,""),s.className=s.className.replace("concealed","revealed"),o.className=o.className.replace("concealed","revealed"),document.body.setAttribute("aria-hidden","true"),o.setAttribute("aria-hidden","false"),a(i);let t=getComputedStyle(document.body),d=parseInt(t.getPropertyValue("--dialog-width"),10);o.className.includes("dialogAlert")&&(d=parseInt(t.getPropertyValue("--dialog-width-alert"),10)),d=o.clientWidth>0?o.clientWidth:d,n=o.clientHeight>0?o.clientHeight:20+1.4*JMP.LARGE_FONT_SIZE,r?(JMP.ViewStatic.getPosition(r,c),c.y+=r.clientHeight+2,c.x-=window.pageXOffset,c.y-=window.pageYOffset,c.x=Math.max(10,Math.min(c.x,window.innerWidth-d-10)),c.y=Math.max(10,Math.min(c.y,window.innerHeight-n-20))):(c.x=20,c.y=60),o.style.left=window.pageXOffset+c.x+"px",o.style.top=window.pageYOffset+c.y+"px",JMP.EventFacadeStatic.isIOS()||(l=document.querySelectorAll(".dialogInput, .dialogInputError, .dialogButton"),l.length>0&&l[0].focus())}},onCancel:function(e){let t=document.getElementById("dialog"),i=document.getElementById("dialogOverlay"),a=e.pointerTarget;a||(a=e.target),"pointerdown"===e.type&&"BUTTON"===a.nodeName?a.className="dialogButton buttonDown":"pointerout"===e.type&&"BUTTON"===a.nodeName?a.className="dialogButton buttonUp":"click"!==e.type&&"pointerup"!==e.type&&("keydown"!==e.type||13!==e.keyCode&&27!==e.keyCode)||("dialogButton buttonDown"===a.className&&(a.className="dialogButton buttonUp"),t.className=t.className.replace("revealed","concealed"),i.className=i.className.replace("revealed","concealed"),document.body.setAttribute("aria-hidden","false"),t.setAttribute("aria-hidden","true"))},showMessage:function(t,i){e.onShow({pointerTarget:t,type:"click"},i,(function(t){let i,a=document.getElementById("dialogContent");document.getElementById("dialog").classList.add("dialogAlert"),e.setTopPadding(),a.innerHTML=t,i=e.createButton(document.getElementById("dialogButtonBar"),"dialogCloseButton",e.BUTTON_CLOSE.toUpperCase()),i.setAttribute("tabindex",1),JMP.EventFacadeStatic.addEventListener(i,e.onCancel);let n=document.getElementById("dialogOverlay");JMP.EventFacadeStatic.addEventListener(n,e.onCancel)})),document.getElementById("dialogCloseButton").focus(),JMP.TooltipStatic.updateTooltip()}};return e}(),JMP.ControlStatic=function(){"use strict";let e,t,i,a,l={};return l.TIP_DISABLED_CONTROL="Disabled control",l.TIP_DISABLED_STATIC="This control requires interactive graphs",l.segments=[],l.isControl=function(e){let t=!1;if(e)switch(e.nodeName){case"A":case"BUTTON":case"INPUT":case"LI":case"SELECT":t=!0;break;case"DIV":t=e.className.includes("scrollable");break;case"IMG":t="BUTTON"===e.parentNode.nodeName}return t},l.invalidateOffsets=function(){let e,t=JMP.ControlStatic.segments.length;for(e=0;e<t;e++)JMP.ControlStatic.segments[e].invalidateOffset()},l.onPointerEvent=function(e){let s,o,r,c,d,u,h,g,S,m,f,T,p,E,b=JMP.MenuStatic.button,A=document.getElementById("menu0"),_=document.getElementById("menu1"),x=document.getElementById("dialog"),L=!1,N={},I={x:e.clientX+window.pageXOffset,y:e.clientY+window.pageYOffset},M=l.segments.length,y=!1,C=!1;if("pointerdown"===e.type)t=e.clientX,i=e.clientY,a=e.identifier,y=!0;else if("pointerup"===e.type&&e.identifier===a&&Math.abs(e.clientX-t)<=4&&Math.abs(e.clientY-i)<=4)C=!0;else if(x.className.includes("revealed")&&"keydown"===e.type)return void JMP.DialogStatic.onKey(e);for(p=e.pointerTarget;p&&p!==document.body;)I.x+=p.scrollLeft||0,I.y+=p.scrollTop||0,p=p.parentNode;for(o=null,r=null,c=null,d=null,u=null,s=e.pointerTarget;s;s=s.parentNode)switch(s.nodeName){case"TD":case"TH":s.className.includes("filter")?o=s:r=s;break;case"CANVAS":d=s;break;default:JMP.ControlStatic.isControl(s)||"HTML"===e.pointerTarget.nodeName?o&&o.className.includes("scrollable")||(o=s,L=s.disabled):"IMG"===s.nodeName&&(c=s),JMP.TooltipStatic.isPinnedTip(s)&&(h=s),s!==A&&s!==_||(u=s)}if(y)u||(b&&b!==o&&(b.className=b.className.replace("buttonDown","buttonUp")),A.className=A.className.replace("revealed","concealed"),_.className=_.className.replace("revealed","concealed")),(!o||L)&&(o||r||c||d)||JMP.TooltipStatic.updateTooltip();else if(!C||o||u||h||c){if("pointermove"===e.type&&d){for(m=0;m<M&&(g=!1,f=l.segments[m],f.canvas!==d||(E=f.getOffset(),N.x=E.x+f.x,N.y=E.y+f.y,N.width=f.width,N.height=f.height,g=JMP.ViewStatic.pointInRect(I,N),!g));m++);g||JMP.TooltipStatic.updateTooltip()}}else{if(S=!1,d)for(m=0;m<M;m++)g=!1,f=l.segments[m],f.canvas===d&&(E=f.getOffset(),N.x=E.x+f.x,N.y=E.y+f.y,N.width=f.width,N.height=f.height,g=JMP.ViewStatic.pointInRect(I,N)),g?S=!0:f.removeBrush();if(!JMP.isTableWithSelectionEnabled&&!S)for(m=0;m<M;m++)f=l.segments[m],f.columns&&(T=f.columns.rowStates,T&&T.nSelectedIndices>0&&(T.nSelectedIndices=0,T.sendEvent(n.EVENT_SELECTED)));window.getSelection().removeAllRanges()}},l.isButtonActionEvent=function(e){return"click"===e.type||"pointerup"===e.type||"keydown"===e.type&&13===e.keyCode},l.buttonListener=function(t){let i=t.pointerTarget;if(i||(i=t.target),i&&"IMG"===i.nodeName&&"BUTTON"===i.parentNode.nodeName&&(i=i.parentNode),i&&"BUTTON"===i.nodeName)switch(t.type){case"pointerdown":case"keydown":"pointerdown"!==t.type&&32!==t.keyCode&&13!==t.keyCode||(i.className.includes("buttonUp")&&(e=i),i.className=i.className.replace("buttonUp","buttonDown"));break;case"click":case"pointerup":case"pointerout":i===e&&(i.className=i.className.replace("buttonDown","buttonUp")),"pointerup"!==t.type&&"click"!==t.type||(e=void 0)}},l.createButton=function(e,t,i,a,n,l,s,o){let r,c,d;if(t&&(r=JMP.ParserStatic.createElement("A",i,e),r.target="_blank",r.href=t,r.tabIndex=-1),c=JMP.ParserStatic.createElement("BUTTON",a,t?r:e),n&&(c.id=n),l){d=JMP.ParserStatic.createElement("IMG",s+" buttonImage",c);let e=l;"function"==typeof l&&(e=l(),JMP.DocumentStatic.themeChangeEventDispatcher.addEventListener((e=>{let t=!!e&&e.isDisabled;d.setAttribute("src",l(t))}))),d.setAttribute("src",e)}return o&&JMP.EventFacadeStatic.addEventListener(c,o),c},l.createCustomCheckbox=function(e,t,i){let a=JMP.ParserStatic.createElement("label","checkboxContainer");e&&a.classList.add(e),t&&t.appendChild(a);let n=JMP.ParserStatic.createElement("input",void 0,a);return n.type="checkbox",i&&(n.disabled="true"),JMP.ParserStatic.createElement("span",i?void 0:"checkboxHover",a),JMP.ParserStatic.createElement("span",i?void 0:"checkboxFocus",a),JMP.ParserStatic.createElement("span","checkbox"+(i?" disabled":""),a),n},l.enableCustomCheckbox=function(e){if(e.disabled){e.disabled=!1;let t=e.parentNode;t.childNodes[1].classList.add("checkboxHover"),t.childNodes[2].classList.add("checkboxFocus"),t.childNodes[3].classList.remove("disabled")}},l.createCustomRadioButton=function(e){let t=JMP.ParserStatic.createElement("label","radioButtonContainer"),i=JMP.ParserStatic.createElement("input",void 0,t);return e&&t.classList.add(e),i.type="radio",JMP.ParserStatic.createElement("span","radioButtonHover",t),JMP.ParserStatic.createElement("span","radioButtonFocus",t),JMP.ParserStatic.createElement("span","radioButton",t),i},l}(),JMP.FormatDialogStatic=function(){"use strict";let e={},t=1,i="inputMonth",a="inputDay",n="inputYear",l="inputDegrees",s="inputIsNegative",o="inputHours",r="inputMinutes",c="inputSeconds",d="amPMRadio",u="directionRadio",h=function(){let e,t,i,a,n=!0,l=!1,s=document.getElementById("dialogContent").firstChild;for(e=0;e<s.elements.length;e++)t=s.elements[e],JMP.DialogStatic.validateField(t)||(n=!1),"INPUT"===t.tagName?"checkbox"===t.getAttribute("type")||"radio"===t.getAttribute("type")?t.checked!==t.defaultChecked&&(l=!0):+t.value!=+t.defaultValue&&(l=!0):"SELECT"===t.tagName&&(t.options[t.selectedIndex].defaultSelected||(l=!0));return i=!(n&&l),a=document.getElementById("formatDialogApplyButton"),a.className=i?a.className.replace(" elementEventHandler"," parentEventHandler"):a.className.replace(" parentEventHandler"," elementEventHandler"),document.getElementById("formatDialogApplyButton").disabled=i,n},g=function(){let e,t,l,s,o,r=document.getElementById(a);if(r)if(l=+document.getElementById(i).value-1,s=+document.getElementById(n).value,o=JMP.FormatStatic.daysInMonth(l,s),t=r.options.length,t>o)do{r.remove(t-1),t=r.options.length}while(t>o);else for(e=t;e<o;e++)r.add(new Option(e+1,e+1));h()},S=function(S){let m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w=document.getElementById("dialogContent"),O=S.value<0&&(S.isDuration||S.hasDegrees),P=S.use24HourClock||S.isDuration,D=0;const F=S.nDecimals>0?S.nDecimals:0;if(t=1,JMP.DialogStatic.setTopPadding(),x=document.createElement("FORM"),_=document.createElement("TABLE"),O&&(S.value=-S.value),S.isDuration?(f=JMP.DialogStatic.createField(_,t++,s,e.NEGATIVE_DURATION_LABEL,"checkbox",O,h),f.onchange=h,m=JMP.FormatStatic.valueToDuration(S.value,S.hasDay,S.hasHours)):S.hasDegrees?(m=JMP.FormatStatic.valueToGeographic(S.value,S.hasMinutes,S.hasSeconds),I=1/10**F):m=JMP.FormatStatic.valueToDateTime(S.value),S.hasMonth){for(f=JMP.DialogStatic.createField(_,t++,i,e.MONTH_LABEL),b=0;b<12;b++)N=new Option(JMP.FormatStatic.MONTH_NAMES_LONG[b],b+1),f.add(N),b===m.month&&N.setAttribute("selected","selected");f.onchange=g}if(S.hasDay)if(S.isDuration)f=JMP.DialogStatic.createField(_,t++,a,e.DAYS_LABEL,"number",m.day,h,e.ERROR_DAYS_DURATION_FORMAT,0,365e4,0);else{for(f=JMP.DialogStatic.createField(_,t++,a,e.DAY_LABEL),A=JMP.FormatStatic.daysInMonth(m.month,m.year),b=1;b<=A;b++)N=new Option(b,b),f.add(N),b===m.day&&N.setAttribute("selected","selected");f.onchange=g}if(S.hasYear&&(f=JMP.DialogStatic.createField(_,t++,n,e.YEAR_LABEL,"number",m.year,h,e.ERROR_YEAR_FORMAT,0,9999),f.onchange=g),S.hasHours){if(S.isDuration&&!S.hasDay)f=JMP.DialogStatic.createField(_,t++,o,e.HOURS_LABEL,"number",m.hours,h,e.ERROR_HOURS_DURATION_FORMAT,0,8736,0),f.removeAttribute("max");else for(T=m.hours,P||(T%=12,0===T&&(T=12)),b=P?0:1,A=P?23:12,f=JMP.DialogStatic.createField(_,t++,o,S.isDuration?e.HOURS_LABEL:e.HOUR_LABEL);b<=A;)N=new Option(b,b),f.add(N),b===T&&N.setAttribute("selected","selected"),b++;f.onchange=h}for(S.hasDegrees&&(E=S.hasMinutes?m.degree:m.degree.toFixed(F),f=S.isLatitude?JMP.DialogStatic.createField(_,t++,l,e.DEGREE_LABEL,"number",E,h,e.ERROR_DEGREES_GEOGRAPHIC_FORMAT.replace("^MAX","90"),0,90,F):JMP.DialogStatic.createField(_,t++,l,e.DEGREE_LABEL,"number",E,h,e.ERROR_DEGREES_GEOGRAPHIC_FORMAT.replace("^MAX","180"),0,180,F),S.hasMinutes||f.setAttribute("step",I),f.onchange=h),S.hasMinutes&&(!S.isDuration||S.hasDay||S.hasHours?S.hasDegrees&&!S.hasSeconds?(f=JMP.DialogStatic.createField(_,t++,r,e.MINUTES_LABEL,"number",m.minutes.toFixed(F),h,e.ERROR_GEOGRAPHIC_FORMAT.replace("^FIELD",e.MINUTES_LABEL),0,60-I,F),f.setAttribute("step",I)):f=JMP.DialogStatic.createField(_,t++,r,S.isDuration?e.MINUTES_LABEL:e.MINUTE_LABEL,"number",m.minutes,h,e.ERROR_MINUTE_FORMAT,0,59,S.hasDegrees?F:0):(f=JMP.DialogStatic.createField(_,t++,r,e.MINUTES_LABEL,"number",m.minutes,h,e.ERROR_MINUTES_DURATION_FORMAT,0,1440,0),f.removeAttribute("max")),f.onchange=h),S.hasSeconds&&(S.hasDegrees?(f=JMP.DialogStatic.createField(_,t++,c,e.SECONDS_LABEL,"number",m.seconds.toFixed(F),h,e.ERROR_GEOGRAPHIC_FORMAT.replace("^FIELD",e.SECONDS_LABEL),0,60-I,F),f.setAttribute("step",I)):f=JMP.DialogStatic.createField(_,t++,c,S.isDuration?e.SECONDS_LABEL:e.SECOND_LABEL,"number",m.seconds>>0,h,e.ERROR_SECOND_FORMAT,0,59),f.onchange=h),S.hasHours&&!P&&(L=m.hours<12,JMP.DialogStatic.createRadioButtonGroup(_,t,"inputAMPM",d,e.AM_PM_LABEL,[S.AMDesignator,S.PMDesignator],L?S.AMDesignator:S.PMDesignator,h),t+=2),S.hasDegrees&&(M=S.isLatitude?e.GEOGRAPHIC_DIRECTION_NAMES[0]:e.GEOGRAPHIC_DIRECTION_NAMES[2],y=S.isLatitude?e.GEOGRAPHIC_DIRECTION_NAMES[1]:e.GEOGRAPHIC_DIRECTION_NAMES[3],JMP.DialogStatic.createRadioButtonGroup(_,t,"inputDirection",u,e.DIRECTION_LABEL,[M,y],O?y:M,h),t+=2),x.appendChild(_),w.appendChild(x),b=0;b<x.elements.length;b++)"radio"!==x.elements[b].getAttribute("type")&&"checkbox"!==x.elements[b].getAttribute("type")&&x.elements[b].offsetWidth>D&&(D=x.elements[b].offsetWidth);for(b=0;b<x.elements.length;b++)"radio"!==x.elements[b].getAttribute("type")&&"checkbox"!==x.elements[b].getAttribute("type")&&(x.elements[b].style.width=D+"px");C=document.getElementById("dialogButtonBar"),C.className=C.className+" layoutTable dialogButtonTable",R=document.createElement("DIV"),R.className="layoutRow",C.appendChild(R),v=document.createElement("DIV"),v.className="layoutCell",R.appendChild(v),p=JMP.DialogStatic.createButton(v,"formatDialogCancelButton",e.BUTTON_CANCEL.toUpperCase()),p.setAttribute("tabindex",t),JMP.EventFacadeStatic.addEventListener(p,JMP.DialogStatic.onCancel),t++,v=document.createElement("DIV"),v.className="layoutCell",R.appendChild(v),p=JMP.DialogStatic.createButton(v,"formatDialogApplyButton",e.BUTTON_OK.toUpperCase()),p.setAttribute("tabindex",t),p.setAttribute("disabled","true"),p.className=p.className+" parentEventHandler",JMP.EventFacadeStatic.addEventListener(p,JMP.ControlStatic.buttonListener),C.style.textAlign="center"};return e.BUTTON_OK="OK",e.TIP_OK="Apply these values and return",e.BUTTON_CANCEL="Cancel",e.TIP_CANCEL="Do nothing and return",e.NEGATIVE_DURATION_LABEL="Duration is negative",e.MONTH_LABEL="Month",e.DAY_LABEL="Day",e.HOUR_LABEL="Hour",e.MINUTE_LABEL="Minute",e.SECOND_LABEL="Second",e.YEAR_LABEL="Year",e.DEGREE_LABEL="Degree",e.DAYS_LABEL="Days",e.HOURS_LABEL="Hours",e.MINUTES_LABEL="Minutes",e.SECONDS_LABEL="Seconds",e.AM_PM_LABEL="AM / PM",e.DIRECTION_LABEL="Direction",e.GEOGRAPHIC_DIRECTION_NAMES=["North","South","East","West"],e.ERROR_YEAR_FORMAT="Year must be a number between 0 and 9999.",e.ERROR_MINUTE_FORMAT="Minute must be a number between 0 and 59.",e.ERROR_SECOND_FORMAT="Second must be a number between 0 and 59.",e.ERROR_DAYS_DURATION_FORMAT="Days must be a number between 0 and 3650000.",e.ERROR_HOURS_DURATION_FORMAT="Hours must be a number 0 or greater.",e.ERROR_MINUTES_DURATION_FORMAT="Minutes must be a number 0 or greater.",e.ERROR_DEGREES_GEOGRAPHIC_FORMAT="Degrees must be a number between 0 and ^MAX.",e.ERROR_GEOGRAPHIC_FORMAT="^FIELD must be a number 0 or greater and less than 60.",e.onShow=function(t,i,a){let n=t.pointerTarget;if(n||(n=t.target),"click"===t.type||"pointerup"===t.type||"keydown"===t.type&&13===t.keyCode){JMP.DialogStatic.onShow(t,i,S),JMP.EventFacadeStatic.addEventListener(document.getElementById("formatDialogApplyButton"),e.onSubmit,{id:n.id,options:i,handler:a});let l=document.getElementById("dialogOverlay");JMP.EventFacadeStatic.addEventListener(l,JMP.DialogStatic.onCancel)}},e.onSubmit=function(t,g){let S,m,f,T=document.getElementById("dialog"),p=document.getElementById("dialogOverlay"),E=!0,b=!1,A=t.pointerTarget;A||(A=t.target),A.disabled||("pointerdown"===t.type?A.className="dialogButton buttonDown":"pointerout"===t.type?A.className="dialogButton buttonUp":("click"===t.type||"pointerup"===t.type||"keydown"===t.type&&13===t.keyCode)&&(A.className="dialogButton buttonUp",E=h(),E&&(S={seconds:document.getElementById(c)?+document.getElementById(c).value:0,minutes:document.getElementById(r)?+document.getElementById(r).value:0,hours:document.getElementById(o)?+document.getElementById(o).value:0,day:document.getElementById(a)?+document.getElementById(a).value:1,month:document.getElementById(i)?+document.getElementById(i).value-1:0,year:document.getElementById(n)?+document.getElementById(n).value:JMP.EPOCH,degree:document.getElementById(l)?+document.getElementById(l).value:0},g.options.isDuration?(b=document.getElementById(s).checked,g.options.hasDay||(S.day=0),m=JMP.FormatStatic.durationToValue(S,g.options.hasDay,g.options.hasHours),b&&(m=-m)):g.options.hasDegrees?(f=g.options.isLatitude?e.GEOGRAPHIC_DIRECTION_NAMES[1]:e.GEOGRAPHIC_DIRECTION_NAMES[3],b=JMP.DialogStatic.getSelectedRadioValue(u)===f,m=JMP.FormatStatic.geographicToValue(S),b&&(m=-m)):(g.options.hasHours&&!g.options.use24HourClock&&(JMP.DialogStatic.getSelectedRadioValue(d)===g.options.PMDesignator?S.hours=S.hours%12+12:12===S.hours&&(S.hours=0)),m=JMP.FormatStatic.dateTimeToValue(S)),g.handler(m,g),T.className=T.className.replace("revealed","concealed"),p.className=p.className.replace("revealed","concealed"),document.body.setAttribute("aria-hidden","false"),T.setAttribute("aria-hidden","true"),JMP.TooltipStatic.updateTooltip())))},e}(),JMP.MenuStatic=function(){"use strict";let e={},t=[],i=-1,a=-1,n=!1,l=function(e){let t=getComputedStyle(document.body);return(e?t.getPropertyValue("--color-disabled-icon"):t.getPropertyValue("--color-enabled-icon")).replace("#","%23")},s=function(e){let t;return t=`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="${l(e)}" d="M10 17l5-5-5-5v10z"/><path fill="none" d="M0 24V0h24v24H0z"/></svg>`,t},o=function(e){let t;return t=`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="${l(e)}"/></svg>`,t},r=function(e,n,l,r,c,d,u,h){let g,S,m,f,T,p,E,b,A,_,x,L,N,I,M=!1,y=!1,C=!1,R=[];for(e.style.left=n+"px",e.style.top=l+"px",m=e.childNodes[0],S=m.childNodes.length,g=S-1;g>=0;g--)m.removeChild(m.childNodes[g]);for(S=r.length,g=0;g<S;g++)E=r[g],E.type!==JMP.MenuStatic.MENU_CHECK&&E.type!==JMP.MenuStatic.MENU_RADIO||(M=!0),E.icon&&(y=!0),E.menuItems&&(C=!0);if(A=0,C)for(g=0;g<S;g++)r[g].type===JMP.MenuStatic.MENU_SEPARATOR&&A++;L=!1,x=function(e,t){JMP.MenuStatic.onMenuItem(e,t.x,t.y,t.yFrac,t.handler,t.itemId,t.menuId)},b=0;let v=0;for(g=0;g<S;g++)E=r[g],E.type===JMP.MenuStatic.MENU_SEPARATOR?b++:(_=E.isDisabled,t[E.id]=E.menuItems,f=document.createElement("TR"),f.className="menuRow","string"==typeof E.id&&(f.id=E.id),g>0&&r[g-1].type===JMP.MenuStatic.MENU_SEPARATOR&&(f.className+=" borderTop"),R[v]={x:n,y:l,yFrac:(g-b)/(S-A),handler:_?void 0:c,itemId:E.id,menuId:d},JMP.EventFacadeStatic.addEventListener(f,x,R[v++]),!u||_||L||(L=!0,f.className+=" selected",h?a=g-b:i=g-b),M&&(T=document.createElement("TD"),T.className="menuOuterLeft verticallyCentered",E.isChecked&&(p=document.createElement("IMG"),p.className="verticallyCentered",p.src=o(_),T.appendChild(p)),f.appendChild(T)),T=document.createElement("TD"),T.className="menuCell nowrap verticallyCentered",M&&(T.className+=" menuLeft"),_&&(T.className+=" disabledText"),E.link?(p=document.createElement("A"),p.className="menuLink",p.target="_blank",p.href=E.link,p.text=E.label,p.tabIndex=-1):p=document.createTextNode(E.label),T.appendChild(p),f.appendChild(T),y&&(T=document.createElement("TD"),T.className="menuLeft menuRight verticallyCentered",E.icon&&(p=document.createElement("IMG"),p.className="verticallyCentered",p.src=E.icon,T.appendChild(p)),f.appendChild(T)),C&&(T=document.createElement("TD"),T.className="menuCell menuLeft menuRight verticallyCentered",E.menuItems&&(p=document.createElement("IMG"),p.className="verticallyCentered",p.src=_?s(!0):s(),T.appendChild(p)),f.appendChild(T)),m.appendChild(f));e.style.left="0px",e.style.top="0px",e.className=e.className.replace("concealed","revealed");let w=e.offsetWidth,O=e.offsetHeight;if(N=window.pageXOffset+window.innerWidth-w,n>N&&(n=N,h)){let e=document.getElementById("menu0");n=parseInt(e.style.left,10)-w}for(I=window.pageYOffset+window.innerHeight-O,l>I&&(l=I),e.style.left=n+"px",e.style.top=l+"px",S=R.length,g=0;g<S;g++)R[g].x=n,R[g].y=l};return e.MENU_ITEM=0,e.MENU_CHECK=1,e.MENU_RADIO=2,e.MENU_SEPARATOR=3,e.TIP_MENU="Display a menu of commands",e.button=void 0,e.getHamburgerIcon=function(){return`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path fill="${l()}" d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>`},e.getKebabIcon=function(e){let t;return t=`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" fill="${l(e)}"/></svg>`,t},e.onMenuItem=function(i,a,l,s,o,c,d){let u,h,g=document.getElementById("menu0"),S=document.getElementById("menu1"),m=i.pointerTarget;if(m||(m=i.target),document.body.className="cursorArrow","pointerdown"===i.type?n=!0:"pointerout"===i.type&&(n=!1),"pointerover"===i.type){for(h=m;h&&h!==g;)h=h.parentNode;h===g&&(S.className=S.className.replace("revealed","concealed"))}if("pointermove"!==i.type&&"pointerout"!==i.type&&t[c]){a+=g.offsetWidth-1;let e=window.getComputedStyle(document.body),n=parseInt(e.getPropertyValue("--menu-table-padding-top"),10);l+=s*g.offsetHeight-1+n,r(S,a,l,t[c],o,d,"click"===i.type,!0)}else if("click"===i.type||"pointerup"===i.type){for(u=m;"TR"!==u.nodeName;)u=u.parentNode;u.style.backgroundColor=JMP.COLOR_WHITE,setTimeout((function(){u.style.backgroundColor=JMP.COLOR_SELECT,setTimeout((function(){S.className=S.className.replace("revealed","concealed"),e.button.className=e.button.className.replace("buttonDown","buttonUp"),o&&(g=document.getElementById("menu0"),g.className=g.className.replace("revealed","concealed"),o(c,d))}),100)}),100)}},e.onMenuButton=function(t,l,s,o){let c,d=document.getElementById("menu0"),u=document.getElementById("menu1"),h=d.childNodes[0].childNodes,g=u.childNodes[0].childNodes,S=d.className.includes("revealed"),m=u.className.includes("revealed"),f=l(o),T=t.pointerTarget,p={x:0,y:0};if(T||(T=t.target),0===T.childNodes.length&&(T=T.parentNode),"blur"!==t.type||n){if("pointercancel"===t.type)d.className=d.className.replace("revealed","concealed"),u.className=u.className.replace("revealed","concealed"),T.className=T.className.replace("buttonDown","buttonUp");else if("click"===t.type||"pointerup"===t.type)e.button=T,S?"click"===t.type&&(t.pointerTarget=m?g[a]:h[i],c=JMP.EventFacadeStatic.getEventParameter(t.pointerTarget),c&&JMP.MenuStatic.onMenuItem(t,c.x,c.y,c.yFrac,c.handler,c.itemId,c.menuId)):(T.className=T.className.replace("buttonUp","buttonDown"),f&&(JMP.ViewStatic.getPosition(T,p),o===JMP.ViewStatic.TOOLBAR_MENU_ID&&(p.x+=window.pageXOffset,p.y+=window.pageYOffset),p.y+=T.offsetHeight-1,r(d,p.x,p.y,f,s,o,"click"===t.type)));else if("keydown"===t.type)switch(t.keyCode){case 27:m?(u.className=u.className.replace("revealed","concealed"),a=-1):(d.className=d.className.replace("revealed","concealed"),i=-1);break;case 38:case 40:m?(g[a].className=g[a].className.replace(" selected",""),a=(38===t.keyCode?a-1+g.length:a+1)%g.length,g[a].className+=" selected"):(h[i].className=h[i].className.replace(" selected",""),i=(38===t.keyCode?i-1+h.length:i+1)%h.length,h[i].className+=" selected"),t.preventDefault()}}else d.className=d.className.replace("revealed","concealed"),u.className=u.className.replace("revealed","concealed"),T.className=T.className.replace("buttonDown","buttonUp")},e}(),JMP.ModeStatic=function(){"use strict";let e={},t=JMP.ViewStatic.SELECT_ONLY,i=JMP.ViewStatic.ZOOM_IN,a=-1,n="%23ffffff",l="%235f82b9";return e.isShiftDown=!1,e.isCtrlDown=!1,e.isMetaDown=!1,e.ID_ZOOM_IN="ID_ZOOM_IN",e.ID_ZOOM_OUT="ID_ZOOM_OUT",e.ID_PAN="ID_PAN",e.ID_FOCUS_REPORT="ID_FOCUS_REPORT",e.ID_FOCUS_DATA="ID_FOCUS_DATA",e.ID_SELECT_ONLY="ID_SELECT_ONLY",e.ID_SELECT_TOGGLE="ID_SELECT_TOGGLE",e.TIP_FOCUS_REPORT="Identify objects. Zoom the report.",e.TIP_FOCUS_DATA="Drag a rectangle to select rows.",e.TIP_SELECT_ONLY="Select one object.",e.TIP_SELECT_TOGGLE="Select multiple objects.",e.TIP_ZOOM_IN="Zoom in mode.",e.TIP_ZOOM_OUT="Zoom out mode.",e.TIP_PAN="Pan mode.",e.getSponsorIcon=function(){const e=JMP.ViewStatic.getIconColor();return`data:image/svg+xml;utf8,<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns%23" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns%23" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg"   xml:space="preserve" style="enable-background:new 0 0 216 216;" viewBox="0 0 216 216" y="0px" x="0px" id="Layer_1" version="1.1"><metadata     id="metadata3797"><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs id="defs3795" /><style id="style3770" type="text/css"> .st0{fill:%23007CB9;}</style><path style="fill:%23007cb9;stroke-width:1.38196397" id="path3772" d="m 86.139841,65.427794 -0.144672,-0.14521 -0.105216,-0.08713 c -5.589607,-4.704854 -16.3085,-6.098885 -21.845499,-5.053363 -0.802273,0.145213 -1.49933,0.275903 -2.130627,0.406594 2.170083,-4.603206 3.866693,-13.911266 1.920194,-19.893979 l -0.03946,-0.11617 -0.06576,-0.159733 c -0.197281,-0.290422 -0.591841,-0.406593 -0.868033,-0.24686 -0.09206,0.04357 -0.144672,0.11617 -0.19728,0.203297 -0.01316,0.04357 -0.03946,0.08713 -0.05262,0.13069 l -0.01316,0.04357 c -0.59184,3.601247 -1.512482,6.955632 -3.011811,9.946991 -2.064866,4.124007 -5.234503,7.609083 -10.140205,10.20837 -8.588267,4.545119 -15.808725,3.819062 -24.738944,1.190733 l -0.03946,-0.01452 c -0.157824,-0.02904 -0.302497,-0.02904 -0.434017,0.05809 -0.09206,0.04357 -0.157824,0.11617 -0.197279,0.203296 -0.09206,0.174255 -0.07891,0.421114 0.06575,0.62441 l 0.118369,0.130691 0.105216,0.08713 c 7.825451,6.737815 18.084024,8.814339 25.791105,7.231534 -4.932005,8.741733 -7.010025,22.333532 -2.99866,34.632945 l 0.05261,0.15974 0.07891,0.20329 c 0.157825,0.24687 0.394561,0.34851 0.618145,0.30495 0.105215,-0.0146 0.210433,-0.0726 0.302497,-0.15973 0.13152,-0.13069 0.197279,-0.30494 0.223584,-0.50825 v -0.0581 C 49.18264,92.930869 51.27381,83.884191 59.401756,75.171498 c 4.642663,-4.980755 9.508909,-7.521957 14.625044,-8.480352 3.72202,-0.697016 7.562409,-0.566325 11.54747,0.07261 h 0.05261 c 0.05262,0 0.105215,0 0.157824,-0.01452 0.105216,-0.01452 0.210433,-0.07261 0.289345,-0.159733 0.26304,-0.290423 0.289344,-0.813184 0.06575,-1.161692 z" class="st0" /><path fill="${e}" style="stroke-width:1.38196397" id="path3774" d="m 214.38516,117.44257 c -4.44539,24.88925 -20.31987,40.97869 -40.4293,40.97869 -7.33883,0 -16.20329,-2.88971 -20.34617,-10.62948 -0.52609,2.99136 -3.09073,18.18048 -4.36648,25.77504 h -13.29668 l 16.83458,-95.781524 h 13.32299 c 0,0 -0.9864,5.518038 -1.51248,8.523917 5.32656,-6.578082 13.82277,-10.310019 23.8183,-10.310019 20.26726,0.01452 30.47322,16.278212 25.97524,41.443376 z m -39.32454,27.95322 c 18.36022,0 23.93667,-20.16989 25.48862,-28.85353 2.44627,-13.69345 -1.5914,-27.517592 -16.11123,-27.517592 -15.2958,0 -23.33168,14.506632 -25.7648,28.098422 -1.18368,6.63617 -3.49844,28.25817 16.38741,28.2727 z" /><g transform="matrix(1.3152017,0,0,1.4521152,-36.607932,-23.572349)" id="g3782"><g id="g3780"><g id="g3778"><path fill="${e}" id="path3776" d="m 50.17,69.61 -9.65,50.9 c -1.08,5.68 -2.6,6.64 -5.6,6.64 -1.25,0 -2.33,0 -3.49,-0.2 l -0.74,-0.13 -1.66,8.77 0.5,0.1 c 1.39,0.29 2.91,0.43 4.62,0.43 8.73,0 14.49,-5.03 16.23,-14.17 L 60.3,69.61 Z" /></g></g></g><path fill="${e}"  style="stroke-width:1.38196397" id="path3784" d="m 95.017452,156.9401 h 0.0263 l 9.627278,-52.82795 c 0.0131,-0.0726 0.0131,-0.13069 0.0263,-0.2033 1.35464,-6.897548 7.47034,-12.45915 13.74385,-12.45915 h 2.20953 c 6.32611,0 10.45586,5.677771 9.16696,12.67697 l -9.61412,52.82796 h 13.78332 l 9.62727,-52.82796 c 2.80133,-15.377903 -6.26041,-27.895137 -20.1884,-27.895137 h -2.22268 c -7.23362,0 -14.37516,3.397949 -19.96477,8.799818 -3.629961,-5.401869 -9.522064,-8.799818 -16.755672,-8.799818 h -2.222692 c -13.927986,0 -27.540323,12.517234 -30.341702,27.895137 l -9.627254,52.82796 h 13.783319 l 9.614124,-52.82796 C 66.964159,97.141992 73.145607,91.4497 79.484879,91.4497 h 2.209539 c 6.273512,0 10.350637,5.576124 9.206411,12.45915 -0.01316,0.0726 -0.03946,0.14521 -0.05261,0.2033 l -9.627277,52.82795 h 0.01316 13.783314 z" /><path fill="${e}" style="stroke-width:1.38196397" id="path3786" d="m 50.300595,42.5715 c 0.815425,4.487037 -1.801827,8.857904 -5.865799,9.772737 -4.063973,0.914832 -8.035883,-1.989399 -8.851308,-6.476435 -0.828576,-4.487037 1.801826,-8.857903 5.865799,-9.772735 4.063974,-0.914833 8.009579,1.989397 8.851308,6.476433 z" /><g transform="matrix(1.3152017,0,0,1.4521152,-36.607932,-23.572349)" id="g3790"><path id="path3788" d="m 185.85,116.18 c 1.63,0 3,1.29 3,2.97 0,1.72 -1.37,3.01 -3,3.01 -1.64,0 -3.01,-1.29 -3.01,-3.01 -0.01,-1.69 1.37,-2.97 3.01,-2.97 z m 0,5.54 c 1.38,0 2.46,-1.1 2.46,-2.57 0,-1.43 -1.07,-2.53 -2.46,-2.53 -1.4,0 -2.47,1.1 -2.47,2.53 0,1.47 1.07,2.57 2.47,2.57 z m -1.17,-4.3 h 1.35 c 0.83,0 1.22,0.33 1.22,1 0,0.63 -0.4,0.9 -0.92,0.95 l 1,1.54 h -0.58 l -0.95,-1.5 h -0.58 v 1.5 h -0.54 z m 0.54,1.55 h 0.57 c 0.48,0 0.92,-0.02 0.92,-0.58 0,-0.46 -0.4,-0.54 -0.77,-0.54 h -0.72 z" /></g></svg>`},e.getPanIcon=function(e){return`data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path fill="${JMP.ViewStatic.getIconColor(e)}" d="M18 24h-6.55c-1.08 0-2.14-.45-2.89-1.23l-7.3-7.61 2.07-1.83c.62-.55 1.53-.66 2.26-.27L8 14.34V4.79c0-1.38 1.12-2.5 2.5-2.5.17 0 .34.02.51.05.09-1.3 1.17-2.33 2.49-2.33.86 0 1.61.43 2.06 1.09.29-.12.61-.18.94-.18 1.38 0 2.5 1.12 2.5 2.5v.28c.16-.03.33-.05.5-.05 1.38 0 2.5 1.12 2.5 2.5V20c0 2.21-1.79 4-4 4zM4.14 15.28l5.86 6.1c.38.39.9.62 1.44.62H18c1.1 0 2-.9 2-2V6.15c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V3.42c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V2.51c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V4.79c0-.28-.22-.5-.5-.5s-.5.23-.5.5v12.87l-5.35-2.83-.51.45z"/></svg>`},e.getZoomInIcon=function(e){return`data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path fill="${JMP.ViewStatic.getIconColor(e)}" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm.5-7H9v2H7v1h2v2h1v-2h2V9h-2z"/></svg>`},e.getZoomOutIcon=function(e){return`data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path fill="${JMP.ViewStatic.getIconColor(e)}" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"/></svg>`},e.getFocusReportIcon=function(e){const t=JMP.ViewStatic.getIconColor(e).replace(/\s/g,"");let i="%23000000",a=n,s=l,o="%23717171",r="%235e5d5d";t.includes("255")&&(i=n,a="none",s=n,o=n,r=n);let c=`data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns%23" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns%23" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" id="svg3715" version="1.1" viewBox="0 0 24 24" height="24" width="24"> <metadata id="metadata3721"> <rdf:RDF> <cc:Work rdf:about=""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /> <dc:title></dc:title> </cc:Work> </rdf:RDF> </metadata> <defs id="defs3719" /> <rect y="7" x="10" height="8" width="11" id="rect5077" style="fill:${a};fill-opacity:1;stroke:${o};stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /> <path id="path3713" fill="none" d="M0 0h24v24H0z" /> <circle r="3.5" style="fill:${s};fill-opacity:1;stroke-width:1.27469122" cy="17.5" cx="6.5" id="path3723-4-5-9-2-7-7" /> <circle r="2.5" style="fill:%233b8bd7;fill-opacity:1;stroke-width:0.91049373" cy="17.5" cx="6.5" id="path3723-4-5-9-2-7-7-4" /> <path id="path5029" d="M 9.5001976,16 V 6.5 H 22.000215" style="fill:none;stroke:${o};stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /> <path id="path5037" d="m 21.499969,6 v 9.499969 H 10" style="fill:none;stroke:${r};stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /> <path id="path5039-8" d="m 11,9.5 h 9" style="fill:none;stroke:${i};stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /> <path id="path5039-6" d="m 11,12.5 h 9" style="fill:none;stroke:${i};stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /> </svg>`;return e&&(c='data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns%23" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns%23" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" id="svg3715" version="1.1" viewBox="0 0 24 24" height="24" width="24"> <metadata id="metadata3721"> <rdf:RDF> <cc:Work rdf:about=""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /> <dc:title></dc:title> </cc:Work> </rdf:RDF> </metadata> <defs id="defs3719" /> <path id="path3713" fill="none" d="M0 0h24v24H0z" /> <circle r="3.5" style="fill:%238c9295;fill-opacity:1;stroke-width:1.27469122" cy="17.5" cx="6.5" id="path3723-4-5-9-2-7-7" /> <circle r="2.5" style="fill:%238c9295;fill-opacity:1;stroke-width:0.91049373" cy="17.5" cx="6.5" id="path3723-4-5-9-2-7-7-4" /> <path id="path5029" d="M 9.5001976,16 V 6.5 H 22.000215" style="fill:none;stroke:%238c9295;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /> <path id="path5037" d="m 21.499969,6 v 9.499969 H 10" style="fill:none;stroke:%238c9295;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /> <path id="path5039-8" d="m 11,9.5 h 9" style="fill:none;stroke:%238c9295;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /> <path id="path5039-6" d="m 11,12.5 h 9" style="fill:none;stroke:%238c9295;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /> </svg>'),c},e.getFocusDataIcon=function(e){let t='data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns%23" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns%23" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" version="1.1" id="svg3715"> <metadata id="metadata3721"> <rdf:RDF> <cc:Work rdf:about=""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /> <dc:title></dc:title> </cc:Work> </rdf:RDF> </metadata> <defs id="defs3719" /> <path style="fill:none;stroke:%23679cba;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 7.5,2.5 v 19 h 14 v -19 z" id="path4877" /> <path d="M0 0h24v24H0z" fill="none" id="path3713" /> <circle r="2" id="path3723-4-5-9-7" cx="4" cy="18" style="fill:%23808689;fill-opacity:1;stroke-width:0.72839504" /> <g transform="translate(0,2)" id="g5288-4"> <g id="g5272-9"> <circle r="2.5" id="path3723-4-5-9-2-7-7-46-5-7-7-8" cx="11.5" cy="11.5" style="fill:%235f82b9;fill-opacity:1;stroke-width:0.91049373" /> </g> <circle style="fill:%233b8bd7;fill-opacity:1;stroke-width:0.54629624" cy="11.5" cx="11.5" id="path3723-4-5-9-2-7-7-4-8-8-5-4-0" r="1.5" /> </g> <g id="g5288-4-7" transform="translate(6,6)"> <g id="g5272-9-8"> <circle r="2.5" id="path3723-4-5-9-2-7-7-46-5-7-7-8-1" cx="11.5" cy="11.5" style="fill:%235f82b9;fill-opacity:1;stroke-width:0.91049373" /> </g> <circle style="fill:%233b8bd7;fill-opacity:1;stroke-width:0.54629624" cy="11.5" cx="11.5" id="path3723-4-5-9-2-7-7-4-8-8-5-4-0-1" r="1.5" /> </g> <g id="g5288-4-2" transform="translate(6,-5)"> <g id="g5272-9-1"> <circle r="2.5" id="path3723-4-5-9-2-7-7-46-5-7-7-8-4" cx="11.5" cy="11.5" style="fill:%235f82b9;fill-opacity:1;stroke-width:0.91049373" /> </g> <circle style="fill:%233b8bd7;fill-opacity:1;stroke-width:0.54629624" cy="11.5" cx="11.5" id="path3723-4-5-9-2-7-7-4-8-8-5-4-0-0" r="1.5" /> </g> </svg>';return e&&(t='data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns%23" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns%23" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" version="1.1" id="svg3715"> <metadata id="metadata3721"> <rdf:RDF> <cc:Work rdf:about=""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /> <dc:title></dc:title> </cc:Work> </rdf:RDF> </metadata> <defs id="defs3719" /> <path style="fill:none;stroke:%238c9295;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="m 7.5,2.5 v 19 h 14 v -19 z" id="path4877" /> <path d="M0 0h24v24H0z" fill="none" id="path3713" /> <circle r="2" id="path3723-4-5-9-7" cx="4" cy="18" style="fill:%238c9295;fill-opacity:1;stroke-width:0.72839504" /> <g transform="translate(0,2)" id="g5288-4"> <g id="g5272-9"> <circle r="2.5" id="path3723-4-5-9-2-7-7-46-5-7-7-8" cx="11.5" cy="11.5" style="fill:%238c9295;fill-opacity:1;stroke-width:0.91049373" /> </g> <circle style="fill:%238c9295;fill-opacity:1;stroke-width:0.54629624" cy="11.5" cx="11.5" id="path3723-4-5-9-2-7-7-4-8-8-5-4-0" r="1.5" /> </g> <g id="g5288-4-7" transform="translate(6,6)"> <g id="g5272-9-8"> <circle r="2.5" id="path3723-4-5-9-2-7-7-46-5-7-7-8-1" cx="11.5" cy="11.5" style="fill:%238c9295;fill-opacity:1;stroke-width:0.91049373" /> </g> <circle style="fill:%238c9295;fill-opacity:1;stroke-width:0.54629624" cy="11.5" cx="11.5" id="path3723-4-5-9-2-7-7-4-8-8-5-4-0-1" r="1.5" /> </g> <g id="g5288-4-2" transform="translate(6,-5)"> <g id="g5272-9-1"> <circle r="2.5" id="path3723-4-5-9-2-7-7-46-5-7-7-8-4" cx="11.5" cy="11.5" style="fill:%238c9295;fill-opacity:1;stroke-width:0.91049373" /> </g> <circle style="fill:%238c9295;fill-opacity:1;stroke-width:0.54629624" cy="11.5" cx="11.5" id="path3723-4-5-9-2-7-7-4-8-8-5-4-0-0" r="1.5" /> </g> </svg>'),t},e.getSelectOnlyIcon=function(e){const t=JMP.ViewStatic.getIconColor(e).replace(/\s/g,"");let i=l;t.includes("255")&&(i=n);let a=`data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns%23" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns%23" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" id="svg3715" version="1.1" viewBox="0 0 24 24" height="24" width="24"> <metadata id="metadata3721"> <rdf:RDF> <cc:Work rdf:about=""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /> <dc:title></dc:title> </cc:Work> </rdf:RDF> </metadata> <defs id="defs3719" /> <path id="path3713" fill="none" d="M0 0h24v24H0z" /> <g transform="translate(1,-1)" id="g4974"> <circle id="path3723-4-5-9-2-7-7" cx="5.5" cy="18.5" style="fill:${i};fill-opacity:1;stroke-width:1.27469122" r="3.5" /> <circle id="path3723-4-5-9-2-7-7-4" cx="5.5" cy="18.5" style="fill:%233b8bd7;fill-opacity:1;stroke-width:0.91049373" r="2.5" /> </g> <circle r="2.5" style="fill:%23919191;fill-opacity:1;stroke-width:0.91049373" cy="8" cx="12" id="path3723-4-5-9-2-7-7-4-8-8" /> <circle r="2.5" style="fill:%23919191;fill-opacity:1;stroke-width:0.91049373" cy="17.5" cx="17.5" id="path3723-4-5-9-2-7-7-4-8-8-4" /> </svg>`;return e&&(a='data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns%23" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns%23" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" id="svg3715" version="1.1" viewBox="0 0 24 24" height="24" width="24"> <metadata id="metadata3721"> <rdf:RDF> <cc:Work rdf:about=""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /> <dc:title></dc:title> </cc:Work> </rdf:RDF> </metadata> <defs id="defs3719" /> <path id="path3713" fill="none" d="M0 0h24v24H0z" /> <g transform="translate(1,-1)" id="g4974"> <circle id="path3723-4-5-9-2-7-7" cx="5.5" cy="18.5" style="fill:%238c9295;fill-opacity:1;stroke-width:1.27469122" r="3.5" /> <circle id="path3723-4-5-9-2-7-7-4" cx="5.5" cy="18.5" style="fill:%238c9295;fill-opacity:1;stroke-width:0.91049373" r="2.5" /> </g> <circle r="2.5" style="fill:%238c9295;fill-opacity:1;stroke-width:0.91049373" cy="8" cx="12" id="path3723-4-5-9-2-7-7-4-8-8" /> <circle r="2.5" style="fill:%238c9295;fill-opacity:1;stroke-width:0.91049373" cy="17.5" cx="17.5" id="path3723-4-5-9-2-7-7-4-8-8-4" /> </svg>'),a},e.getSelectToggleIcon=function(e){const t=JMP.ViewStatic.getIconColor(e).replace(/\s/g,"");let i=l;t.includes("255")&&(i=n);let a=`data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns%23" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns%23" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" version="1.1" id="svg3715"> <metadata id="metadata3721"> <rdf:RDF> <cc:Work rdf:about=""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /> <dc:title></dc:title> </cc:Work> </rdf:RDF> </metadata> <defs id="defs3719" /> <path d="M0 0h24v24H0z" fill="none" id="path3713" /> <g id="g4974" transform="translate(1,-1)"> <circle r="3.5" style="fill:${i};fill-opacity:1;stroke-width:1.27469122" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7" /> <circle r="2.5" style="fill:%233b8bd7;fill-opacity:1;stroke-width:0.91049373" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7-4" /> </g> <g id="g4974-4" transform="translate(12,-1)"> <circle r="3.5" style="fill:${i};fill-opacity:1;stroke-width:1.27469122" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7-46" /> <circle r="2.5" style="fill:%233b8bd7;fill-opacity:1;stroke-width:0.91049373" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7-4-8" /> </g> <g id="g4974-4-5" transform="translate(6.5,-10.5)"> <circle r="3.5" style="fill:${i};fill-opacity:1;stroke-width:1.27469122" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7-46-5" /> <circle r="2.5" style="fill:%233b8bd7;fill-opacity:1;stroke-width:0.91049373" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7-4-8-8" /> </g> </svg>`;return e&&(a='data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns%23" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns%23" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" version="1.1" id="svg3715"> <metadata id="metadata3721"> <rdf:RDF> <cc:Work rdf:about=""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /> <dc:title></dc:title> </cc:Work> </rdf:RDF> </metadata> <defs id="defs3719" /> <path d="M0 0h24v24H0z" fill="none" id="path3713" /> <g id="g4974" transform="translate(1,-1)"> <circle r="3.5" style="fill:%238c9295;fill-opacity:1;stroke-width:1.27469122" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7" /> <circle r="2.5" style="fill:%238c9295;fill-opacity:1;stroke-width:0.91049373" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7-4" /> </g> <g id="g4974-4" transform="translate(12,-1)"> <circle r="3.5" style="fill:%238c9295;fill-opacity:1;stroke-width:1.27469122" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7-46" /> <circle r="2.5" style="fill:%238c9295;fill-opacity:1;stroke-width:0.91049373" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7-4-8" /> </g> <g id="g4974-4-5" transform="translate(6.5,-10.5)"> <circle r="3.5" style="fill:%238c9295;fill-opacity:1;stroke-width:1.27469122" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7-46-5" /> <circle r="2.5" style="fill:%238c9295;fill-opacity:1;stroke-width:0.91049373" cy="18.5" cx="5.5" id="path3723-4-5-9-2-7-7-4-8-8" /> </g> </svg>'),a},e.onMode=function(t){let i,a,n,l=function(t){let i,a=JMP.DocumentStatic.getParentWindow().document;t!==e.ID_FOCUS_REPORT&&(i=a.getElementById(e.ID_FOCUS_REPORT),i.className=i.className.replace("buttonDown","buttonUp")),t!==e.ID_SELECT_ONLY&&(i=a.getElementById(e.ID_SELECT_ONLY),i.className=i.className.replace("buttonDown","buttonUp")),t!==e.ID_SELECT_TOGGLE&&(i=a.getElementById(e.ID_SELECT_TOGGLE),i.className=i.className.replace("buttonDown","buttonUp")),t!==e.ID_ZOOM_IN&&(i=a.getElementById(e.ID_ZOOM_IN),i.className=i.className.replace("buttonDown","buttonUp")),t!==e.ID_ZOOM_OUT&&(i=a.getElementById(e.ID_ZOOM_OUT),i.className=i.className.replace("buttonDown","buttonUp")),t!==e.ID_PAN&&(i=a.getElementById(e.ID_PAN),i.className=i.className.replace("buttonDown","buttonUp"))};if("click"===t.type||"pointerup"===t.type)switch(n=t.pointerTarget,n||(n=t.target),0===n.childNodes.length&&(n=n.parentNode),n.className=n.className.replace("buttonUp","buttonDown"),n.id){case e.ID_ZOOM_IN:for(JMP.ViewStatic.setZooming(!0),e.isCtrlDown||e.isShiftDown?JMP.ViewStatic.setZoomingType(JMP.ViewStatic.ZOOM_OUT):JMP.ViewStatic.setZoomingType(JMP.ViewStatic.ZOOM_IN),JMP.ViewStatic.setPanning(!1),a=JMP.ControlStatic.segments.length,i=0;i<a;i++)JMP.ControlStatic.segments[i].removeBrush();l(e.ID_ZOOM_IN);break;case e.ID_ZOOM_OUT:for(JMP.ViewStatic.setZooming(!0),JMP.ViewStatic.setZoomingType(JMP.ViewStatic.ZOOM_OUT),JMP.ViewStatic.setPanning(!1),a=JMP.ControlStatic.segments.length,i=0;i<a;i++)JMP.ControlStatic.segments[i].removeBrush();l(e.ID_ZOOM_OUT);break;case e.ID_PAN:for(JMP.ViewStatic.setPanning(!0),JMP.ViewStatic.setZooming(!1),a=JMP.ControlStatic.segments.length,i=0;i<a;i++)JMP.ControlStatic.segments[i].removeBrush();l(e.ID_PAN);break;case e.ID_FOCUS_REPORT:for(JMP.ViewStatic.setZooming(!1),JMP.ViewStatic.setPanning(!1),JMP.ViewStatic.setFocus(JMP.ViewStatic.FOCUS_REPORT),JMP.ViewStatic.setSelect(JMP.EventFacadeStatic.isTouch?JMP.ViewStatic.SELECT_OFF:JMP.ViewStatic.SELECT_ONLY),a=JMP.ControlStatic.segments.length,i=0;i<a;i++)JMP.ControlStatic.segments[i].removeBrush();l(e.ID_FOCUS_REPORT);break;case e.ID_SELECT_ONLY:JMP.ViewStatic.setZooming(!1),JMP.ViewStatic.setPanning(!1),e.isCtrlDown||e.isShiftDown?JMP.ViewStatic.setSelect(JMP.ViewStatic.SELECT_TOGGLE):JMP.ViewStatic.setSelect(JMP.ViewStatic.SELECT_ONLY),JMP.ViewStatic.setFocus(JMP.ViewStatic.FOCUS_DATA),l(e.ID_SELECT_ONLY);break;case e.ID_SELECT_TOGGLE:JMP.ViewStatic.setZooming(!1),JMP.ViewStatic.setPanning(!1),JMP.ViewStatic.setFocus(JMP.ViewStatic.FOCUS_DATA),JMP.ViewStatic.setSelect(JMP.ViewStatic.SELECT_TOGGLE),l(e.ID_SELECT_TOGGLE)}},e.onKey=function(n){let l=document.getElementById("dialog"),s=16===n.keyCode,o=17===n.keyCode,r=n.keyCode===a,c="keydown"===n.type;if(!l.className.includes("revealed")||!c||!s&&!o){if(a<0&&n.metaKey&&(a=n.keyCode,r=!0),(o||s)&&(c&&document.body.classList.contains("cursorZoomIn")?(document.body.classList.add("cursorZoomOut"),document.body.classList.remove("cursorZoomIn")):document.body.classList.contains("cursorZoomOut")&&(document.body.classList.add("cursorZoomIn"),document.body.classList.remove("cursorZoomOut"))),!c||!o&&!s||e.isCtrlDown||e.isShiftDown||(t=JMP.ViewStatic.isSelect(JMP.ViewStatic.SELECT_ONLY)?JMP.ViewStatic.SELECT_ONLY:JMP.ViewStatic.SELECT_TOGGLE,i=JMP.ViewStatic.getZoomingType()===JMP.ViewStatic.ZOOM_IN?JMP.ViewStatic.ZOOM_IN:JMP.ViewStatic.ZOOM_OUT),s?e.isShiftDown=c:o?e.isCtrlDown=c:r&&(e.isMetaDown=c),o||s){let a=c||e.isCtrlDown||e.isShiftDown;a||t===JMP.ViewStatic.SELECT_TOGGLE?JMP.ViewStatic.setSelect(JMP.ViewStatic.SELECT_TOGGLE):JMP.ViewStatic.setSelect(JMP.ViewStatic.SELECT_ONLY),a||i===JMP.ViewStatic.ZOOM_OUT?JMP.ViewStatic.setZoomingType(JMP.ViewStatic.ZOOM_OUT):JMP.ViewStatic.setZoomingType(JMP.ViewStatic.ZOOM_IN)}r=e.isMetaDown}},e}(),JMP.MultiRangeStatic=function(){"use strict";let e={},t=Object.getOwnPropertyDescriptor(window.self.HTMLInputElement.prototype,"value");return e.initialize=function(e){let i=e.getAttribute("value"),a=null===i?[]:i.split(","),n=null!==e.getAttribute("min")?+e.getAttribute("min"):0,l=null!==e.getAttribute("max")?+e.getAttribute("max"):100,s=e.cloneNode(),o=!!e.isRangeBetween,r=function(){let t=!!e.isExcludedLower,i=!!e.isExcludedUpper,a=!!e.isRangeBetween,n=+e.getAttribute("min"),l=+e.getAttribute("max"),o=(e.valueLow-n)/(l-n)*100+1+"%",r=(e.valueHigh-n)/(l-n)*100-1+"%";a?+e.valueLow<+e.valueHigh?(s.style.setProperty("--low0",o),s.style.setProperty("--high0",r),s.style.setProperty("--low1","100%"),e.classList.contains("thumbLeft")&&(e.classList.remove("thumbLeft"),e.classList.add("thumbRight"),s.classList.remove("thumbRight"),s.classList.add("thumbLeft"))):+e.valueLow>+e.valueHigh?(s.style.setProperty("--low0",r),s.style.setProperty("--high0",o),s.style.setProperty("--low1","100%"),e.classList.contains("thumbRight")&&(e.classList.remove("thumbRight"),e.classList.add("thumbLeft"),s.classList.remove("thumbLeft"),s.classList.add("thumbRight"))):t&&i?(s.style.setProperty("--low0","0%"),s.style.setProperty("--high0",r),s.style.setProperty("--low1",o)):(s.style.setProperty("--low0",o),s.style.setProperty("--high0",r),s.style.setProperty("--low1","100%")):+e.valueLow<+e.valueHigh?(s.style.setProperty("--low0","0%"),s.style.setProperty("--high0",o),s.style.setProperty("--low1",r),e.classList.contains("thumbRight")&&(e.classList.remove("thumbRight"),e.classList.add("thumbLeft"),s.classList.remove("thumbLeft"),s.classList.add("thumbRight"))):+e.valueLow>+e.valueHigh?(s.style.setProperty("--low0","0%"),s.style.setProperty("--high0",r),s.style.setProperty("--low1",o),e.classList.contains("thumbLeft")&&(e.classList.remove("thumbLeft"),e.classList.add("thumbRight"),s.classList.remove("thumbRight"),s.classList.add("thumbLeft"))):t&&i?(s.style.setProperty("--low0","0%"),s.style.setProperty("--high0",r),s.style.setProperty("--low1",o)):(s.style.setProperty("--low0",o),s.style.setProperty("--high0",r),s.style.setProperty("--low1","100%"))};if(!e.classList.contains("multirange"))return e.classList.add("multirange","original"),s.classList.add("multirange","ghost"),e.value=void 0!==a[0]?a[0]:n+(l-n)/2,s.value=void 0!==a[1]?a[1]:n+(l-n)/2,e.parentNode.insertBefore(s,e.nextSibling),Object.defineProperty(e,"originalValue",t),Object.defineProperties(e,{valueLow:{get:function(){return o?Math.min(this.originalValue,s.value):+this.originalValue},set:function(e){this.originalValue=e},enumerable:!0},valueHigh:{get:function(){return o?Math.max(this.originalValue,s.value):+s.value},set:function(e){s.value=e},enumerable:!0}}),Object.defineProperty(e,"value",{get:function(){return this.valueLow+","+this.valueHigh},set:function(e){let t=e.split(",");this.valueLow=t[0],this.valueHigh=t[1],r()},enumerable:!0}),e.oninput=r,s.oninput=r,s},e.setValues=function(e,t,i,a,n,l,s,o,r){e.setAttribute("value",t+","+i),void 0!==s&&e.setAttribute("min",s),void 0!==o&&e.setAttribute("max",o),void 0!==r&&e.setAttribute("step",r);let c=e.nextSibling;c&&(void 0!==s&&c.setAttribute("min",s),void 0!==o&&c.setAttribute("max",o),void 0!==r&&c.setAttribute("step",r));const d=e.step,u=void 0===s||void 0===o?0:Math.abs(o-s)/d*1e3*JMP.MAC_EPS,h=Math.floor(t/d+u)*d,g=Math.ceil(i/d-u)*d;e.valueLow=h,e.valueHigh=g,e.isRangeBetween=a,e.isExcludedLower=n,e.isExcludedUpper=l,e.oninput()},e}(),JMP.OutlineStatic=function(){"use strict";let e={},t=!1;return e.TIP_REVEAL="Reveal contents",e.TIP_CONCEAL="Conceal contents",e.SRC_CONCEALED='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',e.SRC_REVEALED='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',e.getRevealIcon=function(){return`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="${JMP.ViewStatic.getIconColor()}" d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>`},e.getConcealIcon=function(){return`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="${JMP.ViewStatic.getIconColor()}" d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg>`},e.onOutline=function(i){let a,n,l,s,o,r,c=i.pointerTarget;c||(c=i.target),c.firstChild||(c=c.parentNode.parentNode.parentNode.parentNode);let d=c.firstChild.firstChild.children[0].firstChild;if(o=c.firstChild.firstChild.children[2].firstChild,a=c.parentNode.parentNode.parentNode.nextSibling,n=a.className.includes("revealed"),"pointerdown"===i.type)t=!0;else if("pointerout"===i.type)t=!1;else if("pointercancel"===i.type)c.className=c.className.replace("buttonDown","buttonUp"),t=!1;else if("click"===i.type||"pointerup"===i.type&&t){c.classList.contains("noBorderTopLeftRadius")?(c.classList.toggle("borderBottomRightRadius"),c.menuButton.classList.toggle("borderBottomLeftRadius")):c.classList.toggle("rounded"),c.className=c.className.replace("buttonDown","buttonUp"),t=!1,d.src=n?e.SRC_CONCEALED:e.SRC_REVEALED,o.src=n?e.getRevealIcon():e.getConcealIcon(),l=n?"revealed":"concealed",s=n?"concealed":"revealed",a.className=a.className.replace(l,s),r=c.nextSibling;let i=c.previousSibling;r&&("concealed"===s||"revealed"===s&&i.className.includes("revealed"))&&(r.className=r.className.replace(l,s)),JMP.ControlStatic.invalidateOffsets()}return a=c.parentNode.parentNode.parentNode.nextSibling,n=a.className.includes("revealed"),!0},e}(),JMP.TabStatic=function(){"use strict";let e={BOTTOM_PADDING:0,TIP_DEFAULT_TAB:"Reveal contents",onTab:function(e){let t,i,a,n,l,s,o,r,c,d=e.pointerTarget;if(d||(d=e.target),c=d.id,"pointerdown"===e.type||"click"===e.type||"keydown"===e.type&&(13===e.keyCode||32===e.keyCode)){JMP.ControlStatic.invalidateOffsets(),r=c.lastIndexOf("_"),t=c.substr(r+1),n=c.substr(0,r),i=document.getElementById(c),s=i.parentNode.childNodes;let e=i.hasAttribute("menuId")?i.getAttribute("menuId"):"-1";if("-1"!==e){let t=document.getElementById(e);t.disabled="false"===i.getAttribute("isMenuEnabled"),t.children[0].setAttribute("src",JMP.MenuStatic.getKebabIcon(t.disabled)),t=document.getElementById(e+"_legacy"),t.disabled="false"===i.getAttribute("isMenuEnabled"),t.children[0].setAttribute("src",JMP.MenuStatic.getKebabIcon(t.disabled))}for(o=0;o<s.length;o++)s[o].className="",a=document.getElementById(n+"_"+o+"Content"),a.style.display="none";i.className="selectedTab",l=document.getElementById(n+"_"+t+"Content"),l.style.display=""}}};return e}(),JMP.ParserStatic=function(){"use strict";let e={},i=[],n=function(e,t){return!e||t&&"IF"===e.nodeName.slice(0,2).toUpperCase()&&e.hasAttribute("condition")&&"false"===e.getAttribute("condition")},l=function(e){let t,i=0;if(e)for(e.hasAttribute&&e.hasAttribute("tableIndex")&&(i=+e.getAttribute("tableIndex")),t=e.firstChild;t&&0===i;t=t.nextSibling)i=l(t);return i};return e.dataSetIndexOffsets=[0],e.dataSetAttributes=[],e.STORAGE_SEGMENTS="segments",e.STORAGE_SUBTREES="subTrees",e.STORAGE_LEGENDS="legends",e.STORAGE_HTML_NODES="HTMLNodes",e.STORAGE_CANVAS_NODES="canvasNodes",e.STORAGE_INFO="info",e.STORAGE_DATA="data",e.htmlEscape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.replaceEncodedHTMLCharacters=function(e){let t=e;return t=t.replace(/&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&#39;/g,"'"),t=t.replace(/&#13;/g," "),t=t.replace(/&#10;/g," "),t=t.replace(/&#9;/g,""),t},e.htmlEncodeSelectTags=function(e){return String(e).replace(/&lt;b&gt;/g,"<b>").replace(/&lt;\/b&gt;/g,"</b>").replace(/&lt;i&gt;/g,"<i>").replace(/&lt;\/i&gt;/g,"</i>").replace(/&lt;u&gt;/g,"<u>").replace(/&lt;\/u&gt;/g,"</u>").replace(/&lt;br&gt;/g,"<br>").replace(/&lt;font(.*?)&gt;/g,((e,t)=>{let i="";for(const e of t.matchAll(/\s*(\w+)\s*=\s*(?:&#39;|&quot;)(#?\w+)(?:&#39;|&quot;)/g))"face"===e[1]?i+=`font-family: ${e[2]};`:"size"===e[1]?i+=`font-size: ${JMP.adjustFontSize(e[2])}px;`:"color"===e[1]&&(i+=`color: ${e[2]};`);return`<span style="${i}">`})).replace(/&lt;\/font&gt;/g,"</span>").replace(/&lt;background(.*?)&gt;/g,((e,t)=>{let i="";for(const e of t.matchAll(/\s*(\w+)\s*=\s*(?:&#39;|&quot;)(#?\w+)(?:&#39;|&quot;)/g))"color"===e[1]&&(i+=`background-color: ${e[2]} `);return`<span style="${i}">`})).replace(/&lt;\/background&gt;/g,"</span>").replace(/color: 0x([0-9A-Fa-f]+)/g,"color: #$1").replace(/&lt;.+?&gt;/g,"").replace(/&lt;\/.+?&gt;/g,"")},e.mapNumber=function(e){return""!==e&&"null"!==e||(e=null),null===e?null:+e},e.mapString=function(e){return null===e?null:void 0===e?void 0:e.replace(/&quot;/g,'"')},e.getDataLevel=function(e){let i;switch(e){case"nominal":i=t.LEVEL_NOMINAL;break;case"ordinal":i=t.LEVEL_ORDINAL;break;case"none":i=t.LEVEL_NONE;break;default:i=t.LEVEL_CONTINUOUS}return i},e.getMarkerShape=function(e){let t=JMP.Marker.DOT;switch(e){case"dot":t=JMP.Marker.DOT;break;case"x":t=JMP.Marker.X;break;case"y":t=JMP.Marker.Y;break;case"z":t=JMP.Marker.Z;break;case"plus":t=JMP.Marker.PLUS;break;case"minus":t=JMP.Marker.MINUS;break;case"pipe":t=JMP.Marker.PIPE;break;case"slash":t=JMP.Marker.SLASH;break;case"backslash":t=JMP.Marker.BACKSLASH;break;case"arrowUp":t=JMP.Marker.ARROW_UP;break;case"arrowDown":t=JMP.Marker.ARROW_DOWN;break;case"arrowLeft":t=JMP.Marker.ARROW_LEFT;break;case"arrowRight":t=JMP.Marker.ARROW_RIGHT;break;case"star":t=JMP.Marker.STAR;break;case"circle":t=JMP.Marker.CIRCLE;break;case"wide":t=JMP.Marker.WIDE;break;case"tall":t=JMP.Marker.TALL;break;case"square":t=JMP.Marker.SQUARE;break;case"diamond":t=JMP.Marker.DIAMOND;break;case"triangleUp":t=JMP.Marker.TRIANGLE_UP;break;case"triangleDown":t=JMP.Marker.TRIANGLE_DOWN;break;case"triangleLeft":t=JMP.Marker.TRIANGLE_LEFT;break;case"triangleRight":t=JMP.Marker.TRIANGLE_RIGHT;break;case"circleFilled":t=JMP.Marker.CIRCLE_FILLED;break;case"wideFilled":t=JMP.Marker.WIDE_FILLED;break;case"tallFilled":t=JMP.Marker.TALL_FILLED;break;case"squareFilled":t=JMP.Marker.SQUARE_FILLED;break;case"diamondFilled":t=JMP.Marker.DIAMOND_FILLED;break;case"triangleUpFilled":t=JMP.Marker.TRIANGLE_UP_FILLED;break;case"triangleDownFilled":t=JMP.Marker.TRIANGLE_DOWN_FILLED;break;case"triangleLeftFilled":t=JMP.Marker.TRIANGLE_LEFT_FILLED;break;case"triangleRightFilled":t=JMP.Marker.TRIANGLE_RIGHT_FILLED;break;default:t=void 0===e?void 0:+e}return t},e.getLineStyle=function(e){let t;switch(e){case"dot":t=JMP.LineSegmentStatic.PATTERN_DOT;break;case"dash":t=JMP.LineSegmentStatic.PATTERN_DASH;break;case"dashDot":t=JMP.LineSegmentStatic.PATTERN_DASHDOT;break;case"dashDotDot":t=JMP.LineSegmentStatic.PATTERN_DASHDOTDOT;break;case"smooth":t=JMP.LineSegmentStatic.PATTERN_SMOOTH;break;case"dashdashdot":t=JMP.LineSegmentStatic.PATTERN_DASHDASHDOT;break;case"dashdashdotdot":t=JMP.LineSegmentStatic.PATTERN_DASHDASHDOTDOT;break;case"longdash":t=JMP.LineSegmentStatic.PATTERN_LONGDASH;break;case"longdashdash":t=JMP.LineSegmentStatic.PATTERN_LONGDASHDASH;break;case"densedash":t=JMP.LineSegmentStatic.PATTERN_DENSEDASH;break;case"sparsedash":t=JMP.LineSegmentStatic.PATTERN_SPARSEDASH;break;case"sparsedot":t=JMP.LineSegmentStatic.PATTERN_SPARSEDOT;break;case"sparsedashdot":t=JMP.LineSegmentStatic.PATTERN_SPARSEDASHDOT;break;default:t=JMP.LineSegmentStatic.PATTERN_SOLID}return t},e.getSupportedLineStyleNameAndWidth=function(t){const i=t.split(";");let a=i.length;for(let t=0;t<a;t++){const a=i[t].split(" : "),n=e.getLineStyle(a[0].trim());let l=[];a.length>1&&(l=a[1].slice(0,-2).split(",").map(Number)),JMP.penStyleNameAndWidths.set(n,l)}},e.getFillSelectionMode=function(e){return"darker"===e?JMP.ViewStatic.FILL_SELECTION_MODE_DARKER:JMP.ViewStatic.FILL_SELECTION_MODE_PATTERNED},e.getStatistic=function(e){let t;switch(e){case"sum":t=JMP.MomentsStatic.STAT_SUM;break;case"mean":t=JMP.MomentsStatic.STAT_MEAN;break;case"min":t=JMP.MomentsStatic.STAT_MIN;break;case"max":t=JMP.MomentsStatic.STAT_MAX;break;case"range":t=JMP.MomentsStatic.STAT_RANGE;break;case"percent":t=JMP.MomentsStatic.STAT_PERCENT;break;case"iqr":t=JMP.MomentsStatic.STAT_IQR;break;case"q1":t=JMP.MomentsStatic.STAT_Q1;break;case"q3":t=JMP.MomentsStatic.STAT_Q3;break;case"median":t=JMP.MomentsStatic.STAT_MEDIAN;break;case"std":t=JMP.MomentsStatic.STAT_STD;break;case"sem":t=JMP.MomentsStatic.STAT_SEM;break;case"variance":t=JMP.MomentsStatic.STAT_VARIANCE;break;case"n":t=JMP.MomentsStatic.STAT_N;break;case"geometricMean":t=JMP.MomentsStatic.STAT_GEOMETRIC_MEAN;break;default:t=JMP.MomentsStatic.STAT_NONE}return t},e.getControlChartBuilderStatistic=function(e){let t;switch(e){case"ind":t=JMP.ViewStatic.CCB_STAT_NAMES.INDIVIDUAL;break;case"movingRange":t=JMP.ViewStatic.CCB_STAT_NAMES.MOVING_RANGE;break;case"medianMovingRange":t=JMP.ViewStatic.CCB_STAT_NAMES.MEDIAN_MOVING_RANGE;break;case"avg":t=JMP.ViewStatic.CCB_STAT_NAMES.AVERAGE;break;case"range":t=JMP.ViewStatic.CCB_STAT_NAMES.RANGE;break;case"std":t=JMP.ViewStatic.CCB_STAT_NAMES.STD_DEV;break;case"mrm":t=JMP.ViewStatic.CCB_STAT_NAMES.MOVING_RANGE_ON_MEANS;break;case"mrs":t=JMP.ViewStatic.CCB_STAT_NAMES.MOVING_RANGE_ON_STD_DEV;break;case"proportion":t=JMP.ViewStatic.CCB_STAT_NAMES.PROPORTION;break;case"count":t=JMP.ViewStatic.CCB_STAT_NAMES.COUNT;break;case"centered":t=JMP.ViewStatic.CCB_STAT_NAMES.CENTERED;break;case"standardized":t=JMP.ViewStatic.CCB_STAT_NAMES.STANDARDIZED;break;case"rangeCentered":t=JMP.ViewStatic.CCB_STAT_NAMES.RANGE_CENTERED;break;case"rangeStandardized":t=JMP.ViewStatic.CCB_STAT_NAMES.RANGE_STANDARDIZED;break;case"movingRangeCentered":t=JMP.ViewStatic.CCB_STAT_NAMES.MOVING_RANGE_CENTERED;break;case"movingRangeStandardized":t=JMP.ViewStatic.CCB_STAT_NAMES.MOVING_RANGE_STANDARDIZED;break;default:t=void 0}return t},e.getBoolean=function(e,t){return e.hasAttribute(t)&&"true"===e.getAttribute(t)},e.setBoolean=function(e,t,i,a,n){void 0===a&&(a=t),e&&e.hasAttribute(t)?i[a]="true"===e.getAttribute(t):void 0!==n&&(i[a]=n)},e.getArray=function(e,t,i){let a,n,l;if(e.hasAttribute(t)&&(a=e.getAttribute(t).split(","),i))for(l=a.length,n=0;n<l;n++)a[n]="true"===a[n];return a},e.setStringArray=function(t,i,a,n){if(t&&t.hasAttribute(i)){let l=t.getAttribute(i);a[n]=l.split(JMP.DELIMITER).map(e.replaceEncodedHTMLCharacters)}},e.setNumericArray=function(e,t,i,a){e&&e.hasAttribute(t)&&(i[a]=e.getAttribute(t).split(",").map(Number))},e.setArray=function(t,i,a,n,l){l?e.setArray(e.getDescendant(t,i),"index",a,n,!1):t&&t.hasAttribute(i)&&(a[n]=e.getStored(e.STORAGE_INFO,t.getAttribute(i)))},e.setEnum=function(e,t,i,a,n,l){if(void 0===n&&(n=t),e&&e.hasAttribute(t)){const l=e.getAttribute(t);a[n]=Object.keys(i).find((e=>i[e]===l))}else void 0!==l&&(a[n]=l)},e.setNumber=function(e,t,i,a,n){void 0===a&&(a=t),e&&e.hasAttribute(t)?i[a]=+e.getAttribute(t):void 0!==n&&(i[a]=n)},e.setFontSize=function(e,t,i,a,n){void 0===a&&(a=t),e&&e.hasAttribute(t)?i[a]=JMP.adjustFontSize(+e.getAttribute(t)):void 0!==n&&(i[a]=JMP.adjustFontSize(n))},e.setFontFamily=function(e,t,i,a,n){void 0===a&&(a=t),e&&e.hasAttribute(t)?i[a]=`"${e.getAttribute(t)}", ${JMP.FONT}`:null!==n&&(i[a]=void 0!==n?`"${n}", ${JMP.FONT}`:JMP.FONT)},e.setLineStyle=function(t,i,a,n,l=JMP.LineSegmentStatic.PATTERN_SOLID){void 0===n&&(n=i),t&&t.hasAttribute(i)?a[n]=e.getLineStyle(t.getAttribute(i)):void 0!==l&&(a[n]=l)},e.setString=function(e,t,i,a,n){void 0===a&&(a=t),e&&e.hasAttribute(t)?i[a]=e.getAttribute(t):void 0!==n&&(i[a]=n)},e.getColumn=function(t,i){let n,l=i;return void 0===l&&(l=e.STORAGE_DATA),n=l===e.STORAGE_DATA?e.getStoredColumn(l,+t.getAttribute("index")-1,t):e.getStored(l,+t.getAttribute("index"),t),n&&void 0===n.name?new a(n):n},e.addArray=function(t,i,a,n){let l=e.getDescendant(t,i);l&&a.addColumn(e.getStored(e.STORAGE_INFO,l.getAttribute("index")),n)},e.addArrays=function(t,i,a,n){let l,s=e.getDescendants(t,i),o=s.length;for(l=0;l<o;l++)a.addColumn(e.getColumn(s[l],e.STORAGE_INFO),n)},e.addColumns=function(t,i,a,n){let l,s=e.getDescendants(t,i),o=s.length;for(l=0;l<o;l++){let t=e.getColumn(s[l]);t&&a.addColumn(t,n)}},e.setColumnsAndRowStates=function(t,i,a,n){let l,s;n&&(n.columns=i,n.columns.setRowStates(a,n.onRowStatesEvent)),l=e.getAncestor(t,"FrameBox"),l&&(s=e.getLinked(l,e.STORAGE_SEGMENTS),s.columns.setRowStates(a,s.onRowStatesEvent))},e.isOutlineNode=function(e){let t=!1;return("OutlineBox"===e.nodeName&&""!==e.getAttribute("title")&&"true"!==e.getAttribute("isSuppressed")||"TabPageBox"===e.nodeName&&"TabBox"!==e.parentNode.nodeName&&"TabPageBox"!==e.parentNode.nodeName)&&(t=!0),t},e.createElement=function(e,t,i,a){let n=document.createElement(e);return t&&n.setAttribute("class",t),i&&i.appendChild(n),a&&(n.id=a),n},e.getAncestor=function(e,t,i,a){let n=e,l=!1;for(;n&&!l;)l=n.nodeName===t&&(void 0===i||void 0===a&&n.hasAttribute(i)||n.getAttribute(i)===a),l||(n=n.parentNode);return n},e.getAncestorWithAttribute=function(e,t){let i=e,a=!1;for(;i&&!a;){if(a=void 0===t||i.hasAttribute(t),null!==i.parentNode&&"#document"===i.parentNode.nodeName)return null;a||(i=i.parentNode)}return i},e.getDescendant=function(t,i,a,l,s){let o=null;if(n(t,a))return null;t.nodeName===i&&(void 0===l&&void 0===s||t.hasAttribute(l)&&t.getAttribute(l)===s)&&(o=t);const r=t.childNodes.length;for(let n=0;n<r&&!o;n++)o=e.getDescendant(t.childNodes[n],i,a,l,s);return o},e.getDescendants=function(t,i,a,l=[]){if(n(t,a))return l;void 0!==i&&i!==t.nodeName||l.push(t);const s=t.childNodes.length;for(let n=0;n<s;n++)e.getDescendants(t.childNodes[n],i,a,l);return l},e.getDescendantsAllTogether=function(t,i,a=[],l=!0,s=[]){if(n(t,l))return s;const o=t.nodeName;if(i.includes(o)&&s.push(t),!a||!a.includes(o)){const n=t.childNodes.length;for(let o=0;o<n;o++)e.getDescendantsAllTogether(t.childNodes[o],i,a,l,s)}return s},e.getDescendantsAllSeparate=function(t,i,a,l){if(n(t,a))return;i.includes(t.nodeName)&&l[t.nodeName].push(t);const s=t.childNodes.length;for(let n=0;n<s;n++)e.getDescendantsAllSeparate(t.childNodes[n],i,a,l)},e.countDescendants=function(t,i,a,l){if(n(t,a))return;i.includes(t.nodeName)&&l[t.nodeName]++;const s=t.childNodes.length;for(let n=0;n<s;n++)e.countDescendants(t.childNodes[n],i,a,l)},e.getDescendantAny=function(t,i,a){if(0===i.length||n(t,a))return null;if(i.includes(t.nodeName))return t;let l=t.childNodes.length,s=null;for(let n=0;n<l&&!s;n++)s=e.getDescendantAny(t.childNodes[n],i,a);return s},e.getSibling=function(e,t,i){let a,n,l,s=null;if(!e||!e.parentNode)return null;for(l=e.parentNode.childNodes,n=l.length,a=0;a<n&&!s;a++){if(i&&l[a]===e)return null;l[a]!==e&&l[a].nodeName===t&&(s=l[a])}return s},e.clearStorage=function(e,t){t&&i[e]?i[e].length=1:i[e]=void 0},e.removeFirstDatatset=function(){i[e.STORAGE_DATA].shift()},e.clearDisplayTreeStorage=function(){JMP.ParserStatic.clearStorage(e.STORAGE_SEGMENTS),JMP.ParserStatic.clearStorage(e.STORAGE_SUBTREES),JMP.ParserStatic.clearStorage(e.STORAGE_LEGENDS),JMP.ParserStatic.clearStorage(e.STORAGE_HTML_NODES),JMP.ParserStatic.clearStorage(e.STORAGE_CANVAS_NODES),JMP.ParserStatic.clearStorage(e.STORAGE_INFO)},e.getStorage=function(e){return void 0===i[e]?null:i[e]},e.getStored=function(e,t,a){return null===t||void 0===i[e]?null:i[e][+t+l(a)]},e.getStoredColumn=function(e,t,a){return null===t||void 0===i[e]?null:i[e][l(a)].columns[t]},e.getStoredDataset=function(t){return i[e.STORAGE_DATA].find((e=>e.name===t))},e.getStoredTableData=function(e){let t=[],a=i[e],n=a?a.length:0;for(let e=0;e<n;e++){let i=a[e];t.push({name:i.name,columnNames:[]});let n=i.columns.length;for(let a=0;a<n;a++){let n=i.columns[a];n&&t[e].columnNames.push(n.name)}}return t},e.getStoredRowStates=function(e){let t=[],a=i[e],n=a?a.length:0;for(let e=0;e<n;e++){let i=a[e].rowStates;t.push(i)}return t},e.setStored=function(e,t){return i[e]||(i[e]=[]),i[e].push(t),i[e].length-1},e.getLinked=function(t,i){return e.getStored(i,t.getAttribute?t.getAttribute(i):null)},e.setLinked=function(t,i,a){t.setAttribute&&t.setAttribute(i,e.setStored(i,a))},e.getNearestDescription=function(e){let t=e,i=null;for(;t&&!i;)t.hasAttribute&&(t.hasAttribute("description")?i=t.getAttribute("description"):t.hasAttribute("title")&&(i=t.getAttribute("title"))),t=t.parentNode;return i},e.getFormatName=function(e){let t=JMP.FormatStatic.FORMAT_BEST;switch(e){case"logWorth":t=JMP.FormatStatic.FORMAT_LOG_WORTH;break;case"percentFixed0":t=JMP.FormatStatic.FORMAT_PERCENT_FIXED0;break;case"percentFixed1":t=JMP.FormatStatic.FORMAT_PERCENT_FIXED1;break;case"percentFixed2":t=JMP.FormatStatic.FORMAT_PERCENT_FIXED2;break;case"percentFixed3":t=JMP.FormatStatic.FORMAT_PERCENT_FIXED3;break;case"percentFixed4":t=JMP.FormatStatic.FORMAT_PERCENT_FIXED4;break;case"percentFixed5":t=JMP.FormatStatic.FORMAT_PERCENT_FIXED5;break;case"percentFixed6":t=JMP.FormatStatic.FORMAT_PERCENT_FIXED6;break;case"percentFixed7":t=JMP.FormatStatic.FORMAT_PERCENT_FIXED7;break;case"percentFixed8":t=JMP.FormatStatic.FORMAT_PERCENT_FIXED8;break;case"percentFixed9":t=JMP.FormatStatic.FORMAT_PERCENT_FIXED9;break;case"geographic":t=JMP.FormatStatic.FORMAT_GEOGRAPHIC;break;case"latitudeDDD":t=JMP.FormatStatic.FORMAT_LATITUDE_DDD;break;case"latitudeDMM":t=JMP.FormatStatic.FORMAT_LATITUDE_DMM;break;case"latitudeDMS":t=JMP.FormatStatic.FORMAT_LATITUDE_DMS;break;case"longitudeDDD":t=JMP.FormatStatic.FORMAT_LONGITUDE_DDD;break;case"longitudeDMM":t=JMP.FormatStatic.FORMAT_LONGITUDE_DMM;break;case"longitudeDMS":t=JMP.FormatStatic.FORMAT_LONGITUDE_DMS;break;case"percent":t=JMP.FormatStatic.FORMAT_PERCENT;break;case"none":t=JMP.FormatStatic.FORMAT_NONE;break;case"numeric":t=JMP.FormatStatic.FORMAT_NUMERIC;break;case"date":t=JMP.FormatStatic.FORMAT_DATE;break;case"time":t=JMP.FormatStatic.FORMAT_TIME;break;case"fixed":t=JMP.FormatStatic.FORMAT_FIXED;break;case"currency":t=JMP.FormatStatic.FORMAT_CURRENCY;break;case"scientific":t=JMP.FormatStatic.FORMAT_SCIENTIFIC;break;case"probability":t=JMP.FormatStatic.FORMAT_PROBABILITY;break;case"best3":t=JMP.FormatStatic.FORMAT_BEST3;break;case"best":default:t=JMP.FormatStatic.FORMAT_BEST;break;case"duration":t=JMP.FormatStatic.FORMAT_DURATION;break;case"MM_DD_YYYY":t=JMP.FormatStatic.FORMAT_MM_DD_YYYY;break;case"longDate":t=JMP.FormatStatic.FORMAT_LONG_DATE;break;case"abbrevDate":t=JMP.FormatStatic.FORMAT_ABBREV_DATE;break;case"M_D_Y":t=JMP.FormatStatic.FORMAT_M_D_Y;break;case"MM_DD_YYYYHH_MM":t=JMP.FormatStatic.FORMAT_MM_DD_YYYYHH_MM;break;case"MM_DD_YYYYHH_MM_SS":t=JMP.FormatStatic.FORMAT_MM_DD_YYYYHH_MM_SS;break;case"M_D_YHH_MM":t=JMP.FormatStatic.FORMAT_M_D_YHH_MM;break;case"DDHHMM":t=JMP.FormatStatic.FORMAT_DDHHMM;break;case"DDHHMMSS":t=JMP.FormatStatic.FORMAT_DDHHMMSS;break;case"MMDDYYYY":t=JMP.FormatStatic.FORMAT_MMDDYYYY;break;case"MM_YYYY":t=JMP.FormatStatic.FORMAT_MM_YYYY;break;case"DD_MM_YYYY":t=JMP.FormatStatic.FORMAT_DD_MM_YYYY;break;case"DDMMYYYY":t=JMP.FormatStatic.FORMAT_DDMMYYYY;break;case"DDMMMYYYY":t=JMP.FormatStatic.FORMAT_DDMMMYYYY;break;case"DD_MM_YYYYHH_MM":t=JMP.FormatStatic.FORMAT_DD_MM_YYYYHH_MM;break;case"DD_MM_YYYYHH_MM_SS":t=JMP.FormatStatic.FORMAT_DD_MM_YYYYHH_MM_SS;break;case"YYYY_MM_DD":t=JMP.FormatStatic.FORMAT_YYYY_MM_DD;break;case"YYYYMMDD":t=JMP.FormatStatic.FORMAT_YYYYMMDD;break;case"DDMMMYYYYHH_MM":t=JMP.FormatStatic.FORMAT_DDMMMYYYYHH_MM;break;case"DDMMMYYYYHH_MM_SS":t=JMP.FormatStatic.FORMAT_DDMMMYYYYHH_MM_SS;break;case"HHMMSS":t=JMP.FormatStatic.FORMAT_HHMMSS;break;case"MMMDDYYYY":t=JMP.FormatStatic.FORMAT_MMMDDYYYY;break;case"MMMDDYYYYHH_MM":t=JMP.FormatStatic.FORMAT_MMMDDYYYYHH_MM;break;case"MMMDDYYYYHH_MM_SS":t=JMP.FormatStatic.FORMAT_MMMDDYYYYHH_MM_SS;break;case"YYYY_MM_DDHH_MM":t=JMP.FormatStatic.FORMAT_YYYY_MM_DDHH_MM;break;case"YYYY_MM_DDHH_MM_SS":t=JMP.FormatStatic.FORMAT_YYYY_MM_DDHH_MM_SS;break;case"YYYY_MM_DDT":t=JMP.FormatStatic.FORMAT_YYYY_MM_DDT;break;case"YYYY_MM_DDTHH_MM":t=JMP.FormatStatic.FORMAT_YYYY_MM_DDTHH_MM;break;case"YYYY_MM_DDTHH_MM_SS":t=JMP.FormatStatic.FORMAT_YYYY_MM_DDTHH_MM_SS;break;case"HH_MM":t=JMP.FormatStatic.FORMAT_HH_MM;break;case"H_MM":t=JMP.FormatStatic.FORMAT_H_MM;break;case"H_MM_SS":t=JMP.FormatStatic.FORMAT_H_MM_SS;break;case"M_SS":t=JMP.FormatStatic.FORMAT_M_SS;break;case"DDMMMYYYYCHH_MM":t=JMP.FormatStatic.FORMAT_DDMMMYYYYCHH_MM;break;case"DDMMMYYYYCHH_MM_SS":t=JMP.FormatStatic.FORMAT_DDMMMYYYYCHH_MM_SS;break;case"localeDate":t=JMP.FormatStatic.FORMAT_LOCALE_DATE;break;case"localeDateTime":t=JMP.FormatStatic.FORMAT_LOCALE_DATE_TIME;break;case"localeTimeStamp":t=JMP.FormatStatic.FORMAT_LOCALE_TIME_STAMP;break;case"YYYYQQ":t=JMP.FormatStatic.FORMAT_YYYYQQ;break;case"engineering":t=JMP.FormatStatic.FORMAT_ENGINEERING;break;case"engineeringSI":t=JMP.FormatStatic.FORMAT_ENGINEERING_SI;break;case"precision":t=JMP.FormatStatic.FORMAT_PRECISION}return t},e.getFormat=function(t){return JMP.Format(e.getFormatName(t.getAttribute("formatName")),!!t.hasAttribute("showThousands")&&"true"===t.getAttribute("showThousands"),t.hasAttribute("nDecimals")?+t.getAttribute("nDecimals"):-1,t.hasAttribute("fieldWidth")?+t.getAttribute("fieldWidth"):-1,t.hasAttribute("formatCode")?t.getAttribute("formatCode"):"",t.hasAttribute("decimalSeparator")?t.getAttribute("decimalSeparator"):".",t.hasAttribute("thousandsSeparator")?t.getAttribute("thousandsSeparator"):",",t.hasAttribute("positivePrefix")?t.getAttribute("positivePrefix"):"",t.hasAttribute("positiveSuffix")?t.getAttribute("positiveSuffix"):"",t.hasAttribute("negativePrefix")?t.getAttribute("negativePrefix"):"",t.hasAttribute("negativeSuffix")?t.getAttribute("negativeSuffix"):"",t.hasAttribute("dateTimePattern")?t.getAttribute("dateTimePattern"):"",t.hasAttribute("dateSeparator")?t.getAttribute("dateSeparator"):"/",t.hasAttribute("timeSeparator")?t.getAttribute("timeSeparator"):":",t.hasAttribute("AMDesignator")?t.getAttribute("AMDesignator"):"",t.hasAttribute("PMDesignator")?t.getAttribute("PMDesignator"):"",!!t.hasAttribute("useAMPM")&&"true"===t.getAttribute("useAMPM"),!!t.hasAttribute("useAMPMInFront")&&"true"===t.getAttribute("useAMPMInFront"),!!t.hasAttribute("use24HourClock")&&"true"===t.getAttribute("use24HourClock"),!!t.hasAttribute("useZeroForMidnight")&&"true"===t.getAttribute("useZeroForMidnight"),!!t.hasAttribute("useMinusForNegativeDateTime")&&"true"===t.getAttribute("useMinusForNegativeDateTime"),!!t.hasAttribute("useLeadingZeroForHour")&&"true"===t.getAttribute("useLeadingZeroForHour"),t.hasAttribute("majorPattern")?t.getAttribute("majorPattern"):"",t.hasAttribute("minorPattern")?t.getAttribute("minorPattern"):"",t.hasAttribute("precisionKeepFractional")?!("false"===t.getAttribute("precisionKeepFractional")):void 0)},e.decompressGzipString=function(e){const t="0".charCodeAt(0),i="9".charCodeAt(0),a=parseInt(e.charAt(0),36);if(Number.isNaN(a)||a<1||a>35)return null;for(let n=1;n<a;n++){let a=e.charCodeAt(n);if(a<t||a>i)return null}let n;try{n=window.atob(e.substr(a,e.length-a))}catch(e){return null}return 1===a?n:window.pako.inflate(n,{to:"string"})},e.getQueryString=function(e){return new URL(JMP.DocumentStatic.getParentWindow().location).searchParams.get(e)},e}(),JMP.CanvasAxisBoxStatic=function(){"use strict";let e={},i=JMP.ParserStatic.getBoolean,a=JMP.ParserStatic.setBoolean,n=JMP.ParserStatic.setNumber,l=JMP.ParserStatic.setString,s=function(e){let t,i=[],a=[];for(a=JMP.ParserStatic.getDescendants(e,"TextBox"),t=0;t<a.length;t++)l(a[t],"text",i,t);return i.join(" ")},o=function(e){let t,a=JMP.ParserStatic.getSibling(e,"CenterBox");return a||"BorderBox"!==e.parentNode.nodeName||(a=JMP.ParserStatic.getSibling(e.parentNode,"CenterBox")),a&&(t=s(a),function(e,t){let a,n;"LineUpBox"!==e.parentNode.nodeName&&t.forEach((function(t){a=JMP.ParserStatic.getLinked(t,JMP.ParserStatic.STORAGE_SEGMENTS),i(e,"isHorizontal")?(n=Math.max(+e.getAttribute("width"),+t.getAttribute("width")),t.setAttribute("width",n),a&&(a.width=n)):(n=Math.max(+e.getAttribute("height"),+t.getAttribute("height")),t.setAttribute("height",n),a&&(a.height=n))}))}(e,JMP.ParserStatic.getDescendants(a,"TextBox"))),t},r=function(e,t,i=!1){"TextBox"===e.nodeName&&(!i||t.isHorizontal?t.labelLayout.push(1):t.labelLayout[t.labelLayout.length-1]+=1);for(let a=0;a<e.childNodes.length;a++){const n=e.childNodes[a];"TABLE"===n.nodeName?(t.isHorizontal||t.labelLayout.push(0),r(n,t,!0)):r(n,t,i)}};return e.getChildNodes=function(e){let t=[],i=JMP.ParserStatic.getDescendant(e,"TABLE");if(i&&JMP.ParserStatic.getDescendant(i,"NumberBox")){let i="";JMP.ParserStatic.getDescendants(e,"TD").forEach((function(e){e.firstChild&&(i+="TextBox"===e.firstChild.nodeName?e.firstChild.getAttribute("text"):"NumberBox"===e.firstChild.nodeName?e.firstChild.getAttribute("value"):"")}));let a=JMP.ParserStatic.getDescendant(e,"TextBox");a.setAttribute("text",i),t.push(a)}else JMP.ParserStatic.getDescendants(e,"TextBox").forEach((function(e){"IfBox"===e.parentNode.nodeName&&"true"!==e.parentNode.getAttribute("condition")||t.push(e)}));return t},e.parseTickStyle=function(e){return"markShort"===e?JMP.AxisBoxStatic.TICK_STYLE_MARK_SHORT:"markLong"===e?JMP.AxisBoxStatic.TICK_STYLE_MARK_LONG:"dividerShort"===e?JMP.AxisBoxStatic.TICK_STYLE_DIVIDER_SHORT:"dividerFull"===e?JMP.AxisBoxStatic.TICK_STYLE_DIVIDER_FULL:"intervalTray"===e?JMP.AxisBoxStatic.TICK_STYLE_INTERVAL_TRAY:JMP.AxisBoxStatic.TICK_STYLE_NOT_SET},e.parse=function(i,c,d){let u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D=d;if(JMP.CanvasSegmentStatic.parse(i,c),a(i,"isFlipped",c),i.hasAttribute("tickSizes")&&(c.tickSizes=i.getAttribute("tickSizes").split(",").map(Number)),n(i,"tickOffset",c,"tickOffset",0),n(i,"padBefore",c,"padBefore",0),n(i,"padAfter",c,"padAfter",0),"GraphBuilderAxisBox"===i.parentNode.nodeName&&i.parentNode.hasAttribute("isHidden")&&(N=i.parentNode,c.isDisplayed=!("true"===N.getAttribute("isHidden"))),D||(D=o(i)),D||(A=JMP.ParserStatic.getSibling(i,"DropBox",!0),A&&(b=JMP.ParserStatic.getDescendant(A,"BorderBox"),b&&(x=JMP.ParserStatic.getDescendant(b,"TextBox"),x&&(D=s(x))))),D||"ListBox"===i.parentNode.nodeName&&(_=i.parentNode,b=JMP.ParserStatic.getSibling(_,"BorderBox",!0),b&&b.firstChild&&"TextBox"===b.firstChild.nodeName&&(x=b.firstChild,D=s(x))),!D&&(_=JMP.ParserStatic.getSibling(i,"ListBox",!1),_||(_=i.parentNode),_.childNodes))for(m=_.childNodes,g=m.length,u=g-1;u>=0;u--)"BorderBox"===m[u].nodeName&&(b=m[u],x=b.firstChild&&"MouseBox"===b.firstChild.nodeName&&b.firstChild.firstChild&&"DropBox"===b.firstChild.firstChild.nodeName&&b.firstChild.firstChild.firstChild&&"TextBox"===b.firstChild.firstChild.firstChild.nodeName?b.firstChild.firstChild.firstChild:b.firstChild&&"TextBox"===b.firstChild.nodeName?b.firstChild:void 0,x&&(D?D+=JMP.ViewStatic.NESTED_AXIS_DELIMITER+s(x):D=s(x)));if(D||(x=JMP.ParserStatic.getSibling(i,"TextBox",!0),!x&&i.nextSibling&&"TextBox"===i.nextSibling.nodeName&&(x=i.nextSibling),x&&(D=s(x))),D||"GraphBuilderAxisBox"===i.parentNode.nodeName&&(L=i.parentNode.parentNode.previousSibling,L&&L.firstChild&&"GraphBuilderTitleBox"===L.firstChild.nodeName&&(E=L.firstChild.firstChild,E&&(D=s(E)))),!D){const e=JMP.ParserStatic.getSibling(i,"MouseBox",!1);x=JMP.ParserStatic.getDescendant(e,"TextBox"),x&&(D=s(x))}if(c.contents.length>1?r(i,c):c.labelLayout=[1],T=JMP.ParserStatic.getAncestor(i,"ScaleBox","id",i.getAttribute("XScaleID")),f=T&&T.hasAttribute("origin")&&T.hasAttribute("width")?T:JMP.ParserStatic.getAncestor(i,"ScaleBox","id",i.getAttribute("YScaleID")),f.hasAttribute("labelIndices"))for(M=[],S=f.getAttribute("labelIndices").split(","),g=S.length,u=0;u<g;u++)M.push(JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,+S[u]));if(f.hasAttribute("tickLabelIndices"))for(y=[],S=f.getAttribute("tickLabelIndices").split(","),g=S.length,u=0;u<g;u++)y.push(JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,+S[u]));if(f.hasAttribute("tickOrigins")&&(C=f.getAttribute("tickOrigins").split(",").map(Number)),R=f.hasAttribute("tickSpans")?JSON.parse(f.getAttribute("tickSpans")):void 0,R){for(w=!1,v=[],u=0;u<R.length;u++){for(g=0,O=R[u][0],h=0;h<R[u].length;h++)g+=R[u][h],R[u][h]!==O&&(w=!0);v.push(g)}w||(v=void 0)}if(c.scale[f===T?t.ROLE_X:t.ROLE_Y]=JMP.CanvasSegmentStatic.parseScale(f,M,y,C,R,v,D,!1),!f.hasAttribute("type")||"geodesic"!==f.getAttribute("type")&&"geodesicUS"!==f.getAttribute("type")||(p=JMP.ParserStatic.getAncestor(f.parentNode,"ScaleBox","type","geodesic"),p||(p=JMP.ParserStatic.getAncestor(f.parentNode,"ScaleBox","type","geodesicUS")),p||(p=JMP.ParserStatic.getAncestor(i,"ScaleBox","type","geodesic")),p||(p=JMP.ParserStatic.getAncestor(i,"ScaleBox","type","geodesicUS")),p===f&&(p=void 0),p&&(c.scale[f===T?t.ROLE_Y:t.ROLE_X]=JMP.CanvasSegmentStatic.parseScale(p))),i.hasAttribute("tickOrientations")?P=i:f.hasAttribute("tickOrientations")&&(P=f),P){for(c.tickOrientations=[],S=P.getAttribute("tickOrientations").split(","),g=S.length,u=0;u<g;u++){switch(S[u]){case"left":h=JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT;break;case"right":h=JMP.TextBoxStatic.ORIENTATION_VERTICAL_RIGHT;break;case"horizontal":h=JMP.TextBoxStatic.ORIENTATION_HORIZONTAL;break;case"slant":h=JMP.TextBoxStatic.ORIENTATION_SLANT;break;case"parallel":h=c.isHorizontal?JMP.TextBoxStatic.ORIENTATION_HORIZONTAL:JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT;break;case"perpendicular":h=c.isHorizontal?JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT:JMP.TextBoxStatic.ORIENTATION_HORIZONTAL;break;default:h=void 0}c.tickOrientations.push(h)}P=void 0}if(i.hasAttribute("hideMajorTicks")?P=i:f.hasAttribute("hideMajorTicks")&&(P=f),P)for(c.hideMajorTicks=[],S=P.getAttribute("hideMajorTicks").split(","),g=S.length,u=0;u<g;u++)c.hideMajorTicks.push("true"===S[u]);if(f.hasAttribute("hideMinorTicks"))for(c.hideMinorTicks=[],S=f.getAttribute("hideMinorTicks").split(","),g=S.length,u=0;u<g;u++)c.hideMinorTicks.push("true"===S[u]);if(f.hasAttribute("hideTickLabels"))for(c.hideTickLabels=[],S=f.getAttribute("hideTickLabels").split(","),g=S.length,u=0;u<g;u++)c.hideTickLabels.push("true"===S[u]);if(i.hasAttribute("lowerFrames"))for(c.lowerFrames=[],S=i.getAttribute("lowerFrames").split(","),g=S.length,u=0;u<g;u++)c.lowerFrames.push("true"===S[u]);if(f.hasAttribute("type")&&("geodesic"===f.getAttribute("type")||"geodesicUS"===f.getAttribute("type"))&&p&&p.hasAttribute("type")&&("geodesic"===p.getAttribute("type")||"geodesicUS"===p.getAttribute("type"))){if(I=!1,f.hasAttribute("width")&&f.hasAttribute("length")&&p&&p.hasAttribute("width")&&p.hasAttribute("length")&&Math.abs(+f.getAttribute("width")/+f.getAttribute("length"))<.01&&Math.abs(+p.getAttribute("width")/+p.getAttribute("length"))<.01&&(I=!0),!I)for(m=JMP.ParserStatic.getDescendants(f,"GridReferenceSegment",!0),g=m.length,u=0;u<g&&!I;u++)(f===T&&"true"===m[u].getAttribute("showMajorGridsX")||f!==T&&"true"===m[u].getAttribute("showMajorGridsY"))&&(I=!0);I||(c.isRange=!0,c.padBefore=0,c.padAfter=0,c.tickOrientations=[c.isHorizontal?JMP.TextBoxStatic.ORIENTATION_HORIZONTAL:JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT])}i.hasAttribute("fontSize")&&(c.fontSize=JMP.adjustFontSize(+i.getAttribute("fontSize")));let F=JMP.ParserStatic.getDescendant(i,"TextBox");if(F&&F.hasAttribute("fontSize")&&(c.labelFontSize=JMP.adjustFontSize(+F.getAttribute("fontSize"))),i.hasAttribute("fontSizes")){for(c.fontSizes=[],S=i.getAttribute("fontSizes").split(","),g=S.length,u=0;u<g;u++)c.fontSizes.push(JMP.adjustFontSize(+S[u]));c.fontSize=c.fontSizes[0]}JMP.ParserStatic.setFontFamily(i,"fontFamily",c);let B=JMP.ParserStatic.getAncestorWithAttribute(i,"baseTextColor");B&&l(B,"baseTextColor",c,"tickFontColor"),l(i,"baseTextColor",c,"tickFontColor");const V=JMP.ParserStatic.getArray(i,"tickStyles",!1);if(V){c.tickStyles=V.map((t=>e.parseTickStyle(t))),c.isBracket=new Array(c.tickStyles.length);for(let e=0;e<c.tickStyles.length;e++)c.isBracket[e]=-1!==JMP.AxisBoxStatic.BRACKET_TICK_STYLES.indexOf(c.tickStyles[e])}n(i,"wrapLines",c)},e.parseNominalAxisBox=function(e,i){let n,r,c,d,u,h,g=[0];JMP.CanvasSegmentStatic.parse(e,i),a(e,"isFlipped",i),e.hasAttribute("labelIndex")&&(d=[JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,e.getAttribute("labelIndex"))]),e.hasAttribute("weightIndex")&&(u=[JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,e.getAttribute("weightIndex"))]),e.hasAttribute("total")&&(g[0]=+e.getAttribute("total")),l(e,"axisLabel",i),h=s(e),h||(h=o(e)),h||(c=JMP.ParserStatic.getSibling(e,"TextBox",!1),c&&(h=s(c))),r=e.hasAttribute("XScaleID")?e.getAttribute("XScaleID"):e.hasAttribute("XSizeID")?e.getAttribute("XSizeID"):"0",n=JMP.ParserStatic.getAncestor(e,"ScaleBox","id",r),i.scale[t.ROLE_X]=JMP.CanvasSegmentStatic.parseScale(n,d,d,void 0,u,g,h,!0),n=JMP.ParserStatic.getAncestor(e,"ScaleBox","id",e.hasAttribute("YScaleID")?e.getAttribute("YScaleID"):e.hasAttribute("YSizeID")?e.getAttribute("YSizeID"):"0"),i.scale[t.ROLE_Y]=JMP.CanvasSegmentStatic.parseScale(n,d,d,void 0,u,g,h,!0),a(e,"hideTicks",i),e.hasAttribute("tickOrientation")&&(i.ticksRotated="vertical"===e.getAttribute("tickOrientation")),e.hasAttribute("labelColors")&&(i.labelColors=e.getAttribute("labelColors").split(",")),e.hasAttribute("labelWeights")&&(i.labelWeights=e.getAttribute("labelWeights").split(",")),e.hasAttribute("labelStyles")&&(i.labelStyles=e.getAttribute("labelStyles").split(","))},e}(),JMP.CanvasAnnotationStatic=function(){"use strict";let e={},t=JMP.ParserStatic.getBoolean,i=JMP.ParserStatic.setBoolean,a=JMP.ParserStatic.setNumber,n=JMP.ParserStatic.setString,l=JMP.ParserStatic.setFontSize;return e.parse=function(e,t){if(JMP.CanvasSegmentStatic.parse(e,t),a(e,"xValue",t),a(e,"yValue",t),a(e,"width",t),a(e,"height",t),n(e,"text",t),l(e,"fontSize",t),n(e,"color",t),n(e,"fillColor",t),n(e,"text",t),i(e,"isFilled",t),i(e,"isFramed",t),i(e,"isTip",t),e.hasAttribute("isTip")&&(t.htmlNode=JMP.ParserStatic.getLinked(e,JMP.ParserStatic.STORAGE_HTML_NODES),t.canvasNode=JMP.ParserStatic.getLinked(e,JMP.ParserStatic.STORAGE_CANVAS_NODES)),a(e,"triangleSize",t),a(e,"xTarget",t),a(e,"yTarget",t),n(e,"customText",t),n(e,"image",t),e.hasAttribute("mappingId")&&(n(e,"mappingId",t),JMP.ReportStatic.addPinnedTooltip(e.getAttribute("mappingId"))),e.hasAttribute("lineXValue")&&e.hasAttribute("lineYValue")){let i=e.getAttribute("lineXValue"),n=e.getAttribute("lineYValue");(i>t.width||i<0||n>t.height||n<0)&&(a(e,"lineXValue",t),a(e,"lineYValue",t))}if(t.canvas&&t.canvas.className.includes("annotation")){let i=JMP.ParserStatic.getAncestor(e,"ScaleBox");for(;i&&"ScaleBox"===i.nodeName;){let e=JMP.CanvasSegmentStatic.scaleBoxes.indexOf(i);if(e>=0){JMP.CanvasSegmentStatic.scales[e].addEventListener(t.onScaleEvent)}i=JMP.ParserStatic.getAncestor(i.parentNode,"ScaleBox")}}},e.calculateAnnotationSize=function(e,i,a){let n,l,s,o,r=+e.getAttribute("width"),c=+e.getAttribute("height"),d={width:r,height:c},u={width:0,height:0},h={width:0,height:0};t(e,"isTip")?e.hasAttribute("triangleSize")?(o=+e.getAttribute("triangleSize"),r=o+1,c=2*o):e.hasAttribute("xTarget")&&e.hasAttribute("yTarget")&&(n=+e.getAttribute("xTarget"),l=+e.getAttribute("xValue"),s=l+r/2,r=Math.abs(s-n),r=r>=1?r:1,n=+e.getAttribute("yTarget"),l=+e.getAttribute("yValue"),s=l+c/2,c=Math.abs(s-n)+1):(i=JMP.ParserStatic.getLinked(e,JMP.ParserStatic.STORAGE_SEGMENTS),h.width=i.canvas.width,h.height=i.canvas.height,i.canvas.width=r,i.canvas.height=c,u.width=r-i.canvas.clientWidth,u.height=c-i.canvas.clientHeight,d=i.measure(),i.canvas.width=h.width,i.canvas.height=h.height,d.width+=u.width,d.height+=u.height,(d.height<c||i.lineYValue)&&(c=Math.ceil(d.height)),(d.width<r||i.lineXValue)&&(r=Math.ceil(d.width)),i.lineLess&&(i.lineLess.width=Math.ceil((i.lineLess.width+u.width)*JMP.SCALING_FACTOR),i.lineLess.height=Math.ceil((i.lineLess.height+u.height)*JMP.SCALING_FACTOR))),a.width=r,a.height=c},e.moveAnnotationsToTop=function(e){let t,i,a=e.childNodes.length-1,n=!0,l=0;for(t=0;t<a&&n;t++)i=e.childNodes[t],n="Annotation"===i.nodeName,n&&l++;for(t=a;t>l;t--)i=e.childNodes[t],"Annotation"===i.nodeName&&(e.removeChild(e.childNodes[t]),e.insertBefore(i,e.firstChild),t++,l++)},e.createAnnotationCanvases=function(i,a,n){let l,s,o,r,c,d,u;if("Annotation"!==i.nodeName){if("AxisBox"===i.nodeName||"BorderBox"===i.nodeName||"CenterBox"===i.nodeName||"FrameBox"===i.nodeName||"GraphBuilderBox"===i.nodeName||"GraphBuilderAxisBox"===i.nodeName||"GraphBuilderComponentBox"===i.nodeName||"GraphBuilderContainerBox"===i.nodeName||"GraphBuilderGroupBox"===i.nodeName||"GraphBuilderTitleBox"===i.nodeName||"IfBox"===i.nodeName||"IfSegment"===i.nodeName||"LineUpBox"===i.nodeName||"ListBox"===i.nodeName||"SplitterBox"===i.nodeName||"OutlineBox"===i.nodeName||"PictureBox"===i.nodeName||"ScaleBox"===i.nodeName||"TextBox"===i.nodeName||"ParallelScaleBox"===i.nodeName||"ControlChartBuilderComponentBox"===i.nodeName)for(d=i.childNodes.length,c=0;c<d;c++)e.createAnnotationCanvases(i.childNodes[c],a,n)}else i.hasAttribute("isHidden")&&"false"!==i.getAttribute("isHidden")||(u=t(i,"isTip"),u?(s=JMP.ParserStatic.createElement("CANVAS","annotation revealed"),JMP.ParserStatic.setLinked(s,JMP.ParserStatic.STORAGE_SUBTREES,i),JMP.ParserStatic.setLinked(i,JMP.ParserStatic.STORAGE_CANVAS_NODES,s),l=function(e,t){let i,a,n=e.getAttribute("text"),l="",s=JMP.LARGE_FONT_SIZE,o=JMP.FONT,r=[],c=[];e.hasAttribute("customText")&&(a=e.getAttribute("customText")),e.hasAttribute("image")&&(l=e.getAttribute("image")),e.hasAttribute("fontSize")&&(s=JMP.adjustFontSize(+e.getAttribute("fontSize"))),e.hasAttribute("fontFamily")&&(o=e.getAttribute("fontFamily"));const d=JMP.ParserStatic.getDescendant(e,"CellFontSizes");d&&(r=JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,d.getAttribute("index")));const u=JMP.ParserStatic.getDescendant(e,"CellFontFamilies");u&&(c=JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,u.getAttribute("index")));let g=new h(n.split(JMP.LINE_SEPARATOR),s,o,r,c);return JMP.DefaultTooltipFonts=g,i=JMP.ParserStatic.createElement("DIV","concealed tooltip tipPinned",document.body),i.tagNode=t,JMP.TooltipStatic.fill(i,n.split(JMP.LINE_SEPARATOR),a,l,!1,(function(t){switch(t.type){case"keydown":case"pointerup":"pointerup"!==t.type&&13!==t.keyCode&&32!==t.keyCode||(JMP.ReportStatic.removePinnedTooltip(e.getAttribute("mappingId")),JMP.TooltipStatic.hidePinnedTip(i))}}),g),JMP.EventFacadeStatic.addEventListener(i,(function(e){let t,a,n,l,s=0;if("pointerdown"===e.type)for(t=i.style.zIndex,a=i.parentNode.childNodes,n=a.length,i.style.zIndex=99+n,s=0;s<n;s++)l=a[s].style.zIndex,a[s]!==i&&Number(l)>0&&Number(l)>Number(t)&&a[s].style.zIndex--})),i}(i,s),JMP.ParserStatic.setLinked(i,JMP.ParserStatic.STORAGE_HTML_NODES,l)):(l=JMP.ParserStatic.createElement("CANVAS","annotation"),JMP.ParserStatic.setLinked(l,JMP.ParserStatic.STORAGE_SUBTREES,i)),"annotationWrapper"===a.parentNode.className?(o=a.parentNode,o.appendChild(l)):(o=JMP.ParserStatic.createElement("DIV","annotationWrapper"),r=a.parentNode,r.removeChild(a),o.appendChild(a),o.appendChild(l),r.appendChild(o)),s&&o.appendChild(s))},e}(),JMP.CanvasBarSegmentStatic=function(){"use strict";let e={},i=[],{getAncestor:a,getDescendant:n,getDescendants:l,getFormat:s,getBoolean:o,setBoolean:r,setEnum:c,setArray:d,setNumber:u,setFontSize:h,setFontFamily:g,setString:S,addArrays:m,addColumns:f,setColumnsAndRowStates:T}=JMP.ParserStatic;return e.parse=function(e,p,E,b){let A,_,x,L,N,I,M,y,C,R,v,w,O=function(e,t,i,a){let n;if(e.getAttribute("elementId")===t.getAttribute("elementId")&&!i.includes(t))switch(t.nodeName){case"BarSegment":"interval"!==t.getAttribute("style")&&(n=t);break;case"LineSegment":case"MarkerSegment":case"PolySegment":n=t}if(n&&a&&a.hasAttribute("errorStatistic"))switch(a.getAttribute("errorStatistic")){case"range":case"std":case"sem":case"confidence":case"iqr":case"mad":break;default:n=void 0}return n};JMP.CanvasSegmentStatic.parse(e,p,E,b),A=a(e,"FrameBox"),e===n(A,"BarSegment")&&(i=[]);let P=e,D=e,F="true"===e.getAttribute("isHorizontal")?"Y":"X",B="true"===e.getAttribute("isHorizontal")?"X":"Y",V=l(b,F),k=l(b,B),G=l(e,"X"),H=l(e,"Y");if(N=l(e,"YInterval"),L=N.length,L>0){for(p.yInterval=[],_=0;_<L;_++)p.yInterval.push(JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,N[_].getAttribute("index")));V.length>G.length&&(P=b),k.length>H.length&&(D=b)}const Y=b?.parentNode;Y&&u(Y,"errorBarOffset",p),I=new JMP.Columns,f(P,"X",I,t.ROLE_X),f(D,"Y",I,t.ROLE_Y),f(e,"LabeledColumn",I,t.ROLE_LABEL),m(e,"XPos",I,t.ROLE_X),m(e,"YPos",I,t.ROLE_Y);let U=n(e,"ValueLabelFormat");switch(U&&(p.valueLabelFormat=s(U)),M=p.subsetRowIndices||G.length>0||H.length>0||JMP.ParserStatic.getDescendant(e,"LabeledColumn"),M||(M=a(e,"GraphBuilderComponentBox"),M&&(M=a(M,"GraphBuilderBox"),M&&(M=n(M,"Overlay")&&!o(e,"isOverlayDisabled")))),M||(M=a(e,"GraphBuilderComponentBox"),M&&(M=a(M,"GraphBuilderContainerBox"),M&&(M=n(M,"GraphBuilderGroupBox")))),r(e,"isOverlayDisabled",p),T(e,I,M?E:void 0,p),M||(p.groupCalculation=void 0),e.hasAttribute("fillColors")&&(p.fillColors=e.getAttribute("fillColors").split(",")),c(e,"fillPattern",JMP.ViewStatic.FILL_PATTERN,p),S(e,"lineColor",p),e.getAttribute("style")){case"bullet":p.style=JMP.BarSegmentStatic.STYLE_BULLET;break;case"interval":p.style=JMP.BarSegmentStatic.STYLE_INTERVAL;break;case"intervalSideBySide":p.style=JMP.BarSegmentStatic.STYLE_INTERVAL_SIDE_BY_SIDE;break;case"nested":p.style=JMP.BarSegmentStatic.STYLE_NESTED;break;case"range":p.style=JMP.BarSegmentStatic.STYLE_RANGE;break;case"stack":p.style=JMP.BarSegmentStatic.STYLE_STACK;break;default:p.style=JMP.BarSegmentStatic.STYLE_SIDE_BY_SIDE}switch(e.getAttribute("labeling")){case"value":p.labeling=JMP.BarSegmentStatic.LABELING_VALUE;break;case"percent":p.labeling=JMP.BarSegmentStatic.LABELING_PERCENT;break;case"rowLabel":p.labeling=JMP.BarSegmentStatic.LABELING_ROW_LABEL,d(e,"rowLabelIndex",p,"rowLabels");break;default:p.labeling=JMP.BarSegmentStatic.LABELING_NONE}if(p.labeling!==JMP.BarSegmentStatic.LABELING_NONE&&(g(e,"fontFamily",p),h(e,"fontSize",p),S(e,"fontWeight",p),S(e,"fontColor",p)),b&&("interval"===e.getAttribute("style")||"intervalSideBySide"===e.getAttribute("style"))){for(N=e.parentNode.childNodes,x=-1,_=0;_<N.length&&x<0;_++)N[_]===e&&(x=_);for(v=void 0,_=x-1;_>=0&&!v;_--)v=O(e,N[_],i,b);for(_=x+1;_<N.length&&!v;_++)v=O(e,N[_],i,b);if(v){switch(i.push(v),b.getAttribute("errorStatistic")){case"range":w=JMP.MomentsStatic.STAT_RANGE;break;case"std":w=JMP.MomentsStatic.STAT_STD;break;case"sem":w=JMP.MomentsStatic.STAT_SEM;break;case"confidence":w=JMP.MomentsStatic.STAT_CONFIDENCE;break;case"iqr":w=JMP.MomentsStatic.STAT_IQR;break;case"mad":w=JMP.MomentsStatic.STAT_MAD;break;default:w=JMP.MomentsStatic.STAT_NONE}p.errorStatistic=w,u(v,"overlayIndex",p),C=H,R=C.length;let e=l(v,B);if(R>1&&1===e.length)for(y=+e[0].getAttribute("index"),p.yIndex=void 0,_=0;_<R&&void 0===p.yIndex;_++)y===+C[_].getAttribute("index")&&(p.yIndex=_)}}},e}(),JMP.CanvasBoxPlotSegmentStatic=function(){"use strict";let e,i,a,n={},{setArray:l,setBoolean:s,setEnum:o,setNumber:r,setString:c,addColumns:d,setColumnsAndRowStates:u}=JMP.ParserStatic;return n.parse=function(n,h,g,S){let m,f,T;switch(JMP.CanvasSegmentStatic.parse(n,h,g,S),n.getAttribute("graphType")){case"quantile":h.graphType=JMP.BoxPlotSegmentStatic.TYPE_QUANTILE;break;case"solid":h.graphType=JMP.BoxPlotSegmentStatic.TYPE_SOLID;break;case"thin":h.graphType=JMP.BoxPlotSegmentStatic.TYPE_THIN;break;default:h.graphType=JMP.BoxPlotSegmentStatic.TYPE_OUTLIER}if(m=JMP.ParserStatic.getAncestor(n,"FrameBox"),f=JMP.ParserStatic.getDescendant(m,"BoxPlotSegment"),h.lineStyle=n.hasAttribute("lineStyle")?JMP.ParserStatic.getLineStyle(n.getAttribute("lineStyle")):JMP.LineSegmentStatic.PATTERN_SOLID,r(n,"width",h,"boxWidth"),r(n,"position",h),h.isHiddenUsed=!!JMP.ParserStatic.getAncestor(n,"GraphBuilderComponentBox"),f===n&&(e={isSorted:!1,positionArray:[]},i=JMP.Unique(),a=JMP.Frequency()),e.positionArray.includes(h.position)||e.positionArray.push(h.position),h.positionObj=e,h.unique=i,h.frequency=a,s(n,"isOverlayEnabled",h),r(n,"overlayIndex",h),c(n,"lineColor",h),c(n,"shortestHalfLineColor",h),r(n,"widthProportion",h),s(n,"showFences",h),s(n,"showFill",h),s(n,"showMeansDiamond",h),s(n,"showShortestHalf",h),r(n,"alpha",h),r(n,"lineWidth",h),c(n,"fillColor",h),o(n,"fillPattern",JMP.ViewStatic.FILL_PATTERN,h),r(n,"colorLegendItemID",h),l(n.childNodes[0],"index",h,"quantiles"),l(n.childNodes[1],"index",h,"moments"),l(n.childNodes[2],"index",h,"adjacents"),T=new JMP.Columns,d(n,"Y",T,t.ROLE_Y),d(n,"X",T,t.ROLE_X),d(n,"Freq",T,t.ROLE_FREQ),u(n,T,g,h),S){let e=S.getAttribute("kind");"ccbvarpoints"!==e&&"ccbattrpoints"!==e&&"ccbrareeventpoints"!==e||(h.isCCBBoxPlot=!0,s(S.parentNode,"ccbIsExcludedUsed",h,"isExcludedUsed",!1),r(S.parentNode,"ccbSubgroupSize",h),S.hasAttribute("ccbStatistic")&&(h.ccbStatistic=JMP.ParserStatic.getControlChartBuilderStatistic(S.getAttribute("ccbStatistic"))))}},n}(),JMP.CanvasBubblePlotSegmentStatic=function(){"use strict";let e={},i=function(e){let t=JMP.ViewStatic.WHICH_NONE;switch(e){case"selected":t=JMP.ViewStatic.WHICH_SELECTED;break;case"all":t=JMP.ViewStatic.WHICH_ALL;break;default:t=JMP.ViewStatic.WHICH_NONE}return t},a=JMP.ParserStatic.setArray,n=JMP.ParserStatic.setBoolean,l=JMP.ParserStatic.setNumber,s=JMP.ParserStatic.setFontSize,o=JMP.ParserStatic.setFontFamily,r=JMP.ParserStatic.addColumns,c=JMP.ParserStatic.setColumnsAndRowStates;return e.parse=function(e,d,u){let h,g,S,m,f,T,p,E,b,A,_;if(JMP.CanvasSegmentStatic.parse(e,d,u),l(e,"id",d),l(e,"sizeMin",d),l(e,"sizeMax",d),l(e,"sizeScale",d),l(e,"timePos",d),l(e,"timeLabelXOffset",d),l(e,"timeLabelYOffset",d),n(e,"isTimeLabelVisible",d),d.whichLabeled=i(e.getAttribute("whichLabeled")),d.trailBubbles=i(e.getAttribute("trailBubbles")),d.trailLines=i(e.getAttribute("trailLines")),n(e,"isFilled",d),n(e,"isOutlined",d),n(e,"isXMean",d),n(e,"isYMean",d),n(e,"isSizeMean",d),n(e,"isColorMean",d),n(e,"isSelectableAcrossGaps",d),e.hasAttribute("splitBubbles"))for(h=e.getAttribute("splitBubbles").split(","),S=h.length,d.splitBubbles=[],g=0;g<S;g++)d.splitBubbles.push(+h[g]);if(s(e,"labelFontSize",d),o(e,"labelFontFamily",d),f=JMP.ParserStatic.getAncestor(e,"FrameBox"),l(f,"lineWidthScale",d),m=new JMP.Columns,r(e,"X",m,t.ROLE_X),r(e,"Y",m,t.ROLE_Y),r(e,"Time",m,t.ROLE_TIME),r(e,"ID",m,t.ROLE_ID),r(e,"ID2",m,t.ROLE_ID2),r(e,"Color",m,t.ROLE_COLOR),r(e,"Size",m,t.ROLE_SIZE),r(e,"Freq",m,t.ROLE_FREQ),a(e,"colorCharValuesIndex",d,"colorCharValues"),a(e,"rowColorsIndex",d,"rowColors"),a(e,"rowValuesIndex",d,"rowValues"),a(e,"colorLevelsIndex",d,"colorLevels"),l(e,"colorMin",d),l(e,"colorMax",d),a(e,"TimeLabels",d,"timeLabels",!0),a(e,"TimeValues",d,"timeValues",!0),r(e,"LabeledColumn",m,t.ROLE_LABEL),a(e,"LabelXOffset",d,"xOffset",!0),a(e,"LabelYOffset",d,"yOffset",!0),T=JMP.ParserStatic.getDescendant(e,"ColorTheme"),T&&(d.colorTheme=JMP.ColorTheme(T.getAttribute("positions").split(","),T.getAttribute("colors").split(","))),E=JMP.ParserStatic.getAncestor(e,"OutlineBox"),T=E.firstChild,b="IfBox"===T.nodeName?T:T.firstChild&&"IfBox"===T.firstChild.nodeName?T.firstChild:"By"===T.nodeName&&"IfBox"===T.nextSibling.nodeName?T.nextSibling:null,b)for(_=JMP.ParserStatic.getDescendants(b,"TextBox"),S=_.length,g=0;g<S;g++)A=_[g],A.hasAttribute("id")&&(p=JMP.ParserStatic.getLinked(A,"htmlNode"),p.className="roleName",d.roleNames[+A.getAttribute("id")-1]=p,JMP.TooltipStatic.addTooltipListener(p,[JMP.BubblePlotSegmentStatic.TIP_ROLES]),p=JMP.ParserStatic.getAncestor(p,"DIV","class","layoutCell"),p&&p.nextSibling&&(p=p.nextSibling.firstChild.firstChild.firstChild.firstChild,JMP.TooltipStatic.addTooltipListener(p,[JMP.BubblePlotSegmentStatic.TIP_ROLES])));c(e,m,u,d)},e}(),JMP.CanvasCellPlotBoxStatic=function(){"use strict";let e={},{addColumns:i,setArray:a,setBoolean:n,setNumber:l}=JMP.ParserStatic;return e.parse=function(e,s,o,r){JMP.CanvasSegmentStatic.parse(e,s,o,r),o&&(s.rowStates=o),l(e,"nr",s),l(e,"nc",s),l(e,"width",s),l(e,"height",s),l(e,"yAxisOrigin",s),l(e,"yAxisWidth",s),n(e,"hasFrames",s);const c=JMP.ParserStatic.getDescendant(e,"ColorTheme");s.colorTheme=JMP.ColorTheme(c.getAttribute("positions").split(",").map(Number),c.getAttribute("colors").split(",")),a(e,"PosToRow",s,"posToRow",!0),a(e,"Values",s,"values",!0),a(e,"ScaledValues",s,"scaledValues",!0),a(e,"NumCats",s,"numCats",!0),a(e,"CatColors",s,"catColors",!0),a(e,"CatNames",s,"catNames",!0),s.columns=new JMP.Columns,i(e,"LabeledColumn",s.columns,t.ROLE_LABEL),a(e,"RowTitles",s,"rowTitles",!0),a(e,"ColTitles",s,"colTitles",!0)},e}(),JMP.CanvasContourSegmentStatic=function(){"use strict";let e={},{setArray:t,setBoolean:i,setNumber:a}=JMP.ParserStatic;return e.parse=function(e,n,l,s){JMP.CanvasSegmentStatic.parse(e,n,l,s),i(e,"isFilled",n),a(e,"lineWidth",n),t(e,"FillColors",n,"fillColors",!0),t(e,"LineColors",n,"lineColors",!0),t(e,"Alpha",n,"alpha",!0),t(e,"LabelDrawInfo",n,"labelDrawInfo",!0);let o=JMP.ParserStatic.getDescendant(e,"Shapes");o&&(t(o,"pathLengthsIndex",n,"pathLengths"),t(o,"xValuesIndex",n,"pathXValues"),t(o,"yValuesIndex",n,"pathYValues"),t(o,"pointTypesIndex",n,"pathPointTypes"))},e}(),JMP.CanvasDendrogramLabelSegmentStatic=function(){"use strict";let e={},{setArray:t,setBoolean:i,setFontFamily:a,setFontSize:n,setNumber:l,setString:s}=JMP.ParserStatic;return e.parse=function(e,o,r,c){JMP.CanvasSegmentStatic.parse(e,o,r,c),r&&(o.rowStates=r),l(e,"nr",o),i(e,"isVertical",o),a(e,"fontFamily",o),n(e,"fontSize",o),s(e,"fontWeight",o),s(e,"fontColor",o),t(e,"RowToPos",o,"rowToPos",!0),t(e,"RowToDRow",o,"rowToDRow",!0),t(e,"PosToRow",o,"posToRow",!0),t(e,"Labels",o,"labels",!0);const d=JMP.ParserStatic.getAncestor(e,"FrameBox");s(d,"fillColor",o,"backgroundColor"),o.isVertical||o.rowToDRow||(o.rowStates=void 0)},e}(),JMP.CanvasDendrogramSegmentStatic=function(){"use strict";let e={},{setArray:t,setBoolean:i,setLineStyle:a,setNumber:n,setString:l}=JMP.ParserStatic;return e.parse=function(e,s,o,r){JMP.CanvasSegmentStatic.parse(e,s,o,r),o&&(s.rowStates=o),n(e,"nr",s),n(e,"nj",s),n(e,"maxBranchDist",s),i(e,"isVertical",s),i(e,"isReversed",s),n(e,"lineWidth",s),a(e,"lineStyle",s),l(e,"lineColor",s),n(e,"alpha",s),t(e,"Leader",s,"leaders",!0),t(e,"Joiner",s,"joiners",!0),t(e,"BranchDist",s,"branchDistances",!0),t(e,"RowToPos",s,"rowToPos",!0),t(e,"RowToDRow",s,"rowToDRow",!0),t(e,"PosToRow",s,"posToRow",!0)},e}(),JMP.CanvasGridReferenceSegmentStatic=function(){"use strict";let e={},t=JMP.ParserStatic.setBoolean,i=JMP.ParserStatic.setColumnsAndRowStates;return e.parse=function(e,a,n){JMP.CanvasSegmentStatic.parse(e,a,n),t(e,"showReference",a),t(e,"isScaledByRightYAxis",a),a.showMajorGridsX=JMP.ParserStatic.getArray(e,"showMajorGridsX",!0),a.showMinorGridsX=JMP.ParserStatic.getArray(e,"showMinorGridsX",!0),a.majorGridColorsX=JMP.ParserStatic.getArray(e,"majorGridColorsX",!1),a.minorGridColorsX=JMP.ParserStatic.getArray(e,"minorGridColorsX",!1),a.showMajorGridsY=JMP.ParserStatic.getArray(e,"showMajorGridsY",!0),a.showMinorGridsY=JMP.ParserStatic.getArray(e,"showMinorGridsY",!0),a.majorGridColorsY=JMP.ParserStatic.getArray(e,"majorGridColorsY",!1),a.minorGridColorsY=JMP.ParserStatic.getArray(e,"minorGridColorsY",!1),i(e,new JMP.Columns,n)},e}(),JMP.CanvasGroupBoxStatic=function(){"use strict";let e,i={},a=[],n=JMP.ParserStatic.mapNumber,l=JMP.ParserStatic.getBoolean,s=JMP.ParserStatic.setBoolean,o=JMP.ParserStatic.setArray,r=JMP.ParserStatic.setNumber,c=JMP.ParserStatic.setString,d=JMP.ParserStatic.getColumn;return i.getGraphBuilderElementNode=function(t,i){let n,l;if(t&&(e!==t&&(e=t,a=JMP.ParserStatic.getDescendants(t,"GraphBuilderElement")),a.length))if(i.hasAttribute&&i.hasAttribute("elementId")&&"INVALID"!==i.getAttribute("elementId"))for(l=0;l<a.length&&!n;l++)i.getAttribute("elementId")===a[l].getAttribute("id")&&(n=a[l]);else{let e=JMP.ParserStatic.getAncestor(i,"ControlChartBuilderComponentBox");e&&!e.nextSibling||(n=a[0])}return n},i.setGroups=function(e,a){let s,r,c,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F,B,V,k,G,H,Y,U,z,W,X,Z,q,j,K,Q,J,$,ee=[],te=[],ie=[],ae=[],ne=[],le=[],se=[],oe=function(e){return void 0!==e.find((function(e){return e.includes(" - ")}))};for(h=JMP.ParserStatic.getDescendants(e,"GraphBuilderGroupBox"),N=h.length,s=0;s<N;s++){for(b=JMP.ParserStatic.getLinked(h[s],JMP.ParserStatic.STORAGE_SEGMENTS),q=!1,r=0;r<ee.length&&!q;r++)q=b.title===ee[r].title&&b.isHorizontal===ee[r].isHorizontal&&JMP.ModelStatic.isDeeplyEqual(b.formattedLevels,ee[r].formattedLevels)&&JMP.ModelStatic.isDeeplyEqual(b.levels,ee[r].levels);q||ee.push(b)}for(N=ee.length,M=1,y=1,s=0;s<N;s++)b=ee[s],A=b.columns.getColumn(t.ROLE_GROUP),b.layout===JMP.GroupBoxStatic.LAYOUT_PAGE?(D=!0,b.levels&&ae.push(b)):b.layout===JMP.GroupBoxStatic.LAYOUT_WRAP?(F=!0,b.levels&&ae.push(b)):b.isHorizontal?(te.push(b),M*=b.levels?b.levels.length:1):(ie.push(b),y*=b.levels?b.levels.length:1);if(ee=te.concat(ie),N=ee.length,D?y*=ae.length:F&&(M=ae.length),D){for(T=!1,A=void 0,P=[],I=ae.length,s=0;s<I;s++)b=ae[s],_=b.levels[0],A=b.columns.getColumn(t.ROLE_GROUP),b.formattedLevels&&(T=A.isNumber()&&oe(b.formattedLevels)),T?(f=s<I-1&&ae[s+1].formattedLevels?ae[s+1].levels[0]:"Infinity",P.push([+_,+f])):A.isNumber()?P.push(n(_)):P.push(_);ne.push(A),le.push(P),se.push(T)}for(s=0;s<N;s++){for(P=[],b=ee[s],A=b.columns.getColumn(t.ROLE_GROUP),T=A.isNumber()&&oe(b.formattedLevels),I=b.levels?b.levels.length:0,r=0;r<I;r++)_=b.levels[r],T?P.push([+_,r<I-1?+b.levels[r+1]:1/0]):A.isNumber()?P.push(n(_)):P.push(_);ne.push(A),le.push(P),se.push(T)}if(F){for(T=!1,A=void 0,P=[],I=ae.length,s=0;s<I;s++)b=ae[s],A=b.columns.getColumn(t.ROLE_GROUP),_=b.levels[0],b.formattedLevels&&(T=A.isNumber()&&oe(b.formattedLevels)),T?(f=s<I-1&&ae[s+1].formattedLevels?ae[s+1].levels[0]:"Infinity",P.push([+_,+f])):A.isNumber()?P.push(n(_)):P.push(_);ne.push(A),le.push(P),se.push(T)}B=l(e,"hasMissingLevels");let re={};if(o(e,"subsetIndex",re,"rowIndices"),J=re.rowIndices,ne.length>0&&(L=JMP.Group(ne,void 0,void 0,B,le,se)),g=JMP.ParserStatic.getDescendant(e,"Overlay"),g){H=d(g),z=+g.getAttribute("requestedLevels")||void 0;let i=JMP.ParserStatic.getDescendant(e.parentNode,"ControlChartBuilderComponentBox");if(i&&(H=H.copy(),H.dataLevel=t.LEVEL_ORDINAL),G=JMP.Term([H],a,void 0!==J?[J]:void 0,JMP.TermStatic.scoreMissing(H,B),z),i){let t=JMP.ParserStatic.getBoolean(e,"ccbIsExcludedUsed");G.setExcludedUsed(t)}}if(g=JMP.ParserStatic.getDescendant(e,"Shape"),g&&(U=d(g),Y=JMP.Term([U],a,void 0,JMP.TermStatic.scoreMissing(U,B))),u=JMP.ParserStatic.getDescendants(e,"FrameBox"),C=u.length,x=JMP.ParserStatic.getLinked(u[0],JMP.ParserStatic.STORAGE_SEGMENTS),x&&(x.width<10||x.height<10))for(s=0;s<C;s++)x=JMP.ParserStatic.getLinked(u[s],JMP.ParserStatic.STORAGE_SEGMENTS),x&&(x.lineColor="#b8c2c9");if(F)v=y,R=C/v;else if(D)v=y,R=M*(C/(M*y));else if(x=JMP.ParserStatic.getLinked(u[0],JMP.ParserStatic.STORAGE_SEGMENTS),x){for(m=x.y,R=0,s=0;s<C;s++)x=JMP.ParserStatic.getLinked(u[s],JMP.ParserStatic.STORAGE_SEGMENTS),x&&x.y===m&&R++;v=C/R}for(w=R/M>>0,O=v/y>>0,$=!1,V=[],Q=[],h=JMP.ParserStatic.getDescendants(e,"GraphBuilderElement"),S=h.length,r=0;r<S;r++)E=h[r],E.hasAttribute("responseAxis")&&"X"===E.getAttribute("responseAxis")?(X=JMP.ParserStatic.getDescendant(E,"X"),W=JMP.ParserStatic.getDescendant(E,"Y"),$=!0):(X=JMP.ParserStatic.getDescendant(E,"Y"),W=JMP.ParserStatic.getDescendant(E,"X")),W&&(c=+W.getAttribute("index"),V.includes(c)||V.push(c)),X&&(c=+X.getAttribute("index"),Q.includes(c)||Q.push(c));if(k=V.length,k>1&&!F&&!D)for(p=u.concat(),u=[],s=0;s<C;)if(x=JMP.ParserStatic.getLinked(p[0],JMP.ParserStatic.STORAGE_SEGMENTS),x)for(m=x.x,u.push(p[0]),p.splice(0,1),s++,r=0;r<p.length;)x=JMP.ParserStatic.getLinked(p[r],JMP.ParserStatic.STORAGE_SEGMENTS),x&&x.x===m?(u.push(p[r]),p.splice(r,1),s++):r++;for(s=0;s<C;s++)for(j=F||D||$?(s/(R*O)>>0)*M+(s%R/w>>0):M>1||y>1?(s/(v*w)>>0)*y+(s%v/O>>0):0,h=u[s].childNodes,S=h.length,r=0;r<S;r++)switch(E=h[r],K=E.nodeName,K){case"AreaSegment":case"BarSegment":case"BoxPlotSegment":case"HistogramSegment":case"LineSegment":case"MarkerSegment":case"MosaicSegment":case"PolySegment":case"PolylineSegment":case"RectSegment":case"ShapeSegment":case"TextSegment":case"TreemapSegment":if(x=JMP.ParserStatic.getLinked(E,JMP.ParserStatic.STORAGE_SEGMENTS),x&&(x.groupCalculation=L,x.groupIndex=j,x.hasMissingLevels=B,G&&(x.overlayTerm=G),Y&&(x.shapeTerm=Y,x.columns&&x.columns.addColumn(U,t.ROLE_SHAPE)),Z=i.getGraphBuilderElementNode(e,E),Z)){let e="MarkerSegment"===K&&"ellipse"===Z.getAttribute("kind"),i="RectSegment"===K&&"regression"===Z.getAttribute("kind");e||i||(Z.hasAttribute("statistic")&&(x.statistic=JMP.ParserStatic.getStatistic(Z.getAttribute("statistic"))),x.columns&&(g=JMP.ParserStatic.getDescendant(Z,"Freq"),g&&x.columns.addColumn(d(g),t.ROLE_FREQ),g=JMP.ParserStatic.getDescendant(Z,"Color"),g&&(x.colorTerm=JMP.Term([d(g)],x.columns.rowStates,void 0!==J?[J]:void 0,JMP.TermStatic.scoreMissing(d(g),B),void 0),x.columns.addColumn(d(g),t.ROLE_COLOR)),g=JMP.ParserStatic.getDescendant(Z,"Size"),g&&(x.sizeTerm=JMP.Term([d(g)],x.columns.rowStates,void 0,JMP.TermStatic.scoreMissing(d(g),B)),x.columns.addColumn(d(g),t.ROLE_SIZE))))}}},i.parse=function(e,i,a){let n,u;if(JMP.CanvasSegmentStatic.parse(e,i,a),c(e,"title",i),e.hasAttribute("levelsIndex")&&(o(e,"levelsIndex",i,"levels"),e.hasAttribute("level")&&(n=+e.getAttribute("level"),0<=n&&n<i.levels.length?i.levels=[i.levels[n]]:i.levels=[])),e.hasAttribute("formattedLevels")){let t=e.getAttribute("formattedLevels");i.formattedLevels=""===t?[""]:t.split(JMP.DELIMITER)}s(e,"isFlipped",i),l(e,"isTitleRotated")&&(i.titleOrientation=i.isFlipped?JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT:JMP.TextBoxStatic.ORIENTATION_VERTICAL_RIGHT),l(e,"isLevelRotated")&&(i.levelOrientation=i.isFlipped?JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT:JMP.TextBoxStatic.ORIENTATION_VERTICAL_RIGHT),e.hasAttribute("layout")&&("page"===e.getAttribute("layout")?i.layout=JMP.GroupBoxStatic.LAYOUT_PAGE:"wrap"===e.getAttribute("layout")&&(i.layout=JMP.GroupBoxStatic.LAYOUT_WRAP)),r(e,"spacing",i),u=new JMP.Columns,u.addColumn(d(JMP.ParserStatic.getDescendant(e,"Group")),t.ROLE_GROUP),i.columns=u},i}(),JMP.CanvasHistogramSegmentStatic=function(){"use strict";let e={},i=JMP.ParserStatic.setArray,a=JMP.ParserStatic.setBoolean,n=JMP.ParserStatic.setEnum,l=JMP.ParserStatic.setNumber,s=JMP.ParserStatic.setString,o=JMP.ParserStatic.addArray,r=JMP.ParserStatic.addColumns,c=JMP.ParserStatic.setLineStyle,d=JMP.ParserStatic.setFontSize,u=JMP.ParserStatic.setColumnsAndRowStates;return e.parse=function(e,h,g,S){let m,f=JMP.ParserStatic.getAncestor(e,"FrameBox");if(JMP.CanvasSegmentStatic.parse(e,h,g,S),h.adjustPadding=!0,l(e,"binOrigin",h),l(e,"binSpan",h),l(e,"binSpanDif",h),l(e,"binWidth",h),l(e,"nBins",h),a(e,"isDataTreatedAsCategorical",h),a(e,"isDataTreatedAsContinuous",h),l(e,"maximumDensity",h,"maxHeight"),s(e,"selectedFillColor",h),n(e,"fillPattern",JMP.ViewStatic.FILL_PATTERN,h),s(e,"fillColor",h),s(e,"lineColor",h),s(e,"primaryAxisScale",h),l(e,"overlapFactor",h),l(e,"lineWidth",h),c(e,"lineStyle",h),d(e,"fontSize",h),l(f,"alpha",h,"alpha",1),e.hasAttribute("alpha")&&(h.alpha*=+e.getAttribute("alpha")),a(e,"showErrorBar",h),a(e,"showPercents",h),h.showPercents){let t=0;e.hasAttribute("percentNDec")&&(t=+e.getAttribute("percentNDec")),h.percentFormat=JMP.Format(JMP.FormatStatic.FORMAT_PERCENT,!1,t)}a(e,"showCounts",h),m=new JMP.Columns,o(e,"Freq",m,t.ROLE_FREQ),o(e,"Weight",m,t.ROLE_WEIGHT),r(e,"Y",m,t.ROLE_Y),r(e,"LabeledColumn",m,t.ROLE_LABEL),i(e,"subsetIndex",h,"subsetRowIndices"),i(e,"Scores",h,"scores",!0),i(e,"MicroBinStarts",h,"microBinStarts",!0),l(e,"position",h),l(e,"size",h),u(e,m,g,h),h.isSelectedUsed=!0,S&&(h.isScoreRowIndicesIndependent=!0,h.isGraphBuilderSegment=!0);const T=e.closest("OutlineBox");if(T&&T.hasAttribute("hasMenu")&&"true"===T.getAttribute("hasMenu").toLowerCase()){const e=T.getAttribute("MenuItems");let t=!0,i=e.split(";");i=i.filter(Boolean),JMP.DocumentMenuStatic.menuOptions.includes(h.description)||(JMP.DocumentMenuStatic.menuOptions.push(h.description),t=!1),JMP.DocumentMenuStatic.distributionIndex.add(JMP.DocumentMenuStatic.menuOptions.indexOf(h.description));for(let e=0;e<i.length;e++)if(i[e].length>0){const a=i[e].split(":");switch(a[1]){case"CDF Plot":h.isCDFPlot="true"===a[2].toLowerCase();break;case"Mosaic Plot":h.isMosaicPlot="true"===a[2].toLowerCase();break;case"Quantile Box Plot":h.isQuantilePlot="true"===a[2].toLowerCase()}h.menuOptions.push({id:a[0]+":"+a[1],label:JMP.DocumentMenuStatic.getMenuTextLocale(a[1]),type:JMP.MenuStatic.MENU_CHECK,isChecked:"true"===a[2]}),t||(JMP.DocumentMenuStatic.menuOptions.push(a[1]),JMP.DocumentMenuStatic.menuOptions.push(h.menuOptions[e].isChecked.toString()))}if(T.hasAttribute("MenuItemsHistogramOptions")&&T.getAttribute("MenuItemsHistogramOptions")){const e=[];T.getAttribute("MenuItemsHistogramOptions").split(";").filter(Boolean).forEach((i=>{const a=i.split(":");e.push({id:a[0]+":"+a[1],label:JMP.DocumentMenuStatic.getMenuTextLocale(a[1]),type:JMP.MenuStatic.MENU_CHECK,isChecked:"true"===a[2]}),t||(JMP.DocumentMenuStatic.menuOptions.push(a[1]),JMP.DocumentMenuStatic.menuOptions.push(a[2]))})),e.length>0&&h.menuOptions.push({id:"idForJMPLiveMenu:HistogramOptions",label:JMP.DocumentMenuStatic.getMenuTextLocale("HistogramOptions"),type:JMP.MenuStatic.MENU_ITEM,menuItems:e})}}},e}(),JMP.CanvasLegendBoxStatic=function(){"use strict";let e={},t=function(e){let t,i=[],a=e.split(","),n=a.length;for(t=0;t<n;t++)switch(a[t]){case"bar":i.push(JMP.LegendBoxStatic.TYPE_BAR);break;case"marker":i.push(JMP.LegendBoxStatic.TYPE_MARKER);break;case"hLine":i.push(JMP.LegendBoxStatic.TYPE_HLINE);break;case"vLine":i.push(JMP.LegendBoxStatic.TYPE_VLINE);break;case"lineSize":i.push(JMP.LegendBoxStatic.TYPE_LINE_SIZE);break;case"hBoxPlot":i.push(JMP.LegendBoxStatic.TYPE_HBOXPLOT);break;case"vBoxPlot":i.push(JMP.LegendBoxStatic.TYPE_VBOXPLOT);break;case"hInterval":i.push(JMP.LegendBoxStatic.TYPE_HINTERVAL);break;case"vInterval":i.push(JMP.LegendBoxStatic.TYPE_VINTERVAL);break;case"step":i.push(JMP.LegendBoxStatic.TYPE_STEP);break;case"fillAndLine":i.push(JMP.LegendBoxStatic.TYPE_FILL_LINE);break;case"markerSize":i.push(JMP.LegendBoxStatic.TYPE_MARKER_SIZE);break;case"markerColor":i.push(JMP.LegendBoxStatic.TYPE_MARKER_COLOR);break;case"gradient":i.push(JMP.LegendBoxStatic.TYPE_GRADIENT);break;case"densityGradient":i.push(JMP.LegendBoxStatic.TYPE_DENSITY_GRADIENT);break;case"contourGradient":i.push(JMP.LegendBoxStatic.TYPE_CONTOUR_GRADIENT);break;case"contourGradientLine":i.push(JMP.LegendBoxStatic.TYPE_CONTOUR_GRADIENT_LINE)}return 0===i.length&&i.push(JMP.LegendBoxStatic.TYPE_BAR),i},{setBoolean:i,setEnum:a,setFontFamily:n,setNumber:l,setString:s}=JMP.ParserStatic;return e.setLegend=function(e,t){let i,a,n,s;if(e.hasAttribute("legendModelID")&&(l(e,"legendModelID",t),i=JMP.ParserStatic.getStorage(JMP.ParserStatic.STORAGE_LEGENDS),i))for(n=i.length,s=!1,a=0;a<n&&!s;a++)void 0!==i[a].modelOffsetMap[t.legendModelID]&&(t.legend=i[a],s=!0)},e.parse=function(e,o){let r,c,d,u,h,g,S,m,f,T,p,E,b;if(JMP.CanvasSegmentStatic.parse(e,o),o.width||l(e,"width",o),o.height||l(e,"height",o),s(e,"title",o),i(e,"isVisible",o,"isDisplayed"),i(e,"isFramed",o),i(e,"isHorizontal",o),i(e,"isTitleHorizontal",o),l(e,"nWrap",o),l(e,"nMaxLevels",o,"nMaxLevels",1/0),e.hasAttribute("fontSize")&&(o.fontSize=JMP.adjustFontSize(+e.getAttribute("fontSize"))),n(e,"fontFamily",o),s(e,"fontColor",o),l(e,"prefMarkerSize",o,"prefMarkerSize",3),e.hasAttribute("modelOffsetMap"))for(r=e.getAttribute("modelOffsetMap").split(",").map(Number),u=r.length/2,c=0;c<u;c++)o.modelOffsetMap[r[2*c]]=r[2*c+1];if(m=JMP.ParserStatic.getStorage(JMP.ParserStatic.STORAGE_SEGMENTS),m)for(u=m.length,c=0;c<u;c++)void 0===m[c].legend&&void 0!==o.modelOffsetMap[m[c].legendModelID]&&(m[c].legend=o,m[c].columns&&m[c].columns.rowStates&&!o.rowStates?(o.rowStates=m[c].columns.rowStates,o.rowStates.addEventListener(o.onRowStatesEvent)):m[c].rowStates&&!o.rowStates&&(o.rowStates=m[c].rowStates,o.rowStates.addEventListener(o.onRowStatesEvent)));for(JMP.ParserStatic.setStored(JMP.ParserStatic.STORAGE_LEGENDS,o),h=JMP.ParserStatic.getDescendants(e,"LegendItem"),u=h.length,c=0;c<u;c++){if(g=h[c],S=JMP.ParserStatic.getDescendant(g,"GradientSettings"),S){if(r=S.getAttribute("colorValues").split(",").map(Number),f=S.hasAttribute("labels")?S.getAttribute("labels").split(JMP.DELIMITER):void 0,f)for(T=f.length,d=0;d<T;d++)f[d]=f[d].replace(new RegExp(JMP.LINE_SEPARATOR,"g"),"\n");else for(b=JMP.ParserStatic.getFormat(S),f=[],d=0;d<r.length;d++)f[d]=JMP.FormatStatic.formatNumber(r[d],b);p={labels:f,colorValues:r,colorMin:r[0],format:JMP.ParserStatic.getFormat(S),percentiles:S.hasAttribute("percentiles")?S.getAttribute("percentiles").split(",").map(Number):void 0};const e=S.getAttribute("customColors")?.split(",");if(e&&(p.customColors=e),i(S,"showLabels",p,"showLabels",!0),i(S,"isHorizontal",p,"isHorizontal",!1),i(S,"isReverseColors",p,"isReverseColors",!1),i(S,"isReverseLabels",p,"isReverseLabels",!1),i(S,"isDiscreteColors",p,"isDiscreteColors",!1),s(S,"missingColor",p),l(S,"numContours",p),s(S,"fillType",p),S.hasAttribute("scaleType"))switch(S.getAttribute("scaleType")){case"quantile":p.scaleType=JMP.LegendBoxStatic.GRADIENT_SCALE_QUANTILE;break;case"standard deviation":p.scaleType=JMP.LegendBoxStatic.GRADIENT_SCALE_STANDARD_DEVIATION;break;case"log":p.scaleType=JMP.LegendBoxStatic.GRADIENT_SCALE_LOG;break;default:p.scaleType=JMP.LegendBoxStatic.GRADIENT_SCALE_LINEAR}S=JMP.ParserStatic.getDescendant(g,"ColorTheme"),p.colorTheme=JMP.ColorTheme(S.getAttribute("positions").split(",").map(Number),S.getAttribute("colors").split(","))}else p=void 0;E={types:g.hasAttribute("types")?t(g.getAttribute("types")):[],lineStyle:g.hasAttribute("lineStyle")?JMP.ParserStatic.getLineStyle(g.getAttribute("lineStyle")):JMP.LineSegmentStatic.PATTERN_SOLID,markerShape:g.hasAttribute("markerShape")?JMP.ParserStatic.getMarkerShape(g.getAttribute("markerShape")):JMP.Marker.DOT,gradientSettings:p,rowIndices:[]},l(g,"width",E,"width",0),s(g,"fillColor",E),s(g,"lineColor",E),l(g,"lineWidth",E,"lineWidth",1),l(g,"markerSize",E,"markerSize",-1),l(g,"alpha",E,"alpha",1),a(g,"fillPattern",JMP.ViewStatic.FILL_PATTERN,E),s(g,"label",E),i(g,"isVisible",E,"isVisible",!0),i(g,"isLinked",E,"isLinked",!1),l(g,"baseModelID",E,"baseModelID",0),l(g,"baseItemIndex",E,"baseItemIndex",0),l(g,"position",E,"position",c),s(g,"defaultMissingColor",E);let e={},n="group";l(g,n,e);const u=JMP.ParserStatic.setArray;n="groupIndices",u(g,n,e,n,!0),n="groupStartsEnds",u(g,n,e,n,!0);const m=e.group,A=e.groupIndices,_=e.groupStartsEnds;void 0!==m&&A&&_&&(E.rowIndices=A.slice(_[m],_[m+1])),o.items.push(E)}},e.measureLegend=function(e){let t,i,a,n={width:0,height:0};return n.width=+e.getAttribute("width"),n.height=+e.getAttribute("height"),JMP.ParserStatic.getAncestor(e,"ControlChartBuilderComponentBox")||(i=JMP.ParserStatic.getLinked(e,JMP.ParserStatic.STORAGE_SEGMENTS),t=i.measure(),t.height>n.height&&(n.height=t.height),t.width>n.width&&(n.width=t.width)),"IfBox"===e.parentNode.nodeName&&(a=e.parentNode,a.hasAttribute("condition")&&"false"===a.getAttribute("condition")&&(n.width=0,n.height=0)),n},e.measureLegends=function(t){let i,a,n,l,s={width:0,height:0};if("LegendBox"===t.nodeName)s=e.measureLegend(t);else for(n=t.childNodes,i=n.length,l=0;l<i;l++)a=e.measureLegends(n[l]),a.width>s.width&&(s.width=a.width),a.height>s.height&&(s.height=a.height);return s},e}(),JMP.CanvasLineSegmentStatic=function(){"use strict";let e={},i=JMP.ParserStatic.setArray,a=JMP.ParserStatic.setBoolean,n=JMP.ParserStatic.setNumber,l=JMP.ParserStatic.setString,s=JMP.ParserStatic.setStringArray,o=JMP.ParserStatic.setNumericArray,r=JMP.ParserStatic.setFontSize,c=JMP.ParserStatic.setFontFamily,d=JMP.ParserStatic.addColumns;return e.parse=function(e,u,h,g){let S,m,f,T=JMP.ParserStatic.getAncestor(e,"FrameBox");switch(JMP.CanvasSegmentStatic.parse(e,u,h,g),e.getAttribute("type")){case"step":u.type=JMP.LineSegmentStatic.TYPE_STEP;break;case"lines":u.type=JMP.LineSegmentStatic.TYPE_LINES;break;default:u.type=JMP.LineSegmentStatic.TYPE_LINE}switch(n(e,"smoothness",u),u.style=e.hasAttribute("style")?JMP.ParserStatic.getLineStyle(e.getAttribute("style")):JMP.LineSegmentStatic.PATTERN_SOLID,n(e,"lineWidth",u),n(T,"lineWidthScale",u),l(e,"lineColor",u),n(e,"arrowhead",u),a(e,"isSelectable",u,"isSelectable",!1),l(T,"fillColor",u,"backgroundColor"),n(T,"alpha",u,"alpha",1),e.hasAttribute("alpha")&&(u.alpha*=+e.getAttribute("alpha")),e.getAttribute("connectMissing")){case"faded":u.connectMissing=JMP.LineSegmentStatic.CONNECT_FADED;break;case"dashed":u.connectMissing=JMP.LineSegmentStatic.CONNECT_DASHED;break;case"through":u.connectMissing=JMP.LineSegmentStatic.CONNECT_THROUGH;break;default:u.connectMissing=JMP.LineSegmentStatic.CONNECT_NONE}switch(e.getAttribute("connectMissingCCB")){case"faded":u.connectMissingCCB=JMP.LineSegmentStatic.CONNECT_FADED;break;case"dashed":u.connectMissingCCB=JMP.LineSegmentStatic.CONNECT_DASHED;break;case"through":u.connectMissingCCB=JMP.LineSegmentStatic.CONNECT_THROUGH;break;default:u.connectMissingCCB=JMP.LineSegmentStatic.CONNECT_NONE}m=JMP.ParserStatic.getAncestor(e,"OutlineBox"),JMP.ParserStatic.getDescendants(T,"LineSegment",!0).length>1&&(!m||u.description!==m.getAttribute("title"))&&(u.useDescriptionTooltip=!0),n(e,"overlayIndex",u),S=new JMP.Columns,i(e,"XPos",u,"XPos",!0),i(e,"YPos",u,"YPos",!0),d(e,"LabeledColumn",S,t.ROLE_LABEL),i(e,"Color",u,"colorData",!0),u.columns=S;let p=JMP.ParserStatic.getDescendant(e,"LineLabels");if(p&&(c(p,"fontName",u,"labelFontName"),r(p,"fontSize",u,"labelFontSize"),o(p,"XOffset",u,"labelXOffsets"),o(p,"YOffset",u,"labelYOffsets"),s(p,"HAlign",u,"labelHAlign"),s(p,"VAlign",u,"labelVAlign"),s(p,"labelText",u,"labelText")),g){let t=g.getAttribute("kind");switch(("line"===t||"area"===t||"smoother"===t||"regression"===t&&u.type!==JMP.LineSegmentStatic.TYPE_LINES||"ccbattrpoints"===t||"ccbvarpoints"===t||"ccbrareeventpoints"===t)&&(u.columns.setRowStates(h,u.onRowStatesEvent),T=JMP.ParserStatic.getAncestor(e,"FrameBox"),f=JMP.ParserStatic.getLinked(T,JMP.ParserStatic.STORAGE_SEGMENTS),f.columns.setRowStates(h,f.onRowStatesEvent)),u.isStatisticForY=!g.hasAttribute("responseAxis")||"Y"===g.getAttribute("responseAxis"),"smoother"===t?u.type=JMP.LineSegmentStatic.TYPE_SMOOTHER:"regression"===t?u.type===JMP.LineSegmentStatic.TYPE_LINES?u.type=JMP.LineSegmentStatic.TYPE_CATEGORICAL_LINE_OF_FIT:u.type=JMP.LineSegmentStatic.TYPE_LINE_OF_FIT:"ccbattrlimits"===t||"ccbvarlimits"===t?u.isControlChartLimit=!0:"ccbattrpoints"!==t&&"ccbvarpoints"!==t&&"ccbrareeventpoints"!==t||(u.type=JMP.LineSegmentStatic.TYPE_CONTROL_CHART_CONNECT_LINE,JMP.ParserStatic.setBoolean(g.parentNode,"ccbIsExcludedUsed",u,"isExcludedUsed",!1),u.isHiddenUsed=!0,g.hasAttribute("ccbStatistic")&&(u.ccbStatistic=JMP.ParserStatic.getControlChartBuilderStatistic(g.getAttribute("ccbStatistic"))),n(g.parentNode,"ccbSubgroupSize",u)),g.getAttribute("missingFactors")){case"zero":u.missingFactors=JMP.ViewStatic.MISSING_FACTORS_ZERO;break;case"missing":u.missingFactors=JMP.ViewStatic.MISSING_FACTORS_MISSING;break;default:u.missingFactors=JMP.ViewStatic.MISSING_FACTORS_SKIP}}},e}(),JMP.CanvasMarkerSegmentStatic=function(){"use strict";let e={},{setArray:i,setBoolean:a,setNumber:n,setString:l,addColumns:s,getColumn:o,setColumnsAndRowStates:r}=JMP.ParserStatic;return e.parse=function(e,c,d,u){let h,g,S,m,f,T;JMP.CanvasSegmentStatic.parse(e,c,d,u),l(e,"color",c),e.hasAttribute("shape")&&(c.shape=JMP.ParserStatic.getMarkerShape(e.getAttribute("shape"))),n(e,"size",c),n(e,"sizeMin",c),n(e,"sizeMax",c),a(e,"isAssociatedWithColumns",c),a(e,"isLabelDataIndexed",c),a(e,"isLabelIndexMapped",c),a(e,"isByGroup",c),a(e,"isFastMarker",c),e.hasAttribute("groupRowIndices")&&(c.groupRowIndices=e.getAttribute("groupRowIndices").split(",").map(Number)),i(e,"subsetIndex",c,"subsetRowIndices"),n(e,"overlayIndex",c);const p=JMP.ParserStatic.getAncestor(e,"FrameBox");n(p,"alpha",c,"alpha",1),e.hasAttribute("alpha")&&(c.alpha*=+e.getAttribute("alpha")),l(p,"fillColor",c,"backgroundColor"),a(e,"isLastInFrame",c),a(e,"hasAnyBoxPlotSiblings",c),c.hasAnyBoxPlotSiblings?c.canUseBackgroundImageOptimization=!1:e.hasAttribute("hasNoMarkerSiblings")&&(c.canUseBackgroundImageOptimization="true"===e.getAttribute("hasNoMarkerSiblings")),e.hasAttribute("preferredShape")&&(c.preferredShape=JMP.ParserStatic.getMarkerShape(e.getAttribute("preferredShape"))),f=new JMP.Columns,T=JMP.ParserStatic.getDescendant(e,"XPos"),T&&(c.XPos=o(T,JMP.ParserStatic.STORAGE_INFO)),T=JMP.ParserStatic.getDescendant(e,"YPos"),T&&(c.YPos=o(T,JMP.ParserStatic.STORAGE_INFO)),s(e,"X",f,t.ROLE_X),s(e,"Y",f,t.ROLE_Y),r(e,f,d,c),c.isAssociatedWithColumns||(e.hasAttribute("rowStatesIndex")?(m=JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,e.getAttribute("rowStatesIndex")),c.columns.setRowStates(m,c.onRowStatesEvent),S=JMP.ParserStatic.getLinked(p,JMP.ParserStatic.STORAGE_SEGMENTS),S.columns.setRowStates(m,S.onRowStatesEvent)):c.columns.rowStates=void 0),a(e,"isTreatContinuousAsCategory",c),i(e,"Size",c,"sizeData",!0),i(e,"Color",c,"colorData",!0),s(e,"MarkerShape",f,t.ROLE_MARKER_SHAPE);const E=f.getColumn(t.ROLE_MARKER_SHAPE);if(E&&E.isImage&&(c.canUseBackgroundImageOptimization=!1),s(e,"LabeledColumn",f,t.ROLE_LABEL),T=JMP.ParserStatic.getDescendant(e,"LabelValues"),T&&(i(T,"index",c,"labelValues"),T.hasAttribute("labeledImageColumnIndices")&&(c.labeledImageColumnIndices=T.getAttribute("labeledImageColumnIndices").split(",").map(Number))),T=JMP.ParserStatic.getDescendant(e,"ShowLabels"),T)for(i(T,"index",c,"showLabels"),g=c.showLabels?c.showLabels.length:0,h=0;h<g;h++)c.showLabels[h]=1===c.showLabels[h]||!0===c.showLabels[h];if(i(e,"PositionXOffset",c,"xPosOffset",!0),i(e,"PositionYOffset",c,"yPosOffset",!0),i(e,"LabelXOffset",c,"xOffset",!0),i(e,"LabelYOffset",c,"yOffset",!0),u){let e=u.getAttribute("kind");c.isMeanPoint="ellipse"===e,c.isHDROutlier="contour"===e,"ccbvarpoints"!==e&&"ccbattrpoints"!==e&&"ccbrareeventpoints"!==e&&"ccbshortrunpoints"!==e&&"ccbvarlimits"!==e||(c.isCCBMarker=!0),"ccbvarlimits"!==e&&"ccbattrlimits"!==e&&"ccbrareeventlimits"!==e||(c.isCCBTestMarker=!0,c.labelValues&&c.labelValues.forEach((e=>{if(e[0]){let t,i=e[0][0],a=i.indexOf("  "),n=2,l=a;a<0&&(a=i.indexOf(";"),n=1,l=i.indexOf(JMP.LINE_SEPARATOR_ENTITY)),a>0&&(t=i.substr(a+n,i.length),i=i.slice(0,l),e.splice(0,1,[i]),e.splice(1,0,[t]))}}))),u.hasAttribute("ccbStatistic")&&(c.ccbStatistic=JMP.ParserStatic.getControlChartBuilderStatistic(u.getAttribute("ccbStatistic"))),(c.isCCBMarker||c.isCCBTestMarker)&&JMP.ParserStatic.setBoolean(u.parentNode,"ccbIsExcludedUsed",c,"ccbIsExcludedUsed",!1),n(u.parentNode,"ccbSubgroupSize",c),c.isStatisticForY=!u.hasAttribute("responseAxis")||"Y"===u.getAttribute("responseAxis")}},e}(),JMP.CanvasMosaicSegmentStatic=function(){"use strict";let e,i,a={},n=JMP.ParserStatic.getBoolean,l=JMP.ParserStatic.addColumns,s=JMP.ParserStatic.getColumn,o=JMP.ParserStatic.setColumnsAndRowStates;return a.parse=function(a,r,c,d){let u,h,g,S,m=[];if(JMP.CanvasSegmentStatic.parse(a,r,c,d),a.hasAttribute("fillColors")&&(r.fillColors=a.getAttribute("fillColors").split(",")),a.hasAttribute("yScoreIndex")&&(r.nX=+a.getAttribute("nX"),r.nY=+a.getAttribute("nY"),a.hasAttribute("xScoreIndex")&&(g=+a.getAttribute("xScoreIndex"),r.xScore=JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,g)),g=+a.getAttribute("yScoreIndex"),r.yScore=JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,g)),u=new JMP.Columns,l(a,"X",u,t.ROLE_X),l(a,"Y",u,t.ROLE_Y),l(a,"LabeledColumn",u,t.ROLE_LABEL),h=JMP.ParserStatic.getDescendant(a,"Freq"),h){let e=s(h,JMP.ParserStatic.STORAGE_INFO);if(r.rowIndices&&e.data.length===r.rowIndices.length){for(g=0,m.length=c.hidden.length,m.fill(0),S=0;S<r.rowIndices.length;S++)m[r.rowIndices[S]]=e.data[g++];e.data=m.concat()}u.addColumn(e,t.ROLE_FREQ)}switch(o(a,u,c,r),n(a,"isContingency")&&(null===u.getColumn(t.ROLE_X)?e?(r.overlayTerm=JMP.Term([e]),e=void 0,r.singleDimensionalContingencyMosaic=!0):i=r:(e=u.getColumn(t.ROLE_X),i&&(i.overlayTerm=JMP.Term([e]),r.singleDimensionalContingencyMosaic=!0))),d&&(r.isGraphBuilderMosaic=!0),a.getAttribute("labeling")){case"count":r.labeling=p.LABELING_COUNT;break;case"value":r.labeling=p.LABELING_VALUE;break;case"percent":r.labeling=p.LABELING_PERCENT;break;case"rowLabel":r.labeling=p.LABELING_ROW_LABEL;break;default:r.labeling=p.LABELING_NONE}h=JMP.ParserStatic.getDescendant(a,"ValueLabelFormat"),h&&(r.valueLabelFormat=JMP.ParserStatic.getFormat(h))},a}(),JMP.CanvasParallelAxisSegmentStatic=function(){"use strict";let e={},{setNumber:t,setColumnsAndRowStates:i,setBoolean:a,setLineStyle:n,setString:l}=JMP.ParserStatic;return e.parse=function(e,s,o,r){JMP.CanvasSegmentStatic.parse(e,s,o),t(e,"numberOfColumns",s),t(e,"alpha",s),t(e,"lineWidth",s),l(e,"lineColor",s),n(e,"lineStyle",s),a(e,"isCommonAxis",s);let c=JMP.ParserStatic.getAncestorWithAttribute(e,"baseTextColor");c&&(s.labelColor=c.getAttribute("baseTextColor"));let d=JMP.ParserStatic.getDescendants(e,"ScaleBox",!0),u=[];for(let e=0;e<d.length;e++)u.push(JMP.CanvasSegmentStatic.parseScale(d[e]));u.length>0&&(s.parallelAxisScales=u);let h=new JMP.Columns;i(e,h,o,s),r&&r.parentNode.hasAttribute("subsetRowIndices")&&(s.subsetRowIndices=r.parentNode.getAttribute("subsetRowIndices").split(",").map(Number));const g=JMP.ParserStatic.getAncestor(e,"FrameBox"),S=JMP.ParserStatic.getDescendant(g,"PolylineSegment");if(S){let e=JMP.ParserStatic.getLinked(S,JMP.ParserStatic.STORAGE_SEGMENTS);e&&(e.parallelAxisSegment=s)}l(g,"fillColor",s,"backgroundColor")},e}(),JMP.CanvasPackedBarSegmentStatic=function(){"use strict";const e={},{setBoolean:t,setArray:i,setString:a,setNumber:n,setFontSize:l,setFontFamily:s}=JMP.ParserStatic;return e.parse=(e,o,r)=>{o.rowStates=r;const c=JMP.ParserStatic.getAncestor(e,"FrameBox");switch(a(c,"fillColor",o,"backgroundColor"),JMP.CanvasSegmentStatic.parse(e,o,r),t(e,"isHorizontal",o),t(e,"arePrimaryLabelsInterior",o),n(e,"packedLabelingY",o),l(e,"primaryFontSize",o),l(e,"secondaryFontSize",o),l(e,"labelFontSize",o,"labelFontSize",13),a(e,"packedPlacement",o),a(e,"packedColoring",o),i(e,"hoverLabels",o,"hoverLabels",!0),i(e,"packedLabels",o,"packedLabels",!0),o.packedLabels=o.packedLabels.map((e=>e?.replace(/&#x2028;/g,JMP.LINE_SEPARATOR))),i(e,"packedBarLevels",o,"primaryBars",!0),i(e,"extraY0",o,"varyGrayByY",!0),i(e,"drawingOrder",o,"drawingOrder",!0),i(e,"legendSubItems",o,"legendSubItems",!0),i(e,"yVec",o,"yBarPosition",!0),i(e,"labelY",o,"labelY",!0),e.getAttribute("labeling")){case"value":o.labeling=JMP.BarSegmentStatic.LABELING_VALUE;break;case"percent":o.labeling=JMP.BarSegmentStatic.LABELING_PERCENT;break;case"rowLabel":o.labeling=JMP.BarSegmentStatic.LABELING_ROW_LABEL;break;default:o.labeling=JMP.BarSegmentStatic.LABELING_NONE}o.labeling!==JMP.BarSegmentStatic.LABELING_NONE&&i(e,"labelIndex",o,"labels"),s(e,"fontFamily",o),l(e,"fontSize",o),a(e,"fontWeight",o),a(e,"fontColor",o),e.hasAttribute("fillColors")&&(o.fillColors=e.getAttribute("fillColors").split(","));const d={};let u="groupIndices";i(e,u,d,u,!0),u="groupStartsEnds",i(e,u,d,u,!0);const{groupIndices:h,groupStartsEnds:g}=d;if(h&&g)for(let e=0;e<g.length-1;e++)o.rowIndices[e]=h.slice(g[e],g[e+1]);i(e,"levelBounds",d,"rects",!0),o.levelBounds=[];for(let e=0;e<d.rects.length/4;e++){const t={min:{x:0,y:0},max:{x:0,y:0}};t.min.x=d.rects[4*e+0],t.min.y=d.rects[4*e+1],t.max.x=d.rects[4*e+2],t.max.y=d.rects[4*e+3],o.levelBounds.push(t)}},e}(),JMP.CanvasPolylineSegmentStatic=function(){"use strict";let e={},{addColumns:i,setColumnsAndRowStates:a,setArray:n,getArray:l,setBoolean:s,setLineStyle:o,setNumber:r,setString:c}=JMP.ParserStatic;return e.parse=function(e,d,u,h){JMP.CanvasSegmentStatic.parse(e,d,u,h),s(e,"isUsingParallelSets",d),s(e,"drawCategoricalAsContinuous",d),s(e,"isUsingCurves",d),r(e,"numberOfColumns",d),r(e,"alpha",d),r(e,"lineWidth",d),c(e,"lineColor",d),o(e,"lineStyle",d),r(e,"sizeMin",d),r(e,"sizeMax",d),r(e,"smoothness",d),r(e,"totalSetWidth",d),n(e,"coordsIndex",d,"coords"),n(e,"Color",d,"colorData",!0),n(e,"Size",d,"sizeData",!0),d.nCategories=l(e,"numberOfCategories",!1).map(Number);const g=JMP.ParserStatic.getAncestor(e,"FrameBox");c(g,"fillColor",d,"backgroundColor");let S=JMP.ParserStatic.getDescendant(e,"Sections");if(S){let t=JMP.ParserStatic.getDescendants(S,"Section"),i=t.length;d.sections=new Array(i),d.sectionColors=new Array(i);for(let e=0;e<i;e++)d.sections[e]={},c(t[e],"fillColor",d.sections[e]),n(t[e],"rowsIndex",d.sections[e],"rowIndices");let a=JMP.ParserStatic.getDescendant(e,"Shapes");a&&(n(a,"pathLengthsIndex",d,"sectionPathLengths"),n(a,"xValuesIndex",d,"sectionXValues"),n(a,"yValuesIndex",d,"sectionYValues"),n(a,"pointTypesIndex",d,"sectionPointTypes"))}let m=JMP.ParserStatic.getDescendant(e,"Columns"),f=JMP.ParserStatic.getDescendants(m,"ParallelColumn"),T=f.length;d.sectionWidths=new Array(T),d.catValueWidths=new Array(T),d.catLabels=new Array(T);for(let e=0;e<T;e++){let t=f[e],i=t.getAttribute("widths");if(d.sectionWidths[e]=i?i.split(",").map(Number):[],t.hasAttribute("catValueWidths")){let i=t.getAttribute("catValueWidths");d.catValueWidths[e]=i?i.split(",").map(Number):[]}d.catLabels[e]=t.getAttribute("labels").split(JMP.DELIMITER).map(JMP.ParserStatic.replaceEncodedHTMLCharacters)}let p=JMP.ParserStatic.getDescendant(g,"ParallelAxisSegment");d.parallelAxisSegment=JMP.ParserStatic.getLinked(p,JMP.ParserStatic.STORAGE_SEGMENTS);let E=new JMP.Columns;i(e,"X",E,t.ROLE_X),i(e,"Y",E,t.ROLE_Y),i(e,"LabeledColumn",E,t.ROLE_LABEL),a(e,E,u,d),n(e,"LabelXOffset",d,"xOffset",!0),n(e,"LabelYOffset",d,"yOffset",!0),n(e,"LabelXPosition",d,"xLabelPosition",!0),n(e,"LabelYPosition",d,"yLabelPosition",!0),e.hasAttribute("groupRowIndices")&&(d.groupRowIndices=e.getAttribute("groupRowIndices").split(",").map(Number))},e}(),JMP.CanvasPolySegmentStatic=function(){"use strict";let e={},t=JMP.ParserStatic.setEnum,i=JMP.ParserStatic.setArray,a=JMP.ParserStatic.setNumber,n=JMP.ParserStatic.setString;return e.parse=function(e,l,s,o){let r,c,d;if(JMP.CanvasSegmentStatic.parse(e,l,s,o),n(e,"fillColor",l),t(e,"fillPattern",JMP.ViewStatic.FILL_PATTERN,l),l.alpha*=+e.getAttribute("alpha"),e.hasAttribute("outlineWidth")&&(n(e,"outlineColor",l),a(e,"outlineWidth",l),l.outlineStyle=e.hasAttribute("outlineStyle")?JMP.ParserStatic.getLineStyle(e.getAttribute("outlineStyle")):JMP.LineSegmentStatic.PATTERN_SOLID),i(e,"XPos",l,"XPos",!0),i(e,"YPos",l,"YPos",!0),r=new JMP.Columns,l.columns=r,o)if("AreaSegment"===e.nodeName)switch(l.columns.setRowStates(s,l.onRowStatesEvent),c=JMP.ParserStatic.getAncestor(e,"FrameBox"),d=JMP.ParserStatic.getLinked(c,JMP.ParserStatic.STORAGE_SEGMENTS),d.columns.setRowStates(s,d.onRowStatesEvent),o.getAttribute("missingFactors")){case"zero":l.missingFactors=JMP.ViewStatic.MISSING_FACTORS_ZERO;break;case"missing":l.missingFactors=JMP.ViewStatic.MISSING_FACTORS_MISSING;break;default:l.missingFactors=JMP.ViewStatic.MISSING_FACTORS_SKIP}else if("contour"===o.getAttribute("kind")){l.type=JMP.PolySegmentStatic.TYPE_VIOLIN_PLOT,l.columns.setRowStates(s,l.onRowStatesEvent),c=JMP.ParserStatic.getAncestor(e,"FrameBox"),d=JMP.ParserStatic.getLinked(c,JMP.ParserStatic.STORAGE_SEGMENTS),d.columns.setRowStates(s,d.onRowStatesEvent);const t={};let a="groupIndices";i(e,a,t,a,!0),a="groupStartsEnds",i(e,a,t,a,!0);const{groupIndices:n,groupStartsEnds:o}=t;if(n&&o)for(let e=0;e<o.length-1;e++)l.rowIndices=n.slice(o[e],o[e+1])}else"ellipse"===o.getAttribute("kind")?l.type=JMP.PolySegmentStatic.TYPE_ELLIPSE_PLOT:l.type=JMP.PolySegmentStatic.TYPE_REGRESSION_CONFIDENCE_BAND},e}(),JMP.CanvasProfilerCategoricalResponseAxisBoxStatic=function(){"use strict";let e={},i=JMP.ParserStatic.setNumber;return e.parse=function(e,a,n){let l,s,o;JMP.CanvasSegmentStatic.parse(e,a),i(e,"padBefore",a,"padBefore",0),i(e,"padAfter",a,"padAfter",0),i(e,"width",a,"width",0),i(e,"height",a,"height",0),l=JMP.ParserStatic.getAncestor(e,"ScaleBox","id",e.getAttribute("YScaleID")),s=[];const r=l.getAttribute("tickLabelIndices").split(","),c=r.length;for(let e=0;e<c;e++)s.push(JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,+r[e]));if(o=JSON.parse(l.getAttribute("tickSpans")),a.scale[t.ROLE_Y]=JMP.CanvasSegmentStatic.parseScale(l,undefined,s,undefined,o,undefined,n,!1),a.fontSize=JMP.adjustFontSize(+e.getAttribute("fontSize")),e.hasAttribute("fontSizes")){a.fontSizes=[];let t=e.getAttribute("fontSizes").split(",");for(let e=0;e<t.length;e++)a.fontSizes.push(JMP.adjustFontSize(+t[e]));a.fontSize=a.fontSizes[0]}JMP.ParserStatic.setFontFamily(e,"fontFamily",a)},e}(),JMP.CanvasProfileSegmentStatic=function(){"use strict";let e={},n=JMP.ParserStatic.setNumber,l=0,s=function(e,t,i){return e.getAttribute("xVisibleTermIndices").split(",").map(JMP.ParserStatic.mapNumber)[t/i>>0]},r=function(e){const t=e.childNodes;for(let e=0;e<t.length;e++)if(t[e].nodeType!==window.Node.TEXT_NODE){if("apply"!==t[e].nodeName){let i=document.createElement("apply");return i.appendChild(t[e]),i}return t[e]}return null};return e.terms=[],e.parse=function(e,c){let d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M=[],y=function(e){let i,a,l,s,o={};if(i=(new window.DOMParser).parseFromString(e,"text/xml").firstChild,o.name=i.getAttribute("name"),o.min=+i.getAttribute("min"),o.max=+i.getAttribute("max"),o.dataLevel=JMP.ParserStatic.getDataLevel(i.getAttribute("dataLevel")),o.isStringData="character"===i.getAttribute("type"),o.type=o.isStringData?t.TYPE_STRING:t.TYPE_NUMBER,i.hasAttribute("valueLabels")&&(a=JMP.ParserStatic.replaceEncodedHTMLCharacters(i.getAttribute("valueLabels")),a=a.replace(/&quot;/g,'"'),o.valueLabels=JSON.parse(a)),i.hasAttribute("charLevels")&&(l=i.getAttribute("charLevels").split(JMP.DELIMITER).map(JMP.ParserStatic.replaceEncodedHTMLCharacters),o.charLevels=l.map(o.isStringData?JMP.ParserStatic.mapString:JMP.ParserStatic.mapNumber)),"XTerm"===i.nodeName)s=i.getAttribute("initialValue"),o.isStringData?o.initialValue=null===s?"":s:o.initialValue="."===s||""===s?null:+s,o.locked="true"===i.getAttribute("locked"),o.xFormat=JMP.ParserStatic.getFormat(i),i.hasAttribute("mixtureSum")&&(n(i,"mixtureSum",o),n(i,"mixtureLower",o),n(i,"mixtureUpper",o));else{o.formulaDOM=[],o.yFormat=JMP.ParserStatic.getFormat(i),o.numResponses=i.hasAttribute("numResponses")?+i.getAttribute("numResponses"):void 0;for(let e=0;e<i.childNodes.length;e++){const t=i.childNodes[e];"math"===t.nodeName?o.formulaDOM[e]=r(t):"ciwidth"===t.nodeName?o.ciWidthDOM=r(t.childNodes[0]):"ciupper"===t.nodeName?o.ciUpperDOM=r(t.childNodes[0]):"cilower"===t.nodeName?o.ciLowerDOM=r(t.childNodes[0]):"linkfunc"===t.nodeName?o.linkfuncDOM=r(t.childNodes[0]):"unlinkfunc"===t.nodeName?o.unlinkfuncDOM=r(t.childNodes[0]):"piupper"===t.nodeName?o.piUpperDOM=r(t.childNodes[0]):"pilower"===t.nodeName&&(o.piLowerDOM=r(t.childNodes[0]))}}return o};JMP.CanvasSegmentStatic.parse(e,c),c.id=l,m=JMP.ParserStatic.getAncestor(e,"FrameBox"),n(m,"lineWidthScale",c),M=[];const C=JMP.ReportStatic.currentProfiler();if(E=s(e,l,C.nyVars),c.profilerController=C,JMP.CanvasProfileSegmentStatic.terms[E]||(JMP.CanvasProfileSegmentStatic.terms[E]=y(JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,E))),b=JMP.CanvasProfileSegmentStatic.terms[E],M[E]=new a(b.charLevels||[b.initialValue],b.name,b.type,b.dataLevel,b.xFormat,b.valueLabels),C.xRefVars[E])T=C.xRefVars[E];else{let e=b.xFormat;e&&!JMP.FormatStatic.isFixed(e)||(e=Object.assign({},e),e.formatName=JMP.FormatStatic.FORMAT_BEST,e.fieldWidth=9,e.nDecimals=-1),T=new i(b.initialValue,b.name,b.type,e),C.xRefVars[E]=T}if(c.setXReferenceVariable(T,b.locked,b.charLevels),c.xMin=b.min,c.xMax=b.max,b.mixtureSum?(A=b.mixtureSum,C.xMixtures[E]=!0):C.xMixtures[E]=!1,C.xLocks[E]=b.locked,C.xFirsts[E]=b.mixtureLower,C.xLasts[E]=b.mixtureUpper,L=document.getElementById("input_"+C.mappingId+"_"+E),b.charLevels)for(L.removeChild(L.firstChild),N=document.createElement("SELECT"),N.className="profilerSelect",L.insertBefore(N,L.firstChild),d=0;d<b.charLevels.length;d++){const e=null===b.charLevels[d]||""===b.charLevels[d]?JMP.ModelStatic.TIP_MISSING:M[E].getValueString(b.charLevels[d]);L.firstChild.add(new Option(e,null===b.charLevels[d]?".":b.charLevels[d],b.charLevels[d]===b.initialValue))}const R=e.getAttribute("xTermIndices").split(",").map(JMP.ParserStatic.mapNumber);for(h=R.length,d=0;d<h;d++)if(p=R[d],p!==E){if(JMP.CanvasProfileSegmentStatic.terms[p]||(JMP.CanvasProfileSegmentStatic.terms[p]=y(JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,p))),b=JMP.CanvasProfileSegmentStatic.terms[p],b.mixtureSum?(A=b.mixtureSum,C.xMixtures[p]=!0):C.xMixtures[p]=!1,C.xLocks[p]=b.locked,C.xFirsts[p]=b.mixtureLower,C.xLasts[p]=b.mixtureUpper,C.xRefVars[p])T=C.xRefVars[p];else{let e=b.xFormat;e&&!JMP.FormatStatic.isFixed(e)||(e=Object.assign({},e),e.formatName=JMP.FormatStatic.FORMAT_BEST,e.fieldWidth=9,e.nDecimals=-1),T=new i(b.initialValue,b.name,b.type,e),C.xRefVars[p]=T}M[p]||(C.xMixtures[p]?M[p]=new a(b.charLevels||[b.initialValue],b.name,b.type,b.dataLevel):M[p]=T)}p=function(e,t,i){return e.getAttribute("yTermIndices").split(",").map(JMP.ParserStatic.mapNumber)[t%i>>0]}(e,l,C.nyVars),JMP.CanvasProfileSegmentStatic.terms[p]||(JMP.CanvasProfileSegmentStatic.terms[p]=y(JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,p))),b=JMP.CanvasProfileSegmentStatic.terms[p],c.isCategoricalResponse=void 0!==b.numResponses;const v=c.isCategoricalResponse?b.numResponses:1;for(let e=0;e<v;e++)f=JMP.MathParser(M),f.setMathDOM(b.formulaDOM[e]),f.id=l,c.addYFunction(f);if(b.ciUpperDOM&&(c.yCiUpper=JMP.MathParser(M),c.yCiUpper.setMathDOM(b.ciUpperDOM)),b.ciLowerDOM&&(c.yCiLower=JMP.MathParser(M),c.yCiLower.setMathDOM(b.ciLowerDOM)),b.ciWidthDOM&&(c.yCIWidth=JMP.MathParser(M),c.yCIWidth.setMathDOM(b.ciWidthDOM)),b.linkfuncDOM&&(c.linkFunc=JMP.MathParser([new a([],"x")]),c.linkFunc.setMathDOM(b.linkfuncDOM)),b.unlinkfuncDOM&&(c.unlinkFunc=JMP.MathParser([new a([],"x")]),c.unlinkFunc.setMathDOM(b.unlinkfuncDOM)),b.piUpperDOM&&(c.yPiUpper=JMP.MathParser(M),c.yPiUpper.setMathDOM(b.piUpperDOM)),b.piLowerDOM&&(c.yPiLower=JMP.MathParser(M),c.yPiLower.setMathDOM(b.piLowerDOM)),T=new a([0],b.name,t.TYPE_NUMBER),C.yRefVars[p]=T,f.setInputVariables(M.concat(C.yRefVars)),c.setYReferenceVariable(T),c.columns=new JMP.Columns,c.addColumn(M[E],t.ROLE_X),C.xMixtures.includes(!0)){_=new o(M,void 0,void 0,E),_.setReferenceVariables(C.xRefVars),_.setMixture(C.xMixtures,C.xFirsts,C.xLasts,C.xLocks,A),c.setConstraint(_),I="profileMixtureApply_"+C.mappingId;const e=document.getElementById(I);e.disabled||(e.disabled=!0,JMP.EventFacadeStatic.addEventListener(e,C.onApplyMixtureVariables,void 0,!1),JMP.TooltipStatic.addTooltipListener(e,[JMP.ProfileControllerStatic.TIP_APPLY_MIXTURE.replace("^SUM",A.toString())]),JMP.EventFacadeStatic.addEventListener(e,JMP.ControlStatic.buttonListener))}x=c.scale[t.ROLE_Y],x.refFormat=b.yFormat,S=JMP.ParserStatic.getStorage(JMP.ParserStatic.STORAGE_SEGMENTS),h=S.length;const w=c.isConfidenceIntervalAvailable(),O=c.isPredictionIntervalAvailable(),P=2+(w?2:0)+(O?2:0);for(u=0;u<h;u++)if((void 0!==S[u].isRange||void 0!==S[u].isCategoricalProfilerAxis)&&S[u].scale[t.ROLE_Y]===x&&(C.yAxes.includes(S[u])||C.yAxes.push(S[u]),c.yAxis=S[u],!w&&P<c.yAxis.contents.length&&(c.yAxis.contents.splice(2,2),c.yAxis.labelLayout[1]=P-1),P<c.yAxis.contents.length&&(c.yAxis.contents.splice(P),c.yAxis.labelLayout[1]=P-1),O&&c.yAxis.contents.length<P)){const e=c.yAxis.contents[c.yAxis.contents.length-1];c.yAxis.contents.push(Object.assign({},e)),c.yAxis.labelLayout[1]=P-1}L&&L.firstChild&&(JMP.EventFacadeStatic.addEventListener(L.firstChild,C.onReferenceVariableEdit,void 0,!1),I="profileEdit_"+C.mappingId+"_"+E,JMP.TooltipStatic.addTooltipListener(document.getElementById(I),[JMP.ProfileControllerStatic.TIP_EDIT]),JMP.EventFacadeStatic.addEventListener(document.getElementById(I),(function(e){let t,i,a=JMP.ProfileControllerStatic.getProfileSegmentFromControl(C,I);JMP.ControlStatic.isButtonActionEvent(e)&&(i=e.pointerTarget||e.target,i.className=i.className.replace("buttonDown","buttonUp"),g=JMP.ProfileControllerStatic.getVariableFormat(C,C.profiles.indexOf(a)),t=JMP.FormatStatic.toFields(g),t.value=JMP.ProfileControllerStatic.getReferenceValue(C,E),t.use24HourClock=!JMP.FormatStatic.isDateTime(g)||g.use24HourClock,!t.hasAMPM&&t.use24HourClock||(t.AMDesignator=g.AMDesignator,t.PMDesignator=g.PMDesignator),t.hasDegrees&&(t.isLatitude=JMP.FormatStatic.isLatitude(g),t.nDecimals=g.nDecimals),JMP.FormatDialogStatic.onShow(e,t,(function(e,t){JMP.ProfileControllerStatic.getProfileSegmentFromControl(C,t.id).setXReferenceValue(e,!0)})))}),void 0,!1)),l++},e.createProfilerController=function(e,t){let i,a,s,o,r,c;if(l=0,o=JMP.ProfileController(t),o.mappingId=+e.getAttribute("mappingId"),o.setAdaptYAxis("true"===e.firstChild.getAttribute("adaptYAxis")),n(e.firstChild,"xTermsPerRow",o),n(e.firstChild,"nYTerms",o,"nyVars"),n(e.firstChild,"nXTerms",o,"nxVars"),r=JMP.ParserStatic.getDescendant(e,"RememberedSettings"),r)for(c=r.childNodes,s=c.length,a=0;a<s;a++)i=c[a].getAttribute("values").split(","),o.addSetting(i);return JMP.EventFacadeStatic.addEventListener(t,o.onPointerEvent),JMP.ParserStatic.setLinked(e.childNodes[1],JMP.ParserStatic.STORAGE_SEGMENTS,o),o},e.adjustProfilerLayout=function(e,t,i){let a,n,l,s,o,r;if("FrameBox"===i.nodeName&&(n=JMP.ParserStatic.getAncestor(i,"PictureBox"),n&&"ProfileController"===n.firstChild.nodeName))for(l=+n.firstChild.getAttribute("nYTerms"),s=n.firstChild.hasAttribute("xTermsPerRow")?+n.firstChild.getAttribute("xTermsPerRow"):+n.firstChild.getAttribute("nXTerms"),a=0;a<t.contents.length;a++)t.contents[a].yAxis&&(o=Math.floor(t.contents[a].id/(s*l)),o>0&&(1!==l&&t.contents[a].id%l!=0||(r=(JMP.ProfileControllerStatic.PROFILE_CANVAS_ARRANGE_IN_ROWS_PADDING+(void 0!==t.contents[a].getConstraint()?JMP.ProfileControllerStatic.PROFILE_CANVAS_CONSTRAINT_PADDING:0))*o-1,t.y+=r,e+=r),t.contents[a].yAxis.y=t.y+t.contents[a].yAxis.padTop));return e},e.createProfilerControls=function(e,t,i,a){let n,l,o,r,c,d,u=-1,h=[],g=JMP.ParserStatic.getDescendants(e,"ProfileSegment",!0),S=!1,m=JMP.ControlStatic.createButton;for(l=g.length,t.parentNode.style.position="relative",n=0;n<l;n++)u=s(g[n],n,a),h.includes(u)||(o=JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_INFO,u),h.push(u),o.includes("mixtureSum")&&(S=!0));for(S&&(r=JMP.ParserStatic.createElement("DIV","",t.parentNode),r.style.position="absolute",m(r,void 0,void 0,"buttonUp","profileMixtureApply_"+i)),n=0;n<h.length;n++)r=JMP.ParserStatic.createElement("DIV","",t.parentNode),r.style.position="absolute",c=JMP.ParserStatic.createElement("DIV","profilerInputContainer text",r,"input_"+i+"_"+h[n]),c.setAttribute("variableIndex",h[n]),d=JMP.ParserStatic.createElement("INPUT","profilerInput",c),d.setAttribute("type","text"),m(c,void 0,void 0,"profilerEditButton hidden","profileEdit_"+i+"_"+h[n]),m(r,void 0,void 0,"square segmentFirst buttonDown profilerLockButton hidden","profileUnlocked_"+i+"_"+h[n],JMP.ProfileControllerStatic.SRC_UNLOCKED),m(r,void 0,void 0,"square segmentLast buttonUp profilerLockButton hidden","profileLocked_"+i+"_"+h[n],JMP.ProfileControllerStatic.SRC_LOCKED)},e}(),JMP.CanvasRectSegmentStatic=function(){"use strict";let e={},i=[],{getDescendant:a,getFormat:n,setArray:l,setBoolean:s,setEnum:o,addColumns:r,setNumber:c,setString:d,setFontSize:u,setFontFamily:h,setColumnsAndRowStates:g}=JMP.ParserStatic;return e.parse=function(e,S,m,f){let T;JMP.CanvasSegmentStatic.parse(e,S,m,f);const p=f?.parentNode;switch(e===a(p,"RectSegment")&&(i=[]),l(e,"rectsIndex",S,"rects"),l(e,"labelsIndex",S,"labels"),c(e,"alpha",S),o(e,"fillPattern",JMP.ViewStatic.FILL_PATTERN,S),c(e,"maxLabelSize",S),d(e,"labelFontWeight",S),u(e,"labelFontSize",S),h(e,"labelFontFamily",S),e.getAttribute("labeling")){case"value":S.labeling=JMP.RectSegmentStatic.LABELING_VALUE;break;case"percent":S.labeling=JMP.RectSegmentStatic.LABELING_PERCENT;break;default:S.labeling=JMP.RectSegmentStatic.LABELING_NONE}s(e,"isLabelFormatCustomized",S),c(e,"lineWidth",S),d(e,"lineColor",S),T=new JMP.Columns,r(e,"X",T,t.ROLE_X),r(e,"Y",T,t.ROLE_Y),r(e,"LabeledColumn",T,t.ROLE_LABEL),l(e,"Color",S,"colorData",!0),l(e,"FillColors",S,"fillColors",!0);const E=a(e,"ValueLabelFormat");E&&(S.valueLabelFormat=n(E)),g(e,T,m,S),f&&("heatmap"!==f.getAttribute("kind")&&(S.columns.rowStates.removeEventListener(S.onRowStatesEvent),S.columns.rowStates=void 0),S.heatmapScalesMap=i)},e}(),JMP.CanvasSegmentStatic=function(){"use strict";let e={},{getBoolean:i,setBoolean:a,setArray:n,setNumber:l,setString:s,getColumn:o,setNumericArray:d}=JMP.ParserStatic;return e.scales=[],e.scaleBoxes=[],e.parseScale=function(t,i,a,n,o,c,d,u){let h,g,S,m,f,T,p,E,b=null,A=r.SCALE_LINEAR;if(t){if(T=e.scaleBoxes.indexOf(t),T>=0&&(b=e.scales[T],i&&b.labels&&!JMP.ModelStatic.isDeeplyEqual(i,b.labels)||a&&b.tickLabels&&!JMP.ModelStatic.isDeeplyEqual(a,b.tickLabels)||n&&b.tickOrigins&&!JMP.ModelStatic.isDeeplyEqual(n,b.tickOrigins)||o&&b.tickSpans&&!JMP.ModelStatic.isDeeplyEqual(o,b.tickSpans)||c&&b.tickTotals&&!JMP.ModelStatic.isDeeplyEqual(c,b.tickTotals)||d&&b.axisLabel&&d!==b.axisLabel||void 0!==u&&void 0!==b.isOrdinal&&u!==b.isOrdinal?b=null:(i&&(b.labels=i.slice(0)),a&&(b.tickLabels=a.slice(0)),n&&(b.tickOrigins=n.slice(0)),o&&(b.tickSpans=o.slice(0)),c&&(b.tickTotals=c.slice(0)),d&&(b.axisLabel=d),void 0!==u&&(b.isOrdinal=u))),null===b){if(t.hasAttribute("type"))switch(t.getAttribute("type")){case"log":A=r.SCALE_LOG;break;case"normal":A=r.SCALE_NORMAL;break;case"geodesic":A=r.SCALE_GEODESIC;break;case"geodesicUS":A=r.SCALE_GEODESIC_US;break;case"power":A=r.SCALE_POWER;break;default:A=r.SCALE_LINEAR}if(t.hasAttribute("refStyles"))for(h=t.getAttribute("refStyles").split(","),f=h.length,g=[],m=0;m<f;m++)g.push(JMP.ParserStatic.getLineStyle(h[m]));if(t.hasAttribute("refMaxValues"))for(p=t.getAttribute("refMaxValues").split(","),E=p.length,S=[],m=0;m<E;m++)""!==p[m]&&(S[m]=+p[m]);let T;if(t.hasAttribute("timeUnit"))switch(t.getAttribute("timeUnit")){case"year":T=r.TIME_YEAR;break;case"quarter":T=r.TIME_QUARTER;break;case"month":T=r.TIME_MONTH;break;case"week":T=r.TIME_WEEK;break;case"day":T=r.TIME_DAY;break;case"hour":T=r.TIME_HOUR;break;case"minute":T=r.TIME_MINUTE;break;case"second":T=r.TIME_SECOND}b=new r(t.hasAttribute("origin")?+t.getAttribute("origin"):void 0,t.hasAttribute("width")?+t.getAttribute("width"):void 0,A,JMP.ParserStatic.getFormat(t),t.hasAttribute("widthMajor")?+t.getAttribute("widthMajor"):void 0,t.hasAttribute("nMinor")?+t.getAttribute("nMinor"):void 0,T,t.hasAttribute("refValues")?t.getAttribute("refValues").split(",").map(Number):void 0,S,t.hasAttribute("refColors")?t.getAttribute("refColors").split(","):void 0,g,t.hasAttribute("refWidths")?t.getAttribute("refWidths").split(",").map(Number):void 0,t.hasAttribute("refAlphas")?t.getAttribute("refAlphas").split(",").map(Number):void 0,t.hasAttribute("refLabels")?t.getAttribute("refLabels").split(JMP.DELIMITER):void 0,t.hasAttribute("refLabelSizes")?t.getAttribute("refLabelSizes").split(",").map(JMP.adjustFontSize):void 0,t.hasAttribute("refLabelColors")?t.getAttribute("refLabelColors").split(","):void 0,t.hasAttribute("refLabelFonts")?t.getAttribute("refLabelFonts").split(","):void 0,t.hasAttribute("base")?+t.getAttribute("base"):void 0,t.hasAttribute("power")?+t.getAttribute("power"):void 0,i?i.slice(0):void 0,a?a.slice(0):void 0,n?n.slice(0):void 0,o?o.slice(0):void 0,c?c.slice(0):void 0,d,u,t.hasAttribute("minInit")?+t.getAttribute("minInit"):void 0,t.hasAttribute("maxInit")?+t.getAttribute("maxInit"):void 0,t.hasAttribute("isContinuous")?t.getAttribute("isContinuous"):void 0);let _=[],x=null;for(x=JMP.ParserStatic.getAncestor(t,"OutlineBox");x;){let e=x.hasAttribute("title")?'"'+x.getAttribute("title")+'"':"";_.unshift(e),x=JMP.ParserStatic.getAncestor(x.parentNode,"OutlineBox")}b.outlineNodes=_,l(t,"id",b),s(t,"mappingId",b),e.scales.push(b),e.scaleBoxes.push(t)}return b}},e.parse=function(u,h,g,S){let m,f,T,p,E,b,A,_,x=0,L=0;h&&(T=JMP.ParserStatic.getNearestDescription(u),T&&(h.description=T),s(u,"elementId",h),a(u,"isHorizontal",h,"isHorizontal",!1),m=JMP.ParserStatic.getAncestor(u,"FrameBox"),m&&(x=m.getAttribute("XScaleID"),L=m.getAttribute(m.hasAttribute("rightYScaleID")&&i(u,"isScaledByRightYAxis")?"rightYScaleID":"YScaleID"),"0"===x&&m.hasAttribute("XSizeID")&&(x=m.getAttribute("XSizeID")),"0"===L&&m.hasAttribute("YSizeID")&&(L=m.getAttribute("YSizeID")),s(m,"fillSelectionMode",h)),h.fillSelectionMode===JMP.ViewStatic.FILL_SELECTION_MODE.DARKER?h.getFillSelectionStyle=c.getSelectedColor:h.getFillSelectionStyle=JMP.ViewStatic.getSelectionPatternFillStyle,"0"!==x&&(f=JMP.ParserStatic.getAncestor(u,"ScaleBox","id",x),f&&(h.scale[t.ROLE_X]=e.parseScale(f))),"0"!==L&&(f=JMP.ParserStatic.getAncestor(u,"ScaleBox","id",L),f&&(h.scale[t.ROLE_Y]=e.parseScale(f))),f=JMP.ParserStatic.getDescendant(u,"ParallelScaling"),f&&(b=new r,A=new r,l(f,"fromOrigin",b,"origin"),l(f,"fromRange",b,"range"),l(f,"toOrigin",A,"origin"),l(f,"toRange",A,"range"),h.parallelScaling=JMP.Scaling(b,A.origin,A.range),a(f,"isForX",h,"isParallelScalingForX")),p=JMP.ParserStatic.getAncestor(u,"GraphBuilderComponentBox"),p||"LegendBox"===u.nodeName||(p=JMP.ParserStatic.getAncestor(u,"ControlChartBuilderComponentBox")),p&&(l(p,"x",h,"x",0),l(p,"y",h,"y",0),l(p,"width",h,"width",0),l(p,"height",h,"height",0),"ControlChartBuilderComponentBox"===p.nodeName&&JMP.ParserStatic.getDescendant(p,"HistogramSegment")&&"LineSegment"===u.nodeName&&19<p.getAttribute("y")&&(h.y+=19-p.getAttribute("y"))),E=JMP.ParserStatic.getAncestor(u,"OutlineBox","byValues"),E&&function(e,t,i){let a,n,l=[],s=[],r=t.getAttribute("byValues").split(JMP.DELIMITER),c=JMP.ParserStatic.getDescendants(t,"By");for(n=c.length,a=0;a<n;a++)l[a]=o(c[a]),s[a]=!1,r[a]=[l[a].getStringValue(r[a])];e.groupCalculation=JMP.Group(l,i,void 0,!0,r,s),e.groupCalculation.setExcludedUsed(!0),e.groupIndex=0}(h,E,g),JMP.CanvasLegendBoxStatic.setLegend(u,h),l(u,"legendOffset",h),JMP.ParserStatic.getAncestor(u,"DataFilterContextBox")&&JMP.DataFilterStatic.dataFilters&&JMP.DataFilterStatic.dataFilters[0].isFiltered()&&(_=JMP.ParserStatic.getAncestor(u,"DataFilterContextBox"),_=JMP.ParserStatic.getDescendant(_,"DataFilterBox"),a(_,"isSelectModified",h,"isSelectedUsed"),a(_,"isHideModified",h,"isHiddenUsed"),a(_,"isExcludeModified",h,"isExcludedUsed"),a(_,"isServerNeededForHide",h,"isServerNeededForHide")),d(u,"rowIndices",h,"rowIndices"),d(u,"subsetRowIndices",h,"subsetRowIndices"),n(S?.parentNode,"subsetIndex",h,"subsetRowIndices"),u.hasAttribute("colorStatistic")&&(h.colorStatistic=JMP.ParserStatic.getStatistic(u.getAttribute("colorStatistic"))),u.hasAttribute("sizeStatistic")&&(h.sizeStatistic=JMP.ParserStatic.getStatistic(u.getAttribute("sizeStatistic"))),e.setDataSetIndex(u,h))},e.setDataSetIndex=function(e,t){const i=e.childNodes;i&&i.forEach((e=>{e.hasAttribute&&e.hasAttribute("tableIndex")&&(t.dataSetIndex=+e.getAttribute("tableIndex"))}))},e}(),JMP.CanvasShapeSegmentStatic=function(){"use strict";let e={},{setArray:i,setNumber:a,setString:n,addColumns:l,setColumnsAndRowStates:s}=JMP.ParserStatic;return e.parse=function(e,o,r,c){let d,u,h,g;if(JMP.CanvasSegmentStatic.parse(e,o,r),n(e,"outlineColor",o),a(e,"lineWidth",o),a(e,"alpha",o),n(e,"absentFillColor",o),g=JMP.ParserStatic.getDescendant(e,"AbsentShapes"),g&&(i(g,"pathLengthsIndex",o,"absentPathLengths"),i(g,"xValuesIndex",o,"absentXValues"),i(g,"yValuesIndex",o,"absentYValues"),i(g,"pointTypesIndex",o,"absentPointTypes")),g=JMP.ParserStatic.getDescendant(e,"Shapes"),i(g,"pathLengthsIndex",o,"pathLengths"),i(g,"xValuesIndex",o,"xValues"),i(g,"yValuesIndex",o,"yValues"),i(g,"pointTypesIndex",o,"pointTypes"),e.hasAttribute("fillColors")&&(o.fillColors=e.getAttribute("fillColors").split(",")),e.hasAttribute("fillPatterns")&&(o.fillPatterns=e.getAttribute("fillPatterns").split(",").map((e=>Object.keys(JMP.ViewStatic.FILL_PATTERN).find((t=>JMP.ViewStatic.FILL_PATTERN[t]===e))))),c&&void 0!==o.elementId&&"shapes"===c.getAttribute("kind")){if(d=new JMP.Columns,s(e,d,r,o),i(e,"Color",o,"colorData",!0),l(e,"LabeledColumn",d,t.ROLE_LABEL),g=JMP.ParserStatic.getDescendant(e,"ShowLabels"),g)for(i(g,"index",o,"showLabels"),h=o.showLabels?o.showLabels.length:0,u=0;u<h;u++)o.showLabels[u]=1===o.showLabels[u];i(e,"LabelXPos",o,"labelXPos",!0),i(e,"LabelYPos",o,"labelYPos",!0),i(e,"SizeFactors",o,"sizeFactors",!0),i(e,"SizeXOffsets",o,"sizeXOffsets",!0),i(e,"SizeYOffsets",o,"sizeYOffsets",!0),i(e,"Size",o,"sizeData",!0)}},e}(),JMP.CanvasTableBoxStatic=function(){"use strict";let e={},{setBoolean:t,setNumber:i,setString:a}=JMP.ParserStatic;return e.parse=function(e,n,l){let s,o,r,c,d,u,h,g,S,m,f,T,p,E=function(e){let n={type:"LegendCell",shape:e.hasAttribute("shape")?JMP.ParserStatic.getMarkerShape(e.getAttribute("shape")):JMP.Marker.DOT};return t(e,"showFill",n,"showFill",!1),i(e,"width",n,"width",-1),t(e,"showMarker",n,"showMarker",!1),i(e,"size",n,"size",1),a(e,"color",n,"color",JMP.ViewStatic.getTextColor()),n},b=function(e){let t={type:"BarBox"};return i(e,"origin",t,"origin",0),i(e,"range",t,"range",1),i(e,"value",t,"value",.5),i(e,"lower",t),i(e,"upper",t),i(e,"width",t,"width",0),i(e,"cumulativeValue",t),t},A=function(e){let n,l=JMP.TextBoxStatic.ORIENTATION_HORIZONTAL;return e.hasAttribute("orientation")&&(l="left"===e.getAttribute("orientation")?JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT:"right"===e.getAttribute("orientation")?JMP.TextBoxStatic.ORIENTATION_VERTICAL_RIGHT:"slant"===e.getAttribute("orientation")?JMP.TextBoxStatic.ORIENTATION_SLANT:JMP.TextBoxStatic.ORIENTATION_HORIZONTAL),n={type:"TextBox",orientation:l},a(e,"text",n),i(e,"height",n,"height",0),i(e,"width",n,"width",0),a(e,"color",n,"color",JMP.COLOR_BLACK),t(e,"isBulleted",n,"isBulleted",!1),a(e,"align",n,"align","right"),t(e,"isHidden",n,"isHidden",!1),n},_=function(e){let t={type:e.nodeName,text:e.childNodes[0]?e.childNodes[0].nodeValue:""};return a(e,"style",t,"style",""),t};for(JMP.CanvasSegmentStatic.parse(e,n,l),r=e.childNodes.length,f=[],T=[],p=[],s=0;s<r;s++){for(d=e.childNodes[s],h=[],g=[],c=d.childNodes.length,o=0;o<c;o++)u=d.childNodes[o],g[o]=u.hasAttribute&&u.hasAttribute("colspan")?+u.getAttribute("colspan"):1,S=u.childNodes[0],m=S?S.nodeName:"","LegendCell"===m?h.push(E(S)):"BarBox"===m?h.push(b(S)):"TextBox"===m?h.push(A(S)):h.push(_(u));f.push(h),T[s]=g}n.cells=f,n.colSpan=T,n.rowSpan=p},e}(),JMP.CanvasTextBoxStatic=function(){"use strict";let e={},{htmlEscape:t,getBoolean:i,setBoolean:a,setFontFamily:n,setString:l,setNumber:s}=JMP.ParserStatic,o=JMP.TooltipStatic.addTooltipListener,r=function(e){let t,i,a=!1;for(t=e.childNodes.length,i=0;i<t&&!a;i++)a="AxisBox"===e.childNodes[i].nodeName;return a};return e.parse=function(e,t){let n,o;JMP.CanvasSegmentStatic.parse(e,t),(function(e){let t,a,n=!1;return t=e.parentNode,"BorderBox"===t.nodeName&&(t=t.parentNode,"DropBox"===t.nodeName&&(t=t.parentNode,"LineUpBox"===t.nodeName?n=r(t):"MouseBox"===t.nodeName&&(t=t.parentNode,"ListBox"===t.nodeName&&t.childNodes&&2===t.childNodes.length&&(a=t.childNodes[1],"ListBox"===a.nodeName?i(a,"isHorizontal")&&a.childNodes&&a.childNodes.length>=1&&(a=a.childNodes[0],"AxisBox"===a.nodeName&&(n=!0)):"ScaleBox"===a.nodeName&&a.childNodes&&a.childNodes.length>=1&&(a=a.childNodes[0],i(a,"isHorizontal")&&a.childNodes&&a.childNodes.length>=1&&(a=a.childNodes[0],a.childNodes&&a.childNodes.length>=2&&(a=a.childNodes[1],"AxisBox"===a.nodeName&&(n=!0)))))))),n}(e)||function(e){let t,i,a,n,l=!1;return n=function(){i=t.childNodes.length,i>=1&&"ListBox"===t.childNodes[0].nodeName&&(t=t.childNodes[0],l=r(t))},t=e.parentNode,"BorderBox"!==t.nodeName&&(t=t.parentNode.parentNode),"BorderBox"===t.nodeName&&(t=t.parentNode,"LineUpBox"===t.nodeName&&(t=t.parentNode,"ListBox"===t.nodeName&&(a=t,t=t.parentNode,"ListBox"===t.nodeName&&(l=r(t)),l||n(),l||(t=a,n())))),l}(e))&&e.setAttribute("width",1.1*parseInt(e.getAttribute("width"),10)>>0),n=e.parentNode.parentNode.previousSibling,o=e.parentNode.parentNode.nextSibling,"GraphBuilderTitleBox"===e.parentNode.nodeName&&e.parentNode.hasAttribute("role")&&"title"===e.parentNode.getAttribute("role")&&e.hasAttribute("align")?"center"===e.getAttribute("align")?t.horizontalAlignment=JMP.TextBoxStatic.ALIGNMENT_CENTER:"right"===e.getAttribute("align")?t.horizontalAlignment=JMP.TextBoxStatic.ALIGNMENT_RIGHT:"left"===e.getAttribute("align")&&(t.horizontalAlignment=JMP.TextBoxStatic.ALIGNMENT_LEFT):n&&"GraphBuilderComponentBox"===n.nodeName&&o&&"GraphBuilderComponentBox"===o.nodeName&&!e.hasAttribute("orientation")&&JMP.ParserStatic.getDescendantAny(n,["AxisBox","GraphBuilderTitleBox"])&&"GraphBuilderTitleBox"===e.parentNode.nodeName&&o.hasAttribute("y")&&+o.getAttribute("y")>t.y&&(t.horizontalAlignment=JMP.TextBoxStatic.ALIGNMENT_LEFT),l(e,"text",t);let c=JMP.ParserStatic.getAncestorWithAttribute(e,"baseTextColor");if(c&&l(c,"baseTextColor",t,"color"),l(e,"color",t),a(e,"isBulleted",t),a(e,"isHidden",t),e.hasAttribute("orientation")&&("left"===e.getAttribute("orientation")?t.orientation=JMP.TextBoxStatic.ORIENTATION_VERTICAL_LEFT:t.orientation=JMP.TextBoxStatic.ORIENTATION_VERTICAL_RIGHT),a(e,"isEditable",t),s(e,"wrapWidth",t),-1===t.wrapWidth&&(t.wrapWidth=void 0),JMP.ParserStatic.setFontFamily(e,"fontFamily",t),JMP.ParserStatic.setFontSize(e,"fontSize",t),l(e,"fontWeight",t),"GraphBuilderTitleBox"===e.parentNode.nodeName){const i=e.parentNode;if(i.hasAttribute("titleSpan")&&"Graph"===i.getAttribute("titleSpan")){const e=i.parentNode.parentNode;let a;for(let i=0;i<e.childNodes.length;i++)if(a=e.childNodes[i],a.firstChild&&"FrameBox"===a.firstChild.nodeName){t.x=+a.getAttribute("x"),t.width-=t.x;break}}}},e.parseTextNode=function(e){let i,a,l,s=!1,r=function(e,i,a){let n;a?(i=t(i),i=JMP.ParserStatic.htmlEncodeSelectTags(i),e.innerHTML=i):(n=document.createTextNode(i),e.appendChild(n))};if(a="",e.hasAttribute("text")&&(a=e.getAttribute("text")+" "),a.includes(JMP.LINE_SEPARATOR)&&(a=a.replace(new RegExp(JMP.LINE_SEPARATOR,"g"),"<br>"),s=!0),e.hasAttribute("isBulleted")&&"true"===e.getAttribute("isBulleted")&&(a=JMP.TextBoxStatic.addBullet(a)),e.hasAttribute("color")||e.hasAttribute("align")||e.hasAttribute("isFilled")||e.hasAttribute("isFramed")||e.hasAttribute("width")){i=JMP.ParserStatic.createElement("DIV");let t=JMP.ParserStatic.getAncestorWithAttribute(e,"baseTextColor");if(t&&t.hasAttribute("baseTextColor")&&(i.style.color=t.getAttribute("baseTextColor")),e.hasAttribute("color")&&(i.style.color=e.getAttribute("color")),e.hasAttribute("backgroundColor")&&(i.style.background=e.getAttribute("backgroundColor")),e.hasAttribute("align")?i.style.textAlign=e.getAttribute("align"):e.parentNode.hasAttribute("align")&&"center"===e.parentNode.getAttribute("align")?i.style.textAlign="center":i.style.textAlign="left",e.hasAttribute("isFilled")&&(i.style.backgroundColor=e.hasAttribute("fillColor")?e.getAttribute("fillColor"):"white"),e.hasAttribute("isFramed")&&(i.style.borderWidth="1px",i.style.borderColor=e.hasAttribute("color")?e.getAttribute("color"):"black",i.style.borderStyle="solid"),e.hasAttribute("width")&&i.setAttribute("fixedWidth",1.1*e.getAttribute("width")+"px"),n(e,"fontFamily",i.style,"fontFamily",null),e.hasAttribute("wrapWidth")){let t=JMP.adjustFontSize(e.getAttribute("fontSize"));if("-1"===e.getAttribute("wrapWidth")){i.style.whiteSpace="normal";let a=1.1;e.hasAttribute("fontSize")&&parseInt(t,10)<=8&&(a=12/e.getAttribute("fontSize")),i.style.width=a*e.getAttribute("width")+"px",i.style.fontSize=t+"px"}else i.style.width=1.1*e.getAttribute("width")+"px",i.style.fontSize=t+"px";i.style.wordWrap="normal"}if(e.hasAttribute("orientation")){let t=e.getAttribute("orientation");"left"===t?i.classList.add("tiltLeft"):"right"===t&&i.classList.add("tiltRight")}e.hasAttribute("disabled")&&i.classList.add("disabledText"),s=e.hasAttribute("hasMarkup")&&"true"===e.getAttribute("hasMarkup")||s,r(i,a,s)}else if(e.hasAttribute("disabled")||s){if(i=JMP.ParserStatic.createElement("DIV"),e.hasAttribute("disabled")){const t=e.parentNode.hasAttribute("align")&&"center"===e.parentNode.getAttribute("align");i.setAttribute("class",(t?"center":"left")+" disabledText")}r(i,a,s)}else i=document.createTextNode(a);return e.hasAttribute("id")&&(i.setAttribute("id",e.getAttribute("id")),JMP.ParserStatic.setLinked(e,"htmlNode",i)),l=JMP.ParserStatic.getNearestDescription(e),"TextBox"===e.nodeName&&"Graph Builder"===l||o(i,[l]),e.hasAttribute("isHidden")&&"true"===e.getAttribute("isHidden")&&i.setAttribute("class","hidden"),i},e}(),JMP.CanvasTextSegmentStatic=function(){"use strict";let e,t={},i=JMP.ParserStatic.setBoolean,a=JMP.ParserStatic.setNumber,n=JMP.ParserStatic.setString,l=JMP.ParserStatic.setFontFamily,s=JMP.ParserStatic.setFontSize;return t.parse=function(t,o){let r,c,d;JMP.CanvasSegmentStatic.parse(t,o),r=JMP.ParserStatic.getAncestor(t,"FrameBox"),t===JMP.ParserStatic.getDescendant(r,"TextSegment")&&(e=new Map),a(t,"xValue",o),a(t,"yValue",o),i(t,"isPercentX",o),i(t,"isPercentY",o),n(t,"text",o),o.text.includes("GMean")&&(o.text=o.text.replace("GMean",JMP.MomentsStatic.NAMES[JMP.MomentsStatic.STAT_GEOMETRIC_MEAN])),o.text=o.text.split(JMP.LINE_SEPARATOR),s(t,"fontSize",o),l(t,"fontFamily",o),c=o.text.length*(JMP.ViewStatic.mapFontSize(o.fontSize)+2*u.PADY),d=`${+o.isPercentX}${o.xValue}-${+o.isPercentY}${o.yValue}`,void 0===e[d]&&(e[d]=0),o.yValue>.5?o.yOffset-=e[d]:o.yOffset+=e[d],e[d]+=c,n(t,"align",o,"textAlign"),n(t,"baseline",o,"textBaseline"),n(t,"color",o),n(t,"fillColor",o),a(t,"fillAlpha",o),n(t,"lineColor",o),a(t,"lineAlpha",o),o.lineStyle=t.hasAttribute("lineStyle")?JMP.ParserStatic.getLineStyle(t.getAttribute("lineStyle")):JMP.LineSegmentStatic.PATTERN_SOLID,a(t,"lineWidth",o),i(t,"isFilled",o),i(t,"isFramed",o)},t}(),JMP.CanvasTreemapSegmentStatic=function(){"use strict";let e={},i=[],{setArray:a,setBoolean:n,setEnum:l,setFontFamily:s,setFontSize:o,setNumber:r,setString:c,addColumns:d,setColumnsAndRowStates:u}=JMP.ParserStatic,h=function(e,t){c(e,"label",t),c(e,"displayLabel",t),t.displayLabel&&(t.displayLabel=t.displayLabel.replace(/&#13;?&#10;/g,JMP.LINE_SEPARATOR),t.displayLabel=JMP.ParserStatic.replaceEncodedHTMLCharacters(t.displayLabel)),r(e,"id",t),r(e,"value",t),r(e,"level",t),r(e,"nchild",t),o(e,"fontSize",t,"fontSize",JMP.SMALL_FONT_SIZE),a(e,"Permute",t,"Permute",!0),t.rect={};let i=e.firstChild;"Rect"!==i.nodeName&&(i=JMP.ParserStatic.getSibling(i,"Rect")),i&&(r(i,"xMin",t.rect),r(i,"yMin",t.rect),r(i,"xMax",t.rect),r(i,"yMax",t.rect),t.rect.x=t.rect.xMin+1,t.rect.width=t.rect.xMax-t.rect.xMin-1,t.rect.y=t.rect.yMin+1,t.rect.height=t.rect.yMax-t.rect.yMin-1);const n=function(e,t){let i,a=[];if(!e)return a;const n=e.childNodes.length;for(i=0;i<n;i++)void 0!==t&&t!==e.childNodes[i].nodeName||a.push(e.childNodes[i]);return a}(e,"TreemapGroup"),l=n.length;t.mList=new Array(l);for(let e=0;e<l;e++)t.mList[e]={},h(n[e],t.mList[e])};return e.parse=function(e,g,S,m){let f,T,p;JMP.CanvasSegmentStatic.parse(e,g,S),p=JMP.ParserStatic.getAncestor(e,"GraphBuilderBox"),e===JMP.ParserStatic.getDescendant(p,"TreemapSegment")&&(i=[]),e.hasAttribute("treemapSizeStatistic")&&(g.sizeStatistic=JMP.ParserStatic.getStatistic(e.getAttribute("treemapSizeStatistic"))),n(e,"isGroupHierarchyIgnored",g),n(e,"isGroupHoriz",g),n(e,"areLabelsShown",g),n(e,"areGroupLabelsShown",g),n(e,"areImplicitColorsShown",g),n(e,"areGroupLabelsFloating",g),n(e,"areSizeLabelsShown",g),n(e,"areSizeNamesShown",g),n(e,"areColorLabelsShown",g),n(e,"areColorNamesShown",g),n(e,"areGroupNamesShown",g),n(e,"areFramesShown",g),n(e,"areCategoryNamesShown",g),r(e,"labelAlpha",g,"labelAlpha",.65),r(e,"minLabelSize",g),r(e,"maxLabelSize",g),c(e,"tileType",g),c(e,"labelHJust",g),r(e,"borderWidth",g),c(e,"borderColor",g),c(e,"fillColor",g),l(e,"fillPattern",JMP.ViewStatic.FILL_PATTERN,g),c(e,"groupLabelColor",g),c(e,"groupLabelBorderColor",g),c(e,"groupLabelFontColor",g),s(e,"groupLabelFontFamily",g);let E=g.areGroupLabelsFloating?g.groupLabelFontSize:JMP.LARGE_FONT_SIZE;o(e,"groupLabelFontSize",g,"groupLabelFontSize",E),s(e,"fontFamily",g),f=new JMP.Columns,d(e,"X",f,t.ROLE_X),d(e,"Y",f,t.ROLE_Y),d(e,"LabeledColumn",f,t.ROLE_LABEL),T=JMP.ParserStatic.getDescendant(e,"Heatmap"),T&&a(T,"index",g,"heatmap"),T=JMP.ParserStatic.getDescendant(e,"TreemapGroup"),T&&(g.treemapGroup={},h(T,g.treemapGroup)),u(e,f,S,g),i.push(g),g.gbBoxSiblings=i,m&&(g.isStatisticForY=!m.hasAttribute("responseAxis")||"Y"===m.getAttribute("responseAxis"))},e}(),JMP.CanvasStatic=function(){"use strict";const e=.06;let i={},a=[],n=[],l=[],s=JMP.ParserStatic.getBoolean,o=JMP.ParserStatic.setBoolean,r=JMP.ParserStatic.setNumber,c=JMP.ParserStatic.setString,d=JMP.ParserStatic.getColumn,h=JMP.ParserStatic.addArray,_=JMP.ParserStatic.setArray,x=JMP.ParserStatic.setFontSize,L=JMP.ParserStatic.setFontFamily,N=function(e,t){let i,a=!1,n=e.getAttribute("YScaleID");return"0"===n&&(n=e.getAttribute("XScaleID")),i=JMP.ParserStatic.getAncestor(e,"ScaleBox","id",n),i&&null!==JMP.ParserStatic.getDescendant(i,t,!0)&&(a=!0),a},I=function(e){let t=!0;return(!e||"MosaicSegment"===e.nodeName||"FrameBox"===e.nodeName&&JMP.ParserStatic.getDescendant(e,"MosaicSegment"))&&(t=!1),t},M=function(e){return function(){let t=JMP.ParserStatic.getAncestor(e,"FrameBox");t&&JMP.ParserStatic.getLinked(t,JMP.ParserStatic.STORAGE_SEGMENTS)&&JMP.ParserStatic.getLinked(t,JMP.ParserStatic.STORAGE_SEGMENTS).draw(),JMP.nLoading--}},y=function(e){let t=Array.from(e.childNodes);return("Display"===e.nodeName||t.length>1&&"ControlChartBuilderComponentBox"===t[0].nodeName)&&t.pop(),t};return i.binControls=[],i.frameBoxes=[],i.parse=function(e,s){let I,C,R,v,w,O,P,D,F,B,V,k,G,H,Y=function(e,i,a,n){let l,s,o,r,c=e.nodeName,d=a;if(d||(d=e.childNodes),"IfBox"!==c&&"IfSegment"!==c||!e.hasAttribute("condition")||"false"!==e.getAttribute("condition"))for(s=d.length,l=0;l<s;l++)if(r=d[l],c=r.nodeName,"Annotation"===c&&r.hasAttribute("isTip")||"AreaSegment"===c||"BarSegment"===c||"BoxPlotSegment"===c||"BubblePlotSegment"===c||"CellPlotBox"===c||"ContourSegment"===c||"DendroLabelSegment"===c||"DendroSegment"===c||"GridReferenceSegment"===c||"HistogramSegment"===c||"IMG"===c||"INPUT"===c||"LabelSegment"===c||"LegendBox"===c||"LineSegment"===c||"MarkerSegment"===c||"MosaicSegment"===c||"NumberBox"===c||"ParallelAxisSegment"===c||"PictSegment"===c||"PolylineSegment"===c||"PolySegment"===c||"ProfileSegment"===c||"RectSegment"===c||"ScriptSegment"===c||"ShapeSegment"===c||"SpacerBox"===c||"TABLE"===c||"TextBox"===c||"TextSegment"===c||"TreemapSegment"===c){if(o=JMP.ParserStatic.getLinked(r,JMP.ParserStatic.STORAGE_SEGMENTS),o){if(o.isCCBTestMarker&&o.rowIndices){let t,i,a=JMP.ParserStatic.getDescendants(JMP.ParserStatic.getAncestor(e,"FrameBox"),"MarkerSegment",!0),n=o.rowIndices,l=[];for(o.ccbTestMarkerParents=[],t=0;t<a.length;t++)l.push(JMP.ParserStatic.getLinked(a[t],JMP.ParserStatic.STORAGE_SEGMENTS));for(t=0;t<n.length;t++){let e=!1;for(i=0;i<l.length&&!e;i++)l[i].rowIndices&&l[i].rowIndices.indexOf(n[t])>=0&&(o.ccbTestMarkerParents[n[t]]=l[i],e=!0)}}if("LabelSegment"===c&&"IfSegment"===e.nodeName){let t,i=e.childNodes,a=!1;for(let e=0;e<i.length&&!a;e++){let n=JMP.ParserStatic.getLinked(i[e],JMP.ParserStatic.STORAGE_SEGMENTS);if(n&&n.isCCBTestMarker){let l=i[e].getAttribute("rowIndices");if(t=n.columns,t&&t.rowStates&&0===t.getLabeledColumns().length&&t.rowStates.hidden.indexOf(!0)>=0){o.rowIndices=[];let e,i,a,l,s,r,c=!1,d=n.labelValues,u=[];for(e=0;e<d.length;e++){u[e]=[];for(let t=0;t<d[e].length;t++)u[e].push(d[e][t][0])}for(e=0;e<n.rowIndices.length;e++)for(c=!1,r=n.rowIndices[e],l=r+1,i=0;i<u.length&&!c;i++)if(s=u[i],s.indexOf(l.toString())>=0){for(a=1;a<s.length&&!c;a++)l=Number.parseInt(s[a])-1,Number.isNaN(l)||t.rowStates.hidden[l]||(o.rowIndices.push(l.toString()),c=!0);c||o.rowIndices.push(r)}}else o.rowIndices=l?l.split(","):[],a=!0}}}i.contents.push(o),o.scale&&(o.scale[t.ROLE_X]&&o.scale[t.ROLE_X].addEventListener(i.onScaleEvent),o.scale[t.ROLE_Y]&&o.scale[t.ROLE_Y].addEventListener(i.onScaleEvent)),"BubblePlotSegment"!==c&&"MarkerSegment"!==c&&"RectSegment"!==c&&"ScriptSegment"!==c||o.addEventListener(i.onSegmentEvent),"ProfileSegment"===c&&(o.addEventListener(i.onSegmentEvent),o.frameBox=i,i.isBrushingEnabled=!1,0===o.id&&(o.menuHandler=n.menuHandler,o.menuProvider=n.menuProvider),o.setAdaptYAxis(n.isAdaptYAxis),n.profiles.push(o))}}else Y(r,i)},U=function(e,t,i){e[t]++,e[t]===i&&(e[t]=0)},z=function(e,i){let s,o,r,c,u,h,g,S,m,f,T,p,E,b,A,x,L,N,I,M=JMP.CanvasGroupBoxStatic.getGraphBuilderElementNode(e,i),y=M?M.getAttribute("kind"):void 0,C=i.nodeName,R=JMP.ParserStatic.getLinked(i,JMP.ParserStatic.STORAGE_SEGMENTS),v=0,w=M?+M.getAttribute("id"):void 0;if(R&&(u=R.columns),h="AreaSegment"===C&&("line"===y||"area"===y),g="BarSegment"===C&&"bar"===y,S="BoxPlotSegment"===C&&("boxplot"===y||"ccbattrpoints"===y||"ccbvarpoints"===y||"ccbrareeventpoints"===y),m="HistogramSegment"===C&&"histogram"===y,f="LineSegment"===C&&("line"===y||"area"===y||"smoother"===y||"regression"===y||"ccbattrpoints"===y||"ccbvarpoints"===y||"ccbrareeventpoints"===y),T="MarkerSegment"===C&&("points"===y||"ccbattrpoints"===y||"ccbvarpoints"===y||"ccbrareeventpoints"===y),p="MosaicSegment"===C&&"mosaic"===y,E="PolySegment"===C&&("contour"===y||"regression"===y||"ellipse"===y),b="RectSegment"===C&&"heatmap"===y,A="TreemapSegment"===C&&"treemap"===y,b&&(_(M,"XBinStarts",R,"xBinStarts",!0),_(M,"YBinStarts",R,"yBinStarts",!0)),f){switch(void 0===a[w]&&(a[w]=0),x="true"===M.getAttribute("isStacked"),L=M.hasAttribute("fill"),M.getAttribute("fill")){case"fillBelow":R.fillType=JMP.LineSegmentStatic.FILL_BELOW;break;case"fillBetween":R.fillType=JMP.LineSegmentStatic.FILL_BETWEEN;break;default:R.fillType=JMP.LineSegmentStatic.FILL_NONE}N=R.fillType===JMP.LineSegmentStatic.FILL_BETWEEN,x&&(R.iY=0,R.nY=1),R.elementKind=y}else M&&m&&void 0===n[w]&&(n[w]=0);if(M&&u&&(h||g||S||m||f||T||p||E||b)){if((!g||!R.isHorizontal)&&(s=t.ROLE_X,c=JMP.ParserStatic.getDescendants(M,"X"),r=c.length,r>0))if((S||m||p)&&R.isHorizontal&&(s=t.ROLE_Y),S||m||p||1!==u.getColumns(s).length||R.scale[s].labels&&R.scale[s].labels.length>1)if(u.removeColumns(s),m&&s===t.ROLE_Y)u.addColumn(d(c[n[w]]),s),U(n,w,r);else if(!f||R.isStatisticForY||"regression"===y&&!JMP.ParserStatic.getDescendant(M,"Y"))for(o=0;o<r;o++)u.addColumn(d(c[o]),s);else x&&(R.iY=a[w]%r,R.nY=r),u.addColumn(d(c[a[w]++%r]),s);else T&&r>1&&(R.isOverlay=!0);if((!g||R.isHorizontal)&&(s=t.ROLE_Y,c=JMP.ParserStatic.getDescendants(M,"Y"),r=c.length,r>0||S))if((S||m||g||p)&&R.isHorizontal&&(s=t.ROLE_X),S||m||p||1!==u.getColumns(s).length||R.scale[s].labels&&R.scale[s].labels.length>1)if(u.removeColumns(s),m&&s===t.ROLE_Y)u.addColumn(d(c[n[w]]),s),U(n,w,r);else if(f&&R.isStatisticForY&&("regression"!==y||JMP.ParserStatic.getDescendant(M,"X")))x&&(R.iY=a[w]%r,R.nY=r),u.addColumn(d(c[a[w]++%r]),s);else for(o=0;o<r;o++)u.addColumn(d(c[o]),s);else T&&r>1&&(R.isOverlay=!0)}if("RectSegment"===C&&"heatmap"!==y&&(R.groupCalculation=void 0,R.groupIndex=void 0,R.isCatX=!M.hasAttribute("responseAxis")||"Y"===M.getAttribute("responseAxis")),"LineSegment"===C){let e;if(L){let t=i.parentNode.childNodes;for(let a=0;a<t.length&&!e;a++)t[a]===i&&("AreaSegment"===t[a-1].nodeName&&w===+t[a-1].getAttribute("elementId")?e=t[a-1]:t[a+1]&&"AreaSegment"===t[a+1].nodeName&&w===+t[a+1].getAttribute("elementId")&&(e=t[a+1]));if(e){let t=JMP.ParserStatic.getLinked(e,JMP.ParserStatic.STORAGE_SEGMENTS);void 0===t.line?t.line=R:t.rangeLine=R}else R.fillType===JMP.LineSegmentStatic.FILL_BETWEEN&&(R.fillType=JMP.LineSegmentStatic.FILL_NONE);v++}if(x||N){const e=JMP.ParserStatic.getAncestor(i,"FrameBox");let t={LineSegment:0};JMP.ParserStatic.countDescendants(e,["LineSegment"],!0,t);if(t.LineSegment>1){if(l[w]){R.previousStackedLine=l[w];let e=R.overlayTerm?R.overlayTerm.getNLevels():1;R.iY>0&&R.iY===R.nY-1||R.overlayIndex>0&&R.overlayIndex===e-1||R.groupCalculation&&R.overlayIndex%e==0||N&&v%2==1?l[w]=void 0:l[w]=R}else l[w]=R;R.getSummary()}}}const O=function(e,i,a){let n,l,s,o=new Map;if(l=e.removeColumns(a),0!==l.length||a!==t.ROLE_Y){for(n=0;n<i.length;n++)s=d(i[n]),o.has(s.name)||(o.set(s.name,!0),e.addColumn(s,a));for(n=l.length-1;n>=0;n--)s=l[n],o.has(s.name)||(o.set(s.name,!0),e.addColumn(s,a))}};A&&(I=!!M.hasAttribute("responseAxis")&&"X"===M.getAttribute("responseAxis"),I&&0!==u.getColumns(t.ROLE_Y).length?(O(u,JMP.ParserStatic.getDescendants(M,"X"),t.ROLE_Y),O(u,JMP.ParserStatic.getDescendants(M,"Y"),t.ROLE_X)):(O(u,JMP.ParserStatic.getDescendants(M,"Y"),t.ROLE_Y),O(u,JMP.ParserStatic.getDescendants(M,"X"),t.ROLE_X)))},W=function(e){let t="";const i=e.length;if(i>0)for(let a=0;a<i;a++)e[a].text&&(a>0&&""!==t&&(t+=" "),t+=e[a].text);return t};if(O=null,s){switch(k=JMP.CanvasGroupBoxStatic.getGraphBuilderElementNode(JMP.ParserStatic.getAncestor(s,"GraphBuilderBox"),s),V=function(e){let t,i;if(JMP.DataFilterStatic.dataFilters&&(t=JMP.ParserStatic.getAncestor(e,"DataFilterContextBox")),t){for(let a=0;a<JMP.DataFilterStatic.dataFilters.length;a++)if((1===JMP.DataFilterStatic.dataFilters.length||JMP.DataFilterStatic.dataFilters[a].contextNode===t)&&e.hasAttribute&&(!e.hasAttribute("tableIndex")||0===e.getAttribute("tableIndex"))){i=JMP.DataFilterStatic.dataFilters[a].columns.rowStates;break}}else{const t=JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_DATA,0,e);t&&(i=t.rowStates)}return i}(k||s),s.nodeName){case"Annotation":O=JMP.Annotation(e),JMP.CanvasAnnotationStatic.parse(s,O);break;case"AreaSegment":O=JMP.AreaSegment(e),JMP.CanvasPolySegmentStatic.parse(s,O,V,k);break;case"ProfilerCategoricalResponseAxisBox":O=JMP.ProfilerCategoricalResponseAxisBox(e),JMP.ReportStatic.addAxis(O),JMP.CanvasSegmentStatic.parse(s,O),v=JMP.CanvasAxisBoxStatic.getChildNodes(s),v.forEach((function(t){i.parse(e,t)})),Y(s,O,v),H=W(O.contents),JMP.CanvasProfilerCategoricalResponseAxisBoxStatic.parse(s,O,H);break;case"AxisBox":if(O=JMP.AxisBox(e),JMP.ReportStatic.addAxis(O),JMP.CanvasSegmentStatic.parse(s,O),JMP.EventFacadeStatic.addEventListener(e,O.onPointerEvent),v=JMP.CanvasAxisBoxStatic.getChildNodes(s),v.forEach((function(t){i.parse(e,t)})),Y(s,O,v),H=W(O.contents),JMP.CanvasAxisBoxStatic.parse(s,O,H),N(s,"BubblePlotSegment")&&JMP.ParserStatic.getAncestor(s,"ScaleBox","id",s.getAttribute("YScaleID"))&&(R=3,O.padBefore>R&&(O.padBefore=R),O.padAfter>R&&(O.padAfter=R)),N(s,"ProfileSegment"))for(O.width=+s.getAttribute("width"),O.height=+s.getAttribute("height"),B=JMP.ParserStatic.getStorage(JMP.ParserStatic.STORAGE_SEGMENTS),R=B.length,C=0;C<R;C++)if(B[C].getXReferenceVariable&&B[C].scale[t.ROLE_X]===O.scale[t.ROLE_X]){B[C].xAxis=O;break}break;case"BarSegment":"packed"===s.getAttribute("style")?(O=JMP.PackedBarSegment(e),JMP.CanvasPackedBarSegmentStatic.parse(s,O,V,k)):(O=JMP.BarSegment(e),JMP.CanvasBarSegmentStatic.parse(s,O,V,k));break;case"BoxPlotSegment":O=JMP.BoxPlotSegment(e),JMP.CanvasBoxPlotSegmentStatic.parse(s,O,V,k);break;case"BubblePlotSegment":O=JMP.BubblePlotSegment(e),JMP.CanvasBubblePlotSegmentStatic.parse(s,O,V);break;case"CellPlotBox":O=new g(e),JMP.CanvasCellPlotBoxStatic.parse(s,O,V);break;case"ContourSegment":O=new S(e),JMP.CanvasContourSegmentStatic.parse(s,O,V,k);break;case"DendroLabelSegment":O=new m(e),JMP.CanvasDendrogramLabelSegmentStatic.parse(s,O,V,k);break;case"DendroSegment":O=new f(e),JMP.CanvasDendrogramSegmentStatic.parse(s,O,V,k);break;case"GraphBuilderGroupBox":O=JMP.GroupBox(e),JMP.CanvasGroupBoxStatic.parse(s,O,V);break;case"GridReferenceSegment":O=JMP.GridReferenceSegment(e),JMP.CanvasGridReferenceSegmentStatic.parse(s,O,V);break;case"HistogramSegment":O=new T(e),JMP.CanvasHistogramSegmentStatic.parse(s,O,V,k);break;case"IMG":O=JMP.Image(e),JMP.CanvasSegmentStatic.parse(s,O),O.image=new Image,JMP.nLoading++,O.image.onload=M(s),c(s,"src",O.image);break;case"INPUT":if(O=JMP.Input(e),"radio"===s.getAttribute("type"))O.type=JMP.InputStatic.TYPE_RADIO;else O.type=JMP.InputStatic.TYPE_CHECKBOX;O.text=s.firstChild?s.firstChild.nodeValue:"",o(s,"checked",O);break;case"LabelSegment":O=JMP.LabelSegment(e),JMP.CanvasSegmentStatic.parse(s,O),o(s,"showTicks",O),x(s,"fontSize",O),L(s,"fontFamily",O),c(s,"fontColor",O),D=new JMP.Columns,D.rowStates=V,h(s,"X",D,t.ROLE_X),h(s,"Y",D,t.ROLE_Y),h(s,"Label",D,t.ROLE_LABEL),O.columns=D;break;case"LegendBox":O=JMP.LegendBox(e),JMP.CanvasLegendBoxStatic.parse(s,O);break;case"LineSegment":O=JMP.LineSegment(e),JMP.CanvasLineSegmentStatic.parse(s,O,V,k);break;case"MarkerSegment":O=JMP.MarkerSegment(e),JMP.CanvasMarkerSegmentStatic.parse(s,O,V,k);break;case"MosaicSegment":O=new p(e),JMP.CanvasMosaicSegmentStatic.parse(s,O,V,k);break;case"NominalAxisBox":O=JMP.NominalAxisBox(e),JMP.CanvasAxisBoxStatic.parseNominalAxisBox(s,O),JMP.EventFacadeStatic.addEventListener(e,O.onPointerEvent);break;case"NumberBox":O=JMP.NumberBox(e),JMP.CanvasSegmentStatic.parse(s,O),r(s,"value",O),O.format=JMP.ParserStatic.getFormat(s);break;case"ParallelAxisSegment":O=JMP.ParallelAxisSegment(e),JMP.CanvasParallelAxisSegmentStatic.parse(s,O,V,k);break;case"PictSegment":O=JMP.Image(e),JMP.CanvasSegmentStatic.parse(s,O),r(s,"alpha",O),r(s,"left",O),r(s,"top",O),r(s,"right",O),r(s,"bottom",O),r(s,"width",O,"imageWidth"),r(s,"height",O,"imageHeight"),O.image=new Image,JMP.nLoading++,O.image.onload=M(s),c(s,"src",O.image);break;case"PolylineSegment":O=JMP.PolylineSegment(e),JMP.CanvasPolylineSegmentStatic.parse(s,O,V,k);break;case"PolySegment":O=JMP.PolySegment(e),JMP.CanvasPolySegmentStatic.parse(s,O,V,k);break;case"ProfileSegment":O=new E(e),JMP.CanvasProfileSegmentStatic.parse(s,O);break;case"RectSegment":O=JMP.RectSegment(e),JMP.CanvasRectSegmentStatic.parse(s,O,V,k);break;case"ScriptSegment":O=JMP.ScriptSegment(e),JMP.CanvasSegmentStatic.parse(s,O),P=JMP.ParserStatic.getAncestor(s,"FrameBox"),o(P,"isTransparent",O),s.normalize(),O.script=s.childNodes[0]?s.childNodes[0].nodeValue:"",F=JMP.ParserStatic.getAncestor(s,"OutlineBox"),F&&O.description===F.getAttribute("title")&&(O.description=void 0),r(P,"lineWidthScale",O);break;case"ShapeSegment":O=JMP.ShapeSegment(e),JMP.CanvasShapeSegmentStatic.parse(s,O,V,k);break;case"SpacerBox":O=JMP.SpacerBox(e),JMP.CanvasSegmentStatic.parse(s,O),c(s,"fillColor",O);break;case"TextBox":O=JMP.TextBox(e),JMP.CanvasTextBoxStatic.parse(s,O,V,k);break;case"TextSegment":O=new u(e),JMP.CanvasTextSegmentStatic.parse(s,O,V,k);break;case"TreemapSegment":O=new A(e),JMP.CanvasTreemapSegmentStatic.parse(s,O,V,k);break;default:if("IfBox"===s.nodeName||"IfSegment"===s.nodeName){if(s.hasAttribute("condition")&&"false"===s.getAttribute("condition"))return}else if("TABLE"===s.nodeName){if(!JMP.ParserStatic.getDescendant(s,"FrameBox"))return O=new b(e),JMP.CanvasTableBoxStatic.parse(s,O,V),void JMP.ParserStatic.setLinked(s,JMP.ParserStatic.STORAGE_SEGMENTS,O)}else"PictureBox"===s.nodeName&&"ProfileController"===s.firstChild.nodeName?(O=JMP.CanvasProfileSegmentStatic.createProfilerController(s,e),JMP.ReportStatic.addProfiler(O)):"FrameBox"===s.nodeName&&(O=JMP.FrameBox(e),JMP.CanvasSegmentStatic.parse(s,O),O.columns=new JMP.Columns,c(s,"lineColor",O),o(s,"isTransparent",O),c(s,"fillColor",O),c(s,"mappingId",O),O.isBorderTop=!0,O.isBorderBottom=!0,O.isBorderLeft=!0,O.isBorderRight=!0,"GraphBuilderComponentBox"!==s.parentNode.nodeName&&"ControlChartBuilderComponentBox"!==s.parentNode.nodeName&&(o(s,"borderTop",O,"isBorderTop"),o(s,"borderBottom",O,"isBorderBottom"),o(s,"borderLeft",O,"isBorderLeft"),o(s,"borderRight",O,"isBorderRight"),o(s,"isFrameInteractive",O,"isFrameInteractive"),"BorderBox"===s.parentNode.nodeName&&(O.isBorderTop=O.isBorderTop||!(s.parentNode.hasAttribute("borderTopDrawn")&&"false"===s.parentNode.getAttribute("borderTopDrawn")),O.isBorderBottom=O.isBorderBottom||!(s.parentNode.hasAttribute("borderBottomDrawn")&&"false"===s.parentNode.getAttribute("borderBottomDrawn")),O.isBorderLeft=O.isBorderLeft||!(s.parentNode.hasAttribute("borderLeftDrawn")&&"false"===s.parentNode.getAttribute("borderLeftDrawn")),O.isBorderRight=O.isBorderRight||!(s.parentNode.hasAttribute("borderRightDrawn")&&"false"===s.parentNode.getAttribute("borderRightDrawn")))),JMP.ParserStatic.setLinked(s,JMP.ParserStatic.STORAGE_SEGMENTS,O));for(v=y(s),R=v.length,I=0;I<R;I++)w=v[I],i.parse(e,w);if("FrameBox"===s.nodeName){if(JMP.ReportStatic.addFrame(O),JMP.ParserStatic.getDescendant(s,"ProfileSegment")){const e=JMP.ReportStatic.currentProfiler();Y(s,O,void 0,e),e.contents.push(O)}else Y(s,O);JMP.EventFacadeStatic.addEventListener(e,O.onPointerEvent,void 0,!0),e.addEventListener("wheel",O.onPointerEvent),e.addEventListener("pointerdown",O.mousePanEvent),e.addEventListener("pointermove",O.mousePanEvent),e.addEventListener("pointerup",O.mousePanEvent),document.addEventListener("keyup",O.keyUpEvent);let t=s;for(;JMP.ParserStatic.getAncestor(t.parentNode,"ScaleBox");)t=JMP.ParserStatic.getAncestor(t.parentNode,"ScaleBox");if((s.hasAttribute("XScaleID")||s.hasAttribute("YScaleID")||s.hasAttribute("rightYScaleID"))&&t){JMP.ParserStatic.getDescendants(t,"AxisBox").forEach((function(e){let t=e.getAttribute("XScaleID"),i=e.getAttribute("YScaleID"),a=s.getAttribute("XScaleID"),n=s.getAttribute("YScaleID"),l=s.getAttribute("rightYScaleID");i!==n&&t!==a&&i!==l||O.axisBoxNodes.push(e)}))}}else if("GraphBuilderBox"===s.nodeName)for(JMP.CanvasGroupBoxStatic.setGroups(s,V),G=JMP.ParserStatic.getDescendants(s,"FrameBox"),R=G.length,I=0;I<R;I++)for(a=[],n=[],l=[],v=G[I].childNodes,C=0;C<v.length;C++)z(s,v[C])}O&&JMP.ParserStatic.setLinked(s,JMP.ParserStatic.STORAGE_SEGMENTS,O);let d=JMP.ParserStatic.getAncestor(s,"ControlChartBuilderComponentBox");if(d&&O&&O.x>O.canvas.width&&("LegendBox"===s.nodeName||"AxisBox"===s.nodeName||"FrameBox"===s.nodeName||"FrameBox"===s.parentNode.nodeName||"FrameBox"===s.parentNode.parentNode.nodeName)){let e=JMP.ParserStatic.getAncestor(s,"FrameBox");if(e||(e=JMP.ParserStatic.getDescendant(s.parentNode.previousSibling,"FrameBox")),e||(e=JMP.ParserStatic.getDescendant(s.parentNode.parentNode.parentNode.parentNode,"FrameBox")),e||(e=JMP.ParserStatic.getDescendants(d,"FrameBox").pop()),O.width=+e.getAttribute("width"),O.height=+e.getAttribute("height"),"ListBox"===e.parentNode.nodeName&&"LegendBox"!==s.nodeName){O.x=56,O.y=8;let t=e.parentNode.parentNode.parentNode;"ListBox"===t.nodeName&&(O.y+=+t.firstChild.getAttribute("padBottom")+ +t.firstChild.firstChild.getAttribute("height")-1)}else{let e=0,t=0,i=s;for(;"OutlineBox"!==i.nodeName;)"BorderBox"===i.nodeName&&(e+=+i.getAttribute("padLeft"),t+=+i.getAttribute("padTop")),i=i.parentNode;O.x=e,"LegendBox"!==s.nodeName&&(O.y+=t),"AxisBox"===s.nodeName&&"IfBox"===s.parentNode.parentNode.parentNode.nodeName&&(O.y-=5,O.width=+s.getAttribute("width")+s.nextSibling.firstChild.getAttribute("width"))}}}},i.measure=function(e){let t,a,n,l,o,r,c,d,u,h,g,S={width:0,height:0},m=0,f=0,T=function(e,t){let i;t&&t.parentNode&&(i=t.parentNode,"BorderBox"===i.nodeName&&(i.hasAttribute("padLeft")&&(e.width+=+i.getAttribute("padLeft")),i.hasAttribute("padRight")&&(e.width+=+i.getAttribute("padRight")),i.hasAttribute("padTop")&&(e.height+=+i.getAttribute("padTop")),i.hasAttribute("padBottom")&&(e.height+=+i.getAttribute("padBottom"))))},p=function(e,t){let i,a=0,n=0;if(e&&("SpacerBox"!==t.nodeName&&(i=JMP.ParserStatic.getAncestor(t,"FrameBox")),i&&(i.hasAttribute("XAddend")&&(i===t?e.xAddend=+i.getAttribute("XAddend"):a=+i.getAttribute("XAddend")),i.hasAttribute("YAddend")&&(i===t?e.yAddend=+i.getAttribute("YAddend"):n=+i.getAttribute("YAddend"))),"GridReferenceSegment"===t.nodeName&&(e.xAddend=a,e.yAddend=n),"ProfileSegment"===t.nodeName&&(e.xAddend=a,e.yAddend=n),"ControlChartBuilderComponentBox"===t.parentNode.parentNode.nodeName&&"TextBox"===t.nodeName||!(("AxisBox"!==t.nodeName&&"ProfilerCategoricalResponseAxisBox"!==t.nodeName||!N(t,"ProfileSegment"))&&"Annotation"!==t.nodeName||0===e.width&&0===e.height)||(e.width=+(i?i.getAttribute("width"):t.getAttribute("width"))-a,e.height=+(i?i.getAttribute("height"):t.getAttribute("height"))-n),"TextBox"===t.nodeName&&(JMP.ParserStatic.getDescendant(t.parentNode.parentNode,"AxisBox")||JMP.ParserStatic.getAncestor(t,"ControlChartBuilderComponentBox")&&!JMP.ParserStatic.getAncestor(t,"GraphBuilderTitleBox"))&&(e.orientation===JMP.TextBoxStatic.ORIENTATION_HORIZONTAL?e.width*=1.12:e.height*=1.12),"TextBox"===t.nodeName&&"GraphBuilderTitleBox"===t.parentNode.nodeName&&"y"===t.parentNode.getAttribute("role")&&"ControlChartBuilderComponentBox"===t.parentNode.parentNode.nodeName&&e.orientation===JMP.TextBoxStatic.ORIENTATION_HORIZONTAL)){const i=t.parentNode.parentNode.nextSibling;+t.parentNode.parentNode.getAttribute("y")<+i.getAttribute("y")&&(e.width=JMP.TextBoxStatic.getApproximateWidth(t.getAttribute("text")+10))}};if(e&&"GraphBuilderBox"===e.nodeName&&!JMP.ParserStatic.getDescendant(e,"ControlChartBuilderComponentBox"))return S.width=+e.getAttribute("width"),S.height=+e.getAttribute("height"),h=JMP.CanvasLegendBoxStatic.measureLegends(e),h.width>S.width&&(S.width=h.width),h.height>S.height&&(S.height=h.height),S;if(e)switch(e.nodeName){case"AxisBox":case"ProfilerCategoricalResponseAxisBox":N(e,"ProfileSegment")?(d=JMP.ParserStatic.getLinked(e,JMP.ParserStatic.STORAGE_SEGMENTS),d&&(S.width=0===d.width?+e.getAttribute("width"):d.width,S.height=0===d.height?+e.getAttribute("height"):d.height)):(S.width=+e.getAttribute("width"),S.height=+e.getAttribute("height"));break;case"LegendBox":S=JMP.CanvasLegendBoxStatic.measureLegend(e);break;case"Annotation":JMP.CanvasAnnotationStatic.calculateAnnotationSize(e,d,S);break;case"CellPlotBox":case"NominalAxisBox":case"NumberBox":case"SpacerBox":case"TextBox":S.width=+e.getAttribute("width"),S.height=+e.getAttribute("height");break;case"INPUT":u=e.childNodes[0]?e.childNodes[0].nodeValue:e.hasAttribute("value")?e.getAttribute("value"):"",d=JMP.ParserStatic.getLinked(e,JMP.ParserStatic.STORAGE_SEGMENTS),d&&d.g&&(d.g.font=JMP.LARGE_FONT_SIZE+"px "+JMP.FONT,S.width=d.g.measureText(u).width+20),S.height=JMP.LARGE_FONT_SIZE;break;case"AreaSegment":case"BarSegment":case"BoxPlotSegment":case"HistogramSegment":case"LabelSegment":case"LineSegment":case"MarkerSegment":case"MosaicSegment":case"ParallelAxisSegment":case"PictSegment":case"PolylineSegment":case"PolySegment":case"ProfileSegment":case"RectSegment":case"ScriptSegment":case"ShapeSegment":case"TextSegment":case"TreemapSegment":break;default:if("IfBox"===e.nodeName||"IfSegment"===e.nodeName){if(e.hasAttribute("condition")&&"false"===e.getAttribute("condition"))return S}else if("TABLE"===e.nodeName){if(!JMP.ParserStatic.getDescendant(e,"FrameBox")){if(S.width=+e.getAttribute("width"),S.height=+e.getAttribute("height"),T(S,e),d=JMP.ParserStatic.getLinked(e,JMP.ParserStatic.STORAGE_SEGMENTS),r={width:0,height:0},d){for(g=d.getRowHeight(),l=e.childNodes,n=l.length,a=0;a<n;a++)if("TR"===l[a].nodeName){r.height+=g;let e=0,t=l[a].childNodes,i=t?t.length:0;for(let a=0;a<i;a++)if("TD"===t[a].nodeName){let i=t[a].childNodes,n=i?i.length:0;for(let t=0;t<n;t++)"TextBox"===i[t].nodeName&&(e+=+i[t].getAttribute("width"))}e>r.width&&(r.width=e)}r.height+=.5*g,T(r,e)}return r.height>S.height&&(S.height=r.height),r.width>S.width&&(S.width=r.width),S}}else"FrameBox"===e.nodeName?(S.width=+e.getAttribute("width"),S.height=+e.getAttribute("height")):"PictureBox"===e.nodeName&&"ProfileController"===e.firstChild.nodeName&&(d=JMP.ParserStatic.getLinked(e,JMP.ParserStatic.STORAGE_SEGMENTS),d&&JMP.ProfileControllerStatic.layoutAxes(d));for(t=!1,c=0,"CenterBox"===e.nodeName||"ListBox"===e.nodeName||"WrapListBox"===e.nodeName?s(e,"isHorizontal")&&(t=!0):"LineUpBox"===e.nodeName&&e.hasAttribute("nColumns")&&(c=+e.getAttribute("nColumns")),l=y(e),n=l.length,a=0;a<n;a++)if(o=l[a],p(JMP.ParserStatic.getLinked(o,JMP.ParserStatic.STORAGE_SEGMENTS),o),r=i.measure(o),a<n-1&&(t?r.width>0&&r.width--:r.height>0&&r.height--),"FrameBox"!==e.nodeName)if("GraphBuilderContainerBox"===e.nodeName&&"ControlChartBuilderComponentBox"===o.nodeName){let e=+o.getAttribute("x"),t=+o.getAttribute("y"),i=+o.getAttribute("width"),a=+o.getAttribute("height");S.width<e+i&&(S.width=e+i),S.height<t+a&&(S.height=t+a)}else c>0?(m+=r.width,f<r.height&&(f=r.height),(a+1)%c==0&&(S.width<m&&(S.width=m),S.height+=f,m=0,f=0)):t?(S.width+=r.width,S.height<r.height&&(S.height=r.height)):(S.width<r.width&&(S.width=r.width),S.height+=r.height);"PictureBox"===e.nodeName&&"ProfileController"===e.firstChild.nodeName&&(S.width+=1.5*JMP.ProfileControllerStatic.PROFILE_CANVAS_PADDING,d.isConstrained?S.height+=JMP.ProfileControllerStatic.PROFILE_CANVAS_CONSTRAINT_PADDING:S.height+=JMP.ProfileControllerStatic.PROFILE_CANVAS_BOTTOM_PADDING,d.wrapRows>1&&(S.height+=(JMP.ProfileControllerStatic.PROFILE_CANVAS_ARRANGE_IN_ROWS_PADDING+(d.isConstrained?JMP.ProfileControllerStatic.PROFILE_CANVAS_CONSTRAINT_PADDING:0))*(d.wrapRows-1)))}return I(e)&&T(S,e),S},i.layout=function(t,a,n,l){let o,r,c,d,u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,M=[],C=0,R=0,v=0,w=function(t,i){let a,n,l,o,r,c,d,u,h,g,S,m=0,f=0;if(t){if(a=JMP.ParserStatic.getAncestor(i,"FrameBox"),a&&(a.hasAttribute("XAddend")&&(a===i?t.xAddend=+a.getAttribute("XAddend"):m=+a.getAttribute("XAddend")),a.hasAttribute("YAddend")&&(a===i?t.yAddend=+a.getAttribute("YAddend"):f=+a.getAttribute("YAddend"))),"GridReferenceSegment"===i.nodeName&&(t.xAddend=m,t.yAddend=f),"ProfileSegment"===i.nodeName&&(t.xAddend=m,t.yAddend=f),t.x=+i.getAttribute("x")+m/2,t.y=+i.getAttribute("y")+f/2,"AxisBox"===i.nodeName||"ProfilerCategoricalResponseAxisBox"===i.nodeName){for(g=JMP.ParserStatic.getAncestor(i,"BorderBox"),S=g&&g!==i.parentNode&&!t.isFlipped,n=i.parentNode;S&&n!==g;)S="ListBox"===n.nodeName||"ScaleBox"===n.nodeName,n=n.parentNode;S&&(t.isHorizontal?g.hasAttribute("padBottom")&&(t.height+=+g.getAttribute("padBottom")):g.hasAttribute("padLeft")&&(t.x-=+g.getAttribute("padLeft"),t.width+=+g.getAttribute("padLeft")))}"Annotation"===i.nodeName&&(l=JMP.ParserStatic.getLinked(i.parentNode,JMP.ParserStatic.STORAGE_SEGMENTS),o=t.xValue+1,r=t.yValue+1,s(i,"isTip")&&(t.triangleSize?(o-=t.triangleSize,h=r+t.height/2,r=h-t.triangleSize):t.xTarget&&(c=o+t.width,d=r+t.height,u=(o+c)/2,h=(r+d)/2,o=Math.min(u,t.xTarget),r=Math.min(h,t.yTarget))),l&&(o+=l.x,r+=l.y,t.relativeX=t.x,t.relativeY=t.y),t.left=o,t.top=r,t.canvas.style.left=o+"px",t.canvas.style.top=r+"px"),I(i)&&(n=i.parentNode,"BorderBox"===n.nodeName&&(n.hasAttribute("padTop")&&(t.padTop+=+n.getAttribute("padTop")),n.hasAttribute("padBottom")&&(t.padBottom+=+n.getAttribute("padBottom")),n.hasAttribute("padLeft")&&(t.padLeft+=+n.getAttribute("padLeft")),n.hasAttribute("padRight")&&(t.padRight+=+n.getAttribute("padRight")))),"TextBox"===i.nodeName&&JMP.ParserStatic.getDescendant(i.parentNode.parentNode,"AxisBox")&&(t.orientation===JMP.TextBoxStatic.ORIENTATION_HORIZONTAL?t.x-=e*t.width:t.y-=e*t.height)}},O=function(e){if(L=JMP.ParserStatic.getAncestor(e,"ScaleBox","id",e.getAttribute(o?"XSizeID":"YSizeID")),L&&L.hasAttribute("length"))x=+L.getAttribute("length");else for(x=0,m=e.parentNode,S=m.childNodes.length,r=s(m,"isHorizontal"),g=0;g<S;g++)f=m.childNodes[g],b=i.measure(f),r?x<b.height&&(x=b.height):x<b.width&&(x=b.width);return x};if(t&&"GraphBuilderBox"===t.nodeName)for(T=JMP.ParserStatic.getDescendants(t,"Annotation"),h=T.length,u=0;u<h;u++)p=T[u],A=JMP.ParserStatic.getLinked(p,JMP.ParserStatic.STORAGE_SEGMENTS),A&&(w(A,p),A.x+=a,A.y+=n);if(t)if("GraphBuilderBox"===t.nodeName){if(!JMP.ParserStatic.getDescendant(t,"ControlChartBuilderComponentBox"))return}else if("ControlChartBuilderComponentBox"===t.nodeName){let e=JMP.ParserStatic.getDescendant(t,"FrameBox");if(!e||e.hasAttribute("height")&&+e.getAttribute("height")>40)return}if(t)switch(t.nodeName){case"Annotation":case"AreaSegment":case"BarSegment":case"BoxPlotSegment":case"HistogramSegment":case"INPUT":case"LabelSegment":case"LegendBox":case"LineSegment":case"MarkerSegment":case"MosaicSegment":case"NominalAxisBox":case"NumberBox":case"ParallelAxisSegment":case"PictSegment":case"PolylineSegment":case"PolySegment":case"ProfileSegment":case"RectSegment":case"ScriptSegment":case"SpacerBox":case"TextBox":case"TextSegment":case"TreemapSegment":break;default:if("IfBox"===t.nodeName||"IfSegment"===t.nodeName){if(t.hasAttribute("condition")&&"false"===t.getAttribute("condition"))return}else if("TABLE"===t.nodeName&&!JMP.ParserStatic.getDescendant(t,"FrameBox"))return;if(T=y(t),h=T.length,o=!1,_=0,"CenterBox"===t.nodeName||"ListBox"===t.nodeName||"WrapListBox"===t.nodeName)s(t,"isHorizontal")&&(o=!0);else if("LineUpBox"===t.nodeName&&t.hasAttribute("nColumns")){for(_=+t.getAttribute("nColumns"),u=0;u<_;u++)M[u]=0;for(u=0;u<h;u++)p=T[u],E=i.measure(p),M[u%_]<E.width&&(M[u%_]=E.width)}for(c=a,d=n,I(t)&&"BorderBox"===t.nodeName&&(t.hasAttribute("padLeft")&&(c+=+t.getAttribute("padLeft")),t.hasAttribute("padTop")&&(d+=+t.getAttribute("padTop"))),"ControlChartBuilderComponentBox"===t.nodeName&&(c=+t.getAttribute("x"),d=+t.getAttribute("y")),"PictureBox"===t.nodeName&&"ProfileController"===t.firstChild.nodeName&&(c=JMP.ProfileControllerStatic.PROFILE_CANVAS_PADDING/2,d=JMP.ProfileControllerStatic.PROFILE_CANVAS_PADDING),R=c,v=d,u=0;u<h;u++)p=T[u],E=i.measure(p),"CenterBox"===t.nodeName?(x=O(t),o?c+=(x-E.width)/2:d+=(x-E.height)/2):"ListBox"===t.nodeName&&t.hasAttribute("align")&&(o?(x=i.measure(t).height,"far"===t.getAttribute("align")?(d+=x-E.height,t.parentNode.hasAttribute("padTop")&&(d-=t.parentNode.getAttribute("padTop"))):"center"===t.getAttribute("align")&&(d+=(x-E.height)/2)):(x=i.measure(t).width,"far"===t.getAttribute("align")?(c+=x-E.width,t.parentNode.hasAttribute("padLeft")&&(c-=t.parentNode.getAttribute("padLeft"))):"center"===t.getAttribute("align")&&(c+=(x-E.width)/2))),A=JMP.ParserStatic.getLinked(p,JMP.ParserStatic.STORAGE_SEGMENTS),A&&(w(A,p),A.x+=c,A.y+=d,"AxisBox"===p.nodeName&&_>0&&u%_==0&&A.x+A.width<M[u%_]&&(A.x+=M[u%_]-A.width),d=JMP.CanvasProfileSegmentStatic.adjustProfilerLayout(d,A,p),("FrameBox"===p.nodeName&&JMP.ParserStatic.getDescendant(t.parentNode,"AxisBox")||"AxisBox"===p.nodeName&&!JMP.ParserStatic.getDescendant(t.parentNode,"FrameBox"))&&(N=A.canvas.width-A.x-A.width-A.padRight,3>N&&(l.x=3-N),N=d-A.padTop,3>N&&(l.y=3-N))),i.layout(p,c,d,l),u<h-1&&(o?E.width>0&&E.width--:E.height>0&&E.height--),"FrameBox"!==t.nodeName&&("CenterBox"===p.nodeName&&(x=O(p),s(p,"isHorizontal")?E.width=x:E.height=x),_>0?(c+=M[u%_],C<E.height&&(C=E.height),(u+1)%_==0&&(c=R,d+=C,C=0)):o?c+=E.width:d+=E.height),"ListBox"===t.nodeName&&t.hasAttribute("align")&&(o?d=v:c=R)}},i.adjustLayoutPadding=function(e,t,a){let n,l,s,o=e?e.childNodes:void 0,r=o?o.length:0;for(n=0;n<r;n++)l=o[n],s=JMP.ParserStatic.getLinked(l,JMP.ParserStatic.STORAGE_SEGMENTS),s&&(s.x-=t,s.y+=a),i.adjustLayoutPadding(l,t,a)},i.adjustLayoutAxes=function(e){let a,n,l,s,o,r,c=e?e.childNodes:void 0,d=c?c.length:0,u=function(e){let i=e.target,a=i.classList.contains("rotateVertical"),n=i.value/i.max,l=JMP.CanvasStatic.binControls.indexOf(i);JMP.CanvasStatic.frameBoxes[l].contents.forEach((function(e){e.hasBinning(t.ROLE_X)&&e.isHorizontal===a?e.setBinning(n,void 0):e.setBinning(void 0,n)}))};for(a=0;a<d;a++){if(s=c[a],o=JMP.ParserStatic.getLinked(s,JMP.ParserStatic.STORAGE_SEGMENTS),("AxisBox"===s.nodeName||"NominalAxisBox"===s.nodeName||"ProfilerCategoricalResponseAxisBox"===s.nodeName)&&o){if(r=JMP.ParserStatic.getAncestor(s,"PictureBox"),r){let e=JMP.ParserStatic.getDescendants(r,"FrameBox");for(l=e.length,n=0;n<l;n++){const a=2;let l=JMP.ParserStatic.getLinked(e[n],JMP.ParserStatic.STORAGE_SEGMENTS);if(l&&Math.abs(l.x-o.x)<a&&(Math.abs(l.y+l.height-o.y)<a||Math.abs(o.y+o.height-l.y)<a)||l&&Math.abs(l.y-o.y)<a&&(Math.abs(l.x+l.width-o.x)<a||Math.abs(o.x+o.width-l.x)<a)){o.isHorizontal||o.height!==l.height||(o.x+o.width===l.x?o.x++:l.x+l.width===o.x&&o.x--);let e,a=!JMP.ParserStatic.getDescendant(r,"Annotation"),n=o.canvas.parentNode,s=l.contents.length;for(let i=0;i<s&&a;i++){let n,s=l.contents[i];s.scale[t.ROLE_X]&&s.hasBinning(t.ROLE_X)&&s.isHorizontal!==o.isHorizontal?(n=s.scale[t.ROLE_X].tickLabels,e=s.binning[t.ROLE_X]):s.scale[t.ROLE_Y]&&s.hasBinning(t.ROLE_Y)&&s.isHorizontal===o.isHorizontal?(n=s.scale[t.ROLE_Y].tickLabels,e=s.binning[t.ROLE_Y]):a=!1,n&&n.length>1&&(a=!1)}if(a){let a=JMP.ParserStatic.createElement("INPUT",o.isHorizontal?"axisInput range":"axisInput range rotateVertical",n);if(a.setAttribute("type","range"),a.setAttribute("min","0"),a.setAttribute("max","1000"),a.setAttribute("value",""+1e3*e),a.style.setProperty("--value",Math.round(100*e)+"%"),n.style.position="relative",a.style.position="absolute",o.isHorizontal)a.style.width=o.width+"px",a.style.left=o.x+"px",a.style.top=o.y-3-a.offsetHeight/2+"px";else{a.style.width=o.height+"px",a.style.left=o.x+(o.isFlipped?1:o.width-1)-a.offsetHeight/2+"px",a.style.top=o.y-3+"px";let e=o.height/2-.5+"px";a.style.transformOrigin=e+" "+e}a.addEventListener("input",u),a.style.display="none";for(let e=0;e<s;e++){let i=l.contents[e];i.hasBinning(t.ROLE_X)&&i.isHorizontal!==o.isHorizontal?(i.binControl[t.ROLE_X]=a,l.binControl[t.ROLE_X]=a):(i.binControl[t.ROLE_Y]=a,l.binControl[t.ROLE_Y]=a)}i.binControls.push(a),i.frameBoxes.push(l)}}}}"AxisBox"===s.nodeName&&o.clearCache()}i.adjustLayoutAxes(s)}},i.drawGraph=function(e){let t,a,n,l;if(e)switch(l=e.nodeName,l){case"Annotation":case"AreaSegment":case"AxisBox":case"CellPlotBox":case"ProfilerCategoricalResponseAxisBox":case"INPUT":case"FrameBox":case"GraphBuilderGroupBox":case"HistogramSegment":case"LabelSegment":case"LegendBox":case"LineSegment":case"MarkerSegment":case"MosaicSegment":case"NominalAxisBox":case"NumberBox":case"ParallelAxisSegment":case"PictSegment":case"PolylineSegment":case"PolySegment":case"RectSegment":case"ScriptSegment":case"SpacerBox":case"TextBox":case"TextSegment":case"TreemapSegment":let s=JMP.ParserStatic.getLinked(e,JMP.ParserStatic.STORAGE_SEGMENTS);s&&s.draw();break;default:if("IfBox"===l||"IfSegment"===l){if(e.hasAttribute("condition")&&"false"===e.getAttribute("condition"))return}else if("TABLE"===l&&!JMP.ParserStatic.getDescendant(e,"FrameBox")){let t=JMP.ParserStatic.getLinked(e,JMP.ParserStatic.STORAGE_SEGMENTS);return void(t&&t.draw())}for(n=e.childNodes,a=n.length,t=0;t<a;t++)JMP.ParserStatic.getDescendant(n[t],"FrameBox")&&i.drawGraph(n[t]);for(t=0;t<a;t++)JMP.ParserStatic.getDescendant(n[t],"FrameBox")||i.drawGraph(n[t])}},i.parseAll=function(e){let t,a,n,l,s,o,r,c=e.length,d=[];for(JMP.CanvasProfileSegmentStatic.terms=[],t=0;t<c;t++)for(l=e[t],s=JMP.ParserStatic.getLinked(l,JMP.ParserStatic.STORAGE_SUBTREES),i.parse(l,s),o=JMP.ParserStatic.getDescendants(s),n=o.length,a=0;a<n;a++)r=JMP.ParserStatic.getLinked(o[a],JMP.ParserStatic.STORAGE_SEGMENTS),r&&d.push(r);JMP.ControlStatic.segments=d,JMP.CanvasProfileSegmentStatic.terms=null},i.drawAll=function(e){let t,a,n,l,s,o=document.getElementsByTagName("canvas"),r={x:0,y:0};for(a=o.length,t=0;t<a;t++)if(n=o[t],l=JMP.ParserStatic.getLinked(n,JMP.ParserStatic.STORAGE_SUBTREES),l){if(!e){s=i.measure(l);let e=!0;"PictureBox"!==l.nodeName||JMP.ParserStatic.getDescendant(l,"FrameBox")||(s.width+=3,e=!1),n.width=JMP.SCALING_FACTOR*s.width,n.height=JMP.SCALING_FACTOR*s.height,n.style.width=`${s.width}px`,n.style.height=`${s.height}px`,n.getContext("2d").scale(JMP.SCALING_FACTOR,JMP.SCALING_FACTOR),r.x=0,r.y=0,i.layout(l,0,0,r),!e||0===r.x&&0===r.y||i.adjustLayoutPadding(l,r.x,r.y),i.adjustLayoutAxes(l)}i.drawGraph(l)}},i}(),JMP.ProgressIndicatorStatic=function(){"use strict";let e={};return e.busyIndicator=document.getElementById("busyIndicator"),e.create=function(){e.busyIndicator=document.getElementById("busyIndicator"),e.busyIndicator?e.show():e.busyIndicator=JMP.ParserStatic.createElement("DIV","progressIndicator revealed",document.body,"busyIndicator")},e.show=function(){let t=document.getElementById("dialogOverlay");t.className=t.className.replace("concealed","revealed"),e.busyIndicator.className="progressIndicator revealed"},e.hide=function(){let t=document.getElementById("dialogOverlay");e.busyIndicator.className="progressIndicator concealed",t.className=t.className.replace("revealed","concealed")},e}();class _ extends Error{constructor(e,...t){super(...t),Error.captureStackTrace&&Error.captureStackTrace(this,_),this.name="ResponseError",this.response=e}}JMP.ServerStatic=function(){"use strict";let e,i,a,l,s,o,c,d,u={},h=0,g=[],S={selectedColumnSwitcherColumnNames:[],localDataFilterSettings:[],scales:[],frames:[],profilers:[],menuItems:[],distributionIndexes:[]},m=[],f=[],T={},p=!1,E=-1,b=[],A=[],x={},L=[],N=[],I=!0,M=1008,y=1011,C=1012,R=1019,v={},w=function(e,t){const i=JMP.DocumentStatic.getParentWindow(),a=new URL(i.location);let n=new URLSearchParams(a.search);n.set(e,t);let l=i.location.pathname+"?"+n.toString();i.history.replaceState(null,"",l)},O=function(e){e?(l=v.lastSwitchedColumnSwitcherID,S.selectedColumnSwitcherColumnNames[l]=v.lastSwitchedColumnSwitcherName):(v.lastSwitchedColumnSwitcherID=l,v.lastSwitchedColumnSwitcherName=S.selectedColumnSwitcherColumnNames[l])},P=function(e){return e.className.indexOf("revealed")>-1},D=function(e,t){let i,a=P(e),n=e.parentNode.querySelector("img.outline.modern"),l=e.parentNode.querySelector("img.outline.legacy");!a&&t?(e.className=e.className.replace("concealed","revealed"),n.src=JMP.OutlineStatic.getConcealIcon(),l.src=JMP.OutlineStatic.SRC_REVEALED,i=l.parentNode.nextSibling,i&&(i.className=i.className.replace("concealed","revealed"))):a&&!t&&(e.className=e.className.replace("revealed","concealed"),n.src=JMP.OutlineStatic.getRevealIcon(),l.src=JMP.OutlineStatic.SRC_CONCEALED)},F=function(t){let i,a,n,l=-1;const s=".jmp";for(a=t.toLowerCase(),a=a.endsWith(s)?a.slice(0,-4):a,i=0;i<E&&l<0;i++)n=e.packageDataTables[i].name.toLowerCase(),n.endsWith(s)&&(n=n.slice(0,-4)),n===a&&(l=i);return l},B=async function(e,t,i,a,n){let l,s,o;if(l=i||null,s=a||"text/plain",p=!0,o=await fetch(n?e+n:e,{method:t,body:l,headers:{"Content-Type":s},keepalive:"DELETE"===t}),!o.ok)throw new _(o,o.statusText);return p=!1,o},V=async function(){const e=await B("/api/buildInfo","GET"),t=await function(e){const t=e.headers.get("content-type");if(!t||!t.includes("application/json"))throw new TypeError("We did not retrieve JSON!");return e.json()}(e);t.version.startsWith("15.0")||(JMP.ViewStatic.isToolbarServerBased=!0)},k=async function(t){let a,n=e.packageDataTables[t];if(!n)throw u.log(u.MSG_MISSING_DATA_TABLE),new Error(u.MSG_MISSING_DATA_TABLE);{a="/api/jmp/"+i+"/tables/"+n.table_id;const l=await B(a,"GET"),s=await l.json();e.packageDataTables[t].nRows=s.dataTable.nRows}},G=async function(t,a){let n="/api/jmp/"+i+"/tables/"+e.packageDataTables[t].table_id,l={rowStates:a};return await B(n,"PATCH",JSON.stringify(l),"application/json")},H=async function(t,n,l){let s,o="/api/jmp/"+i+"/package/script",r={},c=[],d=0,h=n.length;s=JMP.ParserStatic.getStoredTableData(JMP.ParserStatic.STORAGE_DATA);for(let i=0;i<h;i++){h>1&&(d=t[i]),c[i]={name:e.packageDataTables[d].name};let a=s[n[i]];a&&s.length<=h&&(c[i].columns=a.columnNames)}r.dataTables2=c,l.language||(l.language=JMP.LOCALE.slice(0,2)),r.clientState=l;try{let e=await B(o,"POST",JSON.stringify(r),"application/json");return await e.json()}catch(e){let t=e;if("ResponseError"===e.name){let i=e.response,n=null;const l=i.headers.get("content-type");if(l&&l.includes("application/json"))try{n=await i.json(),"object"!=typeof n&&(n=null)}catch(t){u.log(e.message),n=null}n&&((g=n.jmpErrorCode)===C||g===M||g===y||g===R)&&a&&a.undo?(u.log(e.message),u.log(u.MSG_LOG_MESSAGES.replace("^LOG",n.logContents)),a.undo(),t=new Error(u.MSG_OPERATION_PRODUCED_NO_RESULT)):t=new Error(u.MSG_ERROR_RUNNING_SCRIPT.replace("^TXT",i.statusText?": "+i.statusText:"."))}throw t}var g},Y=async function(){let t="/api/jmp/"+i;if(!p)try{await B(t,"DELETE",!0),e=void 0,i=void 0}catch(e){throw u.log(e.message),e}},U=async function(){let t=await async function(){return await B("/api/jmp","POST")}(),a=await t.json();i=a.sessionTicket,u.log(u.MSG_START_JMP_SUCCEEDED.replace("^TKT",i)),t=await async function(){let e="/api/jmp/"+i+"/package",t={packageUrl:window.location.pathname};return await B(e,"PUT",JSON.stringify(t),"application/json")}(),a=await t.json(),e=a.jmpServer,await async function(){let t;if(E=e.packageDataTables.length,!(E>0))throw u.log(u.MSG_NO_TABLE_LIMITED_INTERACTIVITY),await Y(),new Error(u.MSG_NO_TABLE_LIMITED_INTERACTIVITY);{let e=[];for(t=0;t<E;t++)e.push(k(t));await Promise.all(e)}}()},z=function(e){let t,i,a="",n=e.excluded,l=e.hidden,s=e.selected,o=n.length;for(t=0;t<o;t++)i=(n[t]?4:0)+(l[t]?2:0)+(s[t]?1:0),a+=i;return a},W=function(){let e=document.getElementById("tooltip");e.className=e.className.replace("permanentlyConcealed","concealed")},X=async function(){if(0===E)return void(JMP.ServerStatic&&(W(),JMP.ProgressIndicatorStatic.hide()));T.validate=window.performance.now();let e=g.length,t=JMP.ParserStatic.getStoredTableData(JMP.ParserStatic.STORAGE_DATA);if(t.length!==e)return void(JMP.ServerStatic&&(W(),JMP.DialogStatic.showMessage(void 0,u.MSG_ERROR_NUM_TABLES_CHANGED),JMP.ProgressIndicatorStatic.hide()));let i,a=0,n=[],l=[];for(i=0;i<e;i++)a=F(t[i].name),a>=0&&(n.push(a),l.push(i));let s,o=0;const r=[];for(e=n.length,i=0;i<e;i++){a=n[i],o=l[i];let e=g[o];s=z(e),r.push(G(a,s)),u.log(u.MSG_SET_ROW_STATES)}await Promise.all(r),T.setRowStates=window.performance.now();let c=await H(n,l,S);u.log(c.logContents);let d=JSON.parse(c.performance);var h;u.addPerformanceMetric(u.ID_PERFORMANCE_SERVER_OPEN_TABLES,parseInt(d.t0_openTables,10)),u.addPerformanceMetric(u.ID_PERFORMANCE_SERVER_RUN_SCRIPT,parseInt(d.t1_runScript,10)),u.addPerformanceMetric(u.ID_PERFORMANCE_SERVER_WRITE_XML,parseInt(d.t2_generateXML,10)),u.addPerformanceMetric(u.ID_PERFORMANCE_SERVER_TOTAL_TIME,parseInt(d.t3_total,10)),h=c.webXML,T.runScript=window.performance.now(),h&&(JMP.ServerStatic.storeDisplayTreeState(),JMP.ParserStatic.clearDisplayTreeStorage(),window.onload(h,!0)),T.displayTree=window.performance.now(),u.addPerformanceMetric(u.ID_PERFORMANCE_CLIENT_VALIDATE_REQUEST,T.validate-T.start),u.addPerformanceMetric(u.ID_PERFORMANCE_CLIENT_SET_ROWSTATES_REQUEST,T.setRowStates-T.validate),u.addPerformanceMetric(u.ID_PERFORMANCE_CLIENT_RUN_SCRIPT_REQUEST,T.runScript-T.setRowStates),u.addPerformanceMetric(u.ID_PERFORMANCE_CLIENT_RELOAD_DISPLAY_TREE,T.displayTree-T.runScript),u.addPerformanceMetric(u.ID_PERFORMANCE_CLIENT_TOTAL_TIME,T.displayTree-T.start),JMP.ServerStatic&&(W(),JMP.ProgressIndicatorStatic.hide())},Z=async function(){JMP.ServerStatic&&(JMP.ProgressIndicatorStatic.show(),function(){let e=document.getElementById("tooltip");e.className=e.className.replace("concealed","permanentlyConcealed")}()),T.start=window.performance.now(),S.isStatic=JMP.DocumentStatic.isStatic;try{await u.validateJMPSession(),await X()}catch(t){e=t,JMP.ProgressIndicatorStatic.hide(),u.log(e.message),JMP.DialogStatic.showMessage(void 0,e.message)}var e},q=function(e,t){if(0!==E&&e.type===n.EVENT_EXCLUDED)a=t,Z()},j=function(e,t){let i;return function(...a){clearTimeout(i),i=setTimeout((function(){clearTimeout(i),e(...a)}),t)}}(Z,250),K=function(e=!1){if(JMP.ViewStatic.isServerAvailable)if(JMP.DataFilterStatic.dataFilters?.length>0){let t={settings:JMP.DataFilterStatic.getAllSettings()};u.modifyLocalDataFilterAndUpdate(t,e)}else j()};return u.updateClientStatesToAddMenu=async function(e,t,i){S.menuItems=e,S.distributionIndexes=t,i&&S.scales.length>0&&(S.scales=[],JMP.ServerStatic.log("Axis scaling not retained: Turned off plots that were added after publication of the report using menu options.")),K()},u.rowStates=[],u.MENU_EXCLUDE_SELECTED="Exclude and Hide Selected Rows",u.MENU_RESTORE_ALL="Include and Show All Rows",u.MENU_INVERT_SELECTION="Invert Row Selection",u.MENU_DISPLAY_LOG_MESSAGES="Display Log Messages",u.MSG_ERROR_TABLE_GETTING_TABLE_INFO="Failed while getting table information",u.MSG_ERROR_VALIDATING_SESSION="Failed while checking if the session is valid.",u.MSG_CANNOT_PRESERVE_USER_SETTINGS="Report changed such that user settings cannot be preserved.",u.MSG_NUMBER_OF_USER_SETTINGS="The number of user settings: ^SET",u.MSG_MISSING_DATA_TABLE="A required data table is missing.",u.MSG_LOG_MESSAGES="log: ^LOG",u.MSG_OPERATION_PRODUCED_NO_RESULT="The last operation produced no result. The operation will be undone.",u.MSG_ERROR_RUNNING_SCRIPT="Error running script on server ^TXT",u.MSG_START_JMP_SUCCEEDED="startJMP succeeded. sessionTicket = ^TKT",u.MSG_NO_TABLE_LIMITED_INTERACTIVITY="The report has no JMP table. Interactivity will be limited.",u.MSG_SET_ROW_STATES="Set row states",u.MSG_ERROR_NUM_TABLES_CHANGED="The number of tables in use has changed. Please see log messages.",u.ID_PERFORMANCE_INITIAL_LOAD_TIME="perfInitialLoadTime",u.ID_PERFORMANCE_SERVER_OPEN_TABLES="perfServerOpenTables",u.ID_PERFORMANCE_SERVER_RUN_SCRIPT="perfServerRunScript",u.ID_PERFORMANCE_SERVER_WRITE_XML="perfServerWriteXML",u.ID_PERFORMANCE_SERVER_TOTAL_TIME="perfServerTotalTime",u.ID_PERFORMANCE_CLIENT_VALIDATE_REQUEST="perfClientValidateRequest",u.ID_PERFORMANCE_CLIENT_SET_ROWSTATES_REQUEST="perfClientSetRowStatesRequest",u.ID_PERFORMANCE_CLIENT_RUN_SCRIPT_REQUEST="perfClientRunScriptRequest",u.ID_PERFORMANCE_CLIENT_RELOAD_DISPLAY_TREE="perfClientReloadDisplayTree",u.ID_PERFORMANCE_CLIENT_TOTAL_TIME="perfClientTotalTime",u.resizedBoxes=[],u.jmpLiveMessageChannel=new MessageChannel,u.resizedObserver="undefined"==typeof ResizeObserver?void 0:new ResizeObserver((e=>{for(const t of e){let e=u.resizedBoxes.findIndex((e=>e.id===t.target.id));-1===e&&(e=u.resizedBoxes.push({}),u.resizedBoxes[--e].id=t.target.id),u.resizedBoxes[e].width=t.target.style.width,u.resizedBoxes[e].height=t.target.style.height}})),u.initialize=async function(){await async function(){await B("/api/webjmp","GET"),await V()}()},u.endJMP=async function(){i&&await Y()},u.setRowStates=function(e){let t,i=e.length;for(t=0;t<i;t++)g[t]=e[t],g[t].addEventListener(q)},u.getTableInfo=function(t){if(e)return e.packageDataTables[t];u.log(u.MSG_ERROR_TABLE_GETTING_TABLE_INFO)},u.log=function(e){m.push(e)},u.getLogMessages=function(){return m},u.clearLogMessages=function(){m=[]},u.addPerformanceMetric=function(e,t){f.push({id:e,duration:t})},u.getPerformanceMetrics=function(){return f},u.clearPerformanceMetrics=function(){f=[]},u.validateJMPSession=async function(){let e="/api/jmp/"+i+"/isValid";if(i){h++,h%=1e4;try{let t=await B(e,"GET",null,void 0,"?"+h);(await t.json()).isValid||await U()}catch(e){throw u.log(e.message),new Error(u.MSG_ERROR_VALIDATING_SESSION)}}else try{await U()}catch(e){throw u.log(e.message),new Error(u.MSG_ERROR_VALIDATING_SESSION)}},u.addServerElements=function(){JMP.ProgressIndicatorStatic.create(),JMP.ViewStatic.isServerAvailable=!0},u.menuProvider=function(){let e,t,i,a,n,l=[];if(t=u.rowStates.length,t>0&&!JMP.DataFilterStatic.dataFilters){for(i=!0,a=!0,e=0;e<t;e++)n=u.rowStates[e],i=i&&0===n.nSelectedIndices,a=a&&n.excluded.indexOf(!0)<0&&n.hidden.indexOf(!0)<0;l.push({id:"serverExcludeSelected",label:u.MENU_EXCLUDE_SELECTED,isDisabled:i}),l.push({id:"serverRestoreAll",label:u.MENU_RESTORE_ALL,isDisabled:a}),l.push({id:"serverInvertSelection",label:u.MENU_INVERT_SELECTION}),l.push({id:void 0,label:void 0,type:JMP.MenuStatic.MENU_SEPARATOR})}return l.push({id:"serverDisplayLogMessages",label:u.MENU_DISPLAY_LOG_MESSAGES,isDisabled:0===m.length}),l},u.menuHandler=function(e){let t,i,a,n=u.rowStates;if(i=n.length,i>0)switch(e){case"serverExcludeSelected":for(t=0;t<i;t++)a=t===i-1,n[t].excludeAndHideSelected(a);break;case"serverRestoreAll":for(t=0;t<i;t++)a=t===i-1,n[t].clearExcludedAndHidden(a);break;case"serverInvertSelection":for(t=0;t<i;t++)n[t].invertSelected()}},u.cacheRowStates=function(e,t,i,a,n){let l,s;if(i===a){if(l=t.selected.some((function(e){return e})),l)for(s=0;s<n;s++)t.selected[s]||(u.rowStates[0].excluded[s]=!0,u.rowStates[0].hidden[s]=!0)}else e===JMP.ParserStatic.STORAGE_DATA&&u.rowStates.push(t)},u.clearState=function(){S.selectedColumnSwitcherColumnNames.length=0,S.localDataFilterSettings.length=0},u.addColumnSwitcher=function(e){S.selectedColumnSwitcherColumnNames.push(e)},u.switchColumnAndUpdate=function(e,t,i=!0){S.scales=[],N=[],I=!1,S.menuItems=u.updateMenuOptionsDuringColumnSwitcherChange(S.menuItems,S.selectedColumnSwitcherColumnNames[e],t),l=e,O(!1),a=u,S.selectedColumnSwitcherColumnNames[e]=t,i&&w("cs",JSON.stringify(S.selectedColumnSwitcherColumnNames)),K()},u.updateMenuOptionsDuringColumnSwitcherChange=function(e,t,i){const a=e.indexOf(t);e[a]=i;const n=e.map(((e,t)=>e===i?t:"")).filter(String);if(n.length>1&&a!==n[0]){const t=[...JMP.DocumentMenuStatic.distributionIndex].indexOf(n[0]),i=[...JMP.DocumentMenuStatic.distributionIndex][t+1];for(let t=n[0]+2,a=n[1]+2;t<i;t+=2,a+=2)e[t]=e[a]}return e},u.undo=function(){O(!0),u.switchColumnAndUpdate(l,S.selectedColumnSwitcherColumnNames[l])},u.updateFrameDimensions=function(e){const t=S.frames.findIndex((t=>t.mappingId===e.mappingId));if(-1===t)S.frames.push({});else{const e=S.frames[S.frames.length-1];S.frames[S.frames.length-1]=S.frames[t],S.frames[t]=e}S.frames[S.frames.length-1].width=e.width,S.frames[S.frames.length-1].height=e.height,S.frames[S.frames.length-1].mappingId=e.mappingId,u.updateClientStateProfilers(),K(!0)},u.updateClientStateScales=function(e){e.forEach((function(e){let t=S.scales.findIndex((t=>t.mappingId===e.mappingId));if(!e.isModified())return void(t>-1&&S.scales.splice(t,1));if(-1!==t){let e=S.scales.splice(t,1);S.scales.push(e[0]),t=S.scales.length-1}else t=S.scales.push({}),t--;let i=r.convertToValue(e.type,e.origin,e.base,e.power);i=r.convertToNormal(e,i),S.scales[t].min=i,i=r.convertToValue(e.type,e.origin+e.range,e.base,e.power),i=r.convertToNormal(e,i),S.scales[t].max=i,S.scales[t].id=e.id,S.scales[t].outline=e.outlineNodes.toString(),S.scales[t].mappingId=e.mappingId}))},u.updateScales=function(e){u.updateClientStateScales(e),u.updateClientStateProfilers(),K(!0)},u.updateClientStateProfilers=function(){JMP.ReportStatic.getProfilers().forEach((function(e){let i=S.profilers.findIndex((t=>t.mappingId===e.mappingId));if(-1!==i){let e=S.profilers.splice(i,1);S.profilers.push(e[0]),i=S.profilers.length-1}else i=S.profilers.push({}),i--;S.profilers[i]=e.getState();let a=[];for(let i=0;i<e.profiles.length;i++){const n=e.profiles[i];a.includes(n.scale[t.ROLE_Y])||a.push(n.scale[t.ROLE_Y]),a.includes(n.scale[t.ROLE_X])||a.push(n.scale[t.ROLE_X])}u.updateClientStateScales(a)}))},u.updateProfilers=function(){u.updateClientStateProfilers(),K(!0)},u.saveFramesToMemento=function(){I&&JMP.ReportStatic.saveFramesToMemento(N),I=!0},u.restoreFramesFromMemento=function(){JMP.ReportStatic.restoreFramesFromMemento(N)},u.addLocalDataFilter=function(e){S.localDataFilterSettings.push(e)},u.modifyLocalDataFilterAndUpdate=function(e,t=!1){if(t||(S.scales=[],N=[],I=!1),S.localDataFilterSettings.length<1)for(let t=0;t<e.settings.length;t++)u.addLocalDataFilter({settings:e.settings[t]});else for(let t=0;t<e.settings.length&&S.localDataFilterSettings[t];t++)S.localDataFilterSettings[t].settings=e.settings[t];let i=Object.assign({},e.settings);delete i.groupSettings,w("ldf",JSON.stringify(i)),u.updateClientStateProfilers(),j()},u.storeDOMTreeState=function(){let e,t=document.querySelectorAll(".outlineContent"),i=t.length;for(b.length=0,e=0;e<i;e++)b[e]=P(t[e]);s=document.body.scrollTop,o=document.body.scrollLeft;let a=document.querySelectorAll(".selectedTab");for(i=a.length,A=[],e=0;e<i;e++)A.push(a[e].id);let n=document.querySelectorAll(".columnSwitcherSelect");for(i=n.length,x={},e=0;e<i;e++){let t=n[e].scrollTop;t>0&&(x[n[e].id]=t)}},u.restoreDOMTreeState=function(){let e,t,i=document.querySelectorAll(".outlineContent"),a=i.length;if(a===b.length)for(e=0;e<a;e++)D(i[e],b[e]);else JMP.ServerStatic.log("!Server returned "+a+" outline nodes. The client had "+b.length);for(document.body.scrollTop=s,document.body.scrollLeft=o,a=A.length,e=0;e<a;e++)t=document.getElementById(A[e]),t&&t.click();for(let[e,t]of Object.entries(x)){let i=document.getElementById(e);i&&(i.scrollTop=t)}},u.storeFocus=function(){c=document.activeElement.id,d=document.activeElement.className},u.restoreFocus=function(){if(c){const e=d.replace(/ /g,"."),t=CSS.escape(c),i=e?`.${e}#${t}`:`#${t}`,a=document.querySelector(i);a&&a.focus()}},u.storeDisplayTreeState=function(){let e,t,i;e=JMP.DocumentMenuStatic.nodeDisplays.length,L=[];for(let a=0;a<e;a++){L[a]=[],t=JMP.DocumentMenuStatic.nodeDisplays[a];let e=t.length,n=[];for(let l=0;l<e;l++){let e=t[l].nodeName;if(n.indexOf(e)<0){let s;i=JMP.ParserStatic.getLinked(t[l],JMP.ParserStatic.STORAGE_SEGMENTS),i&&(s=i.getStoredState(),s&&(s.segmentNodeName=e,L[a][l]=s)),s&&n.push(e)}}}},u.restoreDisplayTreeState=function(){let e,t,i,a,n,l;if(a=JMP.DocumentMenuStatic.nodeDisplays.length,a!==L.length)return JMP.ServerStatic.log(u.MSG_CANNOT_PRESERVE_USER_SETTINGS),void JMP.ServerStatic.log(u.MSG_NUMBER_OF_USER_SETTINGS.replace("^SET",L.length));for(e=0;e<a;e++){n=JMP.DocumentMenuStatic.nodeDisplays[e],i=n.length;let a={};for(t=0;t<i;t++)if(l=JMP.ParserStatic.getLinked(n[t],JMP.ParserStatic.STORAGE_SEGMENTS),l){let i=n[t].nodeName,s=a[i];s||(s=L[e][t],s&&(a[i]=s)),s&&l.applyStoredState(s)}}},u.intializeChannel=function(e){e&&e.origin===window.location.origin&&(u.jmpLiveMessageChannel=e.ports[0],u.jmpLiveMessageChannel&&(u.jmpLiveMessageChannel.onmessage=u.onMessageReceivedFromChannel))},u.onMessageReceivedFromChannel=async function(e){if(u.jmpLiveMessageChannel.postMessage(`Message received by IFrame: "${e.data.action}"`),"InputMenuResult"===e.data.action){const t=JMP.DocumentMenuStatic.menuOptions.indexOf(e.data.payload.segmentName),i=JMP.DocumentMenuStatic.menuOptions.slice(t).indexOf(e.data.payload.menuName)+1;JMP.DocumentMenuStatic.menuOptions[i+t]="Changed:"+e.data.payload.inputs[0].value,u.updateClientStatesToAddMenu(JMP.DocumentMenuStatic.menuOptions,[...JMP.DocumentMenuStatic.distributionIndex],JMP.DocumentMenuStatic.clearClientScaleStates)}},u.postDataToChannel=function(e){u.jmpLiveMessageChannel.postMessage(e)},window.addEventListener("message",u.intializeChannel),window.addEventListener("unload",(async function(){return JMP.ViewStatic.isServerAvailable&&await JMP.ServerStatic.endJMP(),null})),u}(),JMP.DocumentColumnSwitcherStatic=function(){"use strict";const e="cs_".length;let t={},i=!0,a=0,n=JMP.TooltipStatic.addTooltipListener,l=JMP.TooltipStatic.updateElementTooltip,s=JMP.ControlStatic.createButton,o=JMP.ParserStatic.createElement,r=JMP.ParserStatic.getQueryString,c=function(e,t){let i=e.offsetTop,a=i+e.offsetHeight,n=t.offsetTop,l=n+t.offsetHeight,s=e.scrollTop;n-s<i?e.scrollTop=n-i:l-s>a&&(e.scrollTop=l-a)},d=function(e,i,a){return void 0===a&&(a=e.querySelector(".selected")),c(e,i),a?a.classList.remove("selected"):function(e){let i=e.querySelector(".columnSwitcherPrev");i&&(i.disabled=!1,l(i,[t.TIP_SELECT_PREV]));let a=e.querySelector(".columnSwitcherNext");a&&(a.disabled=!1,l(a,[t.TIP_SELECT_NEXT]))}(e.parentNode),i.classList.add("selected"),i.getAttribute("value")};return t.TIP_SELECT_COLUMN="Select a column",t.TIP_SELECT_NEXT="Select next",t.TIP_SELECT_PREV="Select previous",t.clearState=function(){a=0},t.initialize=function(){let e,t=document.getElementsByClassName("columnSwitcherSelect"),a=t.length;for(e=0;e<a;e++){let i=t[e];a>1&&i.classList.add("columnSwitcherMaxHeight");let n=i.querySelector(".selected");n&&c(i,n)}if(i){const e=r("cs");if(e){const t=JSON.parse(e);t&&JMP.ServerStatic.switchColumnAndUpdate(0,t[0],!1)}i=!1}},t.eventHandler=function(t){let i,a,n=!1,l=t.pointerTarget;if(l||(l=t.target),"pointerup"!==t.type||"LI"!==l.nodeName||l.classList.contains("selected"))if("pointerup"!==t.type&&"click"!==t.type||"BUTTON"!==l.nodeName){if("keydown"===t.type){i=l.parentNode.firstChild;let e=i.querySelector(".selected");switch(t.keyCode){case 38:let l=e.previousElementSibling||i.lastChild;a=d(i,l,e),n=!0,t.preventDefault();break;case 40:let s=e.nextElementSibling||i.firstChild;a=d(i,s,e),n=!0,t.preventDefault()}}}else{i=l.parentNode.firstChild;let e=i.querySelector(".selected");if(l.classList.contains("columnSwitcherPrev")){let t=e.previousElementSibling||i.lastChild;a=d(i,t,e),n=!0}else if(l.classList.contains("columnSwitcherNext")){let t=e.nextElementSibling||i.firstChild;a=d(i,t,e),n=!0}}else i=l.parentNode,a=d(i,l),n=!0;if(n){let t=+i.getAttribute("id").slice(e);JMP.ServerStatic.switchColumnAndUpdate(t,a)}},t.parse=function(e){let l,c=JMP.ViewStatic.isServerAvailable&&!(e.hasAttribute("isDisabled")&&"true"===e.getAttribute("isDisabled")),d=e.getAttribute("columns").split(JMP.DELIMITER),u=e.getAttribute("selectedColumn"),h=d.length,g=o("DIV","columnSwitcherContainer"),S=o("UL","columnSwitcherSelect",g),m=c?t.TIP_SELECT_COLUMN:JMP.ControlStatic.TIP_DISABLED_CONTROL;if(S.setAttribute("id","cs_"+a),i){const e=r("cs");e&&(l=JSON.parse(e))}c?(l&&l[a]&&(u=l[a]),JMP.ServerStatic.addColumnSwitcher(u)):S.setAttribute("disabled","true"),a++,S.setAttribute("size",Math.min(h,10));let f=!1;const T=JMP.TEXT_FONT_SIZE+"px";for(let e=0;e<h;e++){let t=o("LI","columnSwitcherOption",S),i=d[e];t.setAttribute("value",i),t.style.fontSize=T,i===u&&(t.classList.add("selected"),f=!0),c||(t.setAttribute("disabled","true"),n(t,[m])),t.innerHTML=i}if(n(S,[m]),c&&(JMP.EventFacadeStatic.addEventListener(S,t.eventHandler),S.setAttribute("tabIndex",0),h>1)){let e=s(g,void 0,void 0,"columnSwitcherPrev buttonUp square spaceLeft minPadding","pb_"+(a-1),JMP.ViewStatic.getPreviousIcon,"svgImageIncrement",t.eventHandler);n(e,[t.TIP_SELECT_PREV]),e.disabled=!f,m=f?t.TIP_SELECT_PREV:JMP.ControlStatic.TIP_DISABLED_CONTROL,n(e,[m]);let i=s(g,void 0,void 0,"columnSwitcherNext buttonUp square spaceLeft minPadding","nb_"+(a-1),JMP.ViewStatic.getNextIcon,"svgImageIncrement",t.eventHandler);i.disabled=!f,m=f?t.TIP_SELECT_NEXT:JMP.ControlStatic.TIP_DISABLED_CONTROL,n(i,[m])}return g},t}(),JMP.DocumentDataFilterStatic=function(){"use strict";let e={},i=0,a=0,{htmlEscape:l,getBoolean:s,setBoolean:o,setArray:r,setString:c}=JMP.ParserStatic;return e.clearState=function(){i=0},e.onDataFilterTooltip=function(e,t){let i=e.pointerTarget,a=null;if(i||(i=e.target),"LABEL"===i.nodeName&&"filterAutoUpdateTable"===i.parentNode.parentNode.parentNode.className)a=JMP.DataFilterStatic.TIP_AUTO_UPDATE;else if(i.id?.startsWith("filterUpdateButton"))a=JMP.DataFilterStatic.TIP_UPDATE_BUTTON;else if("TD"===i.nodeName&&"filterOrdinal"===i.className&&"filterButton revealed"===i.firstChild.className||"BUTTON"===i.nodeName&&"filterButton revealed"===i.className)a=JMP.DataFilterStatic.TIP_CONDITIONAL;else if(JMP.DataFilterStatic.dataFilters[t].isDisabled)a=JMP.DataFilterStatic.dataFilters[t].descriptionDisabled;else{const e=i.className;if("TD"===i.nodeName||"TD"===i.parentNode.nodeName){const t=i.closest(".filterCenter");if(t)a=t.hasAttribute("fullText")?t.getAttribute("fullText"):t.firstChild.innerHTML;else if("filterRight"===e&&i.childNodes.length>0||"DIV"===i.nodeName&&"filterRight"===i.parentNode.className){const e="filterRight"===i.parentNode.className?+i.parentNode.getAttribute("nRows"):+i.getAttribute("nRows");a=JMP.TooltipModelStatic.TIP_ROWS+JMP.ViewStatic.COLON+" "+e}}else"DIV"===i.nodeName&&("filterGroup"!==e&&"filterFilter"!==e||(a=JMP.DataFilterStatic.dataFilters[t].description))}JMP.TooltipStatic.updateTooltip(e,JMP.TooltipModel(a?[a]:[]))},e.moveDataFilters=function(e){let t,i,a,n;JMP.ParserStatic.getDescendants(e,"DataFilterBox").forEach((function(e){if(e.hasAttribute("path"))for(t=JSON.parse("["+e.getAttribute("path")+"]"),n=t.length,i=e.parentNode,a=0;a<n&&i;a++)i=i.childNodes[+t[a]];i?i.parentNode.replaceChild(e,i):e.parentNode.removeChild(e)}))},e.parseDataFilter=function(d){let u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R,v,w,O,P,D,F,B,V,k,G,H,Y,U,z,W,X,Z,q,j,K,Q,J,$,ee,te,ie=s(d,"isInverse"),ae=s(d,"isDisabled"),ne=s(d,"isExcludeCounted"),le=d.hasAttribute("description")?d.getAttribute("description"):"",se=d.hasAttribute("descriptionDisabled")?d.getAttribute("descriptionDisabled"):"",oe=function(e,t){let i,a=e.isNumber();const n=JMP.DataFilterStatic.missingCategory?JMP.DataFilterStatic.missingCategory:JMP.ModelStatic.TIP_MISSING;return e.valueLabels?(i=e.getValueString(t),null===i&&(i=n)):i=null===t?n:a?JMP.FormatStatic.formatNumber(t,e.format):t,i},re=function(e){let t=e.pointerTarget;if(t||(t=e.target),void 0===t.valueLow&&(t=t.previousSibling),"input"===e.type||"change"===e.type){let e=t.parentNode.firstChild.firstChild.childNodes[1].firstChild,i=e.nodeValue;i=i.slice(i.lastIndexOf(":")),JMP.DataFilterStatic.formatRangeLabel(e,t.format,!t.isRangeBetween,[t.valueLow,t.valueHigh,i.includes("(")?1:0,i.includes(")")?1:0],t.min,t.max),JMP.ControlStatic.invalidateOffsets()}},ce=!1;if(JMP.DataFilterStatic.dataFilters&&JMP.DataFilterStatic.dataFilters[i])u=JMP.DataFilterStatic.dataFilters[i].groupedValues,Q=JMP.DataFilterStatic.dataFilters[i].isAutoUpdating;else{JMP.DataFilterStatic.dataFilters||(JMP.DataFilterStatic.dataFilters=[]),u=JSON.parse(d.getAttribute("groupedValues"));const e=(de="ldf",new URL(JMP.DocumentStatic.getParentWindow().location).searchParams.get(de));if(e){const t=JSON.parse(e);if(t){const e=Object.keys(t);a=Math.max(...e);const n=t[i];if(n){const e=n.groupedValues;if(e){if(_=u.length,e.length===_){for(ce=!0,T=0;T<_;T++)u[T]=e[T];ie=void 0!==n.isInverted}}}}}}var de;if(_=u.length,h=[],JMP.DataFilterStatic.dataFilters[i])F=JMP.DataFilterStatic.dataFilters[i].columns.rowStates,h=JMP.DataFilterStatic.getFilterColumns(JMP.DataFilterStatic.dataFilters[i]);else{F=new n,w=JMP.ParserStatic.getDescendants(d,"X"),E=0;let e=JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_DATA,0,w[0]);for(T=0;T<_;T++)for(h[T]=[],x=u[T].length,p=0;p<x;p++)h[T][p]=e.columns[+w[E].getAttribute("index")-1],E++}let ue=JMP.ParserStatic.getStored(JMP.ParserStatic.STORAGE_DATA,0,d);if(ue&&(D=ue.rowStates),!D)return;if(JMP.DataFilterStatic.dataFilters[i]||(F.excluded=D.excluded.concat(),F.hidden=D.hidden.concat(),F.labeled=D.labeled.concat(),F.selected=D.selected.concat(),F.selectedIndices=D.selectedIndices.concat(),F.nSelectedIndices=D.nSelectedIndices,F.syncIndices=D.syncIndices),F.marker=D.marker.concat(),F.color=D.color.concat(),D.addEventListener((function(e){if(e.type===n.EVENT_SELECTED)F.selected=D.selected.concat(),F.selectedIndices=D.selectedIndices.concat(),F.nSelectedIndices=D.nSelectedIndices,F.sendEvent(e.type,D)})),JMP.DataFilterStatic.dataFilters[i])ie=JMP.DataFilterStatic.dataFilters[i].isInverted;else{for(z=JMP.DataFilter(),z.tableRowStates=D,z.addRowStates(F),JMP.DataFilterStatic.dataFilters[i]=z,o(d,"isSelectModified",z,"isSelectModified",!1),o(d,"isHideModified",z,"isHideModified",!1),o(d,"isExcludeModified",z,"isExcludeModified",!1),o(d,"isServerNeededForHide",z,"isServerNeededForHide",!1),o(d,"isGroupAND",z,"isGroupAND",!1),o(d,"isServerNeededForAllModes",z,"isServerNeededForAllModes",!1),d.hasAttribute("conditionalHierarchy")&&(z.conditionalHierarchy=JSON.parse(d.getAttribute("conditionalHierarchy"))),c(d,"missingCategory",JMP.DataFilterStatic),r(d,"subsetIndex",z,"rowIndices"),z.isInverted=ie,z.isMissingIncluded=[],z.isOrderedByCount=[],z.isNotUsed=[],z.isModelingTypeModified=[],z.isFilterInverted=[],z.topItem=[],T=0;T<_;T++)for(z.isMissingIncluded[T]=[],z.isOrderedByCount[T]=[],z.isNotUsed[T]=[],z.isModelingTypeModified[T]=[],z.isFilterInverted[T]=[],z.topItem[T]=[],x=u[T].length,p=0;p<x;p++)g=h[T][p],z.isMissingIncluded[T].push(!g.isContinuous()),z.isOrderedByCount[T].push(!1),z.isNotUsed[T].push(!1),z.isModelingTypeModified[T].push(!1),z.isFilterInverted[T].push(!1),z.topItem[T].push(0);if(d.hasAttribute("isMissingIncluded")&&(z.isMissingIncluded=JSON.parse(d.getAttribute("isMissingIncluded"))),d.hasAttribute("isOrderedByCount")&&(z.isOrderedByCount=JSON.parse(d.getAttribute("isOrderedByCount"))),!ce&&d.hasAttribute("isNotUsed")&&(z.isNotUsed=JSON.parse(d.getAttribute("isNotUsed"))),d.hasAttribute("isModelingTypeModified")&&(z.isModelingTypeModified=JSON.parse(d.getAttribute("isModelingTypeModified"))),d.hasAttribute("isFilterInverted")&&(z.isFilterInverted=JSON.parse(d.getAttribute("isFilterInverted"))),d.hasAttribute("topItem")&&(z.topItem=JSON.parse(d.getAttribute("topItem"))),z.isInvertable=ae||!z.isExcludeModified||JMP.ViewStatic.isServerAvailable,JMP.ViewStatic.isServerAvailable||z.isSelectModified||z.isHideModified||(z.isSelectModified=!0),z.isExcludedUsed=!ne,z.conditionalHierarchy)for(T=0;T<_;T++){let e=JMP.DataFilterStatic.getConditionalFilterIndices(z,T);for(A=0;A<e.length;A++)if(p=e[A],g=h[T][p],!g.isContinuous())for($=JMP.DataFilterStatic.getConditionalRowIndices(z,h,u,T,p),S=JMP.DataFilterStatic.getValues(z,g,void 0,z.isOrderedByCount[T][p]),ee=JMP.DataFilterStatic.getValues(z,g,$,z.isOrderedByCount[T][p]),O=u[T][p].length,E=O-1;E>=0;E--)u[T][p][E]=S.indexOf(ee[u[T][p][E]])}for(T=0;T<_;T++)for(x=u[T].length,p=0;p<x;p++)g=h[T][p],z.columns.addColumn(g,t.ROLE_X);z.groupedValues=u,z.originalGroupedValues=u.concat(),B=F.selectedIndices.concat();let e=i===a;z.nMatchingRows=z.applyFilter(!ce,e),F.selectOnly(B,!0)}z=JMP.DataFilterStatic.dataFilters[i],z.contextNode=JMP.ParserStatic.getAncestor(d,"DataFilterContextBox"),JMP.ParserStatic.setLinked(d,JMP.ParserStatic.STORAGE_SEGMENTS,z),W=z.isGroupAND,N=z.rowIndices,ae&&JMP.ViewStatic.isServerAvailable&&(ae=!d.hasAttribute("isEnabledIfServer")||"true"!==d.getAttribute("isEnabledIfServer")),z.isDisabled=ae,z.description=ae?se:le,z.descriptionDisabled=se,z.canvases.length=0,z.frequencies.length=0,z.scrollNodes.length=0;let he=document.createDocumentFragment(),ge="ldf_"+i;if(I=JMP.ParserStatic.createElement("DIV","ldf",he,ge),z.topNode=I,JMP.ViewStatic.isServerAvailable){X=JMP.ParserStatic.createElement("TABLE","filterAutoUpdateTable",I),q=JMP.ParserStatic.createElement("TR","filterRow",X),j=JMP.ParserStatic.createElement("TD","filterLeft",q);let e=ae,t=JMP.ControlStatic.createCustomCheckbox("filterAutoUpdateCheckbox",j,ae);z.isAutoUpdating=void 0===Q||Q,t.checked=z.isAutoUpdating,t.id="filterAutoUpdateCheck_"+i,j=JMP.ParserStatic.createElement("TD","filterCenter",q),JMP.ParserStatic.createElement("LABEL","verticallyCentered nowrap"+(e?" disabledText":""),j).innerHTML=JMP.DataFilterStatic.AUTO_UPDATE,ae||JMP.EventFacadeStatic.addEventListener(t,z.eventHandler);let a=JMP.ControlStatic.createButton(I,void 0,void 0,"buttonUp filterUpdateButton","filterUpdateButton_"+i);a.innerHTML=JMP.DataFilterStatic.UPDATE,ae||JMP.EventFacadeStatic.addEventListener(a,z.eventHandler),z.updateButton=a,z.updateButton.disabled=z.isAutoUpdating}else z.isAutoUpdating=!0;z.matchingRowsText=JMP.ParserStatic.createElement("DIV","filterMatchingText",I,"matchingRows_"+i),JMP.DataFilterStatic.updateMatchingRows(z,z.nMatchingRows),X=JMP.ParserStatic.createElement("TABLE","filterInverseTable",I),q=JMP.ParserStatic.createElement("TR","filterRow",X),j=JMP.ParserStatic.createElement("TD","filterLeft",q);let Se=ae||!z.isFiltered(),me=JMP.ControlStatic.createCustomCheckbox("filterInverseCheckbox",j,Se);me.checked=ie,me.id="filterInverseCheck_"+i,j=JMP.ParserStatic.createElement("TD","filterCenter",q);let fe=JMP.ParserStatic.createElement("LABEL","verticallyCentered nowrap"+(Se?" disabledText":""),j);for(fe.innerHTML=JMP.DataFilterStatic.INVERSE,ae||JMP.EventFacadeStatic.addEventListener(me,z.eventHandler),z.inverseNode=me,z.inverseLabelNode=fe,z.textNodes=[],T=0;T<_;T++){for(z.sliderNodes[T]=[],z.sliderLabels[T]=[],z.tableNodes[T]=[],z.allNodes[T]=[],M=JMP.ParserStatic.createElement("DIV","filterGroup",I),x=u[T].length,p=0;p<x;p++){y=JMP.ParserStatic.createElement("DIV","filterFilter",M),g=h[T][p],m=u[T][p],X=JMP.ParserStatic.createElement("TABLE","filterTableColumn",y),q=JMP.ParserStatic.createElement("TR","filterRow",X);let e=z.isModelingTypeModified[T][p]?!g.isContinuous():g.isContinuous(),t="concealed",i="";if(z.conditionalHierarchy&&z.conditionalHierarchy[T][p]>=0&&(t="revealed",i=z.conditionalHierarchy[T][p]+1),j=JMP.ParserStatic.createElement("TD","filterOrdinal",q),JMP.ParserStatic.createElement("BUTTON","filterButton "+t,j).appendChild(document.createTextNode(i)),j=JMP.ParserStatic.createElement("TD",g.isContinuous()?"filterCenter":"filterLeft",q),e&&(C=document.createTextNode(g.name+JMP.ViewStatic.COLON),j.style.fontSize=JMP.TEXT_FONT_SIZE+"px",j.appendChild(C)),j=JMP.ParserStatic.createElement("TD",g.isContinuous()?"filterLeft":"filterCenter",q),e||(C=document.createTextNode(g.name+JMP.ViewStatic.COLON),j.appendChild(C)),j=JMP.ParserStatic.createElement("TD","filterRight",q),X=void 0,Z=void 0,e)L=JMP.ParserStatic.createElement("CANVAS","multirange",y),z.canvases.push(L),R=JMP.ParserStatic.createElement("INPUT","",y),R.id=T+","+p,JMP.FormatStatic.isDateTime(g.format)?R.format=g.format:(f=g.format,R.format=JMP.Format(f.formatName,f.showThousands,f.nDecimals+1,void 0!==f.fieldWidth&&f.fieldWidth>=0?f.fieldWidth+(void 0!==f.nDecimals&&f.nDecimals>0?f.nDecimals+1:2):void 0,f.formatCode,f.decimalSeparator,f.thousandsSeparator,f.positivePrefix,f.positiveSuffix,f.negativePrefix,f.negativeSuffix,f.dateTimePattern,f.dateSeparator,f.timeSeparator,f.AMDesignator,f.PMDesignator,f.useAMPM,f.useAMPMInFront,f.use24HourClock,f.useZeroForMidnight,f.useMinusForNegativeDateTime,f.useLeadingZeroForHour)),R.setAttribute("type","range"),R.setAttribute("multiple","true"),te=JMP.MultiRangeStatic.initialize(R),z.sliderNodes[T][p]=R,z.sliderLabels[T][p]=C,z.tableNodes[T].push(X),z.allNodes[T].push(Z),JMP.DataFilterStatic.showDistribution(z,T,p),JMP.ViewStatic.isServerAvailable||R.valueLow!==R.valueHigh||(ae=!0),ae?(R.disabled="true",te.disabled="true"):(JMP.EventFacadeStatic.addEventListener(R,re),JMP.EventFacadeStatic.addEventListener(te,re),JMP.EventFacadeStatic.addEventListener(R,z.eventHandler),JMP.EventFacadeStatic.addEventListener(te,z.eventHandler));else{for(P=JMP.ParserStatic.createElement("DIV","filterScroll",y),z.scrollNodes.push(P),S=JMP.DataFilterStatic.getValues(z,g,void 0,z.isOrderedByCount[T][p]),B=JMP.FrequencyStatic.getRows([g],[S],F,N,!1,!1,!ne),O=S.length,G=0,Y=0,E=0;E<O;E++)V=oe(g,S[E]),k=JMP.TextBoxStatic.getApproximateWidth(V),Y+=k,G<k&&(G=k);for(Y/=O,G<80?(H=G,G=80):(G=60+20*Math.round(Y/20),G=Math.min(200,G),H=G),U=JMP.TextBoxStatic.getApproximateWidth("..."),O>7&&(P.style.minWidth=H+115+"px"),J=!0,X=JMP.ParserStatic.createElement("TABLE","filterTable",P),E=0;E<O;E++){let e;V=oe(g,S[E]),JMP.TextBoxStatic.getApproximateWidth(V)>G&&(e=l(V),b=JMP.TextBoxStatic.getLastCharIndex(document.getElementById("sizingCanvas").getContext("2d"),V,0,V.length-1,G-U),V=V.slice(0,b)+"..."),V=l(V),K=m.includes(E),K||(J=!1),q=JMP.ParserStatic.createElement("TR","revealed "+(E<O-1?"filterRowBorder":"filterRow")+" "+(ae?"":K?"selected":"lightBackground"),X),q.id=T+","+p+","+E,ae||JMP.EventFacadeStatic.addEventListener(q,z.eventHandler),j=JMP.ParserStatic.createElement("TD","filterLeft",q),v=JMP.ControlStatic.createCustomCheckbox("filterCheckbox",j,ae),v.checked=K;const t=JMP.TEXT_FONT_SIZE+"px";j=JMP.ParserStatic.createElement("TD","filterCenter",q),j.style.fontSize=t,e&&j.setAttribute("fullText",e),v=JMP.ParserStatic.createElement("LABEL","verticallyCentered nowrap"+(ae?" disabledText":""),j),v.innerHTML=V;const i=1.5*JMP.TEXT_FONT_SIZE+(ae?-3:-2);v.style.height=i+"px",v.style.float="left",j=JMP.ParserStatic.createElement("TD","filterRight",q);const a=JMP.TEXT_FONT_SIZE+(ae?4:2);v=JMP.ParserStatic.createElement("DIV",ae?"barBox":"barBox border",j),v.style.margin="2px",v.style.height=a+"px",v.style.borderWidth=ae?"0px":"1px"}v=JMP.ControlStatic.createCustomCheckbox("filterCheckboxAll",C.parentNode.parentNode.childNodes[1],ae),v.checked=J,v.id=T+","+p,ae||JMP.EventFacadeStatic.addEventListener(v,z.eventHandler),Z=v,z.tableNodes[T].push(X),z.allNodes[T].push(Z),JMP.DataFilterStatic.showDistribution(z,T,p)}p<x-1&&(v=JMP.ParserStatic.createElement("BR","",y),g.isContinuous()&&(v=JMP.ParserStatic.createElement("BR","",y)),R=document.createTextNode(W?JMP.DataFilterStatic.LABEL_OR:JMP.DataFilterStatic.LABEL_AND),y.appendChild(R),z.textNodes.push(R))}T<_-1&&(R=document.createTextNode(W?JMP.DataFilterStatic.LABEL_AND:JMP.DataFilterStatic.LABEL_OR),I.appendChild(R),z.textNodes.push(R))}return JMP.ViewStatic.isServerAvailable||(z.isExcludeModified=!1),JMP.EventFacadeStatic.addEventListener(I,e.onDataFilterTooltip,i),i++,I},e.drawAllDataFilters=function(){if(JMP.DataFilterStatic.dataFilters)for(let e=0;e<JMP.DataFilterStatic.dataFilters.length;e++){const t=JMP.DataFilterStatic.dataFilters[e];t.draw();let i=t.scrollNodes.length;for(let e=0;e<i;e++){let i=t.scrollNodes[e];if(i){i.scrollTop=t.scrollTops[e];let a=i.offsetHeight;a<=0&&(a=3),i.style.minHeight=a-2+"px";let n=0;for(let e=0;e<i.firstChild.childNodes.length&&n<=0;e++)n=i.firstChild.childNodes[e].offsetHeight;n<=0&&(n=32),i.style.maxHeight=7*n+"px"}}}},e}();class x{menuItems={};constructor(e){e&&(this.menuItems=e)}static createPayload(e,t,i){return{action:"InputMenu",payload:{segmentName:i,menuName:JMP.DocumentMenuStatic.getMenuTextEnglish(e),menuTitle:JMP.DocumentMenuStatic.getMenuTextLocale(e+"_Title"),menuControlLabels:x.#ft(),inputs:x.#Tt(e,t)}}}static#ft(){return[{id:"cancel",label:JMP.DocumentMenuStatic.getMenuTextLocale("Cancel")},{id:"submit",label:JMP.DocumentMenuStatic.getMenuTextLocale("Ok")}]}static#Tt(e,t){return[{type:"float",value:t,label:JMP.DocumentMenuStatic.getMenuTextLocale(e+"_Dlg")}]}}JMP.DocumentMenuStatic=function(){"use strict";let e={menuOptions:[]};return e.distributionIndex=new Set,e.clearClientScaleStates=!1,e.nodeDisplays=[],e.menuProvider=function(t){let i,a=[];if("string"==typeof t&&t.includes("Distrib")){i=e.distributionMenuProvider(t);const a=+t.split("_")[1];a>0&&(t=a-1)}let n,l,s,o,r,c,d,u,h=JMP.DocumentMenuStatic.nodeDisplays[t];if(h){for(r=h.length,s=0;s<r;s++)if(l=h[s],n=JMP.ParserStatic.getLinked(l,JMP.ParserStatic.STORAGE_SEGMENTS),n){if(d=n.menuProvider(),void 0!==d)if(c=a.length,0===c)a=d;else for(o=0;o<c;o++)void 0===a[o].isDisabled&&(a[o].isDisabled=!1);"FrameBox"===l.nodeName&&(a=[],u=d)}u&&(a=u.concat(a)),i&&(a=a.concat(i))}return i&&0===a.length&&(a=i),a},e.distributionMenuProvider=function(e){let t;if("Distrib"===e.split("_")[0])t=T.distribMenuItem;else{const i=T.histNodeDisplaysWithMenu.get(e).filter((e=>"HistogramSegment"===e.nodeName));if(i.length>0){t=JMP.ParserStatic.getLinked(i[0],JMP.ParserStatic.STORAGE_SEGMENTS).menuOptions}}return t},e.menuHandler=function(t,i){if("string"==typeof i)if(t.toLowerCase().includes("idforjmplivemenu"))e.histogramMenuHandler(t,i);else{const e=+i.split("_")[1];i=e-1}let a,n,l,s=JMP.DocumentMenuStatic.nodeDisplays[i];if(s)for(l=s.length,n=0;n<l;n++)if(a=JMP.ParserStatic.getLinked(s[n],JMP.ParserStatic.STORAGE_SEGMENTS),a){let e=!1;a.menuProvider()&&(e=a.menuProvider().some((function(e){return e.type===JMP.MenuStatic.MENU_ITEM&&e.menuItems?e.menuItems.some((function(e){return e.id===t})):e.id===t}))),e&&a.menuHandler(t)}},e.getMenuItems=function(e){return JMP.DocumentStatic.platformMenu[e]},e.getMenuTextLocale=function(t){return e.getMenuItems("menuItems")[t.replaceAll(" ","")].translatedName},e.getMenuTextEnglish=function(t){return e.getMenuItems("menuItems")[t.replaceAll(" ","")].name},e.getSegmentAssociatedWithMenuId=function(e){const t=T.histNodeDisplaysWithMenu.get(e),i=Array.from(t).filter((e=>"HistogramSegment"===e.nodeName));return JMP.ParserStatic.getLinked(i[0],JMP.ParserStatic.STORAGE_SEGMENTS)},e.histogramMenuHandler=function(t,i){let a="Distribution",n=!1,l=t.split(":")[1];if("Set Bin Width"===l){const t=e.getSegmentAssociatedWithMenuId(i),a=JMP.DocumentMenuStatic.menuOptions.indexOf(l);let n=JMP.DocumentMenuStatic.menuOptions[a+1];n.includes("Changed")&&(n=n.substring(n.indexOf(":")+1));const s=x.createPayload(l.replaceAll(" ",""),n,t.description);s&&JMP.ServerStatic.postDataToChannel(s)}else{if("Distrib"!==!i.split("_")[0]){const t=e.getSegmentAssociatedWithMenuId(i);a=t.description,"CDF Plot"===l?n=(!t.isCDFPlot).toString():"Quantile Box Plot"===l?n=(!t.isQuantilePlot).toString():"Mosaic Plot"===l&&(n=(!t.isMosaicPlot).toString())}else n=(!T.isStacked).toString();const t={itemName:l,description:a,menuStatus:n},s=JMP.DocumentMenuStatic.menuOptions.indexOf(t.description),o=[...JMP.DocumentMenuStatic.distributionIndex].indexOf(s);let r="Stack"===l?2:0,c=JMP.DocumentMenuStatic.menuOptions.length-1;o+1!==JMP.DocumentMenuStatic.distributionIndex.size&&(c=[...JMP.DocumentMenuStatic.distributionIndex][o+1]);for(let e=s;e<c;e++)if(JMP.DocumentMenuStatic.menuOptions[e]===t.itemName){r=e+1;break}let d="true"===JMP.DocumentMenuStatic.menuOptions[r]?"false":"true";JMP.DocumentMenuStatic.menuOptions[r]=d,e.clearClientScaleStates="Stack"!==t.itemName&&"false"===d,JMP.ServerStatic.updateClientStatesToAddMenu(JMP.DocumentMenuStatic.menuOptions,[...JMP.DocumentMenuStatic.distributionIndex],e.clearClientScaleStates)}},e.createMenu=function(e,t,i,a,n,l,s,o){let r="buttonUp ";r+=s?"outlineButton noBorderTopRightRadius ":"square spaceLeft ";let c=JMP.ParserStatic.createElement("BUTTON",r+(t?"concealed":"revealed"),e),d=JMP.ParserStatic.createElement("IMG","svgImage buttonImage",c);c.id=i;const u=()=>d.setAttribute("src",l?l():JMP.MenuStatic.getKebabIcon(o));return u(),JMP.DocumentStatic.themeChangeEventDispatcher.addEventListener((()=>{u()})),JMP.EventFacadeStatic.addEventListener(c,(function(e,t){JMP.MenuStatic.onMenuButton(e,a,n,t.menuId)}),{menuId:i}),c},e.getMenuId=function(t){let i,a,n,l,s,o,r,c=[],d=JMP.ParserStatic.getDescendants(t,"FrameBox",!0);let u=-1;for(JMP.ParserStatic.getDescendantsAllTogether(t,["BubblePlotSegment","MarkerSegment","ProfileSegment","ScriptSegment","DataFilterBox"],["TABLE","LegendBox","AreaSegment","BarSegment","BubblePlotSegment","MarkerSegment","LineSegment","ProfileSegment","PolylineSegment","ScriptSegment","TreemapSegment"],!0,d),s=["OutlineBox","TabPageBox"],o=s.length,n=d.length,i=0;i<n;i++)if("ScriptSegment"!==d[i].nodeName||JMP.ScriptSegmentStatic.hasMenu(d[i].textContent)){for(l=void 0,r=d[i].parentNode;!l&&r!==t;){for(a=0;a<o&&!l;a++)r.nodeName===s[a]&&JMP.ParserStatic.isOutlineNode(r)&&(l=r);r=r.parentNode}l||c.push(d[i])}if(c.length>0&&(e.nodeDisplays.push(c),u=e.nodeDisplays.length-1),t){let e=t.children[0];if("TabPageBox"===t.nodeName&&e&&"TabBox"===e.nodeName){n=e.children.length;let a=e.children;for(i=0;i<n;i++)a[i].setAttribute("isMenuEnabled",!1),a[i].setAttribute("menuId",u);let l=c.length,s=a.length;for(i=0;i<l;i++){r=c[i].parentNode;let e=!1;for(;!e&&r!==t;){for(let t=0;t<s&&!e;t++)r===a[t]&&(e=!0,r.setAttribute("isMenuEnabled",!0));r=r.parentNode}}}}return u},e}();class L{data=new Map;height=0;font_size=0;row_count=0;table_id="";current_page_index=0;rows_per_page=0;max_page_index=0;first_page_btn_clicked=!1;last_page_btn_clicked=!1;constructor(){this.current_page_index=0,this.rows_per_page=0,this.next=this.next.bind(this),this.previous=this.previous.bind(this)}createPaginationControls(e,t){let i=JMP.ParserStatic.createElement("DIV","legacyBorder",e.parentElement),a=document.createElement("button");a.innerHTML=">",a.addEventListener("click",this.next),a.setAttribute("id","next_btn_"+t),a.className="paginationButton";let n=document.createElement("button");n.innerHTML="<",n.addEventListener("click",this.previous),n.setAttribute("id","prev_btn_"+t),n.className="paginationButton";let l=document.createElement("button");l.innerHTML="|<",l.addEventListener("click",(()=>{this.first_page_btn_clicked=!0})),l.addEventListener("click",this.previous),l.setAttribute("id","first_page_btn_"+t),l.className="paginationButton";let s=document.createElement("button");s.innerHTML=">|",s.addEventListener("click",(()=>{this.last_page_btn_clicked=!0})),s.addEventListener("click",this.next),s.setAttribute("id","last_page_btn_"+t),s.className="paginationButton";let o=document.createElement("span");o.textContent=this.#pt(),o.setAttribute("id","pageInfo_"+t);let r=document.createElement("input");r.maxLength=(this.max_page_index+"").length,r.max=this.max_page_index,r.min=1,r.setAttribute("type","number"),r.setAttribute("id","pageIndex_"+t),r.setAttribute("style","height: 3px; width:"+r.maxLength*JMP.TEXT_FONT_SIZE+"px ; margin-top:10px; margin-right: 15px;"),r.addEventListener("keyup",(e=>{if(e.isComposing)return;if(null===e.target.value.match(/^\d+$/))return void(e.target.value="");if(""===e.target.value.trim())return;let t=e.target.valueAsNumber-1;if(t===this.current_page_index)return;t>=this.max_page_index&&(t=this.max_page_index-1,e.target.value=this.max_page_index),t<=0&&(t=0,e.target.value=1),this.current_page_index=t,this.#Et();document.getElementById("pageInfo_"+this.table_id).textContent=this.#pt()})),i.appendChild(r),i.appendChild(o),i.appendChild(l),i.appendChild(n),i.appendChild(a),i.appendChild(s)}calculateRowsPerPage(){const e=(this.font_size?this.font_size:JMP.TEXT_FONT_SIZE)+8;this.rows_per_page=Math.ceil(this.height/e)}setTableData(e,t){this.data.set(e,t)}next(){this.last_page_btn_clicked?(this.current_page_index=this.max_page_index-1,this.last_page_btn_clicked=!1):(this.current_page_index++,this.current_page_index=Math.min(this.current_page_index,this.max_page_index));document.getElementById("pageInfo_"+this.table_id).textContent=this.#pt();document.getElementById("pageIndex_"+this.table_id).value=this.current_page_index>=this.max_page_index?this.max_page_index:this.current_page_index+1,this.#Et()}previous(){this.first_page_btn_clicked?(this.current_page_index=0,this.first_page_btn_clicked=!1):this.current_page_index=this.current_page_index--<=0?0:this.current_page_index;document.getElementById("pageInfo_"+this.table_id).textContent=this.#pt();document.getElementById("pageIndex_"+this.table_id).value=this.current_page_index+1,this.#Et()}#pt(){return(this.current_page_index===this.max_page_index?this.current_page_index:this.current_page_index+1)+" of "+this.max_page_index}#Et(){const e=this.current_page_index,t=this.data.get(this.table_id).parentDisplay;let i=0===e;this.row_count=0;for(let a=0;a<this.rows_per_page-1;a++){let n=this.rows_per_page*e+a;if(e>1&&(n-=e-1),n<0||n>t.childNodes.length||0===a&&n===t.childNodes.length)break;if(n>=t.childNodes.length){for(let e=a;e<this.rows_per_page;e++)this.data.get(this.table_id).parentHTML.childNodes[1].childNodes[e]&&(this.data.get(this.table_id).parentHTML.childNodes[1].childNodes[e].textContent="");break}i&&n++;const l=t.childNodes[n],s=this.#bt(l);if(!s)break;{const e=this.data.get(this.table_id).parentHTML.childNodes[1].childNodes[a];this.data.get(this.table_id).parentHTML.childNodes[1]?this.data.get(this.table_id).parentHTML.childNodes[1].replaceChild(s,e):this.data.get(this.table_id).parentHTML.childNodes[1].appendChild(s);let t=l.childNodes.length;for(let e=0;e<t;e++){const t=this.#bt(l.childNodes[e]);if(!t)break;this.data.get(this.table_id).parentHTML.childNodes[1].childNodes[a].appendChild(t);let i=l.childNodes[e].childNodes;for(let t=0;t<i.length;t++){const i=this.#bt(l.childNodes[e].childNodes[t]);i&&this.data.get(this.table_id).parentHTML.childNodes[1].childNodes[a].childNodes[e].appendChild(i)}}}}}#bt(e){let t;switch(e.nodeName){case"#text":let i=e.nodeValue;if(JMP.HTML_FORMAT&&i.includes("<br>")){const e=i.split("<br>");i=e.map((e=>e.trim())).join("\n")}if("TH"===e.parentNode.nodeName&&i.length>25){let e=i.length/2,t=i.indexOf(" ",e),a=i.lastIndexOf(" ",e),n=-1;t>=0&&a>=0?n=t-e<e-a?t:a:t>=0?n=t:a>=0&&(n=a),n>=0&&(i=i.substring(0,n)+"\n"+i.substring(n+1))}t=document.createTextNode(i);break;case"TD":t=JMP.DocumentTableStatic.parseTD(e);break;case"TH":t=JMP.DocumentTableStatic.parseTH(e),t.hasAttribute("scope")&&"COL"===t.getAttribute("scope").toString().toUpperCase()&&(t.style.fontWeight="bold");break;case"TR":t=JMP.ParserStatic.createElement(e.nodeName,"text darkBackground"),JMP.ParserStatic.getDescendant(e,"LegendCell")&&(t.className+=" legendRow")}return t}}JMP.DocumentTableStatic=function(){"use strict";const e="_";let t={table_paginated:!1,table_row_count:0,table_rows_per_page:0};return t.dataSetAndAssociatedGraphs=new Map,t.groupStartsEnds=[],t.groupIndices=[],t.groupIndicesMap=new Map,t.groupStartsEndsMap=new Map,t.selectedTableAndGroup=new Set,t.isTableAllGroupCountOne=new Set,t.onPointerEvent=function(e){let i=e.pointerTarget,a=null;if(i||(i=e.target),"pointerdown"===e.type&&"THEAD"!==i.parentNode.parentNode.nodeName){const a=!!e.ctrlKey,n=i.closest("TABLE"),l=i.closest("tbody"),s=n&&n.hasAttribute("isTableRowsSelectable")&&"true"===n.getAttribute("isTableRowsSelectable"),o=l&&l.hasAttribute("isTableRowsSelectable")&&"true"===l.getAttribute("isTableRowsSelectable");if(s||o){const e=i.parentNode.childNodes[2].attributes.parentOutlineNode.value,n=t.groupStartsEndsMap.get(e);if(i.parentNode.childNodes[2].hasAttribute("group")&&+i.parentNode.childNodes[2].getAttribute("group")+1===n.length)return;if(i.parentNode.childNodes[2].classList.contains("selected"))t.clearSelectedRows(i.parentNode);else{let e=i.parentNode.childNodes[2].hasAttribute("datasetIndex")?i.parentNode.childNodes[2].getAttribute("datasetIndex"):0;t.setRowsAsSelected(i.parentNode,a,+e)}}}if("TD"===i.nodeName){let t=!1;if(i.hasAttribute("description"))a=i.getAttribute("description");else{t=!0;let e,n,l,s,o=i.parentNode,r=o.parentNode,c="TABLE"===r.nodeName?r.firstChild:r.parentNode.firstChild,d=-1,u=0;for(e=o.firstChild;e;e=e.nextSibling)i===e&&(d=u),u+=e.hasAttribute("colspan")?+e.getAttribute("colspan"):1;for(s=null,n=c.firstChild;n;n=n.nextSibling)for(u=0,e=n.firstChild;e;e=e.nextSibling)u===d&&"TH"===e.nodeName&&e.childNodes&&e.childNodes[0]&&(s=e),e&&e.hasAttribute&&(u+=e.hasAttribute("colspan")?+e.getAttribute("colspan"):1);l=null;let h=!1;for(let e=r.childNodes.length-1;e>0&&!l;e--){let t=r.childNodes[e];t===o&&(h=!0),h&&t&&"TR"===t.nodeName&&t.childNodes&&t.childNodes[d]&&"TH"===t.childNodes[d].nodeName&&""!==t.childNodes[d].firstChild.nodeValue.trim()&&(l=t,s=t.childNodes[d])}if(null===s)for(u=0,e=o.firstChild;e&&u<d;e=e.nextSibling)"TH"===e.nodeName&&e.childNodes&&e.childNodes[0]&&(l=e),u+=e.hasAttribute("colspan")?+e.getAttribute("colspan"):1;s?a=s.childNodes[0].nodeValue:l?a=l.childNodes[0].nodeValue:i.childNodes&&i.childNodes[0]&&(a=i.childNodes[0].nodeValue)}null!==a&&(a=a.trim()),a=a?t?[a]:a.split(JMP.LINE_SEPARATOR):[],JMP.TooltipStatic.updateTooltip(e,JMP.TooltipModel(a))}else"TH"===i.nodeName&&(a=[JMP.ParserStatic.getNearestDescription(i)],JMP.TooltipStatic.updateTooltip(e,JMP.TooltipModel(a)))},t.parseTH=function(i){let a,n,l,s="";a=i.hasAttribute("scope")&&"row"===i.getAttribute("scope");const o=i.closest("TABLE");if(n="text header",i.hasAttribute("isSelected")&&"true"===i.getAttribute("isSelected")){if(n+=" selected",i.parentNode.hasAttribute("group")){const a=i.parentNode.getAttribute("group")+e+o.getAttribute("parentOutlineNode");t.selectedTableAndGroup.add(a)}}else n+=" darkBackground";if(a||(n+=" wrap"),o&&o.hasAttribute("isTabulate")&&o.getAttribute("isTabulate")&&(n+=" tabulateHeader"),l=JMP.ParserStatic.createElement(i.nodeName,n),i.hasAttribute("rowspan")&&l.setAttribute("rowspan",i.getAttribute("rowspan")),i.hasAttribute("colspan")&&(l.setAttribute("colspan",i.getAttribute("colspan")),l.setAttribute("class",l.getAttribute("class")+" center")),i.hasAttribute("style")&&(s=i.getAttribute("style"),i.hasAttribute("paginatedTableColWidth")&&(s+="; width: "+i.getAttribute("paginatedTableColWidth")+"px ;"),l.setAttribute("style",s)),o&&o.hasAttribute("tabulateHeadingFontSize")){const e=JMP.adjustFontSize(parseInt(o.getAttribute("tabulateHeadingFontSize")));l.setAttribute("style",s+" --tabulateHeadingFontSize: "+e+"px")}let r=0;if(o&&(o.hasAttribute("datasetIndex")?(r=+o.getAttribute("datasetIndex"),l.setAttribute("datasetIndex",r)):l.setAttribute("datasetIndex",r)),t.applyTableCellColors(i,l),i.hasAttribute("description")&&l.setAttribute("description",i.getAttribute("description")),i.hasAttribute("scope")&&l.setAttribute("scope",i.getAttribute("scope")),i.parentNode.hasAttribute("group")){const e=i.parentNode.getAttribute("group");l.setAttribute("group",e)}if("groupstartsends"===i.parentNode.firstChild.nodeName.toLowerCase()&&t.setRowIndices(i.parentNode,r),i.parentNode.hasAttribute("isAllGroupCountOne")){const e=i.parentNode.getAttribute("isAllGroupCountOne");l.setAttribute("isAllGroupCountOne",e)}if(o){const e=o.hasAttribute("parentOutlineNode")?o.getAttribute("parentOutlineNode"):"";l.setAttribute("parentOutlineNode",e)}return l},t.parseTD=function(i){let a,n;n=JMP.ParserStatic.createElement(i.nodeName,"alt"===i.parentNode.getAttribute("class")?"text":"text lightBackground"),i.childNodes[0]&&(i.childNodes[0].nodeValue&&i.childNodes[0].nodeValue.length>40||"TextBox"===i.childNodes[0].nodeName&&i.childNodes[0].hasAttribute("width"))&&(n.className+=" wrap"),a=i.previousSibling,a&&JMP.ParserStatic.getDescendant(a,"ScriptSegment")&&(n.className.includes("legendRow")||(n.className+=" legendRow"));const l=i.closest("TABLE");if(i.hasAttribute("isSelected")&&"true"===i.getAttribute("isSelected")&&(n.setAttribute("class","text selected"),i.parentNode.hasAttribute("group"))){const a=i.parentNode.getAttribute("group")+e+l.getAttribute("parentOutlineNode");t.selectedTableAndGroup.add(a)}i.hasAttribute("rowspan")&&n.setAttribute("rowspan",i.getAttribute("rowspan")),i.hasAttribute("colspan")&&n.setAttribute("colspan",i.getAttribute("colspan"));let s="";i.hasAttribute("style")&&(s=i.getAttribute("style"),n.setAttribute("style",s)),i.hasAttribute("paginatedTableColWidth")&&(s+="; width: "+i.getAttribute("paginatedTableColWidth")+"px ;",n.setAttribute("style",s));if(l&&l.hasAttribute("isTabulate")&&l.getAttribute("isTabulate")&&(n.classList.add("wrap"),n.style.fontSize=JMP.TEXT_FONT_SIZE+"px"),i.closest("BorderBox")&&i.closest("BorderBox").hasAttribute("backgroundColor")){const e=i.closest("BorderBox").getAttribute("backgroundColor");if(n.style.backgroundColor=e,e===JMP.COLOR_BLACK){let e=n.getAttribute("style");e+=" color: "+JMP.COLOR_WHITE,n.setAttribute("style",e)}}if(t.applyTableCellColors(i,n),i.hasAttribute("description")&&n.setAttribute("description",i.getAttribute("description")),i.parentNode.hasAttribute("group")){const e=i.parentNode.getAttribute("group");n.setAttribute("group",e)}if(i.parentNode.hasAttribute("isAllGroupCountOne")){const e=i.parentNode.getAttribute("isAllGroupCountOne");n.setAttribute("isAllGroupCountOne",e)}if(l){const e=l.hasAttribute("parentOutlineNode")?l.getAttribute("parentOutlineNode"):"";n.setAttribute("parentOutlineNode",e)}let o=0;return l&&(l.hasAttribute("datasetIndex")?(o=+l.getAttribute("datasetIndex"),n.setAttribute("datasetIndex",o)):n.setAttribute("datasetIndex",o)),n},t.parseTable=function(e,i,a){let n,l,s,o,r,c,d,u,h,g,S,m,f=i,T=i,p=!1;t.table_paginated=!1,e.hasAttribute("isPaginated")&&(p=!0);const E=new L,b=e.getAttribute("fontSize");if(b){const e=JMP.adjustFontSize(+b);i.style.fontSize=`${e}px`,p&&(E.font_size=e)}if(e.childNodes.length>0){for(l=0,s=0,S=e.childNodes[0],n=S.childNodes.length,h=0;h<n;h++)m=S.childNodes[h],"TD"===m.nodeName?l++:s++;if(0===l){if(f=JMP.ParserStatic.createElement("THEAD","legacyBorder darkBackground",i),e.childNodes.length>20){T=JMP.ParserStatic.createElement("TBODY","legacyBorder darkBackground",i);const t=e.getAttribute("height");p&&(E.height=t,T.setAttribute("style"," overflow-y:clip;"),(E.height<10||E.height>window.screen.height)&&(E.height=Math.ceil(window.screen.height*(2/3)))),T.setAttribute("jmpHeight",t)}}else if(s>=1){for(r=JMP.ParserStatic.createElement("COLGROUP",null,i),c=!1,d="TH"===S.childNodes[0].nodeName,h=0;h<n;h++)u=h<n-1&&"TH"===S.childNodes[h+1].nodeName,g=c&&d&&u?"legacyBorderTopBottom darkBackground":c&&d?"legacyBorderTopBottomRight darkBackground":d&&u?"legacyBorderTopBottomLeft darkBackground":d?"legacyBorder darkBackground":null,o=JMP.ParserStatic.createElement("COL",g,r),S.childNodes[h].hasAttribute("colspan")&&o.setAttribute("span",S.childNodes[h].getAttribute("colspan")),c=d,d=u;m=o}if(p){const n=e.getAttribute("id");i.setAttribute("id",n),E.table_id=n,E.setTableData(n,{parentDisplay:e,parentHTML:i,nodes:a}),E.calculateRowsPerPage();const l=Math.ceil((e.childNodes.length-E.rows_per_page-1)/(E.rows_per_page-1));E.max_page_index=1+l,E.createPaginationControls(i,n),t.table_paginated=!0,t.table_row_count=E.row_count,t.table_rows_per_page=E.rows_per_page}e.hasAttribute("parentOutlineBoxIsRevealed")&&T.setAttribute("parentOutlineBoxIsRevealed",e.getAttribute("parentOutlineBoxIsRevealed")),e.hasAttribute("isTableRowsSelectable")&&"true"===e.getAttribute("isTableRowsSelectable")&&(T.setAttribute("isTableRowsSelectable",e.getAttribute("isTableRowsSelectable")),JMP.isTableWithSelectionEnabled=!0),JMP.DocumentStatic.themeChangeEventDispatcher.addEventListener((()=>{JMP.DocumentTableStatic.updateTableCellColors(i)}))}a[0]=f,a[1]=T},t.parseBarBox=function(e,t){let i,a,n,l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,A,_,x,L,N,I;if(o=e.hasAttribute("origin")?+e.getAttribute("origin"):0,r=e.hasAttribute("range")?+e.getAttribute("range"):1,c=e.hasAttribute("value")?+e.getAttribute("value"):.5,d=e.hasAttribute("lower")?+e.getAttribute("lower"):void 0,u=e.hasAttribute("upper")?+e.getAttribute("upper"):void 0,h=e.hasAttribute("refLine")?+e.getAttribute("refLine"):void 0,g=e.hasAttribute("width")?+e.getAttribute("width")/r:0,S=e.hasAttribute("barColor")?e.getAttribute("barColor"):void 0,m=e.hasAttribute("cumulativeValue")?+e.getAttribute("cumulativeValue"):void 0,void 0!==d&&void 0===u&&(u=d,d=-d,d<o&&(d=o)),f=c,f<o&&(f=o),f>o+r&&(f=o+r),p=Math.round(g*o),A=Math.round(g*f),E=Math.round(g*r),o>=0?(L=A-p,x=f-o,_=0,N=p+E-A):(L=Math.abs(A),x=Math.abs(f),c>=0?(_=-p,N=p+E-A):(_=0===L?-p:A-p+1,N=p+E)),I=JMP.TEXT_FONT_SIZE,L>1?(i=JMP.ParserStatic.createElement("DIV","barBox border",t),i.style.marginLeft=_+"px",i.style.width=L-2+"px",i.style.height=I+"px",i.style.marginRight=N+"px"):x>0?(i=JMP.ParserStatic.createElement("DIV","barBoxSmall",t),i.style.marginLeft=_+"px",i.style.width="1px",i.style.height=I+2+"px",i.style.marginRight=N+"px"):(i=JMP.ParserStatic.createElement("DIV","",t),i.style.height=I+2+"px"),n=[i],S&&i.style.setProperty("--color-box-shadow-bar-box",S),I+=2,L>4&&Math.abs(c-f)>Math.abs(1e3*r*JMP.MAC_EPS)&&i.classList.contains("barBox")){i.classList.remove("barBox");const e=S||"var( --color-box-shadow-bar-box )",t="var( --color-background-light )";i.style.backgroundColor=e,i.style.backgroundImage=`linear-gradient(to right, ${e} , ${t})`}if(void 0!==m&&(T=m,T<o&&(T=o),T>o+r&&(T=o+r),T!==f&&(_=g*(T-o),i=JMP.ParserStatic.createElement("DIV","barBoxSmall",t),i.style.marginLeft=_+"px",i.style.width="1px",i.style.height=I+"px",i.style.marginTop=-I+"px",n.push(i))),void 0!==d&&(_=g*(d-o)+(d<0?1:0),i=JMP.ParserStatic.createElement("DIV","barBoxBound",t),i.style.marginLeft=_+"px",i.style.width="1px",i.style.height=I+"px",i.style.marginTop=-I+"px",n.push(i)),void 0!==u&&u!==d&&(_=g*(u-o),i=JMP.ParserStatic.createElement("DIV","barBoxBound",t),i.style.marginLeft=_+"px",i.style.width="1px",i.style.height=I+"px",i.style.marginTop=-I+"px",n.push(i)),void 0===d&&void 0===u&&void 0!==h){_=g*(h-o)+(h<0?1:0),a=JMP.ParserStatic.createElement("DIV","barBoxBound",t),a.style.marginLeft=_+"px",a.style.width="1px";const e=n[0].closest("TD");e.style.paddingTop="0px",e.style.paddingBottom="0px",a.style.height=I+6+"px",a.style.marginTop=-I-4+"px",parseInt(a.style.marginLeft.slice(0,-2))>=parseInt(i.style.marginLeft.slice(0,-2))&&parseInt(a.style.marginLeft.slice(0,-2))<=parseInt(i.style.marginLeft.slice(0,-2))+L&&(a.style.zIndex="-1",i.style.position="relative"),i.style.marginTop="4px",n.push(a)}n.push(t),l=n.length;const M=new b;for(s=0;s<l;s++)JMP.EventFacadeStatic.addEventListener(n[s],M.onPointerEventTable,{origin:o,range:r,value:c,cumulativeValue:m,upper:u,lower:d,refLine:h})},t.formatScrollableTables=function(){let e,t,i,a=document.getElementsByTagName("TBODY");for(e=0;e<a.length;e++){const n=!a[e].hasAttribute("parentOutlineBoxIsRevealed")||"true"===a[e].getAttribute("parentOutlineBoxIsRevealed").toLowerCase();t=a[e].parentNode,i=t.getBoundingClientRect().height,n&&a[e].hasAttribute("jmpHeight")&&1.3*Number(a[e].getAttribute("jmpHeight"))<i&&(t.className=t.className+" scrollableTable",a[e].rows.length>0?a[e].style.height=a[e].getAttribute("jmpHeight")+"px":a[e].previousElementSibling.rows.length>0&&(a[e].previousElementSibling.style.height=a[e].getAttribute("jmpHeight")+"px"))}},t.adjustScrollableTableCellSize=function(){let e,t,i,a,n,l,s,o,r,c,d,u,h,g,S,m,f,T,p=document.querySelectorAll("table.scrollableTable");for(e=0;e<p.length;e++)for(n=p[e].getElementsByTagName("thead")[0],l=p[e].getElementsByTagName("tbody")[0],s=n.rows[n.rows.length-1],r=l.rows[0],o=s.cells.length,t=0,i=0;t<o;t++){if(c=window.getComputedStyle(s.cells[t]).width,c=Number(c.replace("px","")),m=s.cells[t].hasAttribute("colspan")?Number(s.cells[t].getAttribute("colspan")):1,S=0,T=i+m,r)for(a=0;a<m;a++,i++)f=window.getComputedStyle(r.cells[i]),u=Number(f.width.replace("px","")),S+=u,a>0&&(h=Number(f.paddingLeft.replace("px","")),S+=h),a<m-1&&(g=Math.ceil(Number(f.borderRightWidth.replace("px",""))),S+=g,h=Number(f.paddingRight.replace("px","")),S+=h);if(i-=m,d=(c-S)/m,r)for(;i<T;)f=window.getComputedStyle(r.cells[i]),u=Number(f.width.replace("px","")),c>S?(r.cells[i].style.minWidth=u+d+"px",r.cells[i].style.maxWidth=u+d+"px"):(r.cells[i].style.minWidth=u+"px",r.cells[i].style.maxWidth=u+"px"),i++;c<S?(s.cells[t].style.minWidth=S+"px",s.cells[t].style.maxWidth=S+"px"):(s.cells[t].style.minWidth=c+"px",s.cells[t].style.maxWidth=c+"px")}},t.applyTableCellColors=function(e,i){const a=e.hasAttribute("isSelected")&&"true"===e.getAttribute("isSelected");if(e.hasAttribute("textColor")){const t=e.getAttribute("textColor");i.style.color=t,!a&&e.hasAttribute("darkModeTextColor")&&(i.setAttribute("jmp-light-color",t),i.setAttribute("jmp-dark-color",e.getAttribute("darkModeTextColor")))}let n="";if(e.hasAttribute("fillColor")&&(n=e.getAttribute("fillColor"),i.setAttribute("fillColor",n)),!a&&""!==n){const a=e.hasAttribute("fillPercent")?e.getAttribute("fillPercent"):void 0,l=e.hasAttribute("fillDirection")?e.getAttribute("fillDirection"):void 0;t.setTableCellBackground(i,n,a,l),e.hasAttribute("darkModeFillColor")&&(i.setAttribute("jmp-light-fill-color",n),i.setAttribute("jmp-dark-fill-color",e.getAttribute("darkModeFillColor")),e.hasAttribute("fillPercent")&&i.setAttribute("jmp-fill-percent",e.getAttribute("fillPercent")),e.hasAttribute("fillDirection")&&i.setAttribute("jmp-fill-direction",e.getAttribute("fillDirection")))}},t.setTableCellBackground=function(e,t,i,a){if(i){const n=Math.floor(100*Number(i));if(!Number.isNaN(n)&&n>0){const i="rtl"===a,l="var( --color-background-light )",s=i?"left":"right",o=i?t:l,r=i?l:t;e.style.backgroundImage=`linear-gradient(to ${s}, ${o} 0 ${n}%, ${r} ${n}% 100%)`}}else e.style.backgroundColor=t},t.updateTableCellFormats=function(e,i){const a=e.getAttribute("headingFontSize");if(a){const e=JMP.adjustFontSize(+a);for(const t of i.querySelectorAll('th[scope="col"]'))t.style.fontSize=`${e}px`}t.updateTableCellColors(i)},t.updateTableCellColors=function(e){const i=getComputedStyle(document.documentElement).getPropertyValue("--color-background-light"),a=(i||"").match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(\d{1,3}(\.\d+)?)\s*)?\)/);let n;if(a?n=c.rgbToHexString([a[1],a[2],a[3]]):i&&i.trim().startsWith("#")&&(n=i.trim()),n){const i=c.getLuminance(n)<.3,a=e.querySelectorAll("td[jmp-dark-color],th[jmp-dark-color],td[jmp-dark-fill-color],th[jmp-dark-fill-color]");for(const e of a){const a=e.hasAttribute("jmp-fill-percent")?e.getAttribute("jmp-fill-percent"):void 0,n=e.hasAttribute("jmp-fill-direction")?e.getAttribute("jmp-fill-direction"):void 0;i?(e.hasAttribute("jmp-dark-color")&&(e.style.color=e.getAttribute("jmp-dark-color")),e.hasAttribute("jmp-dark-fill-color")&&t.setTableCellBackground(e,e.getAttribute("jmp-dark-fill-color"),a,n)):(e.hasAttribute("jmp-light-color")&&(e.style.color=e.getAttribute("jmp-light-color")),e.hasAttribute("jmp-light-fill-color")&&t.setTableCellBackground(e,e.getAttribute("jmp-light-fill-color"),a,n))}}},t.setRowsAsSelected=function(i,a,n){!a&&t.selectedTableAndGroup.size>0&&(t.clearPreviousSelection(n),t.clearSelectedTableAndGroupSet(n));const l=i.childNodes,s=l[2].getAttribute("parentOutlineNode"),o=l[2].getAttribute("group")+e+l[2].getAttribute("parentOutlineNode");t.selectedTableAndGroup.add(o);const r=t.getSelectedIndices(t.selectedTableAndGroup,s);t.updateRowSelection(r,n),t.callRowStatesEvent(r,n)},t.getIntersectedIndices=function(i,a,n){let l={},s=[];const o=t.dataSetAndAssociatedGraphs.get(n);for(let e of o)l[e]=[];for(let a of i){const i=a.split(e),n=+i[0],r=i[1];if(o.includes(r)){let e=t.groupStartsEndsMap.get(r),i=t.groupIndicesMap.get(r);if(0===s.length)s.push(...i.slice(e[n],e[n+1])),l[r].push(...s);else{let t=i.slice(e[n],e[n+1]);l[r].push(...t)}}}if(o.length>1){let e=l[a],t=[];for(let i of Object.keys(l)){if(0===l[i].length){s=[],t=[];break}i!==a&&(0===t.length?t.push(...e.filter((e=>new Set(l[i]).has(e)))):t=t.filter((e=>new Set(l[i]).has(e))))}t.length>0&&(s=t)}else s=l[a];return s},t.getSelectedIndices=function(i,a){let n=[];for(let l of i){const i=l.split(e),s=+i[0],o=i[1];if(o===a){let e=t.groupStartsEndsMap.get(o),i=t.groupIndicesMap.get(o);n.push(...i.slice(e[s],e[s+1]))}}return n},t.clearPreviousSelection=function(i){let a="",n="";for(let l of t.selectedTableAndGroup){const t=l.split(e),s=t[0],o=t[1];void 0===i?(a=`th.text.header.selected[group='${s}']`,n=`td.text.selected[group='${s}']`):(a=`th.text.header.selected[group='${s}'][datasetIndex='${i}']`,n=`td.text.selected[group='${s}'][datasetIndex='${i}']`);const r=document.querySelectorAll(a);for(const e of r)e.attributes&&e.getAttribute("parentOutlineNode")===o&&(e.classList.replace("selected","darkBackground"),e.attributes.fillColor&&(e.style.backgroundColor=e.attributes.fillColor.value));const c=document.querySelectorAll(n);for(const e of c)e.attributes&&e.getAttribute("parentOutlineNode")===o&&(e.classList.replace("selected","lightBackground"),e.attributes.fillColor&&(e.style.backgroundColor=e.attributes.fillColor.value))}},t.clearSelectedRows=function(i){const a=i.childNodes,n=+a[2].getAttribute("group"),l=a[2].getAttribute("parentOutlineNode"),s=+a[2].getAttribute("datasetIndex"),o=document.querySelectorAll(`th[group='${n}'][datasetindex='${s}']`);for(const e of o)e.attributes&&e.getAttribute("parentOutlineNode")===l&&(e.classList.replace("selected","darkBackground"),e.attributes.fillColor&&(e.style.backgroundColor=e.attributes.fillColor.value));const r=document.querySelectorAll(`td[group='${n}'][datasetindex='${s}']`);for(const e of r)e.attributes&&e.getAttribute("parentOutlineNode")===l&&(e.classList.replace("selected","lightBackground"),e.attributes.fillColor&&(e.style.backgroundColor=e.attributes.fillColor.value));t.selectedTableAndGroup.delete(n+e+l);const c=t.getIntersectedIndices(t.selectedTableAndGroup,l,s);t.updateRowSelection(c,s),t.callRowStatesEvent(c,s)},t.callRowStatesEvent=function(e,t){let i=JMP.ParserStatic.getStorage(JMP.ParserStatic.STORAGE_SEGMENTS),a=!1,l=i.length;for(let s=0;s<l&&!a;s++)if(i[s].columns&&i[s].dataSetIndex===t){if(i[s].columns.rowStates.selected.fill(!1),i[s].columns.rowStates.selectedIndices=[],e.length>0){i[s].columns.rowStates.selectedIndices.push(...e);for(let t=0;t<e.length;t++)i[s].columns.rowStates.selected[e[t]]=!0}i[s].columns.rowStates.nSelectedIndices=e.length,i[s].columns.rowStates.sendEvent(n.EVENT_SELECTED),a=!0}},t.setRowIndices=function(e,i){let a={};JMP.ParserStatic.setArray(e,"groupIndices",a,"groupIndices",!0),JMP.ParserStatic.setArray(e,"groupStartsEnds",a,"groupStartsEnds",!0),t.groupIndices=a.groupIndices,t.groupStartsEnds=a.groupStartsEnds;const n=e.closest("TABLE");if(n.hasAttribute("parentOutlineNode")){const a=n.getAttribute("parentOutlineNode");if(t.groupIndicesMap.set(a,t.groupIndices),t.groupStartsEndsMap.set(a,t.groupStartsEnds),t.dataSetAndAssociatedGraphs.has(i)){let e=t.dataSetAndAssociatedGraphs.get(i);e.includes(a)||(e.push(a),t.dataSetAndAssociatedGraphs.set(i,e))}else t.dataSetAndAssociatedGraphs.set(i,[a]);e.attributes.getNamedItem("isAllGroupCountOne")&&t.isTableAllGroupCountOne.add(a)}},t.clearSelectedTableAndGroupSet=function(i){t.dataSetAndAssociatedGraphs.get(i).forEach((i=>{t.selectedTableAndGroup.forEach((a=>{a.substring(a.indexOf(e)+1)===i&&t.selectedTableAndGroup.delete(a)}))}))},t.updateRowSelection=function(i,a){if(t.clearPreviousSelection(a),t.clearSelectedTableAndGroupSet(a),0===i.length)return;let n=t.dataSetAndAssociatedGraphs.get(a);for(let l of n){let n=t.groupStartsEndsMap.get(l),s=t.groupIndicesMap.get(l),o=new Set,r=n.length;for(let e=0;e<r;e++){let t=[];t.push(...s.slice(n[e],n[e+1]));t.filter((e=>i.includes(e))).length>0&&o.add(e)}o.forEach((i=>{let n=`th[group='${i}'][datasetindex='${a}']`,s=`td[group='${i}'][datasetindex='${a}']`;const o=document.querySelectorAll(n);for(const i of o)if(i.attributes&&i.getAttribute("parentOutlineNode")===l){i.attributes.fillColor&&(i.style.backgroundColor=""),i.classList.replace("darkBackground","selected");const a=i.getAttribute("group")+e+i.getAttribute("parentOutlineNode");t.selectedTableAndGroup.add(a)}const r=document.querySelectorAll(s);for(const e of r)e.attributes&&e.getAttribute("parentOutlineNode")===l&&(e.attributes.fillColor&&(e.style.backgroundColor=""),e.classList.replace("lightBackground","selected"))}))}},t}(),JMP.DocumentStatic=function(){"use strict";let i,s={},o="sponsor",r="Error reading data",d="Themes",u="Light Theme",h="Gray Theme",g="Dark Theme",S="Reset All Axes",m="Help...",f="Close",p=0,A=0,_=0,L=0,N="documentLightTheme",I="documentDarkTheme",M="documentGrayTheme",y="documentResetAllAxes",C="documentHelp",R="ID_LIGHT_BACKGROUND",v="ID_DARK_BACKGROUND",w="ID_GRAY_BACKGROUND",O="ID_MODERN_THEME",P="ID_LEGACY_THEME",D="ID_POINTER_FINE",F="ID_POINTER_COARSE",B=JMP.TooltipStatic.addTooltipListener,{replaceEncodedHTMLCharacters:V,getBoolean:k,setString:G,setNumber:H,setFontSize:Y,setFontFamily:U}=JMP.ParserStatic,z=function(e,t){e.setAttribute("aria-label",t)},W=function(){let e;switch(JMP.LOCALE){case"de":e="de_de/";break;case"es":e="es_es/";break;case"fr":e="fr_fr/";break;case"it":e="it_it/";break;case"ja":e="ja_jp/";break;case"ko":e="ko_kr/";break;case"zh-CN":e="zh_cn/";break;default:e=""}return e};return s.XMLLength=void 0,s.platformMenu=void 0,s.isStatic=!1,s.THEME_CHANGED="THEME_CHANGED",s.themeChangeEventDispatcher=new e,s.mainMenuButtonThemeChangeListeners=[],s.ID_LIGHT_THEME="lightBackground",s.ID_DARK_THEME="darkBackground",s.changeColorStyleSheet=function(e){let t;e===s.ID_LIGHT_THEME?(t=document.getElementById(R),t.disabled=!1,t=document.getElementById(v),t.disabled=!0,t=document.getElementById(w),t.disabled=!0,t=document.getElementById(O),t.disabled=!1,t=document.getElementById(P),t.disabled=!0):e===s.ID_DARK_THEME?(t=document.getElementById(R),t.disabled=!0,t=document.getElementById(v),t.disabled=!1,t=document.getElementById(w),t.disabled=!0,t=document.getElementById(O),t.disabled=!1,t=document.getElementById(P),t.disabled=!0):(t=document.getElementById(R),t.disabled=!0,t=document.getElementById(v),t.disabled=!0,t=document.getElementById(w),t.disabled=!1,t=document.getElementById(O),t.disabled=!0,t=document.getElementById(P),t.disabled=!1)},s.changeTheme=function(e){let t;switch(e){case s.ID_LIGHT_THEME:t=N;break;case s.ID_DARK_THEME:t=I}t&&s.menuHandler(t)},s.isDarkMode=function(){return!document.getElementById(v).disabled},s.menuProvider=function(){let e=[];return JMP.ViewStatic.isServerAvailable&&(e=e.concat(JMP.ServerStatic.menuProvider()),e.push({id:0,label:void 0,type:JMP.MenuStatic.MENU_SEPARATOR})),JMP.DocumentStatic.isStatic||e.push({id:y,label:S,isDisabled:!1}),JMP.ViewStatic.isServerAvailable||(e.push({id:"documentThemes",label:d,isDisabled:!1,menuItems:[{id:N,label:u,type:JMP.MenuStatic.MENU_RADIO,isChecked:!document.getElementById(R).disabled},{id:I,label:g,type:JMP.MenuStatic.MENU_RADIO,isChecked:!document.getElementById(v).disabled},{id:M,label:h,type:JMP.MenuStatic.MENU_RADIO,isChecked:!document.getElementById(w).disabled}]}),e.push({id:C,label:m,isDisabled:!1})),e},s.menuHandler=function(e){let t;JMP.ControlStatic.invalidateOffsets();let i={type:JMP.DocumentStatic.THEME_CHANGED};switch(e){case N:t=document.getElementById(R),t.disabled=!1,t=document.getElementById(v),t.disabled=!0,t=document.getElementById(w),t.disabled=!0,t=document.getElementById(O),t.disabled=!1,t=document.getElementById(P),t.disabled=!0,s.themeChangeEventDispatcher.dispatchEvent(i),JMP.DocumentDataFilterStatic.drawAllDataFilters(),JMP.CanvasStatic.drawAll(!0);break;case I:t=document.getElementById(v),t.disabled=!1,t=document.getElementById(R),t.disabled=!0,t=document.getElementById(w),t.disabled=!0,t=document.getElementById(O),t.disabled=!1,t=document.getElementById(P),t.disabled=!0,s.themeChangeEventDispatcher.dispatchEvent(i),JMP.DocumentDataFilterStatic.drawAllDataFilters(),JMP.CanvasStatic.drawAll(!0);break;case M:t=document.getElementById(w),t.disabled=!1,t=document.getElementById(v),t.disabled=!0,t=document.getElementById(R),t.disabled=!0,t=document.getElementById(P),t.disabled=!1,t=document.getElementById(O),t.disabled=!0,s.themeChangeEventDispatcher.dispatchEvent(i),JMP.DocumentDataFilterStatic.drawAllDataFilters(),JMP.CanvasStatic.drawAll(!0);break;case y:JMP.ReportStatic.revertScales();break;case C:window.open("http://jmp.com/support/help/InteractiveHTML/"+JMP.VERSION.slice(0,2)+"/"+W());break;default:JMP.ServerStatic.menuHandler(e)}},s.createElements=function(){let e=JMP.ControlStatic.createButton,t=function(e){let t,i;t=JMP.ParserStatic.createElement("TABLE","",e),i=JMP.ParserStatic.createElement("TR","",t),JMP.ParserStatic.createElement("TD","",i)};t(JMP.ParserStatic.createElement("DIV","menu lightBackground concealed",document.body,"menu0")),t(JMP.ParserStatic.createElement("DIV","menu lightBackground concealed",document.body,"menu1")),t(JMP.ParserStatic.createElement("DIV","concealed tooltip",document.body,"tooltip")),JMP.ParserStatic.createElement("DIV","concealed",document.body,"dialogOverlay"),JMP.ParserStatic.createElement("DIV","concealed",document.body,"dialog"),JMP.ViewStatic.setSelect(JMP.EventFacadeStatic.isTouch?JMP.ViewStatic.SELECT_OFF:JMP.ViewStatic.SELECT_ONLY),JMP.ViewStatic.isToolbarServerBased||(i=JMP.ParserStatic.createElement("HEADER","",document.body),e(i,"http://jmp.com/",void 0,"sponsor buttonUp concealed",o,JMP.ModeStatic.getSponsorIcon,"svgImageSponsor"),e(i,void 0,void 0,"concealed square segmentFirst buttonDown spaceLeft",JMP.ModeStatic.ID_FOCUS_REPORT,JMP.ModeStatic.getFocusReportIcon,"svgImage",JMP.ModeStatic.onMode),e(i,void 0,void 0,"concealed square segmentMiddle buttonUp",JMP.ModeStatic.ID_SELECT_ONLY,JMP.ModeStatic.getSelectOnlyIcon,"svgImage",JMP.ModeStatic.onMode),e(i,void 0,void 0,"concealed square segmentMiddle buttonUp",JMP.ModeStatic.ID_SELECT_TOGGLE,JMP.ModeStatic.getSelectToggleIcon,"svgImage",JMP.ModeStatic.onMode),e(i,void 0,void 0,"concealed square segmentMiddle buttonUp",JMP.ModeStatic.ID_ZOOM_IN,JMP.ModeStatic.getZoomInIcon,"svgImage",JMP.ModeStatic.onMode),e(i,void 0,void 0,"concealed square segmentMiddle buttonUp",JMP.ModeStatic.ID_ZOOM_OUT,JMP.ModeStatic.getZoomOutIcon,"svgImage",JMP.ModeStatic.onMode),e(i,void 0,void 0,"concealed square segmentLast buttonUp",JMP.ModeStatic.ID_PAN,JMP.ModeStatic.getPanIcon,"svgImage",JMP.ModeStatic.onMode),JMP.DocumentMenuStatic.createMenu(i,!0,JMP.ViewStatic.TOOLBAR_MENU_ID,JMP.DocumentStatic.menuProvider,JMP.DocumentStatic.menuHandler,JMP.MenuStatic.getHamburgerIcon)),JMP.ParserStatic.createElement("CANVAS","concealed",document.body,"sizingCanvas")},s.adjustDocumentSize=function(){if(JMP.EventFacadeStatic.isIOS()){let e=1.25,t=document.getElementById("body");for(;document.body.scrollHeight/document.body.scrollWidth<e;)t.appendChild(document.createElement("BR"))}JMP.EventFacadeStatic.isTouch&&document.body.scrollWidth<2e3&&document.body.scrollHeight<2e3&&(document.body.style.minWidth=Math.max(document.body.scrollWidth,Math.ceil(document.body.scrollHeight*window.innerWidth/window.innerHeight))+40+"px")},s.errorFunc=function(e){throw JMP.ProgressIndicatorStatic.hide(),JMP.nLoading=0,JMP.errorLoading=!0,JMP.ServerStatic.log(e.stack),e},s.parse=function(e,i){let x,N,I,M,y,C,R,v,w,O,P,X,Z,q,j=function(e){let t,i,a,n,l,s,o,r,c,d,u,h,g,S,m,f,T,p,E,b,A,_=6,x=1;switch(e.nodeName){case"#text":if(c=e.nodeValue,JMP.HTML_FORMAT&&c.includes("<br>")){const e=c.split("<br>");c=e.map((e=>e.trim())).join("\n")}"TH"===e.parentNode.nodeName&&c.length>25&&(n=c.length/2,t=c.indexOf(" ",n),i=c.lastIndexOf(" ",n),a=-1,t>=0&&i>=0?a=t-n<n-i?t:i:t>=0?a=t:i>=0&&(a=i),a>=0&&(c=c.substring(0,a)+"\n"+c.substring(a+1))),o=document.createTextNode(c);break;case"A":o=JMP.ParserStatic.createElement(e.nodeName),e.hasAttribute("href")&&o.setAttribute("href",e.getAttribute("href")),o.setAttribute("target","_blank"),B(o,[JMP.ParserStatic.getNearestDescription(e)]);break;case"Annotation":E=k(e,"isFilled"),o=JMP.ParserStatic.createElement("CANVAS",E?"lightBackground ":"transparentBackground ");break;case"BorderBox":if(o=JMP.ParserStatic.createElement("DIV"),o.style.width="fit-content",e.parentNode.nextSibling&&e.hasAttribute("padBottom")&&(o.style.paddingBottom=e.getAttribute("padBottom")+"px"),e.hasAttribute("padTop")&&(o.style.paddingTop=e.getAttribute("padTop")+"px"),e.hasAttribute("padRight")&&(o.style.paddingRight=e.getAttribute("padRight")+"px"),e.hasAttribute("padLeft")&&(o.style.paddingLeft=e.getAttribute("padLeft")+"px"),e.hasAttribute("padBottom")&&(o.style.paddingBottom=e.getAttribute("padBottom")+"px"),G(e,"backgroundColor",o.style),!e.hasAttribute("isEmpty")||"true"!==e.getAttribute("isEmpty")||"TextBox"===e.childNodes[0].nodeName){let t=" 0px ",i=" 0px ",a=" 0px ",n=" 0px ",l=" solid ";e.hasAttribute("borderLineColor")&&(o.style.borderColor=e.getAttribute("borderLineColor"),o.style.borderStyle=l),e.hasAttribute("borderTopDrawn")&&"true"===e.getAttribute("borderTopDrawn")&&(t=" 1px "),e.hasAttribute("borderBottomDrawn")&&"true"===e.getAttribute("borderBottomDrawn")&&(i=" 1px "),e.hasAttribute("borderLeftDrawn")&&"true"===e.getAttribute("borderLeftDrawn")&&(a=" 1px "),e.hasAttribute("borderRightDrawn")&&"true"===e.getAttribute("borderRightDrawn")&&(n=" 1px ");let s=t+n+i+a;o.style.borderWidth=s}(e.childNodes.length>1||e.childNodes[0]&&e.childNodes[0].childNodes[0]&&"LegendBox"===e.childNodes[0].childNodes[0].nodeName||1===e.childNodes.length&&"TextBox"===e.childNodes[0].nodeName)&&(e.hasAttribute("padTop")&&(o.style.paddingTop=e.getAttribute("padTop")+"px"),e.hasAttribute("padLeft")&&(o.style.paddingLeft=e.getAttribute("padLeft")+"px"));break;case"BUTTON":o=JMP.ParserStatic.createElement(e.nodeName,"buttonUp square"),e.hasAttribute("id")&&o.setAttribute("id",e.getAttribute("id")),e.hasAttribute("ownerID")&&o.setAttribute("ownerID",e.getAttribute("ownerID")),e.hasAttribute("disabled")&&o.setAttribute("disabled","true"===e.getAttribute("disabled"));break;case"CellPlotBox":case"LegendBox":o=JMP.ParserStatic.createElement("CANVAS");break;case"ColumnSwitcherBox":o=JMP.DocumentColumnSwitcherStatic.parse(e);break;case"DataFilterBox":o=JMP.DocumentDataFilterStatic.parseDataFilter(e);break;case"FIELDSET":case"LEGEND":case"OPTION":o=JMP.ParserStatic.createElement(e.nodeName);break;case"IMG":o=JMP.ParserStatic.createElement(e.nodeName),e.hasAttribute("isStatic")&&o.setAttribute("class","staticImage"),e.hasAttribute("src")&&o.setAttribute("src",e.getAttribute("src")),e.hasAttribute("width")&&o.setAttribute("width",e.getAttribute("width")),e.hasAttribute("height")&&o.setAttribute("height",e.getAttribute("height")),B(o,[JMP.ParserStatic.getNearestDescription(e)]);break;case"INPUT":d=0,o=JMP.ParserStatic.createElement("DIV","left"),"range"===e.getAttribute("type")?function(e,t){let i,a,n,l,s,o,r,c,d,u,h,g,S,m,f=2,T=2,p=100,E=JMP.LARGE_FONT_SIZE,b="",A=[""],_=1;c=e.hasAttribute("value")?+e.getAttribute("value"):.5,c=Number.isNaN(c)?e.getAttribute("value"):c,m=!!e.hasAttribute("isLogScale")&&"true"===e.getAttribute("isLogScale"),i=e.hasAttribute("min")?+e.getAttribute("min"):0,a=e.hasAttribute("max")?+e.getAttribute("max"):.1,p=e.hasAttribute("width")?+e.getAttribute("width"):p,r=p/(a-i),l=e.hasAttribute("id")?+e.getAttribute("id"):-1,s=e.hasAttribute("ownerID")?+e.getAttribute("ownerID"):-1,o=e.hasAttribute("disabled"),e.hasAttribute("upperValue")?(t.style.width=p+"px",n=JMP.ParserStatic.createElement("DIV","sliderTrack",t),E=JMP.LARGE_FONT_SIZE,d=Number.isNaN(c)?0:(c-i)*r,u=+e.getAttribute("upperValue"),h=(u-i)*r,g=JMP.FormatStatic.formatNumber(u),n=JMP.ParserStatic.createElement("DIV","sliderRange",t),f=d,T=p-h,n.style.marginLeft=f+"px",n.style.marginRight=T+"px",B(n,["["+b+", "+g+"]"]),n=JMP.ParserStatic.createElement("DIV","sliderThumb",t),f=h-6,T=p-f-6,n.style.marginLeft=f+"px",n.style.marginRight=T+"px",n.style.marginTop=-E+"px",E+=5,B(n,[g]),n=JMP.ParserStatic.createElement("DIV","sliderThumb",t),f=d-6,T=p-f-6,n.style.marginLeft=f+"px",n.style.marginRight=T+"px",n.style.marginTop=-E+"px"):(n=JMP.ParserStatic.createElement("input","range",t),n.setAttribute("type","range"),i=m?Math.log10(i):i,a=m?Math.log10(a):a,n.setAttribute("min",i),n.setAttribute("max",a),n.setAttribute("step",(a-i)/200),Number.isNaN(c)?c=i:m&&(c=Math.log10(c)),n.setAttribute("value",c),n.style.setProperty("--value",Math.round(100*(c-i)/(a-i))+"%"),n.style.width=p+"px",n.style.padding="0",S=JMP.TooltipStatic.getSliderTooltipPosition,n.setAttribute("ownerID",s),n.setAttribute("id",l),o&&n.setAttribute("disabled","true")),b=Number.isNaN(c)?c:JMP.FormatStatic.formatNumber(c),o&&(A[0]=JMP.ControlStatic.TIP_DISABLED_CONTROL,A[1]=JMP.TooltipModelStatic.TIP_VALUE+JMP.ViewStatic.COLON+" ",_=2,n=t),A[_-1]+=b,B(n,A,void 0,S)}(e,o):(r=JMP.ParserStatic.createElement(e.nodeName),r.setAttribute("type",e.getAttribute("type")),e.hasAttribute("checked")&&"true"===e.getAttribute("checked")&&r.setAttribute("checked","true"),"button"===e.getAttribute("type")?(e.hasAttribute("value")&&(r.setAttribute("value",e.getAttribute("value")),d=JMP.TextBoxStatic.getApproximateWidth(r.getAttribute("value")+" "),d+=2*_,r.style.padding=x+"px "+_+"px"),e.hasAttribute("disabled")&&r.setAttribute("disabled","true")):(r.setAttribute("disabled","true"),o.setAttribute("class","left disabledText"),B(o,[JMP.ParserStatic.getNearestDescription(e)])),e.hasAttribute("width")&&(d=Math.max(d,1.1*e.getAttribute("width")),r.style.width=d+"px"),o.appendChild(r),B(r,[JMP.ParserStatic.getNearestDescription(e)]));break;case"NumberBox":if(T=e.getAttribute("value"),"."===T)o=document.createTextNode(T);else{o=JMP.ParserStatic.createElement("SPAN");let t=JMP.TEXT_FONT_SIZE;e.getAttribute("fontSize")&&(t=JMP.adjustFontSize(+e.getAttribute("fontSize"))),o.style.fontSize=`${t}px`,p=JMP.ParserStatic.getFormat(e);let i=document.createTextNode(JMP.FormatStatic.formatNumber(+T,p));o.appendChild(i)}break;case"OutlineBox":o=JMP.ParserStatic.createElement("DIV","layoutTable spaceTop");break;case"PageBreakBox":o=JMP.ParserStatic.createElement("HR");break;case"PictureBox":let N=["FrameBox","TABLE"],I={FrameBox:[],TABLE:[]};JMP.ParserStatic.getDescendantsAllSeparate(e,N,!1,I);let M=I.FrameBox,y=I.TABLE;const C=y.length,R=M.length;u=!1,h=!1,N=["AxisBox","IMG"];let v={AxisBox:0,IMG:0};JMP.ParserStatic.countDescendants(e,N,!1,v);const w=v.AxisBox,O=v.IMG,P=["AxisBox","FrameBox"];for(v.AxisBox=0,v.FrameBox=0,t=0;t<C;t++)for(JMP.ParserStatic.countDescendants(y[t],P,!1,v),l=y[t].childNodes.length,g=0;g<l&&(!u||!h);g++)for(m=y[t].childNodes[g],s=m.childNodes.length,S=0;S<s&&(!u||!h);S++)m.childNodes[S].childNodes[0]&&(f=m.childNodes[S].childNodes[0].nodeName,"#text"!==f&&"TextBox"!==f&&"TextSegment"!==f||(u=!0),"LegendCell"===f&&(h=!0));const D=v.AxisBox,F=v.FrameBox;if(w>D||R>F||C&&0===O&&(!u||h)){if(f=e.parentNode.nodeName,o=JMP.ParserStatic.createElement("CANVAS","CustomBox"===f?"canvasLightBackground":"legacyBorder canvasDarkBackground"),1===R){for(b=M[0].childNodes.length,t=0;t<b&&!A;t++)A="ScriptSegment"===M[0].childNodes[t].nodeName;A&&(M[0].hasAttribute("borderTop")&&"false"===M[0].getAttribute("borderTop")&&(o.className=o.className+" noBorderTop"),M[0].hasAttribute("borderRight")&&"false"===M[0].getAttribute("borderRight")&&(o.className=o.className+" noBorderRight"),M[0].hasAttribute("borderBottom")&&"false"===M[0].getAttribute("borderBottom")&&(o.className=o.className+" noBorderBottom"),M[0].hasAttribute("borderLeft")&&"false"===M[0].getAttribute("borderLeft")&&(o.className=o.className+" noBorderLeft"))}}else o=JMP.ParserStatic.createElement("DIV");break;case"ScaleBox":o=null===JMP.ParserStatic.getDescendant(e,"PictureBox")&&JMP.ParserStatic.getDescendantAny(e,["AreaSegment","AxisBox","NominalAxisBox","BoxPlotSegment","BubblePlotSegment","GridReferenceSegment","HistogramSegment","LabelSegment","LineSegment","MarkerSegment","MosaicSegment","ParallelAxisSegment","PictSegment","PolylineSegment","PolySegment","ProfileSegment","RectSegment","ScriptSegment","ShapeSegment","TextSegment","TreemapSegment"])?JMP.ParserStatic.createElement("CANVAS","legacyBorder darkBackground"):JMP.ParserStatic.createElement("DIV");break;case"ScrollBox":o=JMP.ParserStatic.createElement("DIV","legacyBorder scrollable"),o.style.width=e.getAttribute("width")+"px",o.style.height=e.getAttribute("height")+"px",o.style.resize="both",o.id="scrollBox"+L++;const V=JMP.ServerStatic.resizedBoxes.findIndex((e=>e.id===o.id));V>-1&&(o.style.width=JMP.ServerStatic.resizedBoxes[V].width,o.style.height=JMP.ServerStatic.resizedBoxes[V].height),JMP.ServerStatic.resizedObserver&&JMP.ServerStatic.resizedObserver.observe(o);break;case"SELECT":o=JMP.ParserStatic.createElement(e.nodeName),o.setAttribute("disabled","true"),B(o,[JMP.ParserStatic.getNearestDescription(e)]);break;case"SpacerBox":o=JMP.ParserStatic.createElement("DIV"),o.style.width=e.getAttribute("width")+"px",o.style.height=e.getAttribute("height")+"px",e.hasAttribute("fillColor")&&(o.style.backgroundColor=e.getAttribute("fillColor"));break;case"TABLE":o=JMP.ParserStatic.createElement(e.nodeName,"legacyBorder");const H=JMP.ParserStatic.getNearestDescription(e);H&&o.setAttribute("description",H),"CenterBox"===e.parentNode.nodeName&&(o.className+=" centerTable"),JMP.EventFacadeStatic.addEventListener(o,JMP.DocumentTableStatic.onPointerEvent);break;case"TextBox":case"TextSegment":o=JMP.CanvasTextBoxStatic.parseTextNode(e);break;case"TD":o=JMP.DocumentTableStatic.parseTD(e);break;case"TH":o=JMP.DocumentTableStatic.parseTH(e),o.hasAttribute("scope")&&"COL"===o.getAttribute("scope").toString().toUpperCase()&&(o.style.fontWeight="bold");break;case"TR":if(JMP.DocumentTableStatic.table_paginated){if(JMP.DocumentTableStatic.table_row_count===JMP.DocumentTableStatic.table_rows_per_page)break;JMP.DocumentTableStatic.table_row_count++}o=JMP.ParserStatic.createElement(e.nodeName,"text darkBackground"),JMP.ParserStatic.getDescendant(e,"LegendCell")&&(o.className+=" legendRow");break;case"groupStartsEnds":case"groupIndices":o=JMP.ParserStatic.createElement("DIV"),o.style="display: none;";break;default:o=JMP.ParserStatic.createElement("DIV"),e.hasAttribute&&e.hasAttribute("width")&&(o.style.width=e.getAttribute("width")+"px"),e.hasAttribute&&e.hasAttribute("height")&&(o.style.height=e.getAttribute("height")+"px")}return o},K=function(e,t,i){let a,n,l,s,o,r,c,d,u,h,g,S,m,E,b,x,L,N,I,M,y,C,R,v,w,O,P,D,F,V,G,H,Y,U,z,W,X,Z,q,Q,J,$=t,ee=t,te=[$,ee],ie=[],ae=0,ne=!1;if("CANVAS"!==t.nodeName){switch(e.nodeName){case"IfBox":if(e.hasAttribute("condition")&&"false"===e.getAttribute("condition")&&(!e.childNodes||1!==e.childNodes.length||"LegendBox"!==e.childNodes[0].nodeName))return;break;case"TABLE":JMP.DocumentTableStatic.parseTable(e,t,te),$=te[0],ee=te[1];break;case"LineUpBox":if(!JMP.ParserStatic.getAncestor(e,"PictureBox")&&e.hasAttribute("nColumns"))for(E=+e.getAttribute("nColumns"),m=JMP.ParserStatic.createElement("TABLE",null,t),S=JMP.ParserStatic.createElement("COLGROUP",null,m),h=0;h<E;h++)JMP.ParserStatic.createElement("COL",null,S);break;case"OutlineBox":case"TabPageBox":case"ListBox":case"WrapListBox":case"SplitterBox":if(JMP.CanvasAnnotationStatic.moveAnnotationsToTop(e),JMP.ParserStatic.isOutlineNode(e)){if(V=e.hasAttribute("isRevealed")&&"false"===e.getAttribute("isRevealed"),l=JMP.ParserStatic.createElement("DIV","layoutRow",t),X=!0,"TabPageBox"===e.nodeName&&(Z=!0,t.classList.add("layoutTable","spaceTop"),W=JMP.ParserStatic.getDescendant(e,"OutlineBox",!0),W)){for(z=W.parentNode;!Q&&z!==e;)JMP.ParserStatic.isOutlineNode(z)&&(Q=z),z=z.parentNode;!Q&&W.hasAttribute("isOutdented")&&"true"===W.getAttribute("isOutdented")&&JMP.ParserStatic.getAncestor(e.parentNode,"TabPageBox")&&(X=!1)}q="layoutCell left nowrap",t.classList.add("boxShadow"),JMP.ParserStatic.getDescendant(e,"DataFilterBox")&&t.classList.add("dataFilterStackContext"),X&&(t.classList.add("modernIndent"),q+=" legacyIndent"),s=JMP.ParserStatic.createElement("DIV",q,l),s=JMP.ParserStatic.createElement("DIV","multipleButtonCell",s);let i=!0;if("TabPageBox"===e.nodeName&&1===JMP.ParserStatic.getDescendants(e,"TabPageBox").length&&1===JMP.ParserStatic.getDescendants(e,"OutlineBox").length)g=JMP.DocumentMenuStatic.getMenuId(JMP.ParserStatic.getDescendant(e,"OutlineBox"));else if(g=JMP.DocumentMenuStatic.getMenuId(e),g>=0&&"TabPageBox"===e.nodeName){let t=e.children[0];if("TabBox"===t.nodeName){let e=+t.getAttribute("tabSelectedIndex");i="true"===t.children[e].getAttribute("isMenuEnabled")}}let a=!1,n=!1;const d=null!==e.closest("[byValues]");let u;if(JMP.ViewStatic.isServerAvailable&&!d&&(a=e.hasAttribute("outlineType")&&e.getAttribute("outlineType").includes("Distrib"),e.closest("[outlineType=Dashboard]")&&(n=!0)),g>=0&&(!a||n)&&(u=JMP.DocumentMenuStatic.createMenu(s,!1,g,JMP.DocumentMenuStatic.menuProvider,JMP.DocumentMenuStatic.menuHandler,void 0,!0,!i),u.disabled=!i,u.classList.add("menuButton"),u.classList.add("modern"),u.firstChild.classList.add("svgImage"),V&&u.classList.add("borderBottomLeftRadius")),a&&e.hasAttribute("hasMenu")){const t=e.getAttribute("outlineType");let a=g>=0?g+1:0;a=t+"_"+a;let n=JMP.ParserStatic.getDescendants(e,"FrameBox",!0);const l=["HistogramSegment"],o=["TABLE","LegendBox","AreaSegment","BarSegment","BubblePlotSegment","MarkerSegment","LineSegment","ProfileSegment","PolylineSegment","ScriptSegment","TreemapSegment"];if(JMP.ParserStatic.getDescendantsAllTogether(e,l,o,!0,n),n.length>0){T.histNodeDisplaysWithMenu.set(a,n);let l=e.getAttribute("MenuItems");"Distrib"===t&&T.setDistribMenuItem(l),u=JMP.DocumentMenuStatic.createMenu(s,!1,a,JMP.DocumentMenuStatic.menuProvider,JMP.DocumentMenuStatic.menuHandler,void 0,!0,!i),u.classList.add("menuButton"),u.classList.add("modern"),u.firstChild.classList.add("svgImage"),V&&u.classList.add("borderBottomLeftRadius")}}let S="buttonUp outlineButton buttonFullSpan";V&&(S+=u?" borderBottomRightRadius":" rounded"),o=JMP.ParserStatic.createElement("BUTTON",S,s,"ob_"+A++),o.menuButton=u,u&&(o.classList.add("noBorderTopLeftRadius"),u.data_outlineButton=o);let m=JMP.ParserStatic.createElement("DIV","displayTable buttonFullSpan",o),f=JMP.ParserStatic.createElement("DIV","layoutRow",m),p=JMP.ParserStatic.createElement("DIV","layoutCellMiddle",f);r=JMP.ParserStatic.createElement("IMG","legacy buttonImage outline",p),r.setAttribute("src",V?JMP.OutlineStatic.SRC_CONCEALED:JMP.OutlineStatic.SRC_REVEALED),p=JMP.ParserStatic.createElement("DIV","layoutCellMiddle",f);let E=JMP.adjustFontSize(e.getAttribute("fontSize"))+"px";p.style.height=E,p.style.fontSize=E;let b=e.getAttribute("title");for(t.setAttribute("data-at",b),G=JMP.TextBoxStatic.wrap(null,600,[b]),h=0;h<G.length;h++)h>0&&p.appendChild(document.createElement("BR")),c=document.createTextNode(G[h]),p.appendChild(c);p=JMP.ParserStatic.createElement("DIV","layoutCellMiddle",f),r=JMP.ParserStatic.createElement("IMG","modern floatRight buttonImage outline",p);const _=()=>r.setAttribute("src",V?JMP.OutlineStatic.getRevealIcon():JMP.OutlineStatic.getConcealIcon());_(),JMP.DocumentStatic.themeChangeEventDispatcher.addEventListener((()=>{_()})),k(e,"isSelected")&&o.setAttribute("class",o.getAttribute("class")+" selected"),e.hasAttribute("description")||e.setAttribute("description",e.getAttribute("title")),JMP.EventFacadeStatic.addEventListener(o,(function(e){JMP.OutlineStatic.onOutline(e)})),g>=0&&(u=JMP.DocumentMenuStatic.createMenu(s,V,g,JMP.DocumentMenuStatic.menuProvider,JMP.DocumentMenuStatic.menuHandler,void 0,!1,!i),u.disabled=!i,u.classList.add("menuButton"),u.classList.add("legacy"),u.id=u.id+"_legacy"),l=JMP.ParserStatic.createElement("DIV","layoutRow outlineContent "+(V?"concealed":"revealed"),t),q="layoutCell left",X&&(q+=" indent",Z&&(q+=" indentPadding")),s=JMP.ParserStatic.createElement("DIV",q,l),$=s,ee=s}if(k(e,"isHorizontal")){for(n=JMP.ParserStatic.createElement("DIV","layoutTable",ee),l=JMP.ParserStatic.createElement("DIV","layoutRow",n),g=e.childNodes.length,J=!1,h=0;h+2<g&&!J;h++)d=e.childNodes[h],"NumberBox"===d.nodeName&&"SpacerBox"===e.childNodes[h+1].nodeName&&"NoCloneBox"===e.childNodes[h+2].nodeName&&1===e.childNodes[h+2].childNodes.length&&"INPUT"===e.childNodes[h+2].childNodes[0].nodeName&&(J=!0);for(h=0;h<g;h++)d=e.childNodes[h],u=j(d),q=J||"CenterBox"===d.nodeName&&d.parentNode.childNodes.length>2&&d.parentNode.childNodes[2].childNodes.length>=1&&"INPUT"===d.parentNode.childNodes[2].childNodes[0].nodeName?"layoutCellMiddle":"layoutCell",s=JMP.ParserStatic.createElement("DIV",q,l),s.appendChild(u),K(d,u,i);return}if("OutlineBox"===e.nodeName){for(g=e.childNodes.length,y=g>0,h=0;h<g&&y;h++)d=e.childNodes[h],y="PictureBox"===d.nodeName;y&&(E=1,m=JMP.ParserStatic.createElement("TABLE",null,ee),S=JMP.ParserStatic.createElement("COLGROUP",null,m),JMP.ParserStatic.createElement("COL",null,S))}break;case"TabBox":"tab"===i&&(ae=p,p++),i+="_"+_,_++,ee.style.width="auto",ee.style.height="auto",ee.style.paddingBottom=JMP.TabStatic.BOTTOM_PADDING+"px";const a="false"===e.getAttribute("showTabTitles");if(C=JMP.ParserStatic.createElement("DIV","tabBox"+(a?" hideTabTitles":""),ee),R=JMP.ParserStatic.createElement("UL","tabs",C),v=JMP.ParserStatic.createElement("DIV","tabContentContainer",C),""!==e.getAttribute("tabTitles"))w=e.getAttribute("tabTitles").split(",");else{w=[];let t=Array.from(e.childNodes);t.every((e=>"TabPageBox"===e.nodeName))&&t.forEach((e=>w.push(e.getAttribute("title"))))}for(O=e.getAttribute("tabTooltips").split(","),F=+e.getAttribute("tabSelectedIndex"),g=e.childNodes.length,h=0;h<g;h++)d=e.childNodes[h],u=j(d),D=JMP.ParserStatic.createElement("LI",h===F?"selectedTab":null,R),D.id=i+"_"+ae+"_"+h,D.setAttribute("menuId",d.hasAttribute("menuId")?d.getAttribute("menuId"):"-1"),D.setAttribute("isMenuEnabled",d.hasAttribute("isMenuEnabled")?d.getAttribute("isMenuEnabled"):"false"),D.style.fontSize=JMP.adjustFontSize(+d.getAttribute("fontSize"))+"px",D.innerHTML=w[h],D.tabIndex=0,""!==O[h]&&B(D,[O[h]]),JMP.EventFacadeStatic.addEventListener(D,JMP.TabStatic.onTab),P=JMP.ParserStatic.createElement("DIV","tabContent",v),P.id=i+"_"+ae+"_"+h+"Content",P.appendChild(u),P.style.display=h===F?"":"none",K(d,u,D.id),ie[h]=P;return void ae++;case"LegendCell":e.hasAttribute("color")&&(e.hasAttribute("showFill")?(o=JMP.ParserStatic.createElement("DIV","filledLegendCell border",t),o.style.backgroundColor=e.getAttribute("color"),e.hasAttribute("width")&&(o.style.width=e.getAttribute("width")+"px"),e.hasAttribute("height")&&(o.style.height=e.getAttribute("height")+"px")):e.hasAttribute("showMarker")?(o=JMP.ParserStatic.createElement("DIV","markerLegendCell",t),o.style.backgroundColor=e.getAttribute("color")):(o=JMP.ParserStatic.createElement("DIV","lineLegendCell",t),o.style.backgroundColor=e.getAttribute("color")));break;case"BarBox":JMP.DocumentTableStatic.parseBarBox(e,t)}if(g=e.childNodes.length,a=e.hasAttribute&&e.hasAttribute("isHorizontal")&&"true"===e.getAttribute("isHorizontal"),m){for(h=0;h<g;h++)if(d=e.childNodes[h],"INPUT"===d.nodeName||"SELECT"===d.nodeName||"Box"===d.nodeName&&1===d.childNodes.length&&"INPUT"===d.firstChild.nodeName){ne=!0;break}for(N=0,h=0;h<g;h++)d=e.childNodes[h],u=j(d),N%E==0&&(b=JMP.ParserStatic.createElement("TR","text lineUpBoxRow",m)),"UnlineUpBox"===d.nodeName?1===d.childNodes.length&&"IfBox"===d.firstChild.nodeName&&d.firstChild.hasAttribute("condition")&&"true"!==d.firstChild.getAttribute("condition")||(L=JMP.ParserStatic.getDescendant(d,"TextBox"),(L&&L.hasAttribute("width")&&+L.getAttribute("width")>1||"IfBox"===d.firstChild.nodeName)&&(L&&(x=JMP.ParserStatic.createElement("TD","text verticallyCentered legacyBorder",b),x.width=L.getAttribute("width")+"px"),x.appendChild(u),x.setAttribute("colspan",E),x.style.whiteSpace="pre-wrap",b.appendChild(x),N=0)):(x=JMP.ParserStatic.createElement("TD",JMP.ParserStatic.getDescendant(d,"CANVAS")?"":ne?"text verticallyCentered":"text",b),x.appendChild(u),b.appendChild(x),N++),K(d,u,i)}else for(Y=!1,h=0;h<g&&(d=e.childNodes[h],u=j(d),u);h++){if(a||"IMG"!==d.nodeName&&"INPUT"!==d.nodeName&&"TextBox"!==d.nodeName&&"TextSegment"!==d.nodeName&&"NumberBox"!==d.nodeName){if(H=!1,"THEAD"===$.nodeName&&"TR"===d.nodeName&&d.childNodes)for(H=!0,U=0;U<d.childNodes.length;U++)if("TH"!==d.childNodes[U].nodeName){H=!1;break}0!==h&&!H||Y?("THEAD"===$.nodeName&&d.firstChild&&"TH"!==d.firstChild.nodeName&&(Y=!0),"THEAD"===$.nodeName&&d.firstChild&&"TH"===d.firstChild.nodeName&&Y&&(u.className+=" legacyBorderTopBottom"),ee.appendChild(u)):"#text"!==$.nodeName&&$.appendChild(u)}else o=JMP.ParserStatic.createElement("DIV",null,0===h?$:ee),o.appendChild(u);K(d,u,i)}if("TABLE"===e.nodeName&&(JMP.DocumentTableStatic.updateTableCellFormats(e,t),JMP.ParserStatic.getDescendantAny(t,["BUTTON","INPUT"]))){if(I=JMP.ParserStatic.getDescendants(t,"TR"),M=I.length,1===M)for(t.className=t.className.replace("border",""),l=I[0],l.className=l.className.replace("darkBackground",""),I=JMP.ParserStatic.getDescendants(l,"TD"),M=I.length,h=0;h<M;h++)I[h].className=I[h].className.replace("lightBackground",""),I[h].className=I[h].className.replace("text",""),JMP.ParserStatic.getDescendant(I[h],"INPUT")&&(I[h].className+=" inputCell");for(I=JMP.ParserStatic.getDescendants(t,"TD"),M=I.length,h=0;h<M;h++)I[h].className+=" verticallyCentered"}}else{"Annotation"!==e.nodeName&&JMP.CanvasAnnotationStatic.createAnnotationCanvases(e,t,f),e.firstChild&&"ProfileController"===e.firstChild.nodeName&&JMP.CanvasProfileSegmentStatic.createProfilerControls(e,t,+e.getAttribute("mappingId"),+e.firstChild.getAttribute("nYTerms")),JMP.ParserStatic.setLinked(t,JMP.ParserStatic.STORAGE_SUBTREES,e);let a=JMP.ParserStatic.getDescendant(e,"ControlChartBuilderComponentBox")?t.parentNode:void 0;if(JMP.ParserStatic.getDescendant(e,"ControlChartBuilderComponentBox")){let a=JMP.ParserStatic.createElement("DIV","layoutTable",t.parentNode),n=JMP.ParserStatic.createElement("DIV","layoutRow",a),l=JMP.ParserStatic.createElement("DIV","layoutCell",n);t.parentNode.removeChild(t),l.appendChild(t);let s=JMP.ParserStatic.getDescendants(e,"ControlChartBuilderComponentBox").pop();if(s.hasAttribute("x")&&+s.getAttribute("x")>0){l=JMP.ParserStatic.createElement("DIV","layoutCell",n);let e=s.firstChild,t=j(e);l.appendChild(t),K(e,t,i)}}if(a&&a.className.includes("annotationWrapper")){let e=[];Array.from(a.childNodes).forEach((function(t){t.className.includes("annotation")&&e.push(t)})),e.forEach((function(e){a.removeChild(e),a.appendChild(e)}))}}},Q=function(e){let t={};return e.replace(new RegExp('(\\w+)=(".*?")',"g"),(function(e,i,a){e&&(t[i]=a.slice(1,a.length-1))})),t},J=function(e,t,i){let a,n=e;t&&(n=t(n));try{"String"===i&&(n=V(n)),a=JSON.parse("["+n+"]")}catch(e){n=n.replace(/[\x00-\x1F]/g,"");try{a=JSON.parse("["+n+"]")}catch(e){a=[],JMP.DialogStatic.showMessage(void 0,r+JMP.ViewStatic.COLON+"<p style='width:400px; word-wrap: break-word;'>"+n+"</p>")}}return a},$=function(e,i,l,s,o=!1,r,d){let u,h,g,S,m,f,T,p,E,b,A,_,x,L,N,I,M,y,C,R=0,v={},w=c.stringTorgb,O="",P=".",D=",",F="",B="",k="",G="",H="",Y="/",U=":",z="",W="",X=function(e){return e.compression&&"gzip"===e.compression};for(r&&JMP.ParserStatic.setStored(i,r),o&&(b=JMP.ParserStatic.getStoredRowStates(JMP.ParserStatic.STORAGE_DATA)),g=0,p=0,f=e.length;g<f;){if(p=e.indexOf("Term",g),g=e.indexOf("Array",g),L=e.slice(g-6,g),p>0&&(g<0||p<g))g=p,S=e.indexOf(">",g+1),"X"===e.charAt(g-1)?("/"!==e.charAt(S-1)&&(S=e.indexOf("</XTerm>",S+1)+7),h=e.slice(g-2,S+1),JMP.ParserStatic.setStored(i,h),g=S+1):(S=e.indexOf("</YTerm>",g+1),h=e.slice(g-2,S+8),JMP.ParserStatic.setStored(i,h),g=S+8);else if(g+=5,_="RowState"===e.slice(g-13,g-5),"/"===e.charAt(g)&&">"===e.charAt(g+1))r?_&&(r.rowStates=new n(d)):JMP.ParserStatic.setStored(i,_?new n:[]),g+=2;else if(_){L="RowState",C=void 0;let t=!1;if(" "===e.charAt(g)&&(S=e.indexOf(">",g+1),h="/"===e.charAt(S-1)?e.slice(g+1,S-1):e.slice(g+1,S),v=Q(h),X(v)&&(C=JMP.ParserStatic.decompressGzipString),t=v.isDefault&&"true"===v.isDefault,g=S),t||(S=e.indexOf("</RowStateArray>",g+1),h=e.slice(g+1,S),E=J(h,C)),A=o?b[s]:new n(d),!t)for(T=E.length,m=0;m<T;m++){h=E[m],u=parseInt(h.substr(1,1),16);const e=1,t=2,i=4,a=8;u&e&&(A.selectedIndices[A.nSelectedIndices]=m,A.nSelectedIndices++),o||(A.selected[m]=!!(u&e),A.hidden[m]=!!(u&t),A.excluded[m]=!!(u&i),A.labeled[m]=!!(u&a)),A.color[m]=w(h.substr(2,6)),A.marker[m]=parseInt(h.substr(8),16)}o||(JMP.ServerStatic.cacheRowStates(i,A,l,R,T),r?r.rowStates=A:JMP.ParserStatic.setStored(i,A)),g=t?S+1:S+16}else if(" "===e.charAt(g))if(x="String"===e.slice(g-11,g-5),S=e.indexOf(">",g+1),h=e.slice(g+1,S),v=Q(h),1===Object.keys(v).length&&X(v))g=S+1,S=e.indexOf(L+"Array",g)-2,h=e.slice(g,S),C=JMP.ParserStatic.decompressGzipString,E=J(h,C,L),JMP.ParserStatic.setStored(i,E),g=S+14;else{if(v.formatCode&&(O=v.formatCode),v.decimalSeparator&&(P=v.decimalSeparator),v.thousandsSeparator&&(D=v.thousandsSeparator),v.positivePrefix&&(F=v.positivePrefix),v.positiveSuffix&&(B=v.positiveSuffix),v.negativePrefix&&(k=v.negativePrefix),v.negativeSuffix&&(G=v.negativeSuffix),v.dateTimePattern&&(H=v.dateTimePattern),v.dateSeparator&&(Y=v.dateSeparator),v.timeSeparator&&(U=v.timeSeparator),v.AMDesignator&&(z=v.AMDesignator),v.PMDesignator&&(W=v.PMDesignator),v.charLevels)for(y=v.charLevels.split(JMP.DELIMITER_ENTITY).map(V),p=0;p<y.length;p++)0===y[p].length?y[p]=null:y[p]=y[p].replace(/&quot;/g,'"');else y=void 0;if(C=void 0,X(v)&&(C=JMP.ParserStatic.decompressGzipString),h=e.slice(S-1,S),"/"===h){if(E=[],r){let e=JMP.ParserStatic.getStoredDataset(r.name);if(e){let t=v.name,i=e.columns.find((e=>e&&e.name===t));i&&(E=i.data)}}}else g=S+1,S=e.indexOf(L+"Array",g)-2,h=e.slice(g,S),E=J(h,C,L);N=void 0,v.valueLabels&&(N=V(v.valueLabels),N=N.replace(/&quot;/g,'"'),N=JSON.parse(N)),I=void 0,v.valueOrdering&&(I=v.valueOrdering.split(JMP.DELIMITER_ENTITY).map(V),x||(I=I.map(JMP.ParserStatic.mapNumber))),v.isMissingLast&&(M="true"===v.isMissingLast),E=new a(E,v.name,x?void 0===v.dataType?t.TYPE_STRING:t.TYPE_EXPRESSION:t.TYPE_NUMBER,x&&void 0===v.dataType?t.LEVEL_ORDINAL:JMP.ParserStatic.getDataLevel(v.dataLevel),JMP.Format(JMP.ParserStatic.getFormatName(v.formatName),"true"===v.showThousands,v.nDecimals?+v.nDecimals:-1,v.fieldWidth?+v.fieldWidth:-1,O,P,D,F,B,k,G,H,Y,U,z,W,"true"===v.useAMPM,"true"===v.useAMPMInFront,"true"===v.use24HourClock,"true"===v.useZeroForMidnight,"true"===v.useMinusForNegativeDateTime,"true"===v.useLeadingZeroForHour),N,I,"true"===v.isInformativeMissing,y,!("false"===v.precisionKeepFractional)),E.isMissingLast=M,r?r.columns[R-1]=E:JMP.ParserStatic.setStored(i,E),g="/"===h?S+1:S+14}else S=e.indexOf(L+"Array",g)-2,h=e.slice(g+1,S),C=void 0,E=J(h,C,L),JMP.ParserStatic.setStored(i,E),g=S+14;R++}return R};JMP.lastTarget=null,w=JMP.ParserStatic.createElement("DIV","",document.body,"body"),JMP.EventFacadeStatic.addEventListener(w,JMP.ControlStatic.onPointerEvent),JMP.EventFacadeStatic.addEventListener(document,JMP.ControlStatic.onPointerEvent),x=(e=(e=(e=(e=e.replace(/&#39;/g,"'")).replace(/&#13;/g," ")).replace(/&#10;/g," ")).replace(/&#9;/g,"")).indexOf("errorReadingData"),x>=0&&(x+=18,N=e.indexOf('"',x),r=e.slice(x,N)),s.XMLLength=e.length,I=e;const ee=I.indexOf("<MenuOptions>"),te=I.indexOf("</MenuOptions>")+"</MenuOptions>".length;if(ee>-1&&te>-1&&(q=I.substring(ee,te),I=I.split(q).join("")),JMP.ServerStatic.clearState(),JMP.DocumentColumnSwitcherStatic.clearState(),JMP.DocumentDataFilterStatic.clearState(),x=e.indexOf("<Set>"),x<0&&(x=e.indexOf("<Set ")),x<0&&(x=e.indexOf("<Set/>")),x>=0){I=e.slice(0,x-6),i||(JMP.ServerStatic.rowStates.length=0),O=0;let t=e.indexOf("<Data>"),a=e.includes("<DoubleArray",t)||e.includes("<StringArray",t),n=!i||a;JMP.ParserStatic.dataSetAttributes=[];let l=0;for(;x>=0;){if(N=e.indexOf("</Set",x),x+5<=N){let t,a;P=e.indexOf(">",x+1),Z=e.slice(x+5,P),X=Q(Z),X&&(JMP.ParserStatic.dataSetAttributes.push(X),X.rows&&(t=+X.rows)),n&&(a={name:X.name,columns:[]}),O+=$(e.slice(P+1,N),JMP.ParserStatic.STORAGE_DATA,-1,l,!n,a,t),n&&(JMP.ParserStatic.dataSetIndexOffsets.push(O),i&&JMP.ParserStatic.removeFirstDatatset())}else N=x+6;l++,x=e.indexOf("<Set",N),x<0&&(x=e.indexOf("<Set/>",N))}}if(x=I.indexOf("<Info>"),x<0&&(x=I.indexOf("</Display>")),N=I.indexOf("</Info",x),M=x+6<=N?I.slice(x+6,N):"",I=I.slice(0,x)+"</Display>",i||(I+="</JMPReport>"),N=I.indexOf("<DataFilterSourceBox"),N>=0&&(x=I.indexOf("rowStatesIndex",N)+16,N=+I.slice(x,I.indexOf('"',x))),$(M,JMP.ParserStatic.STORAGE_INFO,N),y=new window.DOMParser,C=y.parseFromString(I,"text/xml"),q){const e=y.parseFromString(q,"text/xml");e&&s.createPlatformMenu(e)}const ie=C.getElementsByTagName("TABLE");if(ie){let e=0;for(let t=0;t<ie.length;t++)if(ie[t].childNodes.length>0&&ie[t].childNodes[0].hasAttribute("isPaginated")){C.getElementsByTagName("TABLE")[t].setAttribute("isPaginated",!0);const i="tbl_"+e;e++,C.getElementsByTagName("TABLE")[t].setAttribute("id",i)}}R=C.childNodes[0];const ae=JMP.ParserStatic.getDescendant(R,"Display");ae.hasAttribute("hasALocalDataFilter")&&JMP.DocumentDataFilterStatic.moveDataFilters(ae),i||(R.hasAttribute("jmpVersion")&&(JMP.VERSION=R.getAttribute("jmpVersion")),R.hasAttribute("epoch")&&(JMP.EPOCH=+R.getAttribute("epoch")),R.hasAttribute("locale")&&(JMP.LOCALE=R.getAttribute("locale")),R.hasAttribute("exportOS")&&(JMP.EXPORT_OS=R.getAttribute("exportOS")),R.hasAttribute("enableHTMLElementProcessing")&&(JMP.HTML_FORMAT="true"===R.getAttribute("enableHTMLElementProcessing")),function(e,t){let i,a,n,r,c,T,p,A,_,x,L,N,I,M=t.fontFamily;if(M&&(JMP.FONT=M),M=t.fontSize,M&&(i=M.indexOf("px"),M=M.slice(0,i),JMP.LARGE_FONT_SIZE=+M,JMP.SMALL_FONT_SIZE=JMP.LARGE_FONT_SIZE-2),JMP.ViewStatic.isToolbarServerBased?document.documentElement.style.setProperty("--body-padding-top","0"):(r=document.getElementById(o),c=r.parentNode,c.href=c.href+W()+"?utm_source="+JMP.VERSION+"&utm_medium=application&utm_campaign=html5&utm_term=all"),JMP.ViewStatic.isServerAvailable||(r.className=r.className.replace("concealed","revealed")),!JMP.ViewStatic.isToolbarServerBased){p=document.getElementById(JMP.ViewStatic.TOOLBAR_MENU_ID),p.className=p.className.replace("concealed","revealed"),z(p,"toolbar menu");let e=document.getElementById(JMP.ModeStatic.ID_FOCUS_REPORT);e.className=e.className.replace("concealed","revealed"),e=document.getElementById(JMP.ModeStatic.ID_ZOOM_IN),e.className=e.className.replace("concealed","revealed"),e=document.getElementById(JMP.ModeStatic.ID_PAN),e.className=e.className.replace("concealed","revealed")}let y=s.ID_LIGHT_THEME;if(!JMP.ViewStatic.isServerAvailable&&e.hasAttribute("color")&&(e.hasAttribute("color")&&(y=e.getAttribute("color")),s.changeColorStyleSheet(y)),s.themeChangeEventDispatcher.dispatchEvent({type:JMP.DocumentStatic.THEME_CHANGED}),U(e,"textFont",JMP,"TEXT_FONT_FAMILY"),Y(e,"textFontSize",JMP,"TEXT_FONT_SIZE"),G(e,"textFontWeight",JMP,"TEXT_FONT_WEIGHT"),U(e,"markerFont",JMP,"MARKER_FONT_FAMILY"),Y(e,"markerFontSize",JMP,"MARKER_FONT_SIZE"),G(e,"markerFontWeight",JMP,"MARKER_FONT_WEIGHT"),U(e,"graphLabelFont",JMP,"GRAPH_LABEL_FONT_FAMILY"),Y(e,"graphLabelFontSize",JMP,"GRAPH_LABEL_FONT_SIZE"),G(e,"graphLabelFontWeight",JMP,"GRAPH_LABEL_FONT_WEIGHT"),Y(e,"hoverLabelFontSize",JMP,"HOVER_LABEL_FONT_SIZE"),G(e,"hoverLabelFont",JMP,"HOVER_LABEL_FONT_FAMILY"),U(e,"smallFont",JMP,"SMALL_FONT_FAMILY"),H(e,"polylineOrphanLinePixelLeft",JMP.PolylineSegmentStatic,"ORPHAN_LINE_LEFT"),H(e,"polylineOrphanLinePixelRight",JMP.PolylineSegmentStatic,"ORPHAN_LINE_RIGHT"),e.hasAttribute("resetAxes")&&(S=e.getAttribute("resetAxes")),e.hasAttribute("setColors")&&(d=e.getAttribute("setColors")),e.hasAttribute("lightTheme")&&(u=e.getAttribute("lightTheme")),e.hasAttribute("darkTheme")&&(g=e.getAttribute("darkTheme")),e.hasAttribute("grayTheme")&&(h=e.getAttribute("grayTheme")),e.hasAttribute("help")&&(m=e.getAttribute("help")),e.hasAttribute("closeTipTip")&&(f=e.getAttribute("closeTipTip")),G(e,"infinity",JMP.FormatStatic,"INFINITY"),G(e,"decimalSeparator",JMP.FormatStatic,"DECIMAL_SEPARATOR"),e.hasAttribute("monthNamesLong")&&(JMP.FormatStatic.MONTH_NAMES_LONG=e.getAttribute("monthNamesLong").split(",")),e.hasAttribute("monthNamesShort")&&(JMP.FormatStatic.MONTH_NAMES_SHORT=e.getAttribute("monthNamesShort").split(",")),e.hasAttribute("dayNames")&&(JMP.FormatStatic.DAY_NAMES=e.getAttribute("dayNames").split(",")),e.hasAttribute("geographicDirectionIndicators")&&(JMP.FormatStatic.GEOGRAPHIC_DIRECTION_INDICATORS=e.getAttribute("geographicDirectionIndicators").split(",")),e.hasAttribute("supportedLineStyles")&&JMP.ParserStatic.getSupportedLineStyleNameAndWidth(e.getAttribute("supportedLineStyles")),G(e,"fillSelectionMode",JMP.ViewStatic,void 0,"patterned"),G(e,"betweenCategories",JMP.ModelStatic,"BETWEEN_CATEGORIES"),G(e,"missingTip",JMP.ModelStatic,"TIP_MISSING"),G(e,"missingLegend",JMP.LegendBoxStatic,"LEGEND_LABEL_MISSING"),G(e,"other",l,"OTHER"),G(e,"statisticNamePercentOfTotal",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_PERCENT),G(e,"statisticNameN",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_N),G(e,"statisticNameSum",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_SUM),G(e,"statisticNameMean",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_MEAN),G(e,"statisticNameVariance",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_VARIANCE),G(e,"statisticNameStdDev",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_STD),G(e,"statisticNameStdErr",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_SEM),G(e,"statisticNameMin",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_MIN),G(e,"statisticNameMax",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_MAX),G(e,"statisticNameRange",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_RANGE),G(e,"statisticNameInterquartileRange",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_IQR),G(e,"statisticNameQ1",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_Q1),G(e,"statisticNameQ3",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_Q3),G(e,"statisticNameMedian",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_MEDIAN),G(e,"statisticNameConfidence",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_CONFIDENCE),G(e,"statisticNameGeometricMean",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_GEOMETRIC_MEAN),G(e,"statisticNameNMiss",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_NMISS),G(e,"statisticNameSkew",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_SKEW),G(e,"statisticNameKurtosis",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_KURTOSIS),G(e,"statisticNameCV",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_CV),G(e,"statisticNameSumWgt",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_SUM_WGT),G(e,"statisticNameMAD",JMP.MomentsStatic.NAMES,JMP.MomentsStatic.STAT_MAD),G(e,"disabledControlTip",JMP.ControlStatic,"TIP_DISABLED_CONTROL"),G(e,"disabledStaticTip",JMP.ControlStatic,"TIP_DISABLED_STATIC"),G(e,"closeButton",JMP.DialogStatic,"BUTTON_CLOSE"),G(e,"closeTip",JMP.DialogStatic,"TIP_CLOSE"),G(e,"okButton",JMP.FormatDialogStatic,"BUTTON_OK"),G(e,"okTip",JMP.FormatDialogStatic,"TIP_OK"),G(e,"cancelButton",JMP.FormatDialogStatic,"BUTTON_CANCEL"),G(e,"cancelTip",JMP.FormatDialogStatic,"TIP_CANCEL"),G(e,"negativeDurationLabel",JMP.FormatDialogStatic,"NEGATIVE_DURATION_LABEL"),G(e,"yearLabel",JMP.FormatDialogStatic,"YEAR_LABEL"),G(e,"monthLabel",JMP.FormatDialogStatic,"MONTH_LABEL"),G(e,"dayLabel",JMP.FormatDialogStatic,"DAY_LABEL"),G(e,"hourLabel",JMP.FormatDialogStatic,"HOUR_LABEL"),G(e,"minuteLabel",JMP.FormatDialogStatic,"MINUTE_LABEL"),G(e,"secondLabel",JMP.FormatDialogStatic,"SECOND_LABEL"),G(e,"degreeLabel",JMP.FormatDialogStatic,"DEGREE_LABEL"),G(e,"daysLabel",JMP.FormatDialogStatic,"DAYS_LABEL"),G(e,"hoursLabel",JMP.FormatDialogStatic,"HOURS_LABEL"),G(e,"minutesLabel",JMP.FormatDialogStatic,"MINUTES_LABEL"),G(e,"secondsLabel",JMP.FormatDialogStatic,"SECONDS_LABEL"),G(e,"amPmLabel",JMP.FormatDialogStatic,"AM_PM_LABEL"),G(e,"directionLabel",JMP.FormatDialogStatic,"DIRECTION_LABEL"),e.hasAttribute("geographicDirectionNames")&&(JMP.FormatDialogStatic.GEOGRAPHIC_DIRECTION_NAMES=e.getAttribute("geographicDirectionNames").split(",")),G(e,"errorYearFormat",JMP.FormatDialogStatic,"ERROR_YEAR_FORMAT"),G(e,"errorMinuteFormat",JMP.FormatDialogStatic,"ERROR_MINUTE_FORMAT"),G(e,"errorSecondFormat",JMP.FormatDialogStatic,"ERROR_SECOND_FORMAT"),G(e,"errorDaysDurationFormat",JMP.FormatDialogStatic,"ERROR_DAYS_DURATION_FORMAT"),G(e,"errorHoursDurationFormat",JMP.FormatDialogStatic,"ERROR_HOURS_DURATION_FORMAT"),G(e,"errorMinutesDurationFormat",JMP.FormatDialogStatic,"ERROR_MINUTES_DURATION_FORMAT"),G(e,"errorDegreesGeographicFormat",JMP.FormatDialogStatic,"ERROR_DEGREES_GEOGRAPHIC_FORMAT"),G(e,"errorGeographicFormat",JMP.FormatDialogStatic,"ERROR_GEOGRAPHIC_FORMAT"),G(e,"menuTip",JMP.MenuStatic,"TIP_MENU"),G(e,"focusReport",JMP.ModeStatic,"TIP_FOCUS_REPORT"),G(e,"focusData",JMP.ModeStatic,"TIP_FOCUS_DATA"),G(e,"selectOnly",JMP.ModeStatic,"TIP_SELECT_ONLY"),G(e,"selectToggle",JMP.ModeStatic,"TIP_SELECT_TOGGLE"),G(e,"magnifier",JMP.ModeStatic,"TIP_ZOOM_IN"),G(e,"grabber",JMP.ModeStatic,"TIP_PAN"),G(e,"outlineRevealTooltip",JMP.OutlineStatic,"TIP_REVEAL"),G(e,"outlineConcealTooltip",JMP.OutlineStatic,"TIP_CONCEAL"),G(e,"defaultTabTooltip",JMP.TabStatic,"TIP_DEFAULT_TAB"),G(e,"selectColumn",JMP.DocumentColumnSwitcherStatic,"TIP_SELECT_COLUMN"),G(e,"selectNextTip",JMP.DocumentColumnSwitcherStatic,"TIP_SELECT_NEXT"),G(e,"selectPrevTip",JMP.DocumentColumnSwitcherStatic,"TIP_SELECT_PREV"),G(e,"excludeSelected",JMP.ServerStatic,"MENU_EXCLUDE_SELECTED"),G(e,"restoreAll",JMP.ServerStatic,"MENU_RESTORE_ALL"),G(e,"invertSelection",JMP.ServerStatic,"MENU_INVERT_SELECTION"),G(e,"displayLogMessages",JMP.ServerStatic,"MENU_DISPLAY_LOG_MESSAGES"),G(e,"getTableInfoError",JMP.ServerStatic,"MSG_ERROR_TABLE_GETTING_TABLE_INFO"),G(e,"validateSessionError",JMP.ServerStatic,"MSG_ERROR_VALIDATING_SESSION"),G(e,"settingsNotPreservedMessage",JMP.ServerStatic,"MSG_CANNOT_PRESERVE_USER_SETTINGS"),G(e,"numberOfSettingsMessage",JMP.ServerStatic,"MSG_NUMBER_OF_USER_SETTINGS"),G(e,"missingDataTableMessage",JMP.ServerStatic,"MSG_MISSING_DATA_TABLE"),G(e,"logContentsMessage",JMP.ServerStatic,"MSG_LOG_MESSAGES"),G(e,"operationProducedNoResultMessage",JMP.ServerStatic,"MSG_OPERATION_PRODUCED_NO_RESULT"),G(e,"runningScriptError",JMP.ServerStatic,"MSG_ERROR_RUNNING_SCRIPT"),G(e,"startJMPSucceededMessage",JMP.ServerStatic,"MSG_START_JMP_SUCCEEDED"),G(e,"noTableLimitedInteractivityMessage",JMP.ServerStatic,"MSG_NO_TABLE_LIMITED_INTERACTIVITY"),G(e,"setRowStatesMessage",JMP.ServerStatic,"MSG_SET_ROW_STATES"),G(e,"numTablesChangedError",JMP.ServerStatic,"MSG_ERROR_NUM_TABLES_CHANGED"),G(e,"minWhiskerTip",JMP.BoxPlotSegmentStatic.ADJACENTS_NAMES,0),G(e,"maxWhiskerTip",JMP.BoxPlotSegmentStatic.ADJACENTS_NAMES,1),G(e,"minShortestHalfTip",JMP.BoxPlotSegmentStatic.ADJACENTS_NAMES,2),G(e,"maxShortestHalfTip",JMP.BoxPlotSegmentStatic.ADJACENTS_NAMES,3),G(e,"drawMenu",JMP.BubblePlotSegmentStatic,"MENU_DRAW"),G(e,"labelMenu",JMP.BubblePlotSegmentStatic,"MENU_LABEL"),G(e,"showTimeLabel",JMP.BubblePlotSegmentStatic,"MENU_SHOW_TIME_LABEL"),G(e,"trailBubblesMenu",JMP.BubblePlotSegmentStatic,"MENU_TRAIL_BUBBLES"),G(e,"trailLinesMenu",JMP.BubblePlotSegmentStatic,"MENU_TRAIL_LINES"),G(e,"aggregateMenu",JMP.BubblePlotSegmentStatic,"MENU_AGGREGATE"),G(e,"selectableAcrossGaps",JMP.BubblePlotSegmentStatic,"MENU_SELECTABLE_ACROSS_GAPS"),G(e,"drawFilled",JMP.BubblePlotSegmentStatic,"MENU_FILLED"),G(e,"drawOutlined",JMP.BubblePlotSegmentStatic,"MENU_OUTLINED"),G(e,"drawFilledAndOutlined",JMP.BubblePlotSegmentStatic,"MENU_FILLED_AND_OUTLINED"),G(e,"whichNone",JMP.BubblePlotSegmentStatic,"MENU_NONE"),G(e,"whichSelected",JMP.BubblePlotSegmentStatic,"MENU_SELECTED"),G(e,"whichAll",JMP.BubblePlotSegmentStatic,"MENU_ALL"),G(e,"aggregateXSum",JMP.BubblePlotSegmentStatic,"MENU_X_SUM"),G(e,"aggregateYSum",JMP.BubblePlotSegmentStatic,"MENU_Y_SUM"),G(e,"aggregateSizeSum",JMP.BubblePlotSegmentStatic,"MENU_SIZE_SUM"),G(e,"aggregateColorSum",JMP.BubblePlotSegmentStatic,"MENU_COLOR_SUM"),G(e,"variableRolesTip",JMP.BubblePlotSegmentStatic,"TIP_ROLES"),G(e,"roleSum",JMP.BubblePlotSegmentStatic,"ROLE_SUM_SUFFIX"),G(e,"roleMean",JMP.BubblePlotSegmentStatic,"ROLE_MEAN_SUFFIX"),G(e,"roleX",JMP.BubblePlotSegmentStatic,"ROLE_X_NAME"),G(e,"roleY",JMP.BubblePlotSegmentStatic,"ROLE_Y_NAME"),G(e,"roleSize",JMP.BubblePlotSegmentStatic,"ROLE_SIZE_NAME"),G(e,"roleColor",JMP.BubblePlotSegmentStatic,"ROLE_COLOR_NAME"),G(e,"startAnimationTip",JMP.BubblePlotSegmentStatic,"TIP_START_ANIMATION"),G(e,"pauseAnimationTip",JMP.BubblePlotSegmentStatic,"TIP_PAUSE_ANIMATION"),G(e,"forwardAnimationTip",JMP.BubblePlotSegmentStatic,"TIP_FORWARD_ANIMATION"),G(e,"backwardAnimationTip",JMP.BubblePlotSegmentStatic,"TIP_BACKWARD_ANIMATION"),G(e,"timeSliderTip",JMP.BubblePlotSegmentStatic,"TIP_TIME_SLIDER"),G(e,"speedSliderTip",JMP.BubblePlotSegmentStatic,"TIP_SPEED_SLIDER"),G(e,"splitBubblesTip",JMP.BubblePlotSegmentStatic,"TIP_SPLIT"),G(e,"combineBubblesTip",JMP.BubblePlotSegmentStatic,"TIP_COMBINE"),G(e,"sizeSliderTip",JMP.BubblePlotSegmentStatic,"TIP_SIZE_SLIDER"),G(e,"estimatedTip",JMP.BubblePlotSegmentStatic,"TIP_ESTIMATED"),G(e,"clearFilter",JMP.DataFilterStatic,"MENU_CLEAR"),G(e,"autoUpdateFilter",JMP.DataFilterStatic,"AUTO_UPDATE"),G(e,"autoUpdateFilterTip",JMP.DataFilterStatic,"TIP_AUTO_UPDATE"),G(e,"updateFilter",JMP.DataFilterStatic,"UPDATE"),G(e,"updateFilterTip",JMP.DataFilterStatic,"TIP_UPDATE_BUTTON"),G(e,"inverseFilter",JMP.DataFilterStatic,"INVERSE"),G(e,"selectFilteredRows",JMP.DataFilterStatic,"MENU_SELECT"),G(e,"showFilteredRows",JMP.DataFilterStatic,"MENU_SHOW"),G(e,"includeFilteredRows",JMP.DataFilterStatic,"MENU_INCLUDE"),G(e,"conditionalFiltering",JMP.DataFilterStatic,"MENU_CONDITIONAL"),G(e,"conditionalTip",JMP.DataFilterStatic,"TIP_CONDITIONAL"),G(e,"AND",JMP.DataFilterStatic,"AND"),G(e,"OR",JMP.DataFilterStatic,"OR"),G(e,"numberMatchingRows",JMP.DataFilterStatic,"NUMBER_MATCHING_ROWS"),G(e,"adjustScales",JMP.FrameBoxStatic,"MENU_ADJUST_SCALES"),G(e,"specifyScales",JMP.FrameBoxStatic,"MENU_SPECIFY_SCALES"),G(e,"adjustBins",JMP.FrameBoxStatic,"MENU_ADJUST_BINS"),G(e,"specifyBins",JMP.FrameBoxStatic,"MENU_SPECIFY_BINS"),G(e,"legendTip",JMP.LegendBoxStatic,"TIP_LEGEND"),G(e,"stackedValueTip",JMP.LineSegmentStatic,"TIP_STACKED_VALUE"),G(e,"largerMarkers",JMP.MarkerSegmentStatic,"MENU_LARGER_MARKERS"),G(e,"smallerMarkers",JMP.MarkerSegmentStatic,"MENU_SMALLER_MARKERS"),G(e,"reset",JMP.ProfileControllerStatic,"MENU_RESET"),G(e,"adaptYAxis",JMP.ProfileControllerStatic,"MENU_ADAPT_Y_AXIS"),G(e,"warningProfilerCurve",JMP.ProfileControllerStatic,"WARNING_CURVE"),G(e,"warningProfilerVariableNumeric",JMP.ProfileControllerStatic,"WARNING_NUMERIC_VARIABLE"),G(e,"profilerLockTip",JMP.ProfileControllerStatic,"TIP_LOCK"),G(e,"profilerUnlockTip",JMP.ProfileControllerStatic,"TIP_UNLOCK"),G(e,"profilerApplySettingTip",JMP.ProfileControllerStatic,"TIP_SETTING"),G(e,"profilerEditTip",JMP.ProfileControllerStatic,"TIP_EDIT"),G(e,"profilerDropdownTip",JMP.ProfileControllerStatic,"TIP_DROPDOWN"),G(e,"applyMixture",JMP.ProfileControllerStatic,"BUTTON_APPLY"),G(e,"applyMixtureTip",JMP.ProfileControllerStatic,"TIP_APPLY_MIXTURE"),G(e,"categoricalResponseTip",E,"TIP_CATEGORICAL_RESPONSE"),G(e,"selectAll",JMP.SegmentStatic,"MENU_SELECT_ALL"),G(e,"numberOfBins",JMP.SegmentStatic,"TIP_NUMBER_OF_BINS"),G(e,"percentageOfBins",JMP.SegmentStatic,"TIP_PERCENTAGE_OF_BINS"),G(e,"cumulativeValueTip",b,"TIP_CUMULATIVE_VALUE"),G(e,"referenceValueTip",b,"TIP_REFERENCE_VALUE"),G(e,"lowerBoundTip",JMP.TooltipModelStatic,"TIP_LOWER_BOUND"),G(e,"upperBoundTip",JMP.TooltipModelStatic,"TIP_UPPER_BOUND"),G(e,"valueTip",JMP.TooltipModelStatic,"TIP_VALUE"),G(e,"percentTip",JMP.TooltipModelStatic,"TIP_PERCENT"),G(e,"percentGroupTip",JMP.TooltipModelStatic,"TIP_PERCENT_GROUP"),G(e,"rows",JMP.TooltipModelStatic,"TIP_ROWS"),G(e,"frequency",JMP.TooltipModelStatic,"TIP_FREQUENCY"),G(e,"rowLabel",JMP.TooltipModelStatic,"TIP_ROW"),G(e,"sumLabel",JMP.TooltipModelStatic,"TIP_SUM"),G(e,"selectedTip",JMP.TooltipModelStatic,"TIP_SELECTED"),G(e,"hiddenTip",JMP.TooltipModelStatic,"TIP_HIDDEN"),G(e,"selectedHiddenTip",JMP.TooltipModelStatic,"TIP_SELECTED_HIDDEN"),G(e,"selectedHiddenExcludedTip",JMP.TooltipModelStatic,"TIP_SELECTED_HIDDEN_EXCLUDED"),G(e,"numberOfTrialsTip",JMP.TooltipModelStatic,"TIP_NUMBER_OF_TRIALS"),Object.isFrozen(JMP.ViewStatic.CCB_STAT_NAMES)||(G(e,"ccbStatisticNameIndividual",JMP.ViewStatic.CCB_STAT_NAMES,"INDIVIDUAL"),G(e,"ccbStatisticNameMovingRange",JMP.ViewStatic.CCB_STAT_NAMES,"MOVING_RANGE"),G(e,"ccbStatisticNameMedianMovingRange",JMP.ViewStatic.CCB_STAT_NAMES,"MEDIAN_MOVING_RANGE"),G(e,"ccbStatisticNameAverage",JMP.ViewStatic.CCB_STAT_NAMES,"AVERAGE"),G(e,"ccbStatisticNameRange",JMP.ViewStatic.CCB_STAT_NAMES,"RANGE"),G(e,"ccbStatisticNameStdDev",JMP.ViewStatic.CCB_STAT_NAMES,"STD_DEV"),G(e,"ccbStatisticNameMovingRangeOnMeans",JMP.ViewStatic.CCB_STAT_NAMES,"MOVING_RANGE_ON_MEANS"),G(e,"ccbStatisticNameMovingRangeOnStdDev",JMP.ViewStatic.CCB_STAT_NAMES,"MOVING_RANGE_ON_STD_DEV"),G(e,"ccbStatisticNameProportion",JMP.ViewStatic.CCB_STAT_NAMES,"PROPORTION"),G(e,"ccbStatisticNameCount",JMP.ViewStatic.CCB_STAT_NAMES,"COUNT"),G(e,"ccbStatisticNameCentered",JMP.ViewStatic.CCB_STAT_NAMES,"CENTERED"),G(e,"ccbStatisticNameStandardized",JMP.ViewStatic.CCB_STAT_NAMES,"STANDARDIZED"),G(e,"ccbStatisticNameRangeCentered",JMP.ViewStatic.CCB_STAT_NAMES,"RANGE_CENTERED"),G(e,"ccbStatisticNameRangeStandardized",JMP.ViewStatic.CCB_STAT_NAMES,"RANGE_STANDARDIZED"),G(e,"ccbStatisticNameMovingRangeCentered",JMP.ViewStatic.CCB_STAT_NAMES,"MOVING_RANGE_CENTERED"),G(e,"ccbStatisticNameMovingRangeStandardized",JMP.ViewStatic.CCB_STAT_NAMES,"MOVING_RANGE_STANDARDIZED"),Object.freeze(JMP.ViewStatic.CCB_STAT_NAMES)),H(e,"backButtonID",JMP.BubblePlotSegmentStatic,"ID_BACK_BUTTON"),H(e,"stepButtonID",JMP.BubblePlotSegmentStatic,"ID_STEP_BUTTON"),H(e,"playButtonID",JMP.BubblePlotSegmentStatic,"ID_PLAY_BUTTON"),H(e,"recordButtonID",JMP.BubblePlotSegmentStatic,"ID_RECORD_BUTTON"),H(e,"saveButtonID",JMP.BubblePlotSegmentStatic,"ID_SAVE_BUTTON"),H(e,"splitButtonID",JMP.BubblePlotSegmentStatic,"ID_SPLIT_BUTTON"),H(e,"combineButtonID",JMP.BubblePlotSegmentStatic,"ID_COMBINE_BUTTON"),e.hasAttribute("colon")&&(JMP.ViewStatic.COLON=e.getAttribute("colon").slice(2)),e.hasAttribute("openParen")&&(a=e.getAttribute("openParen"),JMP.ViewStatic.OPEN_PAREN=a.slice(0,a.length-2)),e.hasAttribute("closeParen")&&(JMP.ViewStatic.CLOSE_PAREN=e.getAttribute("closeParen").slice(2)),T=e.hasAttribute("sponsorTip")?e.getAttribute("sponsorTip")+" ":"",n=e.hasAttribute("openTip")?e.getAttribute("openTip")+" ":"",JMP.ViewStatic.isServerAvailable||(B(r,[T+"("+JMP.VERSION+")",n+"jmp.com"]),z(r,T+" "+n+"jmp.com"),JMP.EventFacadeStatic.addEventListener(document.getElementById(o),JMP.ControlStatic.buttonListener)),s.isStatic=k(e,"isStatic"),!JMP.ViewStatic.isToolbarServerBased)if(A=document.getElementById(JMP.ModeStatic.ID_SELECT_ONLY),_=document.getElementById(JMP.ModeStatic.ID_SELECT_TOGGLE),x=document.getElementById(JMP.ModeStatic.ID_FOCUS_REPORT),L=document.getElementById(JMP.ModeStatic.ID_ZOOM_IN),N=document.getElementById(JMP.ModeStatic.ID_ZOOM_OUT),I=document.getElementById(JMP.ModeStatic.ID_PAN),s.isStatic){A.disabled=!0,_.disabled=!0,x.disabled=!0,L.disabled=!0,N.disabled=!0,I.disabled=!0,A.className=A.className.replace("buttonDown","buttonDisabled"),_.className=_.className.replace("buttonUp","buttonDisabled"),x.className=x.className.replace("buttonDown","buttonDisabled"),L.className=L.className.replace("buttonUp","buttonDisabled"),N.className=N.className.replace("buttonUp","buttonDisabled"),I.className=I.className.replace("buttonUp","buttonDisabled"),A.firstChild.setAttribute("src",JMP.ModeStatic.getSelectOnlyIcon(!0)),_.firstChild.setAttribute("src",JMP.ModeStatic.getSelectToggleIcon(!0)),x.firstChild.setAttribute("src",JMP.ModeStatic.getFocusReportIcon(!0)),L.firstChild.setAttribute("src",JMP.ModeStatic.getZoomInIcon(!0)),N.firstChild.setAttribute("src",JMP.ModeStatic.getZoomOutIcon(!0)),I.firstChild.setAttribute("src",JMP.ModeStatic.getPanIcon(!0));let e={type:JMP.DocumentStatic.THEME_CHANGED,isDisabled:!0};JMP.DocumentStatic.themeChangeEventDispatcher.dispatchEvent(e),B(A,[JMP.ControlStatic.TIP_DISABLED_STATIC]),B(_,[JMP.ControlStatic.TIP_DISABLED_STATIC]),B(x,[JMP.ControlStatic.TIP_DISABLED_STATIC]),B(L,[JMP.ControlStatic.TIP_DISABLED_STATIC]),B(N,[JMP.ControlStatic.TIP_DISABLED_STATIC]),B(I,[JMP.ControlStatic.TIP_DISABLED_STATIC])}else B(A,[JMP.ModeStatic.TIP_SELECT_ONLY]),B(_,[JMP.ModeStatic.TIP_SELECT_TOGGLE]),B(x,[JMP.ModeStatic.TIP_FOCUS_REPORT]),B(L,[JMP.ModeStatic.TIP_ZOOM_IN]),B(N,[JMP.ModeStatic.TIP_ZOOM_OUT]),B(I,[JMP.ModeStatic.TIP_PAN]),z(A,JMP.ModeStatic.TIP_SELECT_ONLY),z(_,JMP.ModeStatic.TIP_SELECT_TOGGLE),z(x,JMP.ModeStatic.TIP_FOCUS_REPORT),z(L,JMP.ModeStatic.TIP_ZOOM_IN),z(N,JMP.ModeStatic.TIP_ZOOM_OUT),z(I,JMP.ModeStatic.TIP_PAN);document.body.setAttribute("onkeydown","JMP.ModeStatic.onKey( event );"),document.body.setAttribute("onkeyup","JMP.ModeStatic.onKey( event );")}(R,window.getComputedStyle(document.body))),p=0,_=0,L=0,JMP.ServerStatic.resizedObserver&&JMP.ServerStatic.resizedObserver.disconnect(),JMP.DocumentMenuStatic.nodeDisplays.length=0,v=document.createDocumentFragment(),K(C,v,"tab"),JMP.EventFacadeStatic.addEventListener(document.body,(function(e){if(JMP.SegmentStatic.pointerDownSegment&&(!e.pointerTarget||"CANVAS"!==e.pointerTarget.nodeName))switch(e.type){case"pointermove":case"pointerup":let t=JMP.SegmentStatic.pointerDownSegment;t&&t.onPointerEvent(e),t=JMP.SegmentStatic.pointerDownSegment,t&&t.mousePanEvent(e),"pointerup"===e.type&&(document.body.className="cursorArrow")}})),document.getElementById("body").className="hidden",document.getElementById("body").appendChild(v);let ne=function(e){let t,i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),a=[];for(;t=i.nextNode();)a.push(t);return a}(document.getElementById("body"));return ne.forEach((e=>{let t=e.data;t.toLowerCase().includes("<a href")||function(e){let t=e.textContent,i=t.match(/(\b(https?|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi);if(i){let a=document.createElement("div");for(i.forEach((e=>{a.innerHTML=t.replace(e,'<a href="'+e+'" target="_blank" rel="noreferrer noopener">'+e+"</a>")}));a.firstChild;)e.parentNode.insertBefore(a.firstChild,e);e.parentNode.removeChild(e)}}(e),JMP.HTML_FORMAT&&t.toLowerCase().includes("<a href")&&function(e){const t=e.textContent,i=t.match(/(\b(https?|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi);if(i){const a=t.match(/[^>]*(<\/a>)/gi);if(a&&a.length===i.length){for(let t=0;t<i.length;t++){const n=a[t].substring(0,a[t].indexOf("<"));let l=document.createElement("a");const s=document.createTextNode(n);if(l.setAttribute("href",i[t]),l.setAttribute("target","_blank"),l.appendChild(s),e.parentNode.insertBefore(l,e),t<i.length-1){const t=document.createElement("pre");e.parentNode.insertBefore(t,e)}}e.parentNode.removeChild(e)}}}(e)})),JMP.DocumentColumnSwitcherStatic.initialize(),JMP.DocumentTableStatic.formatScrollableTables(),function(){let e=function(){let e=document.getElementsByTagName("INPUT");for(let t=0;t<e.length;t++){let i=e[t];if(i.className.includes("multirange")){let e=i.className.includes("original")?"thumbRight":"thumbLeft",t=JMP.EventFacadeStatic.isTouch?"":"Touch",a=JMP.EventFacadeStatic.isTouch?"Touch":"";i.className=i.className.replace(" "+e+t,""),i.className+=" "+e+a}}},t=function(t){let i=function(){if(!JMP.ViewStatic.isToolbarServerBased){let e=document.getElementById(JMP.ModeStatic.ID_SELECT_ONLY);e.className=e.className.replace("concealed","revealed"),e=document.getElementById(JMP.ModeStatic.ID_SELECT_TOGGLE),e.className=e.className.replace("concealed","revealed")}};if(e(),t){let e,t,a;for(setTimeout((function(){for(i(),t=document.getElementsByTagName("BUTTON"),e=0;e<t.length;e++)a=t[e],a.className.includes("touchTransitionSquare")?a.className=a.className.replace("touchTransitionSquare","square"):a.className.includes("touchTransitionSponsor")?a.className=a.className.replace("touchTransitionSponsor","sponsor"):a.className=a.className.replace("touchTransition","");document.getElementById(D).disabled=!0,document.getElementById(F).disabled=!1,JMP.ControlStatic.invalidateOffsets()}),2e3),t=document.getElementsByTagName("BUTTON"),e=0;e<t.length;e++)a=t[e],a.className.includes("square")?a.className=a.className.replace("square","touchTransitionSquare"):a.className.includes("sponsor")?a.className=a.className.replace("sponsor","touchTransitionSponsor"):a.className+=" touchTransition"}else i(),document.getElementById(D).disabled=!0,document.getElementById(F).disabled=!1},i=function(){JMP.EventFacadeStatic.isTouch&&(t(!0),JMP.EventFacadeStatic.removeEventListener(document,i))};document.getElementById(D).disabled=JMP.EventFacadeStatic.isTouch,document.getElementById(F).disabled=!JMP.EventFacadeStatic.isTouch,JMP.EventFacadeStatic.isTouch?t():(e(),JMP.EventFacadeStatic.addEventListener(document,i))}(),R},s.getParentWindow=function(){try{if(!window.parent.document)throw new Error("Not Accessible");return window.parent}catch{return window}},s.createPlatformMenu=function(e){const t=e.children[0].children;let i={};for(let e of t){let t=e.tagName,a={};JMP.ParserStatic.setString(e,"name",a),JMP.ParserStatic.setString(e,"translatedName",a),void 0===i[t]&&(i[t]=a)}s.platformMenu=new x(i)},s}(),window.onresize=function(){"use strict";JMP.ControlStatic.invalidateOffsets(),JMP.DocumentTableStatic.adjustScrollableTableCellSize()},window.onscroll=function(){"use strict";JMP.TooltipStatic.updateTooltip()},window.onload=async function(e,t){"use strict";const i=JMP.DocumentStatic.getParentWindow().document.getElementById("app");i&&i.className.includes("theme--dark")?JMP.DocumentStatic.changeColorStyleSheet(JMP.DocumentStatic.ID_DARK_THEME):JMP.DocumentStatic.changeColorStyleSheet(JMP.DocumentStatic.ID_LIGHT_THEME);let a,n,l=function(e,t){let i=t;return window.location.href.includes(e)&&(i=function(){let e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,i,a){e[i]=a})),e}()[e]),i},s=function(e){let t=window.location.href,i="?"+e+"=1",a="&"+e+"=1";t.includes(i)?(t.includes("&")&&(t=t.replace("&","?")),t=t.replace(i,"")):t.includes(a)?t=t.replace(a,""):t.includes("?")?t+=a:t+=i,window.location.href=t},o=function(e){let t=document.createElement("DIV");t.className="layoutRow";let i=document.createElement("DIV");i.className="layoutCell";for(let t=0;t<e.length;t++)i.appendChild(e[t]);return t.appendChild(i),t},r=function(){let e,t,i="1"===l("describe"),r="1"===l("assertions"),c="1"===l("newTestSet"),d=document.getElementById("body"),u=function(e){let t,i,n,l,s,o,r="",c=!1;for(t=a.indexOf("<"+e+">"),t<0&&(t=a.indexOf("<"+e+" "),c=!0),t<0&&(t=a.indexOf("<"+e+"/>"));t>=0;){if(n=a.indexOf("</"+e+">",t),t+e.length+2<=n){if(o=a.slice(t+e.length+2,n),c){let t=o.indexOf(">");r+="\t\t\ts += \t\t'<"+e+" "+o.substr(0,t)+">';\n"}else r+="\t\t\ts += \t\t'<"+e+">';\n";for(i=0,l=o.length;i<l;)if(t=o.indexOf("Array",i),-1===t){if(t=o.indexOf("<XTerm",i),t>=0){const e="/>";i=o.indexOf(e,t),s=o.slice(t,i+e.length),i+=e.length}else{const e="</YTerm>";t=o.indexOf("<YTerm",i),i=o.indexOf(e,t),s=o.slice(t,i+e.length),i+=e.length}s=s.replace(/\\/g,"\\\\"),r+="\t\t\ts += \t\t\t'"+s+"';\n"}else t=o.lastIndexOf("<",t),i=o.indexOf("/",t),i=o.indexOf(">",i),s=o.slice(i-1,i),'"'===s&&(i=o.indexOf(">",i+1)),i++,s=o.slice(t,i),s=s.replace(/\\/g,"\\\\"),r+="\t\t\ts += \t\t\t'"+s+"';\n";r+="\t\t\ts += \t\t'</"+e+">';\n"}else n=t+e.length+3;t=a.indexOf("<"+e+">",n),t<0&&(t=a.indexOf("<"+e+"/>",n))}return r},h=function(e,t){let a,l,s,o,r,c=i,d="",u="<"+e.nodeName+" ",g=e.attributes;if(("IfBox"===e.nodeName||"IfSegment"===e.nodeName)&&g&&(g[0]&&"condition"===g[0].nodeName&&"false"===g[0].value||g[1]&&"condition"===g[1].nodeName&&"false"===g[1].value))return"";if(g)for(r=g.length,o=0;o<r;o++)l=g[o],"segments"===l.nodeName||!c&&"description"===l.nodeName||"tip"===l.nodeName||"src"===l.nodeName&&"IMG"===e.nodeName||(s=l.value,s=s.replace(/&/g,"&amp;"),s=s.replace(/\u2029/g,"&#x2029;"),s=s.replace(/\u2028/g,"&#x2028;"),s=s.replace(/</g,"&lt;"),s=s.replace(/>/g,"&gt;"),u+=l.nodeName+'="'+s+'" ');if(u=u.slice(0,u.length-1),e.firstChild)if(d+="\t\t\ts += "+t+"'"+u+">",1===e.childNodes.length&&"#text"===e.firstChild.nodeName)u=e.firstChild.nodeValue,u=u.replace(/&/g,"&amp;"),u=u.replace(/\u2029/g,"&#x2029;"),u=u.replace(/\u2028/g,"&#x2028;"),u=u.replace(/</g,"&lt;"),u=u.replace(/>/g,"&gt;"),d+=u+"</"+e.nodeName+">';\n";else{for(d+="';\n",a=e.firstChild;a;a=a.nextSibling)d+=h(a,t+"\t");e!==n&&(d+="\t\t\ts += "+t+"'</"+e.nodeName+">';\n")}else d+="\t\t\ts += "+t+"'"+u+"/>';\n";return d},g=function(e){let t,i,a,n,l,s=[],o=e.childNodes.length,r="";if(s.length>0&&e.attributes)for(l=e.attributes.length,i=0;i<l;i++)n=e.attributes[i],s.indexOf(n.nodeName)>=0&&(r+="\t\t\texpect( node.attributes[ "+i+' ].nodeName ).to.equal( "'+n.nodeName+'" );\n',r+="\t\t\texpect( node.attributes[ "+i+' ].nodeValue ).to.equal( "'+n.nodeValue+'" );\n');for(i=0;i<o;i++)t=e.childNodes[i],"IMG"===t.nodeName?r+='\t\t\texpect( node.nodeName ).to.equal( "'+t.nodeName+'" );\n':1===t.childNodes.length&&"#text"===t.firstChild.nodeName?r+="\t\t\texpect( node.childNodes[ "+i+' ].firstChild.nodeValue ).to.equal( "'+t.firstChild.nodeValue+'" );\n':(a=g(t),""!==a&&(r+="\t\t\tnode = node.childNodes[ "+i+" ];\n","DIV"!==t.nodeName&&(r+='\t\t\texpect( node.nodeName ).to.equal( "'+t.nodeName+'" );\n'),r+=a,r+="\t\t\tnode = node.parentNode;\n"));return r};!function(e){let t,i=JMP.ParserStatic.getDescendant(e,"DataFilterContextBox");i&&(t=JMP.ParserStatic.getDescendant(e,"DataFilterBox"),t&&(JMP.ParserStatic.createElement("Box",null,t.parentNode),i.insertBefore(t,i.firstChild)))}(n);t='\t\tit( "should test something", function() {\n\t\t\tlet s = "", node, body;\n',t+=h(n,""),e=t.lastIndexOf("\t\t\ts += \t'</Display>';\n"),t=t.slice(0,e),t+=u("Info"),t+="\t\t\ts += \t'</Display>';\n",t+="\t\t\ts += \t'<Data>';\n",t+=u("Set"),t+="\t\t\ts += \t'</Data>';\n",t+=function(){let e=a.indexOf("<MenuOptions>");if(e>=0){let t=a.indexOf("</MenuOptions>",e);if(t>=0)return t+="</MenuOptions>".length,"\t\t\ts += \t'"+a.slice(e,t)+"';\n"}return""}(),t+="\t\t\ts += '</"+n.nodeName+">';\n\t\t\tJMP.DocumentStatic.parse( s );\n",r&&(t+="\t\t\tbody = document.getElementById( 'body' );\n\t\t\tnode = body.childNodes[ body.childNodes.length - 1 ];\n",t+=g(d.childNodes[d.childNodes.length-1])),t+="\t\t});\n",c&&(t='\tdescribe( "test", function() {\n'+t,t+="\t});\n"),function(e,t,i,a){let n=document.getElementById("textXmlUi");n&&n.parentNode.removeChild(n),n=document.createElement("DIV"),n.id="textXmlUi",n.className="layoutTable spaceTop",n.style.paddingLeft="10px",document.body.appendChild(n);let l=document.createElement("TEXTAREA");l.rows="20",l.cols="120",l.style.tabSize=2;let r=document.createTextNode(e);l.appendChild(r);let c=o([l]),d=document.createElement("BUTTON"),u=document.createTextNode("Copy test to clipboard");d.appendChild(u),d.addEventListener("click",(function(){l.select(),document.execCommand("copy")}));let h=o([d]),g=document.createElement("INPUT");g.type="checkbox",g.id="assertionsCheckBox",g.checked=i,g.addEventListener("click",(function(){s("assertions")}));let S=document.createElement("label");S.htmlFor=g.id,S.appendChild(document.createTextNode("Create Assertions"));let m=o([g,S]);n.appendChild(m),g=document.createElement("INPUT"),g.type="checkbox",g.id="newTestSetCheckBox",g.checked=a,g.addEventListener("click",(function(){s("newTestSet")})),S=document.createElement("label"),S.htmlFor=g.id,S.appendChild(document.createTextNode("Create New Test Set")),m=o([g,S]),n.appendChild(m),g=document.createElement("INPUT"),g.type="checkbox",g.id="testDescriptionCheckBox",g.checked=t,g.class="inputCell",g.addEventListener("click",(function(){s("describe")})),S=document.createElement("LABEL"),S.htmlFor=g.id,S.appendChild(document.createTextNode("Create Descriptions")),m=o([g,S]),n.appendChild(m),n.appendChild(h),n.appendChild(c)}(t,i,r,c)},c=function(){let e;t?JMP.DocumentStatic.themeChangeEventDispatcher.eventListeners=JMP.DocumentStatic.mainMenuButtonThemeChangeListeners:(JMP.DocumentStatic.createElements(),JMP.DocumentStatic.mainMenuButtonThemeChangeListeners=JMP.DocumentStatic.themeChangeEventDispatcher.eventListeners);try{n=JMP.DocumentStatic.parse(a,t)}catch(e){JMP.DocumentStatic.errorFunc(e)}JMP.ViewStatic.isServerAvailable&&(e=JMP.ParserStatic.getStoredRowStates(JMP.ParserStatic.STORAGE_DATA),JMP.ServerStatic.setRowStates(e));const i=JMP.DocumentStatic.XMLLength>1e5?50:1;setTimeout((function(){setTimeout((function(){JMP.ReportStatic.clearFrames(),JMP.ReportStatic.clearAxes(),JMP.ReportStatic.clearProfilers(),JMP.CanvasStatic.parseAll(document.getElementsByTagName("canvas")),t&&JMP.ServerStatic.restoreDisplayTreeState(),JMP.ReportStatic.associateAxesWithFrames();let e=document.getElementsByClassName("menuButton");for(let t=0;t<e.length;t++){let i=e[t].id.replace("_legacy","");JMP.DocumentMenuStatic.menuProvider(i).length<=0&&(e[t].className=e[t].className.replace("revealed","concealed"),e[t].data_outlineButton&&e[t].data_outlineButton.classList.remove("noBorderTopLeftRadius"))}try{JMP.DocumentDataFilterStatic.drawAllDataFilters(),JMP.CanvasStatic.drawAll(!1)}catch(e){JMP.DocumentStatic.errorFunc(e)}setTimeout((function(){if(JMP.ProgressIndicatorStatic.hide(),t&&(JMP.ServerStatic.restoreDOMTreeState(),JMP.ServerStatic.restoreFramesFromMemento()),document.getElementById("body").className="revealed",JMP.DataFilterStatic.dataFilters)for(let e=0;e<JMP.DataFilterStatic.dataFilters.length;e++)JMP.DataFilterStatic.dataFilters[e].adjustScrolling();if(t&&JMP.ServerStatic.restoreFocus(),JMP.DocumentStatic.adjustDocumentSize(),window.onresize(),!t){performance.measure(JMP.ServerStatic.ID_PERFORMANCE_INITIAL_LOAD_TIME);let e=performance.getEntriesByName(JMP.ServerStatic.ID_PERFORMANCE_INITIAL_LOAD_TIME)[0];if(JMP.ServerStatic.addPerformanceMetric(JMP.ServerStatic.ID_PERFORMANCE_INITIAL_LOAD_TIME,e.duration),console.log(JMP.ServerStatic.ID_PERFORMANCE_INITIAL_LOAD_TIME+": "+(e.duration/1e3).toFixed(2)+"s"),"true"===l("saveMetrics")){const t=document.location.pathname.split("/");let i=t[t.length-1];i=i.slice(0,i.indexOf(".htm"));const a=i.lastIndexOf("_");a>2&&(i=i.slice(0,a));let n=0;const l=JMP.ParserStatic.getStoredRowStates(JMP.ParserStatic.STORAGE_DATA);l.length>0&&(n=l[0].getNRows());let s=0,o="";const r=JMP.ParserStatic.getStoredTableData(JMP.ParserStatic.STORAGE_DATA);r.length>0&&(s=r[0].columnNames.length,o=r[0].name);const c=new XMLHttpRequest;c.open("POST","http://localhost:3000",!0),c.setRequestHeader("Content-Type","application/JSON"),c.send(JSON.stringify({fileName:i,numRows:n,numColumns:s,jmpTableName:o,metricName:JMP.ServerStatic.ID_PERFORMANCE_INITIAL_LOAD_TIME,metricValue:(e.duration/1e3).toFixed(2)}))}}JMP.nLoading--}),i)}),i)}),1),JMP.ViewStatic.isServerAvailable&&(document.body.style.zoom=1.0000001,setTimeout((function(){document.body.style.zoom=1}),150));let s=/comment/.test((function(){}));!JMP.ViewStatic.isServerAvailable&&s&&r()};if(n=document.body,t)JMP.ServerStatic.storeDOMTreeState(),JMP.ServerStatic.saveFramesToMemento(),JMP.ServerStatic.storeFocus(),n.removeChild(document.getElementById("body"));else for(;n.firstChild;)n.removeChild(n.firstChild);if(t)a=e,c();else{a='<JMPReport xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="JMPWeb.xml" jmpVersion="18.2.2" epoch="1904" locale="en" exportOS="Mac" color="lightBackground" textFontSize="13" markerFontSize="12" graphLabelFontSize="11" hoverLabelFontSize="11" smallFontSize="11" polylineOrphanLinePixelLeft="3" polylineOrphanLinePixelRight="4" monthNamesLong="January,February,March,April,May,June,July,August,September,October,November,December" monthNamesShort="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec" dayNames="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday" supportedLineStyles="dot : 2,2, ; dash : 6,6, ; dashDot : 6,2,2,2, ; dashDotDot : 6,2,2,2,2,2, ; dashdashdot : 6,2,6,2,2,2, ; dashdashdotdot : 6,2,6,2,2,2,2,2, ; longdash : 12,6, ; longdashdash : 12,4,6,4, ; densedash : 6,2, ; sparsedash : 6,12, ; sparsedot : 2,6, ; sparsedashdot : 6,6,2,6, ; " decimalSeparator="." infinity="Infinity" colon="^X:" openParen="(^X" closeParen="^X)" geographicDirectionIndicators="N,S,E,W" outlineRevealTooltip="Reveal contents" outlineConcealTooltip="Conceal contents" defaultTabTooltip="Reveal contents" sponsorTip="Made with JMP Statistical Discovery Software" openTip="Open" helpTip="Open Help" closeButton="Close" closeTip="Close message" closeTipTip="Close" menuTip="Display a menu of commands" rowLabel="Row" rows="Rows" frequency="Frequency" percentTip="Percent of Total" percentGroupTip="Percent of Group" sumLabel="Sum" selectOnly="Select one object" selectToggle="Select multiple objects" focusReport="Identify objects" focusData="Drag a rectangle to select objects" magnifier="Magnifier" grabber="Grabber" messageLoading="Loading..." warningUnsupported="This JMP report is not fully supported by your web browser. For best results, please use a newer browser." errorReadingData="Error reading data" disabledControlTip="Disabled control" disabledStaticTip="This control requires interactive graphs" valueTip="Value" missingTip="Missing" missingLegend="Missing" selectedTip="(^SEL selected)" hiddenTip="(^HID hidden)" selectedHiddenTip="(^SEL selected, ^HID hidden)" selectedHiddenExcludedTip="(^SEL selected, ^HID hidden, ^EXC excluded)" other="Other" numberOfBins="Number of Individual Bins" percentageOfBins="Percentage of Individual Bins" betweenCategories="between ^LOWER and ^UPPER" cumulativeValueTip="Cumulative value" referenceValueTip="Reference value" lowerBoundTip="Lower bound" upperBoundTip="Upper bound" minWhiskerTip="Minimum, excluding outliers" maxWhiskerTip="Maximum, excluding outliers" minShortestHalfTip="Shortest half minimum" maxShortestHalfTip="Shortest half maximum" largerMarkers="Increase Marker Size" smallerMarkers="Decrease Marker Size" excludeSelected="Exclude and Hide Selected Rows" restoreAll="Include and Show All Rows" invertSelection="Invert Row Selection" displayLogMessages="Display Log Messages" setColors="Themes" resetAxes="Reset All Axes" lightTheme="Light Theme" darkTheme="Dark Theme" grayTheme="Gray Theme" help="Help..." adjustScales="Adjust Scales" specifyScales="Specify Scales..." adjustBins="Adjust Bins" specifyBins="Specify Bins..." startAnimationTip="Start animation" pauseAnimationTip="Pause animation" forwardAnimationTip="Step forward" backwardAnimationTip="Step backward" timeSliderTip="Time position" speedSliderTip="Animation speed" drawMenu="Draw" labelMenu="Label" selectAll="Select All" showTimeLabel="Show Time Label" trailBubblesMenu="Trail Bubbles" trailLinesMenu="Trail Lines" aggregateMenu="Aggregate" selectableAcrossGaps="Selectable Across Gaps" drawFilled="Filled" drawOutlined="Outlined" drawFilledAndOutlined="Filled and Outlined" whichNone="None" whichSelected="Selected" whichAll="All" aggregateXSum="X as Sum" aggregateYSum="Y as Sum" aggregateSizeSum="Size as Sum" aggregateColorSum="Color as Sum" variableRolesTip="Variable roles" roleSum="Sum" roleMean="Mean" roleX="X" roleY="Y" roleColor="Coloring" roleSize="Sizes" splitBubblesTip="Split selected bubbles" combineBubblesTip="Combine selected bubbles" sizeSliderTip="Bubble size" estimatedTip="(estimated)" backButtonID="38" stepButtonID="37" playButtonID="45" recordButtonID="41" saveButtonID="42" splitButtonID="43" combineButtonID="44" getTableInfoError="Failed while getting table information." validateSessionError="Failed while checking if the session is valid." settingsNotPreservedMessage="Report changed such that user settings cannot be preserved." numberOfSettingsMessage="The number of user settings: ^SET" missingDataTableMessage="A required data table is missing." logContentsMessage="log: ^LOG" operationProducedNoResultMessage="The last operation produced no result. The operation will be undone." runningScriptError="Error running script on server ^TXT" startJMPSucceededMessage="startJMP succeeded. sessionTicket = ^TKT" noTableLimitedInteractivityMessage="The report has no JMP table. Interactivity will be limited." setRowStatesMessage="Set row states" numTablesChangedError="The number of tables in use has changed. Please see log messages." selectColumn="Select a column" selectNextTip="Select next" selectPrevTip="Select previous" clearFilter="Clear filter" autoUpdateFilter="Auto update" autoUpdateFilterTip="Enables automatic updates to the local data filter. Disable to apply local data filter selections manually." updateFilter="Update" updateFilterTip="Apply local data filter selections" inverseFilter="Inverse" selectFilteredRows="Select filtered rows in graphs" showFilteredRows="Show filtered rows in graphs" includeFilteredRows="Include filtered rows in calculations" conditionalFiltering="Conditional Filtering" conditionalTip="This number shows the order in which filter conditions are applied" AND="AND" OR="OR" numberMatchingRows="^NUMBEROFROWS matching rows" reset="Reset" adaptYAxis="Adapt Y Axis" warningProfilerCurve="Not all curves in this Profiler could be created as interactive HTML. See JMP to explore these curves." warningProfilerVariableNumeric="The text entered is not a valid number." profilerLockTip="Lock constrained mixture variable" profilerUnlockTip="Unlock constrained mixture variable" profilerApplySettingTip="Apply setting to the profiler" profilerEditTip="Edit X value" profilerDropdownTip="Select X value" applyMixture="Apply" applyMixtureTip="Apply all changes to X values. Constrained values will be automatically adjusted if they do not sum to ^SUM." categoricalResponseTip="Prob(^COLNAME=^VALUE)" stackedValueTip="Stacked value" legendTip="Legend" okButton="OK" okTip="Apply these values and return" cancelButton="Cancel" cancelTip="Do nothing and return" negativeDurationLabel="Duration is negative" monthLabel="Month" dayLabel="Day" yearLabel="Year" hourLabel="Hour" minuteLabel="Minute" secondLabel="Second" degreeLabel="Degree" daysLabel="Days" hoursLabel="Hours" minutesLabel="Minutes" secondsLabel="Seconds" amPmLabel="AM / PM" directionLabel="Direction" geographicDirectionNames="North,South,East,West" errorYearFormat="Year must be a number between 0 and 9999." errorMinuteFormat="Minutes must be a number between 0 and 59." errorSecondFormat="Seconds must be a number between 0 and 59." errorDaysDurationFormat="Days must be a number between 0 and 3650000." errorHoursDurationFormat="Hours must be a number 0 or greater." errorMinutesDurationFormat="Minutes must be a number 0 or greater." errorDegreesGeographicFormat="Degrees must be a number between 0 and ^MAX." errorGeographicFormat="^FIELD must be a number 0 or greater and less than 60." statisticNamePercentOfTotal="Percent of Total" statisticNameN="Count" statisticNameSum="Sum" statisticNameMean="Mean" statisticNameVariance="Variance" statisticNameStdDev="Standard Deviation" statisticNameStdErr="Standard Error" statisticNameMin="Minimum" statisticNameMax="Maximum" statisticNameRange="Range" statisticNameInterquartileRange="Interquartile Range" statisticNameQ1="First Quartile" statisticNameQ3="Third Quartile" statisticNameMedian="Median" statisticNameConfidence="95% Confidence" statisticNameGeometricMean="Geometric Mean" statisticNameNMiss="Number of Missing Values" statisticNameSkew="Skewness" statisticNameKurtosis="Kurtosis" statisticNameCV="Coefficient of Variation" statisticNameSumWgt="Sum of Weights" statisticNameMAD="Median Absolute Deviation" ccbStatisticNameIndividual="Individual" ccbStatisticNameMovingRange="Moving Range" ccbStatisticNameMedianMovingRange="Median Moving Range" ccbStatisticNameAverage="Average" ccbStatisticNameRange="Range" ccbStatisticNameStdDev="Standard Deviation" ccbStatisticNameMovingRangeOnMeans="Moving Range on Means" ccbStatisticNameMovingRangeOnStdDev="Moving Range on Std Dev" ccbStatisticNameProportion="Proportion" ccbStatisticNameCount="Count" ccbStatisticNameCentered="Centered" ccbStatisticNameStandardized="Standardized" ccbStatisticNameRangeCentered="Range Centered" ccbStatisticNameRangeStandardized="Range Standardized" ccbStatisticNameMovingRangeCentered="Moving Range Centered" ccbStatisticNameMovingRangeStandardized="Moving Range Standardized" numberOfTrialsTip="Number of Trials"><Display><OutlineBox title="Bivariate Fit of College test scores By SAT" fontSize="18"><ListBox><PictureBox mappingId="0"><BorderBox padTop="8" padLeft="5" padBottom="8" padRight="14" borderLineColor="#000000" borderLeftDrawn="false" borderTopDrawn="false" borderRightDrawn="false" borderBottomDrawn="false"><ScaleBox id="1" origin="456" width="1188" nMinor="0" formatName="best" fieldWidth="9" nBins="5" minInit="456" maxInit="1644" isContinuous="true" widthMajor="200" tickOrientations="horizontal" charid="SAT" mappingId="1" length="400" baselength="400"><ScaleBox id="2" origin="17.36" width="125.28" nMinor="0" formatName="best" fieldWidth="9" nBins="6" minInit="17.36" maxInit="142.64" isContinuous="true" widthMajor="20" tickOrientations="horizontal" charid="College test scores" mappingId="2" length="322" baselength="322"><ScaleBox id="4" mappingId="3" length="85" baselength="85"><ListBox isHorizontal="true"><ListBox><FrameBox mappingId="4" width="3" height="86" borderTop="false" borderBottom="false" borderLeft="false" borderRight="false" isTransparent="true" fillColor="#FFFFFF" XSizeID="0" YSizeID="4" XScaleID="0" YScaleID="4"><GridReferenceSegment/><GridReferenceSegment showReference="true"/></FrameBox><AxisBox width="49" height="323" padBefore="10" padAfter="10" XSizeID="0" YSizeID="2" XScaleID="0" YScaleID="2" tickSizes="27" fontSizes="11" tickStyles="markLong" lowerFrames="false" fontFamily="Helvetica Neue"><MouseBox><DropBox><TextBox text="College test scores" width="15" height="97" orientation="left" wrapWidth="322" fontSize="11" isEditable="true"/></DropBox></MouseBox></AxisBox></ListBox><ListBox><FrameBox mappingId="5" width="401" height="86" fillColor="#FFFFFF" XSizeID="1" YSizeID="4" XScaleID="1" YScaleID="4"><GridReferenceSegment showMajorGridsX="false" showMinorGridsX="false" majorGridColorsX="#D7D7D7" minorGridColorsX="#F0F0F0"/><GridReferenceSegment showReference="true"/><HistogramSegment isHorizontal="true" binOrigin="400" binSpan="12" binWidth="200" nBins="7" maximumDensity="0.00183333333333333" primaryAxisScale="none" fontSize="11" fillColor="#BACABA" lineColor="#515851" selectedFillColor="#5D795D"><Y index="1"/><Scores index="0"/></HistogramSegment></FrameBox><FrameBox mappingId="6" width="401" height="323" fillColor="#FFFFFF" XSizeID="1" YSizeID="2" XScaleID="1" YScaleID="2"><GridReferenceSegment showMajorGridsX="false" showMinorGridsX="false" majorGridColorsX="#D7D7D7" minorGridColorsX="#F0F0F0" showMajorGridsY="false" showMinorGridsY="false" majorGridColorsY="#D7D7D7" minorGridColorsY="#F0F0F0"/><GridReferenceSegment showReference="true"/><IfSegment><MarkerSegment size="3" preferredShape="dot" hasAnyBoxPlotSiblings="false" hasNoMarkerSiblings="true" isLastInFrame="true"><MarkerData><XPos index="1"/><YPos index="2"/></MarkerData><LabelValues index="3"/><ShowLabels index="4"/><LabelXOffset index="5"/><LabelYOffset index="5"/></MarkerSegment></IfSegment></FrameBox><AxisBox width="401" height="37" isHorizontal="true" padBefore="10" padAfter="10" XSizeID="1" YSizeID="0" XScaleID="1" YScaleID="0" tickSizes="22" fontSizes="11" tickStyles="markLong" lowerFrames="false" fontFamily="Helvetica Neue"><MouseBox><DropBox><TextBox text="SAT" width="22" height="15" wrapWidth="400" fontSize="11" isEditable="true"/></DropBox></MouseBox></AxisBox></ListBox><ListBox><FrameBox mappingId="7" width="3" height="86" borderTop="false" borderBottom="false" borderLeft="false" borderRight="false" isTransparent="true" fillColor="#FFFFFF" XSizeID="0" YSizeID="4" XScaleID="0" YScaleID="4"><GridReferenceSegment/><GridReferenceSegment showReference="true"/></FrameBox><FrameBox mappingId="8" width="155" height="323" fillColor="#FFFFFF" XSizeID="0" YSizeID="2" XScaleID="0" YScaleID="2"><GridReferenceSegment showMajorGridsY="false" showMinorGridsY="false" majorGridColorsY="#D7D7D7" minorGridColorsY="#F0F0F0"/><GridReferenceSegment showReference="true"/><HistogramSegment binOrigin="20" binSpan="12" binWidth="20" nBins="6" maximumDensity="0.0165" primaryAxisScale="none" fontSize="11" fillColor="#BACABA" lineColor="#515851" selectedFillColor="#5D795D"><Y index="2"/><Scores index="6"/></HistogramSegment></FrameBox></ListBox></ListBox></ScaleBox></ScaleBox></ScaleBox></BorderBox></PictureBox><PictureBox mappingId="9"><BorderBox isEmpty="true" padTop="4" padLeft="8" padBottom="2" padRight="5" borderLineColor="#000000" borderLeftDrawn="true" borderTopDrawn="true" borderRightDrawn="true" borderBottomDrawn="true"><ListBox/></BorderBox></PictureBox></ListBox></OutlineBox><Info><DoubleArray compression="gzip">4268eJxNTskNwDAIW8iPQAhh/8lqjlaVEALjg6s4Bgtsx16QgBpEISeLM0GeyPGVPck6ZHZ3XMWVLBJ4+q6p5XDSvFXtxpWqpnWcxjzA3GoN72KNOibqn6/1Ts8JFjLaysl6JcZHpHAZ2/YZN3LkARFsM3w=</DoubleArray><DoubleArray compression="gzip">4417eJxlUMkRwCAIbCgPIR7Qf2MBkVUnDzYq7EGol/LQ68AOxUCthpVYebu3KFm9ORScitMEOiVirDlMk6YJFbMXQXDRjANVeDNEwc2sMs4t3LOt7zjVg7jl+Y75X0TwjNXoaKX4jseQ2GLmYHzNX6NXDrqzTRuJsQ9c9k7E</DoubleArray><DoubleArray compression="gzip">4282eJwdT8kNwCAMW8iPnCTZf7HalSxAwqd7wC1wgU1hGh6LTFSgF49oVGEeJhCFM3ThBZIEsq2ooENjD89QVBT2SUqbdkyKmINKkLkk02/k52byb54JT15kDZpJizUMifsrlDRqsc4X3Q/JYsQpw+3k16N+9KmnTNZ5/MvFpSoRrsXOiNSG/uexoE7HHfbfkfsBR/g25Q==</DoubleArray><StringArray compression="gzip">4800eJw90rGNBSEMQMFeNr7gDAb717L6/bdxOokhekQjy/h9n3i+35/3fcbpPM3TdbpP67RPP6fx60EMZDADGtTABjfAQR7kcWclD/IgD/IgD/IgD/IkT/K8ayBP8iRP8iRP8iQnOclJzrthcpKTnOQkJ3mRF3mRF3ndzyMv8iIv8iJv8iZv8iZv8r53Qd7kTd7kIhe5yEUucpHrnhy5yEVucpOb3OQmN7nJfa+Z3OTPv/wHqvDLqw==</StringArray><DoubleArray compression="gzip">4179eJwz1DEcahAAcHQghw==</DoubleArray><DoubleArray compression="gzip">4179eJwz1TEdahAA7wQh7w==</DoubleArray><DoubleArray compression="gzip">4261eJwlj0sOACEMQi/Ewv71/hcb6CSNMQivWIV8yEDMTqATAwu4wy+c95QcBkdSO/Ciww110IYkgW8Ja3gjnmJM3Y0Y7IhmoidJKTl/8BWqWwGGjT0QJPi6RuTy3d0osh4erGCbrL/SdmrJviU4c/Y/T1NEXJG5SB+aDfGkZ2RIFfwAndIyEg==</DoubleArray></Info></Display><MenuOptions><CDFPlot name="CDF Plot" translatedName="CDF Plot"/><Cancel name="Cancel" translatedName="Cancel"/><ContinuousDistribution name="Continuous Distribution" translatedName="Continuous Distribution"/><Distribution name="Distribution" translatedName="Distribution"/><HistogramColor name="Histogram Color" translatedName="Histogram Color"/><HistogramOptions name="Histogram Options" translatedName="Histogram Options"/><MosaicPlot name="Mosaic Plot" translatedName="Mosaic Plot"/><NominalDistribution name="Nominal Distribution" translatedName="Nominal Distribution"/><Ok name="Ok" translatedName="OK"/><QuantileBoxPlot name="Quantile Box Plot" translatedName="Quantile Box Plot"/><SetBinWidth name="Set Bin Width" translatedName="Set Bin Width"/><SetBinWidth_Dlg name="Set Bin Width_Dlg" translatedName="New Bin Width"/><SetBinWidth_Title name="Set Bin Width_Title" translatedName="Set Bin Width"/><ShowCounts name="Show Counts" translatedName="Show Counts"/><ShowPercents name="Show Percents" translatedName="Show Percents"/><Stack name="Stack" translatedName="Stack"/></MenuOptions><Data><Set name="visualization_data.jmp" rows="90"><RowStateArray compression="gzip">51079eJxTUjaAAiUdJYrYhm4GxkYmZhSbM8oeZQ9JtrOloZmR5eA3ExeblPwLAFNCuyo=</RowStateArray><DoubleArray name="SAT" dataLevel="continuous" formatName="best" fieldWidth="12" isMissingLast="true" compression="gzip">4417eJxlUMkRwCAIbCgPIR7Qf2MBkVUnDzYq7EGol/LQ68AOxUCthpVYebu3KFm9ORScitMEOiVirDlMk6YJFbMXQXDRjANVeDNEwc2sMs4t3LOt7zjVg7jl+Y75X0TwjNXoaKX4jseQ2GLmYHzNX6NXDrqzTRuJsQ9c9k7E</DoubleArray><DoubleArray name="College test scores" dataLevel="continuous" formatName="best" fieldWidth="12" isMissingLast="true" compression="gzip">4282eJwdT8kNwCAMW8iPnCTZf7HalSxAwqd7wC1wgU1hGh6LTFSgF49oVGEeJhCFM3ThBZIEsq2ooENjD89QVBT2SUqbdkyKmINKkLkk02/k52byb54JT15kDZpJizUMifsrlDRqsc4X3Q/JYsQpw+3k16N+9KmnTNZ5/MvFpSoRrsXOiNSG/uexoE7HHfbfkfsBR/g25Q==</DoubleArray></Set></Data></JMPReport>';try{await JMP.ServerStatic.initialize(),JMP.ServerStatic.addServerElements()}catch(e){}c()}};
</script></body></html>